TRAINING THE CHANNEL-WISE LSTM with additional data on ethnicity
/share/pi/boussard/eroosli_work/benchmarking/models/ihm/main.py:10: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
  import imp
Using TensorFlow backend.
2020-06-02 19:37:23.842561: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer.so.6'; dlerror: libnvinfer.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-06-02 19:37:23.848226: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer_plugin.so.6'; dlerror: libnvinfer_plugin.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-06-02 19:37:23.848242: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:30] Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly.
normalizer state: /share/pi/boussard/eroosli_work/benchmarking/models/ihm/ihm_ts1.0.input_str_previous.start_time_zero.normalizer
==> using model models/keras_models/channel_wise_lstms.py
==> not used params in network class: dict_keys(['batch_size', 'beta_1', 'data', 'data_name', 'epochs', 'imputation', 'l1', 'l2', 'load_state', 'lr', 'mode', 'network', 'normalizer_state', 'optimizer', 'output_dir', 'prefix', 'save_every', 'small_part', 'target_repl_coef', 'timestep', 'verbose'])
==> excluded demographics: ['Gender', 'Insurance']
==> found 18 channels: ['Capillary refill rate', 'Diastolic blood pressure', 'Ethnicity', 'Fraction inspired oxygen', 'Glascow coma scale eye opening', 'Glascow coma scale motor response', 'Glascow coma scale total', 'Glascow coma scale verbal response', 'Glucose', 'Heart rate', 'Height', 'Mean blood pressure', 'Oxygen saturation', 'Respiratory rate', 'Systolic blood pressure', 'Temperature', 'Weight', 'pH']
2020-06-02 19:37:27.303622: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-06-02 19:37:27.303663: E tensorflow/stream_executor/cuda/cuda_driver.cc:351] failed call to cuInit: UNKNOWN ERROR (303)
2020-06-02 19:37:27.303685: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (slurm-compute-zkrgn): /proc/driver/nvidia/version does not exist
2020-06-02 19:37:27.303879: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA
2020-06-02 19:37:27.310316: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100000000 Hz
2020-06-02 19:37:27.310529: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55ee2e660780 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-06-02 19:37:27.310552: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
==> model.final_name: 2020-06-02_12-37.k_clstms.ETH
==> compiling the model
Model: "network_1"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
X (InputLayer)                  (None, None, 82)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, None, 82)     0           X[0][0]                          
__________________________________________________________________________________________________
slice_1 (Slice)                 (None, None, 3)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_2 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_3 (Slice)                 (None, None, 6)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_4 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_5 (Slice)                 (None, None, 9)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_6 (Slice)                 (None, None, 13)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_7 (Slice)                 (None, None, 14)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_8 (Slice)                 (None, None, 13)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_9 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_10 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_11 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_12 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_13 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_14 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_15 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_16 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_17 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_18 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
bidirectional_1 (Bidirectional) (None, None, 8)      256         slice_1[0][0]                    
__________________________________________________________________________________________________
bidirectional_2 (Bidirectional) (None, None, 8)      224         slice_2[0][0]                    
__________________________________________________________________________________________________
bidirectional_3 (Bidirectional) (None, None, 8)      352         slice_3[0][0]                    
__________________________________________________________________________________________________
bidirectional_4 (Bidirectional) (None, None, 8)      224         slice_4[0][0]                    
__________________________________________________________________________________________________
bidirectional_5 (Bidirectional) (None, None, 8)      448         slice_5[0][0]                    
__________________________________________________________________________________________________
bidirectional_6 (Bidirectional) (None, None, 8)      576         slice_6[0][0]                    
__________________________________________________________________________________________________
bidirectional_7 (Bidirectional) (None, None, 8)      608         slice_7[0][0]                    
__________________________________________________________________________________________________
bidirectional_8 (Bidirectional) (None, None, 8)      576         slice_8[0][0]                    
__________________________________________________________________________________________________
bidirectional_9 (Bidirectional) (None, None, 8)      224         slice_9[0][0]                    
__________________________________________________________________________________________________
bidirectional_10 (Bidirectional (None, None, 8)      224         slice_10[0][0]                   
__________________________________________________________________________________________________
bidirectional_11 (Bidirectional (None, None, 8)      224         slice_11[0][0]                   
__________________________________________________________________________________________________
bidirectional_12 (Bidirectional (None, None, 8)      224         slice_12[0][0]                   
__________________________________________________________________________________________________
bidirectional_13 (Bidirectional (None, None, 8)      224         slice_13[0][0]                   
__________________________________________________________________________________________________
bidirectional_14 (Bidirectional (None, None, 8)      224         slice_14[0][0]                   
__________________________________________________________________________________________________
bidirectional_15 (Bidirectional (None, None, 8)      224         slice_15[0][0]                   
__________________________________________________________________________________________________
bidirectional_16 (Bidirectional (None, None, 8)      224         slice_16[0][0]                   
__________________________________________________________________________________________________
bidirectional_17 (Bidirectional (None, None, 8)      224         slice_17[0][0]                   
__________________________________________________________________________________________________
bidirectional_18 (Bidirectional (None, None, 8)      224         slice_18[0][0]                   
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, None, 144)    0           bidirectional_1[0][0]            
                                                                 bidirectional_2[0][0]            
                                                                 bidirectional_3[0][0]            
                                                                 bidirectional_4[0][0]            
                                                                 bidirectional_5[0][0]            
                                                                 bidirectional_6[0][0]            
                                                                 bidirectional_7[0][0]            
                                                                 bidirectional_8[0][0]            
                                                                 bidirectional_9[0][0]            
                                                                 bidirectional_10[0][0]           
                                                                 bidirectional_11[0][0]           
                                                                 bidirectional_12[0][0]           
                                                                 bidirectional_13[0][0]           
                                                                 bidirectional_14[0][0]           
                                                                 bidirectional_15[0][0]           
                                                                 bidirectional_16[0][0]           
                                                                 bidirectional_17[0][0]           
                                                                 bidirectional_18[0][0]           
__________________________________________________________________________________________________
lstm_19 (LSTM)                  (None, 32)           22656       concatenate_1[0][0]              
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 32)           0           lstm_19[0][0]                    
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 1)            33          dropout_1[0][0]                  
==================================================================================================
Total params: 28,193
Trainable params: 28,193
Non-trainable params: 0
__________________________________________________________________________________________________
==> training
Train on 4628 samples, validate on 817 samples
Epoch 1/100
 - 281s - loss: 0.3182 - val_loss: 0.2680

==>predicting on train



confusion matrix:
[[2139   16]
 [ 227   28]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08286699652671814
difference in average predicted and observed risk = -0.02294200347328186
number samples = 2410
accuracy = 0.89917
precision class 0 = 0.904058
precision class 1 = 0.636364
recall class 0 = 0.992575
recall class 1 = 0.109804
false negative rate = 0.890196
false positive rate = 0.007425
positive prediction rate = 0.018257
AUC of ROC = 0.739564
AUC of PRC = 0.34814
min(+P, Se) = 0.380392

-------------------------------

confusion matrix:
[[1156   23]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0907210037112236
difference in average predicted and observed risk = -0.000257996288776402
number samples = 1297
accuracy = 0.905166
precision class 0 = 0.920382
precision class 1 = 0.439024
recall class 0 = 0.980492
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.019508
positive prediction rate = 0.031611
AUC of ROC = 0.767334
AUC of PRC = 0.265841
min(+P, Se) = 0.338983

-------------------------------

confusion matrix:
[[647   9]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10931400209665298
difference in average predicted and observed risk = 0.007944002096652983
number samples = 730
accuracy = 0.905479
precision class 0 = 0.915134
precision class 1 = 0.608696
recall class 0 = 0.986281
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.01372
positive prediction rate = 0.031507
AUC of ROC = 0.741698
AUC of PRC = 0.330589
min(+P, Se) = 0.364865

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09486400336027145
difference in average predicted and observed risk = -0.030789996639728534
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.864521
AUC of PRC = 0.647987
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[2437   37]
 [ 220   35]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0888419970870018
difference in average predicted and observed risk = -0.004599002912998196
number samples = 2729
accuracy = 0.905826
precision class 0 = 0.9172
precision class 1 = 0.486111
recall class 0 = 0.985044
recall class 1 = 0.137255
false negative rate = 0.862745
false positive rate = 0.014956
positive prediction rate = 0.026383
AUC of ROC = 0.73042
AUC of PRC = 0.280789
min(+P, Se) = 0.329412

-------------------------------

confusion matrix:
[[1671   12]
 [ 186   30]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09101899713277817
difference in average predicted and observed risk = -0.02272500286722183
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.899838
precision class 1 = 0.714286
recall class 0 = 0.99287
recall class 1 = 0.138889
false negative rate = 0.861111
false positive rate = 0.00713
positive prediction rate = 0.022117
AUC of ROC = 0.776449
AUC of PRC = 0.386268
min(+P, Se) = 0.399142

-------------------------------

confusion matrix:
[[538  11]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0989530012011528
difference in average predicted and observed risk = -0.0240499987988472
number samples = 626
accuracy = 0.873802
precision class 0 = 0.887789
precision class 1 = 0.45
recall class 0 = 0.979964
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.020036
positive prediction rate = 0.031949
AUC of ROC = 0.754524
AUC of PRC = 0.322804
min(+P, Se) = 0.349057

-------------------------------

confusion matrix:
[[2234   15]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07343299686908722
difference in average predicted and observed risk = -0.011223003130912776
number samples = 2457
accuracy = 0.916972
precision class 0 = 0.921998
precision class 1 = 0.558824
recall class 0 = 0.99333
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.00667
positive prediction rate = 0.013838
AUC of ROC = 0.734598
AUC of PRC = 0.251137
min(+P, Se) = 0.309859

-------------------------------

confusion matrix:
[[218   5]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08947700262069702
difference in average predicted and observed risk = -0.011328997379302985
number samples = 248
accuracy = 0.887097
precision class 0 = 0.904564
precision class 1 = 0.285714
recall class 0 = 0.977578
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.022422
positive prediction rate = 0.028226
AUC of ROC = 0.669238
AUC of PRC = 0.192742
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[470  11]
 [ 63  19]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12163600325584412
difference in average predicted and observed risk = -0.024011996744155883
number samples = 563
accuracy = 0.868561
precision class 0 = 0.881801
precision class 1 = 0.633333
recall class 0 = 0.977131
recall class 1 = 0.231707
false negative rate = 0.768293
false positive rate = 0.022869
positive prediction rate = 0.053286
AUC of ROC = 0.796638
AUC of PRC = 0.485795
min(+P, Se) = 0.517647

-------------------------------

confusion matrix:
[[648   7]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11205899715423584
difference in average predicted and observed risk = 0.004429997154235837
number samples = 734
accuracy = 0.904632
precision class 0 = 0.911392
precision class 1 = 0.695652
recall class 0 = 0.989313
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.010687
positive prediction rate = 0.031335
AUC of ROC = 0.786839
AUC of PRC = 0.382006
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[4108   49]
 [ 406   65]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0897350013256073
difference in average predicted and observed risk = -0.012036998674392702
number samples = 4628
accuracy = 0.901685
precision class 0 = 0.910058
precision class 1 = 0.570175
recall class 0 = 0.988213
recall class 1 = 0.138004
false negative rate = 0.861996
false positive rate = 0.011787
positive prediction rate = 0.024633
AUC of ROC = 0.751481
AUC of PRC = 0.319425
min(+P, Se) = 0.355932

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09115800261497498
difference in average predicted and observed risk = 0.010989002614974971
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.799131
AUC of PRC = 0.34704
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08354300260543823
difference in average predicted and observed risk = -0.02525299739456177
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.753413
AUC of PRC = 0.363772
min(+P, Se) = 0.42

-------------------------------

confusion matrix:
[[101   4]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12574000656604767
difference in average predicted and observed risk = 0.015571006566047665
number samples = 118
accuracy = 0.889831
precision class 0 = 0.918182
precision class 1 = 0.5
recall class 0 = 0.961905
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.038095
positive prediction rate = 0.067797
AUC of ROC = 0.835165
AUC of PRC = 0.522206
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09732300043106079
difference in average predicted and observed risk = -0.036009999568939216
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09586100280284882
difference in average predicted and observed risk = -0.019182997197151178
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.747009
AUC of PRC = 0.317568
min(+P, Se) = 0.415094

-------------------------------

confusion matrix:
[[431   3]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08986400067806244
difference in average predicted and observed risk = -0.002185999321937568
number samples = 478
accuracy = 0.91841
precision class 0 = 0.922912
precision class 1 = 0.727273
recall class 0 = 0.993088
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.006912
positive prediction rate = 0.023013
AUC of ROC = 0.815249
AUC of PRC = 0.467204
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07650099694728851
difference in average predicted and observed risk = -0.01270100305271149
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.760581
AUC of PRC = 0.37025
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[88  2]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11480599641799927
difference in average predicted and observed risk = -0.002841003582000734
number samples = 102
accuracy = 0.892157
precision class 0 = 0.907216
precision class 1 = 0.6
recall class 0 = 0.977778
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.022222
positive prediction rate = 0.04902
AUC of ROC = 0.90463
AUC of PRC = 0.603649
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0906829982995987
difference in average predicted and observed risk = 0.0019729982995986967
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.802092
AUC of PRC = 0.208594
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11400700360536575
difference in average predicted and observed risk = -0.035598996394634236
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.73538
AUC of PRC = 0.453843
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[34  1]
 [ 1  2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14286600053310394
difference in average predicted and observed risk = 0.06391900053310394
number samples = 38
accuracy = 0.947368
precision class 0 = 0.971429
precision class 1 = 0.666667
recall class 0 = 0.971429
recall class 1 = 0.666667
false negative rate = 0.333333
false positive rate = 0.028571
positive prediction rate = 0.078947
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09235300123691559
difference in average predicted and observed risk = -0.009237998763084412
number samples = 817
accuracy = 0.903305
precision class 0 = 0.909887
precision class 1 = 0.611111
recall class 0 = 0.990463
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.009537
positive prediction rate = 0.022032
AUC of ROC = 0.78548
AUC of PRC = 0.398015
min(+P, Se) = 0.455556

-------------------------------

Epoch 00001: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch1.state
Epoch 2/100
 - 265s - loss: 0.2981 - val_loss: 0.2722

==>predicting on train



confusion matrix:
[[2155    0]
 [ 253    2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0880339965224266
difference in average predicted and observed risk = -0.017775003477573395
number samples = 2410
accuracy = 0.895021
precision class 0 = 0.894934
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.007843
false negative rate = 0.992157
false positive rate = 0.0
positive prediction rate = 0.00083
AUC of ROC = 0.760728
AUC of PRC = 0.367982
min(+P, Se) = 0.388235

-------------------------------

confusion matrix:
[[1178    1]
 [ 118    0]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0933310016989708
difference in average predicted and observed risk = 0.0023520016989707904
number samples = 1297
accuracy = 0.90825
precision class 0 = 0.908951
precision class 1 = 0.0
recall class 0 = 0.999152
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.000848
positive prediction rate = 0.000771
AUC of ROC = 0.780861
AUC of PRC = 0.273142
min(+P, Se) = 0.362903

-------------------------------

confusion matrix:
[[656   0]
 [ 74   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10376200079917908
difference in average predicted and observed risk = 0.0023920007991790754
number samples = 730
accuracy = 0.89863
precision class 0 = 0.89863
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.770044
AUC of PRC = 0.340996
min(+P, Se) = 0.386667

-------------------------------

confusion matrix:
[[167   0]
 [ 24   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09495600312948227
difference in average predicted and observed risk = -0.03069799687051772
number samples = 191
accuracy = 0.874346
precision class 0 = 0.874346
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.875499
AUC of PRC = 0.590273
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[2474    0]
 [ 254    1]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09123799949884415
difference in average predicted and observed risk = -0.0022030005011558496
number samples = 2729
accuracy = 0.906926
precision class 0 = 0.906892
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.003922
false negative rate = 0.996078
false positive rate = 0.0
positive prediction rate = 0.000366
AUC of ROC = 0.757273
AUC of PRC = 0.295742
min(+P, Se) = 0.364706

-------------------------------

confusion matrix:
[[1682    1]
 [ 215    1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0937889963388443
difference in average predicted and observed risk = -0.0199550036611557
number samples = 1899
accuracy = 0.886256
precision class 0 = 0.886663
precision class 1 = 0.5
recall class 0 = 0.999406
recall class 1 = 0.00463
false negative rate = 0.99537
false positive rate = 0.000594
positive prediction rate = 0.001053
AUC of ROC = 0.790366
AUC of PRC = 0.397677
min(+P, Se) = 0.412037

-------------------------------

confusion matrix:
[[548   1]
 [ 76   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10150299966335297
difference in average predicted and observed risk = -0.021500000336647035
number samples = 626
accuracy = 0.876997
precision class 0 = 0.878205
precision class 1 = 0.5
recall class 0 = 0.998178
recall class 1 = 0.012987
false negative rate = 0.987013
false positive rate = 0.001821
positive prediction rate = 0.003195
AUC of ROC = 0.777163
AUC of PRC = 0.34921
min(+P, Se) = 0.376623

-------------------------------

confusion matrix:
[[2249    0]
 [ 208    0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08195900171995163
difference in average predicted and observed risk = -0.0026969982800483655
number samples = 2457
accuracy = 0.915344
precision class 0 = 0.915344
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.749662
AUC of PRC = 0.2634
min(+P, Se) = 0.323944

-------------------------------

confusion matrix:
[[223   0]
 [ 25   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09195700287818909
difference in average predicted and observed risk = -0.00884899712181092
number samples = 248
accuracy = 0.899194
precision class 0 = 0.899194
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.717668
AUC of PRC = 0.206124
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[481   0]
 [ 81   1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11331400275230408
difference in average predicted and observed risk = -0.03233399724769592
number samples = 563
accuracy = 0.856128
precision class 0 = 0.855872
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.012195
false negative rate = 0.987805
false positive rate = 0.0
positive prediction rate = 0.001776
AUC of ROC = 0.808377
AUC of PRC = 0.48669
min(+P, Se) = 0.541176

-------------------------------

confusion matrix:
[[655   0]
 [ 79   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10296700149774551
difference in average predicted and observed risk = -0.0046619985022544885
number samples = 734
accuracy = 0.892371
precision class 0 = 0.892371
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.799556
AUC of PRC = 0.410305
min(+P, Se) = 0.405063

-------------------------------

confusion matrix:
[[4156    1]
 [ 469    2]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09228499978780746
difference in average predicted and observed risk = -0.009487000212192537
number samples = 4628
accuracy = 0.898444
precision class 0 = 0.898595
precision class 1 = 0.666667
recall class 0 = 0.999759
recall class 1 = 0.004246
false negative rate = 0.995754
false positive rate = 0.000241
positive prediction rate = 0.000648
AUC of ROC = 0.772313
AUC of PRC = 0.33672
min(+P, Se) = 0.382166

-------------------------------

==>predicting on validation



confusion matrix:
[[218   0]
 [ 19   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09416499733924866
difference in average predicted and observed risk = 0.013995997339248653
number samples = 237
accuracy = 0.919831
precision class 0 = 0.919831
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.825447
AUC of PRC = 0.334326
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08842000365257263
difference in average predicted and observed risk = -0.020375996347427372
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.781597
AUC of PRC = 0.37254
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[105   0]
 [ 12   1]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11613400280475616
difference in average predicted and observed risk = 0.0059650028047561615
number samples = 118
accuracy = 0.898305
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.0
positive prediction rate = 0.008475
AUC of ROC = 0.849817
AUC of PRC = 0.606447
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10069700330495834
difference in average predicted and observed risk = -0.032635996695041664
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[300   0]
 [ 39   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09761200100183487
difference in average predicted and observed risk = -0.017431998998165124
number samples = 339
accuracy = 0.884956
precision class 0 = 0.884956
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.761026
AUC of PRC = 0.335308
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[434   0]
 [ 43   1]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09236200153827667
difference in average predicted and observed risk = 0.00031200153827666555
number samples = 478
accuracy = 0.910042
precision class 0 = 0.909853
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.022727
false negative rate = 0.977273
false positive rate = 0.0
positive prediction rate = 0.002092
AUC of ROC = 0.846146
AUC of PRC = 0.496618
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 38   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08378700166940689
difference in average predicted and observed risk = -0.005414998330593113
number samples = 426
accuracy = 0.910798
precision class 0 = 0.910798
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.783912
AUC of PRC = 0.412929
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[90  0]
 [12  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10911200195550919
difference in average predicted and observed risk = -0.008534998044490816
number samples = 102
accuracy = 0.882353
precision class 0 = 0.882353
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.905556
AUC of PRC = 0.628753
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[113   0]
 [ 11   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0971129983663559
difference in average predicted and observed risk = 0.008402998366355899
number samples = 124
accuracy = 0.91129
precision class 0 = 0.91129
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.8214
AUC of PRC = 0.23798
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[108   0]
 [ 18   1]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10705500096082687
difference in average predicted and observed risk = -0.042550999039173115
number samples = 127
accuracy = 0.858268
precision class 0 = 0.857143
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.007874
AUC of ROC = 0.774854
AUC of PRC = 0.478703
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12575000524520874
difference in average predicted and observed risk = 0.04680300524520874
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[734   0]
 [ 82   1]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09453999996185303
difference in average predicted and observed risk = -0.007051000038146973
number samples = 817
accuracy = 0.899633
precision class 0 = 0.89951
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.012048
false negative rate = 0.987952
false positive rate = 0.0
positive prediction rate = 0.001224
AUC of ROC = 0.809379
AUC of PRC = 0.420633
min(+P, Se) = 0.5

-------------------------------

Epoch 00002: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch2.state
Epoch 3/100
 - 276s - loss: 0.2959 - val_loss: 0.2719

==>predicting on train



confusion matrix:
[[2154    1]
 [ 244   11]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07514599710702896
difference in average predicted and observed risk = -0.03066300289297104
number samples = 2410
accuracy = 0.89834
precision class 0 = 0.898249
precision class 1 = 0.916667
recall class 0 = 0.999536
recall class 1 = 0.043137
false negative rate = 0.956863
false positive rate = 0.000464
positive prediction rate = 0.004979
AUC of ROC = 0.771428
AUC of PRC = 0.376797
min(+P, Se) = 0.390625

-------------------------------

confusion matrix:
[[1169   10]
 [ 116    2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08198399841785431
difference in average predicted and observed risk = -0.008995001582145695
number samples = 1297
accuracy = 0.902853
precision class 0 = 0.909728
precision class 1 = 0.166667
recall class 0 = 0.991518
recall class 1 = 0.016949
false negative rate = 0.983051
false positive rate = 0.008482
positive prediction rate = 0.009252
AUC of ROC = 0.780818
AUC of PRC = 0.279302
min(+P, Se) = 0.369748

-------------------------------

confusion matrix:
[[653   3]
 [ 69   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.090488001704216
difference in average predicted and observed risk = -0.010881998295783998
number samples = 730
accuracy = 0.90137
precision class 0 = 0.904432
precision class 1 = 0.625
recall class 0 = 0.995427
recall class 1 = 0.067568
false negative rate = 0.932432
false positive rate = 0.004573
positive prediction rate = 0.010959
AUC of ROC = 0.782259
AUC of PRC = 0.345742
min(+P, Se) = 0.391892

-------------------------------

confusion matrix:
[[166   1]
 [ 22   2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0838479995727539
difference in average predicted and observed risk = -0.04180600042724608
number samples = 191
accuracy = 0.879581
precision class 0 = 0.882979
precision class 1 = 0.666667
recall class 0 = 0.994012
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.005988
positive prediction rate = 0.015707
AUC of ROC = 0.886228
AUC of PRC = 0.646864
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2462   12]
 [ 245   10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07951200008392334
difference in average predicted and observed risk = -0.013928999916076656
number samples = 2729
accuracy = 0.905826
precision class 0 = 0.909494
precision class 1 = 0.454545
recall class 0 = 0.99515
recall class 1 = 0.039216
false negative rate = 0.960784
false positive rate = 0.00485
positive prediction rate = 0.008062
AUC of ROC = 0.76415
AUC of PRC = 0.297689
min(+P, Se) = 0.364706

-------------------------------

confusion matrix:
[[1680    3]
 [ 206   10]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.080315001308918
difference in average predicted and observed risk = -0.033428998691082
number samples = 1899
accuracy = 0.889942
precision class 0 = 0.890774
precision class 1 = 0.769231
recall class 0 = 0.998217
recall class 1 = 0.046296
false negative rate = 0.953704
false positive rate = 0.001783
positive prediction rate = 0.006846
AUC of ROC = 0.80229
AUC of PRC = 0.414819
min(+P, Se) = 0.426667

-------------------------------

confusion matrix:
[[545   4]
 [ 74   3]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0836540013551712
difference in average predicted and observed risk = -0.0393489986448288
number samples = 626
accuracy = 0.875399
precision class 0 = 0.880452
precision class 1 = 0.428571
recall class 0 = 0.992714
recall class 1 = 0.038961
false negative rate = 0.961039
false positive rate = 0.007286
positive prediction rate = 0.011182
AUC of ROC = 0.782178
AUC of PRC = 0.352106
min(+P, Se) = 0.378049

-------------------------------

confusion matrix:
[[2246    3]
 [ 204    4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0710970014333725
difference in average predicted and observed risk = -0.013558998566627498
number samples = 2457
accuracy = 0.915751
precision class 0 = 0.916735
precision class 1 = 0.571429
recall class 0 = 0.998666
recall class 1 = 0.019231
false negative rate = 0.980769
false positive rate = 0.001334
positive prediction rate = 0.002849
AUC of ROC = 0.764558
AUC of PRC = 0.280832
min(+P, Se) = 0.331731

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07880900055170059
difference in average predicted and observed risk = -0.021996999448299415
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.724664
AUC of PRC = 0.206924
min(+P, Se) = 0.3125

-------------------------------

confusion matrix:
[[476   5]
 [ 75   7]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1012360006570816
difference in average predicted and observed risk = -0.044411999342918396
number samples = 563
accuracy = 0.857904
precision class 0 = 0.863884
precision class 1 = 0.583333
recall class 0 = 0.989605
recall class 1 = 0.085366
false negative rate = 0.914634
false positive rate = 0.010395
positive prediction rate = 0.021314
AUC of ROC = 0.812256
AUC of PRC = 0.489534
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[654   1]
 [ 73   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08979900181293488
difference in average predicted and observed risk = -0.017829998187065127
number samples = 734
accuracy = 0.899183
precision class 0 = 0.899587
precision class 1 = 0.857143
recall class 0 = 0.998473
recall class 1 = 0.075949
false negative rate = 0.924051
false positive rate = 0.001527
positive prediction rate = 0.009537
AUC of ROC = 0.801218
AUC of PRC = 0.413331
min(+P, Se) = 0.397727

-------------------------------

confusion matrix:
[[4142   15]
 [ 451   20]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0798410028219223
difference in average predicted and observed risk = -0.0219309971780777
number samples = 4628
accuracy = 0.899309
precision class 0 = 0.901807
precision class 1 = 0.571429
recall class 0 = 0.996392
recall class 1 = 0.042463
false negative rate = 0.957537
false positive rate = 0.003608
positive prediction rate = 0.007563
AUC of ROC = 0.781304
AUC of PRC = 0.34517
min(+P, Se) = 0.380042

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08253899961709976
difference in average predicted and observed risk = 0.002369999617099758
number samples = 237
accuracy = 0.924051
precision class 0 = 0.92735
precision class 1 = 0.666667
recall class 0 = 0.995413
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.004587
positive prediction rate = 0.012658
AUC of ROC = 0.826171
AUC of PRC = 0.356756
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07424099743366241
difference in average predicted and observed risk = -0.03455500256633759
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.796795
AUC of PRC = 0.411386
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1029290035367012
difference in average predicted and observed risk = -0.007239996463298801
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.847619
AUC of PRC = 0.603468
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08629299700260162
difference in average predicted and observed risk = -0.047040002997398384
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[299   1]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08293099701404572
difference in average predicted and observed risk = -0.03211300298595428
number samples = 339
accuracy = 0.884956
precision class 0 = 0.88724
precision class 1 = 0.5
recall class 0 = 0.996667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.003333
positive prediction rate = 0.0059
AUC of ROC = 0.782222
AUC of PRC = 0.347904
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08003100007772446
difference in average predicted and observed risk = -0.01201899992227555
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.845413
AUC of PRC = 0.513591
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07238499820232391
difference in average predicted and observed risk = -0.01681700179767609
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.787032
AUC of PRC = 0.40186
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09436900168657303
difference in average predicted and observed risk = -0.023277998313426973
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.910185
AUC of PRC = 0.639543
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07531999796628952
difference in average predicted and observed risk = -0.013390002033710477
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.860821
AUC of PRC = 0.26389
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[107   1]
 [ 18   1]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09567400068044662
difference in average predicted and observed risk = -0.053931999319553364
number samples = 127
accuracy = 0.850394
precision class 0 = 0.856
precision class 1 = 0.5
recall class 0 = 0.990741
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.009259
positive prediction rate = 0.015748
AUC of ROC = 0.777778
AUC of PRC = 0.48755
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11622299998998642
difference in average predicted and observed risk = 0.037275999989986416
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[732   2]
 [ 78   5]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08123400062322617
difference in average predicted and observed risk = -0.020356999376773835
number samples = 817
accuracy = 0.902081
precision class 0 = 0.903704
precision class 1 = 0.714286
recall class 0 = 0.997275
recall class 1 = 0.060241
false negative rate = 0.939759
false positive rate = 0.002725
positive prediction rate = 0.008568
AUC of ROC = 0.818309
AUC of PRC = 0.438484
min(+P, Se) = 0.493976

-------------------------------

Epoch 00003: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch3.state
Epoch 4/100
 - 278s - loss: 0.2934 - val_loss: 0.2613

==>predicting on train



confusion matrix:
[[2133   22]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.1051969975233078
difference in average predicted and observed risk = -0.0006120024766922
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.909983
precision class 1 = 0.666667
recall class 0 = 0.989791
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.010209
positive prediction rate = 0.027386
AUC of ROC = 0.770966
AUC of PRC = 0.376643
min(+P, Se) = 0.396078

-------------------------------

confusion matrix:
[[1151   28]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11311200261116028
difference in average predicted and observed risk = 0.022133002611160274
number samples = 1297
accuracy = 0.906708
precision class 0 = 0.925241
precision class 1 = 0.471698
recall class 0 = 0.976251
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.023749
positive prediction rate = 0.040864
AUC of ROC = 0.783492
AUC of PRC = 0.287804
min(+P, Se) = 0.357724

-------------------------------

confusion matrix:
[[640  16]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.13135500252246857
difference in average predicted and observed risk = 0.029985002522468565
number samples = 730
accuracy = 0.89726
precision class 0 = 0.915594
precision class 1 = 0.483871
recall class 0 = 0.97561
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.02439
positive prediction rate = 0.042466
AUC of ROC = 0.779767
AUC of PRC = 0.339428
min(+P, Se) = 0.391892

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11602500081062317
difference in average predicted and observed risk = -0.009628999189376819
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.882236
AUC of PRC = 0.663899
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2428   46]
 [ 207   48]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.11065100133419037
difference in average predicted and observed risk = 0.017210001334190372
number samples = 2729
accuracy = 0.907292
precision class 0 = 0.921442
precision class 1 = 0.510638
recall class 0 = 0.981407
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.018593
positive prediction rate = 0.034445
AUC of ROC = 0.765949
AUC of PRC = 0.300334
min(+P, Se) = 0.364706

-------------------------------

confusion matrix:
[[1662   21]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.1139099970459938
difference in average predicted and observed risk = 0.00016599704599380705
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.906216
precision class 1 = 0.676923
recall class 0 = 0.987522
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.012478
positive prediction rate = 0.034229
AUC of ROC = 0.79861
AUC of PRC = 0.431083
min(+P, Se) = 0.430556

-------------------------------

confusion matrix:
[[537  12]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12206699699163437
difference in average predicted and observed risk = -0.0009360030083656323
number samples = 626
accuracy = 0.880192
precision class 0 = 0.895
precision class 1 = 0.538462
recall class 0 = 0.978142
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.021858
positive prediction rate = 0.041534
AUC of ROC = 0.786034
AUC of PRC = 0.346104
min(+P, Se) = 0.377778

-------------------------------

confusion matrix:
[[2225   24]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09651300311088562
difference in average predicted and observed risk = 0.011857003110885625
number samples = 2457
accuracy = 0.916565
precision class 0 = 0.924771
precision class 1 = 0.529412
recall class 0 = 0.989329
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.010671
positive prediction rate = 0.020757
AUC of ROC = 0.761022
AUC of PRC = 0.294286
min(+P, Se) = 0.336538

-------------------------------

confusion matrix:
[[217   6]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10827700048685074
difference in average predicted and observed risk = 0.007471000486850732
number samples = 248
accuracy = 0.887097
precision class 0 = 0.90795
precision class 1 = 0.333333
recall class 0 = 0.973094
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.026906
positive prediction rate = 0.03629
AUC of ROC = 0.728969
AUC of PRC = 0.212169
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[468  13]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1453070044517517
difference in average predicted and observed risk = -0.0003409955482482907
number samples = 563
accuracy = 0.884547
precision class 0 = 0.9
precision class 1 = 0.697674
recall class 0 = 0.972973
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.027027
positive prediction rate = 0.076377
AUC of ROC = 0.814436
AUC of PRC = 0.500674
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[643  12]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.13088999688625336
difference in average predicted and observed risk = 0.023260996886253354
number samples = 734
accuracy = 0.900545
precision class 0 = 0.913352
precision class 1 = 0.6
recall class 0 = 0.981679
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.018321
positive prediction rate = 0.040872
AUC of ROC = 0.802126
AUC of PRC = 0.400139
min(+P, Se) = 0.413793

-------------------------------

confusion matrix:
[[4090   67]
 [ 379   92]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11198800057172775
difference in average predicted and observed risk = 0.010216000571727751
number samples = 4628
accuracy = 0.90363
precision class 0 = 0.915194
precision class 1 = 0.578616
recall class 0 = 0.983883
recall class 1 = 0.195329
false negative rate = 0.804671
false positive rate = 0.016117
positive prediction rate = 0.034356
AUC of ROC = 0.780773
AUC of PRC = 0.34854
min(+P, Se) = 0.389006

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.1122329980134964
difference in average predicted and observed risk = 0.032063998013496395
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.83438
AUC of PRC = 0.431794
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10690300166606903
difference in average predicted and observed risk = -0.001892998333930973
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.796739
AUC of PRC = 0.416132
min(+P, Se) = 0.408163

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14823399484157562
difference in average predicted and observed risk = 0.03806499484157562
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.849084
AUC of PRC = 0.579831
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12866899371147156
difference in average predicted and observed risk = -0.0046640062885284495
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.12011300027370453
difference in average predicted and observed risk = 0.005069000273704535
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.773846
AUC of PRC = 0.349047
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11174599826335907
difference in average predicted and observed risk = 0.019695998263359063
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.854943
AUC of PRC = 0.53133
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09973800182342529
difference in average predicted and observed risk = 0.01053600182342529
number samples = 426
accuracy = 0.924883
precision class 0 = 0.92381
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.0
positive prediction rate = 0.014085
AUC of ROC = 0.796663
AUC of PRC = 0.412744
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1385059952735901
difference in average predicted and observed risk = 0.020858995273590086
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.910185
AUC of PRC = 0.664289
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11517299711704254
difference in average predicted and observed risk = 0.026462997117042544
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.827836
AUC of PRC = 0.253162
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[105   3]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13376900553703308
difference in average predicted and observed risk = -0.015836994462966908
number samples = 127
accuracy = 0.874016
precision class 0 = 0.889831
precision class 1 = 0.666667
recall class 0 = 0.972222
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.027778
positive prediction rate = 0.070866
AUC of ROC = 0.77193
AUC of PRC = 0.464628
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1643880009651184
difference in average predicted and observed risk = 0.0854410009651184
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11521799862384796
difference in average predicted and observed risk = 0.01362699862384796
number samples = 817
accuracy = 0.909425
precision class 0 = 0.916667
precision class 1 = 0.68
recall class 0 = 0.989101
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.010899
positive prediction rate = 0.0306
AUC of ROC = 0.819556
AUC of PRC = 0.448665
min(+P, Se) = 0.493976

-------------------------------

Epoch 00004: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch4.state
Epoch 5/100
 - 274s - loss: 0.2919 - val_loss: 0.2642

==>predicting on train



confusion matrix:
[[2153    2]
 [ 246    9]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0742959976196289
difference in average predicted and observed risk = -0.031513002380371094
number samples = 2410
accuracy = 0.897095
precision class 0 = 0.897457
precision class 1 = 0.818182
recall class 0 = 0.999072
recall class 1 = 0.035294
false negative rate = 0.964706
false positive rate = 0.000928
positive prediction rate = 0.004564
AUC of ROC = 0.779375
AUC of PRC = 0.391278
min(+P, Se) = 0.388235

-------------------------------

confusion matrix:
[[1171    8]
 [ 116    2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08132699877023697
difference in average predicted and observed risk = -0.009652001229763035
number samples = 1297
accuracy = 0.904395
precision class 0 = 0.909868
precision class 1 = 0.2
recall class 0 = 0.993215
recall class 1 = 0.016949
false negative rate = 0.983051
false positive rate = 0.006785
positive prediction rate = 0.00771
AUC of ROC = 0.786073
AUC of PRC = 0.294182
min(+P, Se) = 0.357724

-------------------------------

confusion matrix:
[[655   1]
 [ 70   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09127099812030792
difference in average predicted and observed risk = -0.01009900187969208
number samples = 730
accuracy = 0.90274
precision class 0 = 0.903448
precision class 1 = 0.8
recall class 0 = 0.998476
recall class 1 = 0.054054
false negative rate = 0.945946
false positive rate = 0.001524
positive prediction rate = 0.006849
AUC of ROC = 0.788089
AUC of PRC = 0.361247
min(+P, Se) = 0.392405

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08359000086784363
difference in average predicted and observed risk = -0.04206399913215636
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.887725
AUC of PRC = 0.673487
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2465    9]
 [ 245   10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07840099930763245
difference in average predicted and observed risk = -0.01504000069236755
number samples = 2729
accuracy = 0.906926
precision class 0 = 0.909594
precision class 1 = 0.526316
recall class 0 = 0.996362
recall class 1 = 0.039216
false negative rate = 0.960784
false positive rate = 0.003638
positive prediction rate = 0.006962
AUC of ROC = 0.771677
AUC of PRC = 0.313459
min(+P, Se) = 0.378906

-------------------------------

confusion matrix:
[[1681    2]
 [ 208    8]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08065900206565857
difference in average predicted and observed risk = -0.03308499793434143
number samples = 1899
accuracy = 0.889416
precision class 0 = 0.889889
precision class 1 = 0.8
recall class 0 = 0.998812
recall class 1 = 0.037037
false negative rate = 0.962963
false positive rate = 0.001188
positive prediction rate = 0.005266
AUC of ROC = 0.806672
AUC of PRC = 0.434391
min(+P, Se) = 0.435185

-------------------------------

confusion matrix:
[[547   2]
 [ 74   3]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08738099783658981
difference in average predicted and observed risk = -0.03562200216341019
number samples = 626
accuracy = 0.878594
precision class 0 = 0.880837
precision class 1 = 0.6
recall class 0 = 0.996357
recall class 1 = 0.038961
false negative rate = 0.961039
false positive rate = 0.003643
positive prediction rate = 0.007987
AUC of ROC = 0.801646
AUC of PRC = 0.37395
min(+P, Se) = 0.38961

-------------------------------

confusion matrix:
[[2248    1]
 [ 208    0]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0677030012011528
difference in average predicted and observed risk = -0.016952998798847194
number samples = 2457
accuracy = 0.914937
precision class 0 = 0.915309
precision class 1 = 0.0
recall class 0 = 0.999555
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.000445
positive prediction rate = 0.000407
AUC of ROC = 0.763958
AUC of PRC = 0.292602
min(+P, Se) = 0.325472

-------------------------------

confusion matrix:
[[223   0]
 [ 25   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07706700265407562
difference in average predicted and observed risk = -0.023738997345924384
number samples = 248
accuracy = 0.899194
precision class 0 = 0.899194
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.737578
AUC of PRC = 0.217099
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[474   7]
 [ 69  13]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10727199912071228
difference in average predicted and observed risk = -0.03837600087928772
number samples = 563
accuracy = 0.865009
precision class 0 = 0.872928
precision class 1 = 0.65
recall class 0 = 0.985447
recall class 1 = 0.158537
false negative rate = 0.841463
false positive rate = 0.014553
positive prediction rate = 0.035524
AUC of ROC = 0.819
AUC of PRC = 0.513426
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[654   1]
 [ 77   2]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09070099890232086
difference in average predicted and observed risk = -0.01692800109767914
number samples = 734
accuracy = 0.893733
precision class 0 = 0.894665
precision class 1 = 0.666667
recall class 0 = 0.998473
recall class 1 = 0.025316
false negative rate = 0.974684
false positive rate = 0.001527
positive prediction rate = 0.004087
AUC of ROC = 0.809276
AUC of PRC = 0.4075
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[4146   11]
 [ 453   18]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07932800054550171
difference in average predicted and observed risk = -0.022443999454498292
number samples = 4628
accuracy = 0.899741
precision class 0 = 0.9015
precision class 1 = 0.62069
recall class 0 = 0.997354
recall class 1 = 0.038217
false negative rate = 0.961783
false positive rate = 0.002646
positive prediction rate = 0.006266
AUC of ROC = 0.78749
AUC of PRC = 0.363021
min(+P, Se) = 0.393235

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 18   1]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08009599894285202
difference in average predicted and observed risk = -7.300105714798388e-05
number samples = 237
accuracy = 0.919831
precision class 0 = 0.923404
precision class 1 = 0.5
recall class 0 = 0.995413
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.004587
positive prediction rate = 0.008439
AUC of ROC = 0.848865
AUC of PRC = 0.40337
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07377900183200836
difference in average predicted and observed risk = -0.03501699816799164
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.80409
AUC of PRC = 0.422813
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10446199774742126
difference in average predicted and observed risk = -0.005707002252578738
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.865934
AUC of PRC = 0.638887
min(+P, Se) = 0.647059

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09037599712610245
difference in average predicted and observed risk = -0.04295700287389756
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08235999941825867
difference in average predicted and observed risk = -0.032684000581741326
number samples = 339
accuracy = 0.887906
precision class 0 = 0.887574
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.0
positive prediction rate = 0.00295
AUC of ROC = 0.782479
AUC of PRC = 0.354174
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[433   1]
 [ 41   3]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07944200187921524
difference in average predicted and observed risk = -0.012607998120784766
number samples = 478
accuracy = 0.912134
precision class 0 = 0.913502
precision class 1 = 0.75
recall class 0 = 0.997696
recall class 1 = 0.068182
false negative rate = 0.931818
false positive rate = 0.002304
positive prediction rate = 0.008368
AUC of ROC = 0.863375
AUC of PRC = 0.53629
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 38   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06949000060558319
difference in average predicted and observed risk = -0.019711999394416813
number samples = 426
accuracy = 0.910798
precision class 0 = 0.910798
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.805005
AUC of PRC = 0.41999
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09992600232362747
difference in average predicted and observed risk = -0.01772099767637253
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.912963
AUC of PRC = 0.677
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07881700247526169
difference in average predicted and observed risk = -0.009892997524738309
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.861625
AUC of PRC = 0.279456
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[108   0]
 [ 18   1]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09606999903917313
difference in average predicted and observed risk = -0.05353600096082686
number samples = 127
accuracy = 0.858268
precision class 0 = 0.857143
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.007874
AUC of ROC = 0.785575
AUC of PRC = 0.496681
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10851900279521942
difference in average predicted and observed risk = 0.029572002795219418
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[733   1]
 [ 79   4]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08065299689769745
difference in average predicted and observed risk = -0.020938003102302552
number samples = 817
accuracy = 0.902081
precision class 0 = 0.902709
precision class 1 = 0.8
recall class 0 = 0.998638
recall class 1 = 0.048193
false negative rate = 0.951807
false positive rate = 0.001362
positive prediction rate = 0.00612
AUC of ROC = 0.828994
AUC of PRC = 0.454658
min(+P, Se) = 0.506024

-------------------------------

Epoch 00005: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch5.state
Epoch 6/100
 - 275s - loss: 0.2852 - val_loss: 0.2662

==>predicting on train



confusion matrix:
[[2150    5]
 [ 236   19]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06010900065302849
difference in average predicted and observed risk = -0.04569999934697151
number samples = 2410
accuracy = 0.9
precision class 0 = 0.90109
precision class 1 = 0.791667
recall class 0 = 0.99768
recall class 1 = 0.07451
false negative rate = 0.92549
false positive rate = 0.00232
positive prediction rate = 0.009959
AUC of ROC = 0.787802
AUC of PRC = 0.400626
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1164   15]
 [ 104   14]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06774000078439713
difference in average predicted and observed risk = -0.02323899921560288
number samples = 1297
accuracy = 0.90825
precision class 0 = 0.917981
precision class 1 = 0.482759
recall class 0 = 0.987277
recall class 1 = 0.118644
false negative rate = 0.881356
false positive rate = 0.012723
positive prediction rate = 0.022359
AUC of ROC = 0.792175
AUC of PRC = 0.30195
min(+P, Se) = 0.372881

-------------------------------

confusion matrix:
[[652   4]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07466699928045273
difference in average predicted and observed risk = -0.026703000719547274
number samples = 730
accuracy = 0.905479
precision class 0 = 0.909344
precision class 1 = 0.692308
recall class 0 = 0.993902
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.006098
positive prediction rate = 0.017808
AUC of ROC = 0.79878
AUC of PRC = 0.365027
min(+P, Se) = 0.408602

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06981799751520157
difference in average predicted and observed risk = -0.05583600248479842
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.892216
AUC of PRC = 0.676043
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2455   19]
 [ 229   26]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0639289990067482
difference in average predicted and observed risk = -0.029512000993251797
number samples = 2729
accuracy = 0.909124
precision class 0 = 0.91468
precision class 1 = 0.577778
recall class 0 = 0.99232
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.00768
positive prediction rate = 0.01649
AUC of ROC = 0.781648
AUC of PRC = 0.326167
min(+P, Se) = 0.372549

-------------------------------

confusion matrix:
[[1677    6]
 [ 194   22]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.06640499830245972
difference in average predicted and observed risk = -0.04733900169754028
number samples = 1899
accuracy = 0.894681
precision class 0 = 0.896312
precision class 1 = 0.785714
recall class 0 = 0.996435
recall class 1 = 0.101852
false negative rate = 0.898148
false positive rate = 0.003565
positive prediction rate = 0.014745
AUC of ROC = 0.812749
AUC of PRC = 0.444464
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[542   7]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07202699780464172
difference in average predicted and observed risk = -0.05097600219535828
number samples = 626
accuracy = 0.876997
precision class 0 = 0.885621
precision class 1 = 0.5
recall class 0 = 0.98725
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.01275
positive prediction rate = 0.022364
AUC of ROC = 0.809855
AUC of PRC = 0.398272
min(+P, Se) = 0.433333

-------------------------------

confusion matrix:
[[2244    5]
 [ 196   12]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05483299866318703
difference in average predicted and observed risk = -0.029823001336812968
number samples = 2457
accuracy = 0.918193
precision class 0 = 0.919672
precision class 1 = 0.705882
recall class 0 = 0.997777
recall class 1 = 0.057692
false negative rate = 0.942308
false positive rate = 0.002223
positive prediction rate = 0.006919
AUC of ROC = 0.774832
AUC of PRC = 0.309901
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06251300126314163
difference in average predicted and observed risk = -0.038292998736858375
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.753722
AUC of PRC = 0.230398
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[474   7]
 [ 62  20]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.0919170007109642
difference in average predicted and observed risk = -0.0537309992890358
number samples = 563
accuracy = 0.877442
precision class 0 = 0.884328
precision class 1 = 0.740741
recall class 0 = 0.985447
recall class 1 = 0.243902
false negative rate = 0.756098
false positive rate = 0.014553
positive prediction rate = 0.047957
AUC of ROC = 0.821916
AUC of PRC = 0.515149
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[652   3]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07288700342178345
difference in average predicted and observed risk = -0.034741996578216555
number samples = 734
accuracy = 0.900545
precision class 0 = 0.903047
precision class 1 = 0.75
recall class 0 = 0.99542
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.00458
positive prediction rate = 0.016349
AUC of ROC = 0.814881
AUC of PRC = 0.431411
min(+P, Se) = 0.417722

-------------------------------

confusion matrix:
[[4132   25]
 [ 423   48]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06494499742984772
difference in average predicted and observed risk = -0.036827002570152284
number samples = 4628
accuracy = 0.903198
precision class 0 = 0.907135
precision class 1 = 0.657534
recall class 0 = 0.993986
recall class 1 = 0.101911
false negative rate = 0.898089
false positive rate = 0.006014
positive prediction rate = 0.015774
AUC of ROC = 0.795863
AUC of PRC = 0.373359
min(+P, Se) = 0.406709

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06739100068807602
difference in average predicted and observed risk = -0.012777999311923985
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.845002
AUC of PRC = 0.390346
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05818000063300133
difference in average predicted and observed risk = -0.050615999366998676
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.816524
AUC of PRC = 0.446976
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[105   0]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08844000101089478
difference in average predicted and observed risk = -0.021728998989105228
number samples = 118
accuracy = 0.932203
precision class 0 = 0.929204
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.0
positive prediction rate = 0.042373
AUC of ROC = 0.863004
AUC of PRC = 0.67367
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08078800141811371
difference in average predicted and observed risk = -0.0525449985818863
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[299   1]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0667869970202446
difference in average predicted and observed risk = -0.048257002979755395
number samples = 339
accuracy = 0.884956
precision class 0 = 0.88724
precision class 1 = 0.5
recall class 0 = 0.996667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.003333
positive prediction rate = 0.0059
AUC of ROC = 0.790171
AUC of PRC = 0.355288
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06553199887275696
difference in average predicted and observed risk = -0.02651800112724305
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.867826
AUC of PRC = 0.553339
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.056233000010252
difference in average predicted and observed risk = -0.032968999989748005
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.811788
AUC of PRC = 0.433051
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08410199731588364
difference in average predicted and observed risk = -0.033545002684116365
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.918519
AUC of PRC = 0.690609
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.061365000903606415
difference in average predicted and observed risk = -0.027344999096393582
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.871279
AUC of PRC = 0.293601
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.08161000162363052
difference in average predicted and observed risk = -0.06799599837636947
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.79922
AUC of PRC = 0.566862
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09099200367927551
difference in average predicted and observed risk = 0.01204500367927551
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[732   2]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06605300307273865
difference in average predicted and observed risk = -0.03553799692726135
number samples = 817
accuracy = 0.906977
precision class 0 = 0.908189
precision class 1 = 0.818182
recall class 0 = 0.997275
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.002725
positive prediction rate = 0.013464
AUC of ROC = 0.834559
AUC of PRC = 0.471581
min(+P, Se) = 0.465909

-------------------------------

Epoch 00006: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch6.state
Epoch 7/100
 - 274s - loss: 0.2890 - val_loss: 0.2579

==>predicting on train



confusion matrix:
[[2133   22]
 [ 202   53]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.1083960011601448
difference in average predicted and observed risk = 0.0025870011601448056
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.91349
precision class 1 = 0.706667
recall class 0 = 0.989791
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.010209
positive prediction rate = 0.03112
AUC of ROC = 0.781486
AUC of PRC = 0.390608
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1152   27]
 [  91   27]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11572899669408798
difference in average predicted and observed risk = 0.024749996694087978
number samples = 1297
accuracy = 0.909021
precision class 0 = 0.92679
precision class 1 = 0.5
recall class 0 = 0.977099
recall class 1 = 0.228814
false negative rate = 0.771186
false positive rate = 0.022901
positive prediction rate = 0.041635
AUC of ROC = 0.791377
AUC of PRC = 0.315643
min(+P, Se) = 0.364407

-------------------------------

confusion matrix:
[[637  19]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.13307499885559082
difference in average predicted and observed risk = 0.03170499885559082
number samples = 730
accuracy = 0.894521
precision class 0 = 0.916547
precision class 1 = 0.457143
recall class 0 = 0.971037
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.028963
positive prediction rate = 0.047945
AUC of ROC = 0.782568
AUC of PRC = 0.361932
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11969999969005585
difference in average predicted and observed risk = -0.005954000309944141
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.891467
AUC of PRC = 0.708498
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2429   45]
 [ 197   58]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.11233499646186829
difference in average predicted and observed risk = 0.01889399646186829
number samples = 2729
accuracy = 0.911323
precision class 0 = 0.924981
precision class 1 = 0.563107
recall class 0 = 0.981811
recall class 1 = 0.227451
false negative rate = 0.772549
false positive rate = 0.018189
positive prediction rate = 0.037743
AUC of ROC = 0.776751
AUC of PRC = 0.329483
min(+P, Se) = 0.380392

-------------------------------

confusion matrix:
[[1659   24]
 [ 170   46]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11836700141429901
difference in average predicted and observed risk = 0.004623001414299013
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.907053
precision class 1 = 0.657143
recall class 0 = 0.98574
recall class 1 = 0.212963
false negative rate = 0.787037
false positive rate = 0.01426
positive prediction rate = 0.036862
AUC of ROC = 0.803911
AUC of PRC = 0.45023
min(+P, Se) = 0.427928

-------------------------------

confusion matrix:
[[537  12]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.1291320025920868
difference in average predicted and observed risk = 0.006129002592086791
number samples = 626
accuracy = 0.881789
precision class 0 = 0.896494
precision class 1 = 0.555556
recall class 0 = 0.978142
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.021858
positive prediction rate = 0.043131
AUC of ROC = 0.793201
AUC of PRC = 0.36853
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[2227   22]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09656199812889099
difference in average predicted and observed risk = 0.011905998128890996
number samples = 2457
accuracy = 0.919007
precision class 0 = 0.926373
precision class 1 = 0.584906
recall class 0 = 0.990218
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.009782
positive prediction rate = 0.021571
AUC of ROC = 0.772162
AUC of PRC = 0.316945
min(+P, Se) = 0.331858

-------------------------------

confusion matrix:
[[216   7]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10847199708223343
difference in average predicted and observed risk = 0.007665997082233422
number samples = 248
accuracy = 0.883065
precision class 0 = 0.907563
precision class 1 = 0.3
recall class 0 = 0.96861
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.03139
positive prediction rate = 0.040323
AUC of ROC = 0.751031
AUC of PRC = 0.22656
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[467  14]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.15906700491905212
difference in average predicted and observed risk = 0.013419004919052124
number samples = 563
accuracy = 0.891652
precision class 0 = 0.90856
precision class 1 = 0.714286
recall class 0 = 0.970894
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.029106
positive prediction rate = 0.087034
AUC of ROC = 0.81431
AUC of PRC = 0.530443
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[641  14]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.13187700510025024
difference in average predicted and observed risk = 0.02424800510025024
number samples = 734
accuracy = 0.900545
precision class 0 = 0.915714
precision class 1 = 0.588235
recall class 0 = 0.978626
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.021374
positive prediction rate = 0.046322
AUC of ROC = 0.809837
AUC of PRC = 0.405151
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[4088   69]
 [ 367  104]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11480999737977982
difference in average predicted and observed risk = 0.013037997379779814
number samples = 4628
accuracy = 0.905791
precision class 0 = 0.917621
precision class 1 = 0.601156
recall class 0 = 0.983401
recall class 1 = 0.220807
false negative rate = 0.779193
false positive rate = 0.016599
positive prediction rate = 0.037381
AUC of ROC = 0.789324
AUC of PRC = 0.376264
min(+P, Se) = 0.399151

-------------------------------

==>predicting on validation



confusion matrix:
[[213   5]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.1126910001039505
difference in average predicted and observed risk = 0.032522000103950496
number samples = 237
accuracy = 0.924051
precision class 0 = 0.942478
precision class 1 = 0.545455
recall class 0 = 0.977064
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.022936
positive prediction rate = 0.046414
AUC of ROC = 0.842588
AUC of PRC = 0.384879
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[385   0]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.1093909963965416
difference in average predicted and observed risk = 0.0005949963965415916
number samples = 432
accuracy = 0.907407
precision class 0 = 0.905882
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.0
positive prediction rate = 0.016204
AUC of ROC = 0.803371
AUC of PRC = 0.443645
min(+P, Se) = 0.382979

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.15106600522994995
difference in average predicted and observed risk = 0.04089700522994995
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.862271
AUC of PRC = 0.598476
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.13503099977970123
difference in average predicted and observed risk = 0.0016979997797012258
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1229029968380928
difference in average predicted and observed risk = 0.00785899683809281
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.782479
AUC of PRC = 0.350726
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[429   5]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11334200203418732
difference in average predicted and observed risk = 0.02129200203418731
number samples = 478
accuracy = 0.926778
precision class 0 = 0.934641
precision class 1 = 0.736842
recall class 0 = 0.988479
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.011521
positive prediction rate = 0.039749
AUC of ROC = 0.858766
AUC of PRC = 0.559368
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 31   7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09884999692440033
difference in average predicted and observed risk = 0.009647996924400326
number samples = 426
accuracy = 0.924883
precision class 0 = 0.925837
precision class 1 = 0.875
recall class 0 = 0.997423
recall class 1 = 0.184211
false negative rate = 0.815789
false positive rate = 0.002577
positive prediction rate = 0.018779
AUC of ROC = 0.812195
AUC of PRC = 0.431901
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.14885400235652924
difference in average predicted and observed risk = 0.031207002356529234
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.921296
AUC of PRC = 0.692413
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.12381599843502045
difference in average predicted and observed risk = 0.03510599843502045
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.823009
AUC of PRC = 0.257709
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13560299575328827
difference in average predicted and observed risk = -0.01400300424671172
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.787524
AUC of PRC = 0.484296
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1571889966726303
difference in average predicted and observed risk = 0.0782419966726303
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[726   8]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11730899661779404
difference in average predicted and observed risk = 0.015717996617794036
number samples = 817
accuracy = 0.913097
precision class 0 = 0.920152
precision class 1 = 0.714286
recall class 0 = 0.989101
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.010899
positive prediction rate = 0.034272
AUC of ROC = 0.827238
AUC of PRC = 0.460755
min(+P, Se) = 0.46988

-------------------------------

Epoch 00007: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch7.state
Epoch 8/100
 - 277s - loss: 0.2904 - val_loss: 0.2596

==>predicting on train



confusion matrix:
[[2151    4]
 [ 230   25]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08872299641370773
difference in average predicted and observed risk = -0.017086003586292267
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.903402
precision class 1 = 0.862069
recall class 0 = 0.998144
recall class 1 = 0.098039
false negative rate = 0.901961
false positive rate = 0.001856
positive prediction rate = 0.012033
AUC of ROC = 0.789478
AUC of PRC = 0.404506
min(+P, Se) = 0.396078

-------------------------------

confusion matrix:
[[1166   13]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09553399682044983
difference in average predicted and observed risk = 0.004554996820449825
number samples = 1297
accuracy = 0.909021
precision class 0 = 0.917388
precision class 1 = 0.5
recall class 0 = 0.988974
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.011026
positive prediction rate = 0.020046
AUC of ROC = 0.794784
AUC of PRC = 0.311286
min(+P, Se) = 0.382114

-------------------------------

confusion matrix:
[[649   7]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1067110002040863
difference in average predicted and observed risk = 0.005341000204086302
number samples = 730
accuracy = 0.90411
precision class 0 = 0.911517
precision class 1 = 0.611111
recall class 0 = 0.989329
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.010671
positive prediction rate = 0.024658
AUC of ROC = 0.792271
AUC of PRC = 0.383794
min(+P, Se) = 0.418919

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09949900209903717
difference in average predicted and observed risk = -0.026154997900962818
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.893713
AUC of PRC = 0.71762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2456   18]
 [ 228   27]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09213700145483017
difference in average predicted and observed risk = -0.0013039985451698266
number samples = 2729
accuracy = 0.909857
precision class 0 = 0.915052
precision class 1 = 0.6
recall class 0 = 0.992724
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.007276
positive prediction rate = 0.01649
AUC of ROC = 0.783371
AUC of PRC = 0.334387
min(+P, Se) = 0.383721

-------------------------------

confusion matrix:
[[1676    7]
 [ 188   28]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0964680016040802
difference in average predicted and observed risk = -0.017275998395919798
number samples = 1899
accuracy = 0.897314
precision class 0 = 0.899142
precision class 1 = 0.8
recall class 0 = 0.995841
recall class 1 = 0.12963
false negative rate = 0.87037
false positive rate = 0.004159
positive prediction rate = 0.018431
AUC of ROC = 0.810793
AUC of PRC = 0.449056
min(+P, Se) = 0.435185

-------------------------------

confusion matrix:
[[544   5]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10636100172996521
difference in average predicted and observed risk = -0.01664199827003479
number samples = 626
accuracy = 0.880192
precision class 0 = 0.885993
precision class 1 = 0.583333
recall class 0 = 0.990893
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.009107
positive prediction rate = 0.019169
AUC of ROC = 0.802238
AUC of PRC = 0.391492
min(+P, Se) = 0.430233

-------------------------------

confusion matrix:
[[2243    6]
 [ 197   11]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07930099964141846
difference in average predicted and observed risk = -0.005355000358581538
number samples = 2457
accuracy = 0.917379
precision class 0 = 0.919262
precision class 1 = 0.647059
recall class 0 = 0.997332
recall class 1 = 0.052885
false negative rate = 0.947115
false positive rate = 0.002668
positive prediction rate = 0.006919
AUC of ROC = 0.781835
AUC of PRC = 0.314303
min(+P, Se) = 0.347619

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09262900054454803
difference in average predicted and observed risk = -0.008176999455451972
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.763049
AUC of PRC = 0.236191
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[473   8]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1274999976158142
difference in average predicted and observed risk = -0.01814800238418579
number samples = 563
accuracy = 0.886323
precision class 0 = 0.89414
precision class 1 = 0.764706
recall class 0 = 0.983368
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.016632
positive prediction rate = 0.060391
AUC of ROC = 0.819963
AUC of PRC = 0.511112
min(+P, Se) = 0.542169

-------------------------------

confusion matrix:
[[652   3]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10688699781894684
difference in average predicted and observed risk = -0.0007420021810531641
number samples = 734
accuracy = 0.90327
precision class 0 = 0.905556
precision class 1 = 0.785714
recall class 0 = 0.99542
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.00458
positive prediction rate = 0.019074
AUC of ROC = 0.809044
AUC of PRC = 0.427384
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4132   25]
 [ 416   55]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09391400218009949
difference in average predicted and observed risk = -0.007857997819900514
number samples = 4628
accuracy = 0.90471
precision class 0 = 0.908531
precision class 1 = 0.6875
recall class 0 = 0.993986
recall class 1 = 0.116773
false negative rate = 0.883227
false positive rate = 0.006014
positive prediction rate = 0.017286
AUC of ROC = 0.796268
AUC of PRC = 0.380026
min(+P, Se) = 0.409766

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09395100176334381
difference in average predicted and observed risk = 0.013782001763343807
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.827137
AUC of PRC = 0.363282
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0882669985294342
difference in average predicted and observed risk = -0.0205290014705658
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.804255
AUC of PRC = 0.454416
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12046000361442566
difference in average predicted and observed risk = 0.010291003614425656
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871795
AUC of PRC = 0.691482
min(+P, Se) = 0.6875

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11156100034713745
difference in average predicted and observed risk = -0.021771999652862556
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09792099893093109
difference in average predicted and observed risk = -0.017123001069068902
number samples = 339
accuracy = 0.882006
precision class 0 = 0.886905
precision class 1 = 0.333333
recall class 0 = 0.993333
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.006667
positive prediction rate = 0.00885
AUC of ROC = 0.782051
AUC of PRC = 0.358127
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09364800155162811
difference in average predicted and observed risk = 0.001598001551628106
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.854525
AUC of PRC = 0.543875
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08055400103330612
difference in average predicted and observed risk = -0.008647998966693882
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.807922
AUC of PRC = 0.419482
min(+P, Se) = 0.395349

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11768999695777893
difference in average predicted and observed risk = 4.299695777892909e-05
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.926852
AUC of PRC = 0.716868
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09996200352907181
difference in average predicted and observed risk = 0.01125200352907181
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.847949
AUC of PRC = 0.268695
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11347100138664246
difference in average predicted and observed risk = -0.03613499861335753
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.783138
AUC of PRC = 0.557121
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12716299295425415
difference in average predicted and observed risk = 0.04821599295425415
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.569444
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09542100131511688
difference in average predicted and observed risk = -0.006169998684883118
number samples = 817
accuracy = 0.908201
precision class 0 = 0.910336
precision class 1 = 0.785714
recall class 0 = 0.995913
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.004087
positive prediction rate = 0.017136
AUC of ROC = 0.824037
AUC of PRC = 0.468416
min(+P, Se) = 0.481928

-------------------------------

Epoch 00008: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch8.state
Epoch 9/100
 - 274s - loss: 0.2874 - val_loss: 0.2572

==>predicting on train



confusion matrix:
[[2141   14]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07470499724149704
difference in average predicted and observed risk = -0.03110400275850296
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.909902
precision class 1 = 0.754386
recall class 0 = 0.993503
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.006497
positive prediction rate = 0.023651
AUC of ROC = 0.790026
AUC of PRC = 0.397679
min(+P, Se) = 0.40625

-------------------------------

confusion matrix:
[[1161   18]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0826909989118576
difference in average predicted and observed risk = -0.0082880010881424
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.9251
precision class 1 = 0.571429
recall class 0 = 0.984733
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.015267
positive prediction rate = 0.032382
AUC of ROC = 0.794766
AUC of PRC = 0.318381
min(+P, Se) = 0.381356

-------------------------------

confusion matrix:
[[643  13]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09507399797439575
difference in average predicted and observed risk = -0.00629600202560425
number samples = 730
accuracy = 0.90274
precision class 0 = 0.917261
precision class 1 = 0.551724
recall class 0 = 0.980183
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.019817
positive prediction rate = 0.039726
AUC of ROC = 0.792889
AUC of PRC = 0.387128
min(+P, Se) = 0.434211

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08712299913167953
difference in average predicted and observed risk = -0.03853100086832045
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.901198
AUC of PRC = 0.725694
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2443   31]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0788939967751503
difference in average predicted and observed risk = -0.014547003224849697
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.921539
precision class 1 = 0.602564
recall class 0 = 0.98747
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.01253
positive prediction rate = 0.028582
AUC of ROC = 0.785591
AUC of PRC = 0.335947
min(+P, Se) = 0.376471

-------------------------------

confusion matrix:
[[1668   15]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0832189992070198
difference in average predicted and observed risk = -0.030525000792980192
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.906522
precision class 1 = 0.745763
recall class 0 = 0.991087
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.008913
positive prediction rate = 0.031069
AUC of ROC = 0.809858
AUC of PRC = 0.454185
min(+P, Se) = 0.442396

-------------------------------

confusion matrix:
[[539  10]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09338100254535675
difference in average predicted and observed risk = -0.02962199745464325
number samples = 626
accuracy = 0.883387
precision class 0 = 0.895349
precision class 1 = 0.583333
recall class 0 = 0.981785
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.018215
positive prediction rate = 0.038339
AUC of ROC = 0.799707
AUC of PRC = 0.392442
min(+P, Se) = 0.410526

-------------------------------

confusion matrix:
[[2238   11]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06431099772453308
difference in average predicted and observed risk = -0.020345002275466914
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924411
precision class 1 = 0.694444
recall class 0 = 0.995109
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.004891
positive prediction rate = 0.014652
AUC of ROC = 0.785113
AUC of PRC = 0.320983
min(+P, Se) = 0.342857

-------------------------------

confusion matrix:
[[218   5]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07646399736404419
difference in average predicted and observed risk = -0.024342002635955817
number samples = 248
accuracy = 0.883065
precision class 0 = 0.900826
precision class 1 = 0.166667
recall class 0 = 0.977578
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.022422
positive prediction rate = 0.024194
AUC of ROC = 0.761973
AUC of PRC = 0.232859
min(+P, Se) = 0.357143

-------------------------------

confusion matrix:
[[471  10]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12098199874162674
difference in average predicted and observed risk = -0.02466600125837326
number samples = 563
accuracy = 0.891652
precision class 0 = 0.902299
precision class 1 = 0.756098
recall class 0 = 0.97921
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.02079
positive prediction rate = 0.072824
AUC of ROC = 0.816845
AUC of PRC = 0.510237
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[645  10]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09508000314235687
difference in average predicted and observed risk = -0.01254899685764313
number samples = 734
accuracy = 0.905995
precision class 0 = 0.916193
precision class 1 = 0.666667
recall class 0 = 0.984733
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.015267
positive prediction rate = 0.040872
AUC of ROC = 0.807421
AUC of PRC = 0.415761
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4111   46]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08066900074481964
difference in average predicted and observed risk = -0.02110299925518036
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.915386
precision class 1 = 0.664234
recall class 0 = 0.988934
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.011066
positive prediction rate = 0.029602
AUC of ROC = 0.796892
AUC of PRC = 0.382219
min(+P, Se) = 0.4

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08096399903297424
difference in average predicted and observed risk = 0.000794999032974239
number samples = 237
accuracy = 0.92827
precision class 0 = 0.942731
precision class 1 = 0.6
recall class 0 = 0.981651
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018349
positive prediction rate = 0.042194
AUC of ROC = 0.821825
AUC of PRC = 0.371114
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[385   0]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07285100221633911
difference in average predicted and observed risk = -0.03594499778366089
number samples = 432
accuracy = 0.907407
precision class 0 = 0.905882
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.0
positive prediction rate = 0.016204
AUC of ROC = 0.804808
AUC of PRC = 0.452572
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11264999955892563
difference in average predicted and observed risk = 0.0024809995589256256
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.863004
AUC of PRC = 0.637721
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10111899673938751
difference in average predicted and observed risk = -0.032214003260612495
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08518099784851074
difference in average predicted and observed risk = -0.02986300215148925
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.776923
AUC of PRC = 0.344152
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[431   3]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07972899824380875
difference in average predicted and observed risk = -0.01232100175619126
number samples = 478
accuracy = 0.930962
precision class 0 = 0.934924
precision class 1 = 0.823529
recall class 0 = 0.993088
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.006912
positive prediction rate = 0.035565
AUC of ROC = 0.853163
AUC of PRC = 0.555077
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 31   7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06539499759674072
difference in average predicted and observed risk = -0.02380700240325928
number samples = 426
accuracy = 0.92723
precision class 0 = 0.926014
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.184211
false negative rate = 0.815789
false positive rate = 0.0
positive prediction rate = 0.016432
AUC of ROC = 0.807718
AUC of PRC = 0.420375
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10988499969244003
difference in average predicted and observed risk = -0.007762000307559969
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.922222
AUC of PRC = 0.71727
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08411899954080582
difference in average predicted and observed risk = -0.0045910004591941805
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.839099
AUC of PRC = 0.261158
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10260800272226334
difference in average predicted and observed risk = -0.04699799727773665
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.782164
AUC of PRC = 0.524468
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11731600016355515
difference in average predicted and observed risk = 0.03836900016355514
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08199100196361542
difference in average predicted and observed risk = -0.019599998036384583
number samples = 817
accuracy = 0.915545
precision class 0 = 0.920354
precision class 1 = 0.769231
recall class 0 = 0.991826
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.008174
positive prediction rate = 0.031824
AUC of ROC = 0.821772
AUC of PRC = 0.46317
min(+P, Se) = 0.471264

-------------------------------

Epoch 00009: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch9.state
Epoch 10/100
 - 275s - loss: 0.2837 - val_loss: 0.2540

==>predicting on train



confusion matrix:
[[2142   13]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07246000319719315
difference in average predicted and observed risk = -0.033348996802806855
number samples = 2410
accuracy = 0.904149
precision class 0 = 0.907627
precision class 1 = 0.74
recall class 0 = 0.993968
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.006032
positive prediction rate = 0.020747
AUC of ROC = 0.792514
AUC of PRC = 0.409787
min(+P, Se) = 0.403922

-------------------------------

confusion matrix:
[[1163   16]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08061599731445312
difference in average predicted and observed risk = -0.01036300268554688
number samples = 1297
accuracy = 0.912105
precision class 0 = 0.922284
precision class 1 = 0.555556
recall class 0 = 0.986429
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.013571
positive prediction rate = 0.027756
AUC of ROC = 0.794375
AUC of PRC = 0.321731
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[644  12]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0918779969215393
difference in average predicted and observed risk = -0.009492003078460695
number samples = 730
accuracy = 0.90411
precision class 0 = 0.917379
precision class 1 = 0.571429
recall class 0 = 0.981707
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.018293
positive prediction rate = 0.038356
AUC of ROC = 0.801026
AUC of PRC = 0.392531
min(+P, Se) = 0.426667

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0846090018749237
difference in average predicted and observed risk = -0.04104499812507628
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.90494
AUC of PRC = 0.726995
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2444   30]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07605499774217606
difference in average predicted and observed risk = -0.01738600225782394
number samples = 2729
accuracy = 0.910224
precision class 0 = 0.919143
precision class 1 = 0.571429
recall class 0 = 0.987874
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.012126
positive prediction rate = 0.02565
AUC of ROC = 0.788524
AUC of PRC = 0.34269
min(+P, Se) = 0.377863

-------------------------------

confusion matrix:
[[1671   12]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08155100047588348
difference in average predicted and observed risk = -0.032192999524116514
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.9052
precision class 1 = 0.773585
recall class 0 = 0.99287
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.00713
positive prediction rate = 0.027909
AUC of ROC = 0.812922
AUC of PRC = 0.46617
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[541   8]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08590000122785568
difference in average predicted and observed risk = -0.03710299877214432
number samples = 626
accuracy = 0.883387
precision class 0 = 0.892739
precision class 1 = 0.6
recall class 0 = 0.985428
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.014572
positive prediction rate = 0.031949
AUC of ROC = 0.811274
AUC of PRC = 0.411256
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[2238   11]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06405500322580338
difference in average predicted and observed risk = -0.02060099677419662
number samples = 2457
accuracy = 0.920228
precision class 0 = 0.923648
precision class 1 = 0.676471
recall class 0 = 0.995109
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.004891
positive prediction rate = 0.013838
AUC of ROC = 0.784359
AUC of PRC = 0.328333
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[218   5]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07534100115299225
difference in average predicted and observed risk = -0.025464998847007758
number samples = 248
accuracy = 0.879032
precision class 0 = 0.897119
precision class 1 = 0.0
recall class 0 = 0.977578
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.022422
positive prediction rate = 0.020161
AUC of ROC = 0.76861
AUC of PRC = 0.235854
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[472   9]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11336699873209
difference in average predicted and observed risk = -0.03228100126791
number samples = 563
accuracy = 0.888099
precision class 0 = 0.897338
precision class 1 = 0.756757
recall class 0 = 0.981289
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.018711
positive prediction rate = 0.065719
AUC of ROC = 0.822524
AUC of PRC = 0.536081
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[646   9]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09367000311613083
difference in average predicted and observed risk = -0.013958996883869174
number samples = 734
accuracy = 0.904632
precision class 0 = 0.91372
precision class 1 = 0.666667
recall class 0 = 0.98626
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.01374
positive prediction rate = 0.036785
AUC of ROC = 0.810069
AUC of PRC = 0.425379
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4115   42]
 [ 390   81]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07830999791622162
difference in average predicted and observed risk = -0.023462002083778383
number samples = 4628
accuracy = 0.906655
precision class 0 = 0.913429
precision class 1 = 0.658537
recall class 0 = 0.989897
recall class 1 = 0.171975
false negative rate = 0.828025
false positive rate = 0.010103
positive prediction rate = 0.026577
AUC of ROC = 0.799783
AUC of PRC = 0.392347
min(+P, Se) = 0.407643

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0778769999742508
difference in average predicted and observed risk = -0.0022920000257492107
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.845727
AUC of PRC = 0.405479
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07177399843931198
difference in average predicted and observed risk = -0.03702200156068802
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.815861
AUC of PRC = 0.455181
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10789400339126587
difference in average predicted and observed risk = -0.002274996608734134
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.865934
AUC of PRC = 0.653356
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09794799983501434
difference in average predicted and observed risk = -0.035385000164985664
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08269800245761871
difference in average predicted and observed risk = -0.03234599754238128
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.784615
AUC of PRC = 0.349687
min(+P, Se) = 0.365854

-------------------------------

confusion matrix:
[[433   1]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0776119977235794
difference in average predicted and observed risk = -0.0144380022764206
number samples = 478
accuracy = 0.933054
precision class 0 = 0.93319
precision class 1 = 0.928571
recall class 0 = 0.997696
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.002304
positive prediction rate = 0.029289
AUC of ROC = 0.870549
AUC of PRC = 0.588072
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[388   0]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06539399921894073
difference in average predicted and observed risk = -0.02380800078105927
number samples = 426
accuracy = 0.922535
precision class 0 = 0.921615
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.0
positive prediction rate = 0.011737
AUC of ROC = 0.814501
AUC of PRC = 0.42935
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10319799929857254
difference in average predicted and observed risk = -0.014449000701427461
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.924074
AUC of PRC = 0.716929
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0765480026602745
difference in average predicted and observed risk = -0.012161997339725492
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.867257
AUC of PRC = 0.300809
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10138099640607834
difference in average predicted and observed risk = -0.04822500359392165
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.798246
AUC of PRC = 0.536391
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11531399935483932
difference in average predicted and observed risk = 0.03636699935483932
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07972200214862823
difference in average predicted and observed risk = -0.021868997851371766
number samples = 817
accuracy = 0.911873
precision class 0 = 0.914787
precision class 1 = 0.789474
recall class 0 = 0.99455
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.00545
positive prediction rate = 0.023256
AUC of ROC = 0.83492
AUC of PRC = 0.479769
min(+P, Se) = 0.488095

-------------------------------

Epoch 00010: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch10.state
Epoch 11/100
 - 277s - loss: 0.2814 - val_loss: 0.2703

==>predicting on train



confusion matrix:
[[2150    5]
 [ 236   19]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.054235998541116714
difference in average predicted and observed risk = -0.051573001458883286
number samples = 2410
accuracy = 0.9
precision class 0 = 0.90109
precision class 1 = 0.791667
recall class 0 = 0.99768
recall class 1 = 0.07451
false negative rate = 0.92549
false positive rate = 0.00232
positive prediction rate = 0.009959
AUC of ROC = 0.791318
AUC of PRC = 0.416065
min(+P, Se) = 0.424125

-------------------------------

confusion matrix:
[[1168   11]
 [ 110    8]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06128999963402748
difference in average predicted and observed risk = -0.029689000365972523
number samples = 1297
accuracy = 0.906708
precision class 0 = 0.913928
precision class 1 = 0.421053
recall class 0 = 0.99067
recall class 1 = 0.067797
false negative rate = 0.932203
false positive rate = 0.00933
positive prediction rate = 0.014649
AUC of ROC = 0.790522
AUC of PRC = 0.314836
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[653   3]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0684410035610199
difference in average predicted and observed risk = -0.032928996438980104
number samples = 730
accuracy = 0.908219
precision class 0 = 0.910739
precision class 1 = 0.769231
recall class 0 = 0.995427
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.004573
positive prediction rate = 0.017808
AUC of ROC = 0.807309
AUC of PRC = 0.385789
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06535399705171585
difference in average predicted and observed risk = -0.06030000294828414
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.91018
AUC of PRC = 0.719567
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[2460   14]
 [ 235   20]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.05714699998497963
difference in average predicted and observed risk = -0.03629400001502037
number samples = 2729
accuracy = 0.908758
precision class 0 = 0.912802
precision class 1 = 0.588235
recall class 0 = 0.994341
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.005659
positive prediction rate = 0.012459
AUC of ROC = 0.788857
AUC of PRC = 0.34302
min(+P, Se) = 0.384314

-------------------------------

confusion matrix:
[[1677    6]
 [ 192   24]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.061448998749256134
difference in average predicted and observed risk = -0.052295001250743864
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.897271
precision class 1 = 0.8
recall class 0 = 0.996435
recall class 1 = 0.111111
false negative rate = 0.888889
false positive rate = 0.003565
positive prediction rate = 0.015798
AUC of ROC = 0.811291
AUC of PRC = 0.458475
min(+P, Se) = 0.455357

-------------------------------

confusion matrix:
[[545   4]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0670119971036911
difference in average predicted and observed risk = -0.0559910028963089
number samples = 626
accuracy = 0.880192
precision class 0 = 0.88474
precision class 1 = 0.6
recall class 0 = 0.992714
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.007286
positive prediction rate = 0.015974
AUC of ROC = 0.809571
AUC of PRC = 0.414456
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[2246    3]
 [ 201    7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.04770499840378761
difference in average predicted and observed risk = -0.03695100159621238
number samples = 2457
accuracy = 0.916972
precision class 0 = 0.917859
precision class 1 = 0.7
recall class 0 = 0.998666
recall class 1 = 0.033654
false negative rate = 0.966346
false positive rate = 0.001334
positive prediction rate = 0.00407
AUC of ROC = 0.787698
AUC of PRC = 0.327661
min(+P, Se) = 0.355769

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.056297000497579575
difference in average predicted and observed risk = -0.04450899950242043
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.757309
AUC of PRC = 0.236222
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[473   8]
 [ 62  20]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08714299649000168
difference in average predicted and observed risk = -0.05850500350999832
number samples = 563
accuracy = 0.875666
precision class 0 = 0.884112
precision class 1 = 0.714286
recall class 0 = 0.983368
recall class 1 = 0.243902
false negative rate = 0.756098
false positive rate = 0.016632
positive prediction rate = 0.049734
AUC of ROC = 0.819127
AUC of PRC = 0.521791
min(+P, Se) = 0.53012

-------------------------------

confusion matrix:
[[652   3]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.06874799728393555
difference in average predicted and observed risk = -0.038881002716064456
number samples = 734
accuracy = 0.90327
precision class 0 = 0.905556
precision class 1 = 0.785714
recall class 0 = 0.99542
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.00458
positive prediction rate = 0.019074
AUC of ROC = 0.805875
AUC of PRC = 0.451084
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4137   20]
 [ 427   44]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0589120015501976
difference in average predicted and observed risk = -0.0428599984498024
number samples = 4628
accuracy = 0.903414
precision class 0 = 0.906442
precision class 1 = 0.6875
recall class 0 = 0.995189
recall class 1 = 0.093418
false negative rate = 0.906582
false positive rate = 0.004811
positive prediction rate = 0.013829
AUC of ROC = 0.799517
AUC of PRC = 0.391684
min(+P, Se) = 0.413223

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.060329001396894455
difference in average predicted and observed risk = -0.01983999860310555
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.803718
AUC of PRC = 0.354733
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05243900045752525
difference in average predicted and observed risk = -0.05635699954247475
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.811605
AUC of PRC = 0.447652
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08303499966859818
difference in average predicted and observed risk = -0.027134000331401828
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.855678
AUC of PRC = 0.631836
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.07052099704742432
difference in average predicted and observed risk = -0.06281200295257569
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.06101899966597557
difference in average predicted and observed risk = -0.05402500033402442
number samples = 339
accuracy = 0.882006
precision class 0 = 0.886905
precision class 1 = 0.333333
recall class 0 = 0.993333
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.006667
positive prediction rate = 0.00885
AUC of ROC = 0.773675
AUC of PRC = 0.342411
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.058952998369932175
difference in average predicted and observed risk = -0.03309700163006783
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.856672
AUC of PRC = 0.555165
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.048360999673604965
difference in average predicted and observed risk = -0.04084100032639504
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.79334
AUC of PRC = 0.413847
min(+P, Se) = 0.382979

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07835400104522705
difference in average predicted and observed risk = -0.03929299895477295
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.925926
AUC of PRC = 0.713138
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.057061001658439636
difference in average predicted and observed risk = -0.03164899834156036
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.868866
AUC of PRC = 0.283559
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.07860299944877625
difference in average predicted and observed risk = -0.07100300055122374
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.782164
AUC of PRC = 0.514737
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.08455800265073776
difference in average predicted and observed risk = 0.005611002650737759
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.793651
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.059810999780893326
difference in average predicted and observed risk = -0.041780000219106675
number samples = 817
accuracy = 0.905753
precision class 0 = 0.908075
precision class 1 = 0.75
recall class 0 = 0.995913
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.004087
positive prediction rate = 0.014688
AUC of ROC = 0.822182
AUC of PRC = 0.460709
min(+P, Se) = 0.464286

-------------------------------

Epoch 00011: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch11.state
Epoch 12/100
 - 276s - loss: 0.2870 - val_loss: 0.2593

==>predicting on train



confusion matrix:
[[2144   11]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10679599642753601
difference in average predicted and observed risk = 0.0009869964275360105
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.908475
precision class 1 = 0.78
recall class 0 = 0.994896
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.005104
positive prediction rate = 0.020747
AUC of ROC = 0.792714
AUC of PRC = 0.402765
min(+P, Se) = 0.414062

-------------------------------

confusion matrix:
[[1163   16]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11403399705886841
difference in average predicted and observed risk = 0.023054997058868404
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.925219
precision class 1 = 0.6
recall class 0 = 0.986429
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.013571
positive prediction rate = 0.03084
AUC of ROC = 0.799198
AUC of PRC = 0.327921
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[646  10]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.12574300169944763
difference in average predicted and observed risk = 0.02437300169944763
number samples = 730
accuracy = 0.905479
precision class 0 = 0.916312
precision class 1 = 0.6
recall class 0 = 0.984756
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.015244
positive prediction rate = 0.034247
AUC of ROC = 0.797359
AUC of PRC = 0.383941
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11523900181055069
difference in average predicted and observed risk = -0.010414998189449298
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.903194
AUC of PRC = 0.720905
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2446   28]
 [ 214   41]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10971300303936005
difference in average predicted and observed risk = 0.01627200303936005
number samples = 2729
accuracy = 0.911323
precision class 0 = 0.919549
precision class 1 = 0.594203
recall class 0 = 0.988682
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.011318
positive prediction rate = 0.025284
AUC of ROC = 0.788939
AUC of PRC = 0.34288
min(+P, Se) = 0.377432

-------------------------------

confusion matrix:
[[1673   10]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11568000167608261
difference in average predicted and observed risk = 0.0019360016760826132
number samples = 1899
accuracy = 0.90416
precision class 0 = 0.906775
precision class 1 = 0.814815
recall class 0 = 0.994058
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.005942
positive prediction rate = 0.028436
AUC of ROC = 0.813932
AUC of PRC = 0.460157
min(+P, Se) = 0.453704

-------------------------------

confusion matrix:
[[540   9]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12136799842119217
difference in average predicted and observed risk = -0.001635001578807832
number samples = 626
accuracy = 0.881789
precision class 0 = 0.892562
precision class 1 = 0.571429
recall class 0 = 0.983607
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.016393
positive prediction rate = 0.033546
AUC of ROC = 0.806259
AUC of PRC = 0.403918
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[2239   10]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09836900234222412
difference in average predicted and observed risk = 0.013713002342224126
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924061
precision class 1 = 0.705882
recall class 0 = 0.995554
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.004446
positive prediction rate = 0.013838
AUC of ROC = 0.789898
AUC of PRC = 0.335346
min(+P, Se) = 0.355769

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10880500078201294
difference in average predicted and observed risk = 0.007999000782012933
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.754978
AUC of PRC = 0.233385
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[471  10]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1495400071144104
difference in average predicted and observed risk = 0.0038920071144104007
number samples = 563
accuracy = 0.889876
precision class 0 = 0.900574
precision class 1 = 0.75
recall class 0 = 0.97921
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.02079
positive prediction rate = 0.071048
AUC of ROC = 0.815273
AUC of PRC = 0.528248
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[649   6]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1229420006275177
difference in average predicted and observed risk = 0.015313000627517698
number samples = 734
accuracy = 0.908719
precision class 0 = 0.914084
precision class 1 = 0.75
recall class 0 = 0.99084
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.00916
positive prediction rate = 0.032698
AUC of ROC = 0.812562
AUC of PRC = 0.419063
min(+P, Se) = 0.432099

-------------------------------

confusion matrix:
[[4119   38]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11216100305318832
difference in average predicted and observed risk = 0.010389003053188323
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.914317
precision class 1 = 0.691057
recall class 0 = 0.990859
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.009141
positive prediction rate = 0.026577
AUC of ROC = 0.800541
AUC of PRC = 0.390935
min(+P, Se) = 0.406953

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.11016000062227249
difference in average predicted and observed risk = 0.029991000622272487
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.819169
AUC of PRC = 0.384221
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.1072549968957901
difference in average predicted and observed risk = -0.0015410031042099037
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.80304
AUC of PRC = 0.453661
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14329199492931366
difference in average predicted and observed risk = 0.03312299492931366
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.865934
AUC of PRC = 0.581562
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1271210014820099
difference in average predicted and observed risk = -0.006211998517990119
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11879999935626984
difference in average predicted and observed risk = 0.003755999356269843
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.781795
AUC of PRC = 0.328206
min(+P, Se) = 0.357143

-------------------------------

confusion matrix:
[[433   1]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11065100133419037
difference in average predicted and observed risk = 0.018601001334190362
number samples = 478
accuracy = 0.92887
precision class 0 = 0.929185
precision class 1 = 0.916667
recall class 0 = 0.997696
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.002304
positive prediction rate = 0.025105
AUC of ROC = 0.849131
AUC of PRC = 0.575716
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.10009100288152695
difference in average predicted and observed risk = 0.010889002881526944
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.799715
AUC of PRC = 0.419659
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13764099776744843
difference in average predicted and observed risk = 0.019993997767448424
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.92963
AUC of PRC = 0.723264
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11581899970769882
difference in average predicted and observed risk = 0.027108999707698825
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.843121
AUC of PRC = 0.280555
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12849199771881104
difference in average predicted and observed risk = -0.021114002281188954
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.776803
AUC of PRC = 0.471572
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1527930051088333
difference in average predicted and observed risk = 0.07384600510883331
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11403200030326843
difference in average predicted and observed risk = 0.012441000303268432
number samples = 817
accuracy = 0.909425
precision class 0 = 0.9125
precision class 1 = 0.764706
recall class 0 = 0.99455
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.00545
positive prediction rate = 0.020808
AUC of ROC = 0.821296
AUC of PRC = 0.457782
min(+P, Se) = 0.46988

-------------------------------

Epoch 00012: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch12.state
Epoch 13/100
 - 278s - loss: 0.2869 - val_loss: 0.2592

==>predicting on train



confusion matrix:
[[2151    4]
 [ 238   17]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08356600254774094
difference in average predicted and observed risk = -0.022242997452259064
number samples = 2410
accuracy = 0.899585
precision class 0 = 0.900377
precision class 1 = 0.809524
recall class 0 = 0.998144
recall class 1 = 0.066667
false negative rate = 0.933333
false positive rate = 0.001856
positive prediction rate = 0.008714
AUC of ROC = 0.786778
AUC of PRC = 0.40858
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[1172    7]
 [ 112    6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0894550010561943
difference in average predicted and observed risk = -0.0015239989438056989
number samples = 1297
accuracy = 0.90825
precision class 0 = 0.912773
precision class 1 = 0.461538
recall class 0 = 0.994063
recall class 1 = 0.050847
false negative rate = 0.949153
false positive rate = 0.005937
positive prediction rate = 0.010023
AUC of ROC = 0.79973
AUC of PRC = 0.328534
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[653   3]
 [ 69   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09789899736642838
difference in average predicted and observed risk = -0.0034710026335716265
number samples = 730
accuracy = 0.90137
precision class 0 = 0.904432
precision class 1 = 0.625
recall class 0 = 0.995427
recall class 1 = 0.067568
false negative rate = 0.932432
false positive rate = 0.004573
positive prediction rate = 0.010959
AUC of ROC = 0.797174
AUC of PRC = 0.390038
min(+P, Se) = 0.445946

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09207600355148315
difference in average predicted and observed risk = -0.033577996448516834
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.910928
AUC of PRC = 0.706009
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2464   10]
 [ 237   18]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08564099669456482
difference in average predicted and observed risk = -0.007800003305435177
number samples = 2729
accuracy = 0.909491
precision class 0 = 0.912255
precision class 1 = 0.642857
recall class 0 = 0.995958
recall class 1 = 0.070588
false negative rate = 0.929412
false positive rate = 0.004042
positive prediction rate = 0.01026
AUC of ROC = 0.785655
AUC of PRC = 0.346528
min(+P, Se) = 0.384314

-------------------------------

confusion matrix:
[[1679    4]
 [ 202   14]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09097100049257278
difference in average predicted and observed risk = -0.022772999507427213
number samples = 1899
accuracy = 0.891522
precision class 0 = 0.89261
precision class 1 = 0.777778
recall class 0 = 0.997623
recall class 1 = 0.064815
false negative rate = 0.935185
false positive rate = 0.002377
positive prediction rate = 0.009479
AUC of ROC = 0.810777
AUC of PRC = 0.455322
min(+P, Se) = 0.456221

-------------------------------

confusion matrix:
[[548   1]
 [ 72   5]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10022900253534317
difference in average predicted and observed risk = -0.02277399746465683
number samples = 626
accuracy = 0.883387
precision class 0 = 0.883871
precision class 1 = 0.833333
recall class 0 = 0.998178
recall class 1 = 0.064935
false negative rate = 0.935065
false positive rate = 0.001821
positive prediction rate = 0.009585
AUC of ROC = 0.802829
AUC of PRC = 0.428288
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[2247    2]
 [ 205    3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0755549967288971
difference in average predicted and observed risk = -0.0091010032711029
number samples = 2457
accuracy = 0.915751
precision class 0 = 0.916395
precision class 1 = 0.6
recall class 0 = 0.999111
recall class 1 = 0.014423
false negative rate = 0.985577
false positive rate = 0.000889
positive prediction rate = 0.002035
AUC of ROC = 0.784597
AUC of PRC = 0.329997
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[223   0]
 [ 25   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08362799882888794
difference in average predicted and observed risk = -0.017178001171112067
number samples = 248
accuracy = 0.899194
precision class 0 = 0.899194
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.752287
AUC of PRC = 0.230915
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[473   8]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12094499915838242
difference in average predicted and observed risk = -0.024703000841617584
number samples = 563
accuracy = 0.870337
precision class 0 = 0.879182
precision class 1 = 0.68
recall class 0 = 0.983368
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.016632
positive prediction rate = 0.044405
AUC of ROC = 0.819609
AUC of PRC = 0.522781
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[652   3]
 [ 72   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09435400366783142
difference in average predicted and observed risk = -0.013274996332168582
number samples = 734
accuracy = 0.89782
precision class 0 = 0.900553
precision class 1 = 0.7
recall class 0 = 0.99542
recall class 1 = 0.088608
false negative rate = 0.911392
false positive rate = 0.00458
positive prediction rate = 0.013624
AUC of ROC = 0.806242
AUC of PRC = 0.413355
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4143   14]
 [ 439   32]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08782800287008286
difference in average predicted and observed risk = -0.013943997129917146
number samples = 4628
accuracy = 0.902118
precision class 0 = 0.90419
precision class 1 = 0.695652
recall class 0 = 0.996632
recall class 1 = 0.067941
false negative rate = 0.932059
false positive rate = 0.003368
positive prediction rate = 0.009939
AUC of ROC = 0.797585
AUC of PRC = 0.392104
min(+P, Se) = 0.41189

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08769699931144714
difference in average predicted and observed risk = 0.007527999311447139
number samples = 237
accuracy = 0.924051
precision class 0 = 0.92735
precision class 1 = 0.666667
recall class 0 = 0.995413
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.004587
positive prediction rate = 0.012658
AUC of ROC = 0.818687
AUC of PRC = 0.363688
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08308400213718414
difference in average predicted and observed risk = -0.02571199786281586
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.796076
AUC of PRC = 0.454113
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1144070029258728
difference in average predicted and observed risk = 0.0042380029258728
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.868864
AUC of PRC = 0.588301
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09965299814939499
difference in average predicted and observed risk = -0.03368000185060502
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09298600256443024
difference in average predicted and observed risk = -0.022057997435569757
number samples = 339
accuracy = 0.884956
precision class 0 = 0.88724
precision class 1 = 0.5
recall class 0 = 0.996667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.003333
positive prediction rate = 0.0059
AUC of ROC = 0.780769
AUC of PRC = 0.344319
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08712100237607956
difference in average predicted and observed risk = -0.0049289976239204475
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.848659
AUC of PRC = 0.565116
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07673200219869614
difference in average predicted and observed risk = -0.012469997801303867
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.804192
AUC of PRC = 0.432264
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1106560006737709
difference in average predicted and observed risk = -0.006990999326229097
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.931481
AUC of PRC = 0.726664
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09424400329589844
difference in average predicted and observed risk = 0.00553400329589844
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.836685
AUC of PRC = 0.273903
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10254299640655518
difference in average predicted and observed risk = -0.04706300359344481
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.769981
AUC of PRC = 0.468439
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11794199794530869
difference in average predicted and observed risk = 0.03899499794530868
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[732   2]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08955399692058563
difference in average predicted and observed risk = -0.012037003079414368
number samples = 817
accuracy = 0.906977
precision class 0 = 0.908189
precision class 1 = 0.818182
recall class 0 = 0.997275
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.002725
positive prediction rate = 0.013464
AUC of ROC = 0.819884
AUC of PRC = 0.459994
min(+P, Se) = 0.470588

-------------------------------

Epoch 00013: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch13.state
Epoch 14/100
 - 278s - loss: 0.2823 - val_loss: 0.2549

==>predicting on train



confusion matrix:
[[2140   15]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08565700054168701
difference in average predicted and observed risk = -0.02015199945831299
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.910251
precision class 1 = 0.745763
recall class 0 = 0.993039
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.006961
positive prediction rate = 0.024481
AUC of ROC = 0.791282
AUC of PRC = 0.404617
min(+P, Se) = 0.402344

-------------------------------

confusion matrix:
[[1158   21]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09380599856376648
difference in average predicted and observed risk = 0.002826998563766475
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.9264
precision class 1 = 0.553191
recall class 0 = 0.982188
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.017812
positive prediction rate = 0.036237
AUC of ROC = 0.805164
AUC of PRC = 0.348744
min(+P, Se) = 0.391667

-------------------------------

confusion matrix:
[[642  14]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10336299985647202
difference in average predicted and observed risk = 0.0019929998564720136
number samples = 730
accuracy = 0.90137
precision class 0 = 0.917143
precision class 1 = 0.533333
recall class 0 = 0.978659
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.021341
positive prediction rate = 0.041096
AUC of ROC = 0.79602
AUC of PRC = 0.386859
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09602999687194824
difference in average predicted and observed risk = -0.029624003128051746
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.910429
AUC of PRC = 0.713319
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2441   33]
 [ 206   49]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08889400213956833
difference in average predicted and observed risk = -0.004546997860431667
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.922176
precision class 1 = 0.597561
recall class 0 = 0.986661
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.013339
positive prediction rate = 0.030048
AUC of ROC = 0.789283
AUC of PRC = 0.350768
min(+P, Se) = 0.380392

-------------------------------

confusion matrix:
[[1665   18]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09442099928855896
difference in average predicted and observed risk = -0.019323000711441038
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.906863
precision class 1 = 0.714286
recall class 0 = 0.989305
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.010695
positive prediction rate = 0.033175
AUC of ROC = 0.814548
AUC of PRC = 0.468689
min(+P, Se) = 0.439815

-------------------------------

confusion matrix:
[[538  11]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10525000095367432
difference in average predicted and observed risk = -0.017752999046325685
number samples = 626
accuracy = 0.881789
precision class 0 = 0.895175
precision class 1 = 0.56
recall class 0 = 0.979964
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.020036
positive prediction rate = 0.039936
AUC of ROC = 0.805763
AUC of PRC = 0.409002
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[2235   14]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07646600157022476
difference in average predicted and observed risk = -0.008189998429775233
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.925466
precision class 1 = 0.666667
recall class 0 = 0.993775
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.006225
positive prediction rate = 0.017094
AUC of ROC = 0.790668
AUC of PRC = 0.345537
min(+P, Se) = 0.349282

-------------------------------

confusion matrix:
[[217   6]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08570700138807297
difference in average predicted and observed risk = -0.01509899861192704
number samples = 248
accuracy = 0.883065
precision class 0 = 0.904167
precision class 1 = 0.25
recall class 0 = 0.973094
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.026906
positive prediction rate = 0.032258
AUC of ROC = 0.759103
AUC of PRC = 0.239538
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13047899305820465
difference in average predicted and observed risk = -0.015169006941795349
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.819913
AUC of PRC = 0.553265
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[644  11]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10002700239419937
difference in average predicted and observed risk = -0.007601997605800631
number samples = 734
accuracy = 0.90327
precision class 0 = 0.914773
precision class 1 = 0.633333
recall class 0 = 0.983206
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.016794
positive prediction rate = 0.040872
AUC of ROC = 0.806687
AUC of PRC = 0.408631
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4106   51]
 [ 377   94]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09116200357675552
difference in average predicted and observed risk = -0.010609996423244478
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.915905
precision class 1 = 0.648276
recall class 0 = 0.987732
recall class 1 = 0.199575
false negative rate = 0.800425
false positive rate = 0.012268
positive prediction rate = 0.031331
AUC of ROC = 0.801332
AUC of PRC = 0.398757
min(+P, Se) = 0.41189

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09092699736356735
difference in average predicted and observed risk = 0.010757997363567348
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.835828
AUC of PRC = 0.413193
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08430200070142746
difference in average predicted and observed risk = -0.024493999298572544
number samples = 432
accuracy = 0.905093
precision class 0 = 0.90566
precision class 1 = 0.875
recall class 0 = 0.997403
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.002597
positive prediction rate = 0.018519
AUC of ROC = 0.796518
AUC of PRC = 0.446779
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12188400328159332
difference in average predicted and observed risk = 0.01171500328159332
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.868132
AUC of PRC = 0.58537
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10886099934577942
difference in average predicted and observed risk = -0.024472000654220588
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09661699831485748
difference in average predicted and observed risk = -0.01842700168514251
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.793846
AUC of PRC = 0.343638
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[431   3]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08967199921607971
difference in average predicted and observed risk = -0.002378000783920295
number samples = 478
accuracy = 0.930962
precision class 0 = 0.934924
precision class 1 = 0.823529
recall class 0 = 0.993088
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.006912
positive prediction rate = 0.035565
AUC of ROC = 0.842951
AUC of PRC = 0.572884
min(+P, Se) = 0.565217

-------------------------------

confusion matrix:
[[387   1]
 [ 31   7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07717899978160858
difference in average predicted and observed risk = -0.012023000218391422
number samples = 426
accuracy = 0.924883
precision class 0 = 0.925837
precision class 1 = 0.875
recall class 0 = 0.997423
recall class 1 = 0.184211
false negative rate = 0.815789
false positive rate = 0.002577
positive prediction rate = 0.018779
AUC of ROC = 0.808125
AUC of PRC = 0.425205
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1201929971575737
difference in average predicted and observed risk = 0.0025459971575736984
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.930556
AUC of PRC = 0.695018
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09639199823141098
difference in average predicted and observed risk = 0.007681998231410983
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.841512
AUC of PRC = 0.263846
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10862299799919128
difference in average predicted and observed risk = -0.040983002000808705
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.775341
AUC of PRC = 0.480289
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12449000030755997
difference in average predicted and observed risk = 0.045543000307559964
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[727   7]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09255299717187881
difference in average predicted and observed risk = -0.009038002828121186
number samples = 817
accuracy = 0.913097
precision class 0 = 0.91909
precision class 1 = 0.730769
recall class 0 = 0.990463
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.009537
positive prediction rate = 0.031824
AUC of ROC = 0.823414
AUC of PRC = 0.458233
min(+P, Se) = 0.470588

-------------------------------

Epoch 00014: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch14.state
Epoch 15/100
 - 275s - loss: 0.2799 - val_loss: 0.2606

==>predicting on train



confusion matrix:
[[2144   11]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07771199941635132
difference in average predicted and observed risk = -0.028097000583648682
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.908475
precision class 1 = 0.78
recall class 0 = 0.994896
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.005104
positive prediction rate = 0.020747
AUC of ROC = 0.793009
AUC of PRC = 0.410512
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[1164   15]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08413500338792801
difference in average predicted and observed risk = -0.006843996612071995
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.923077
precision class 1 = 0.583333
recall class 0 = 0.987277
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.012723
positive prediction rate = 0.027756
AUC of ROC = 0.8029
AUC of PRC = 0.340882
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[647   9]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09444700181484222
difference in average predicted and observed risk = -0.006922998185157778
number samples = 730
accuracy = 0.906849
precision class 0 = 0.916431
precision class 1 = 0.625
recall class 0 = 0.986281
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.01372
positive prediction rate = 0.032877
AUC of ROC = 0.80117
AUC of PRC = 0.412694
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08841300010681152
difference in average predicted and observed risk = -0.037240999893188464
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.916667
AUC of PRC = 0.716889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2449   25]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08069799840450287
difference in average predicted and observed risk = -0.012743001595497128
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.919294
precision class 1 = 0.615385
recall class 0 = 0.989895
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.010105
positive prediction rate = 0.023818
AUC of ROC = 0.791439
AUC of PRC = 0.347501
min(+P, Se) = 0.372549

-------------------------------

confusion matrix:
[[1672   11]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08531700074672699
difference in average predicted and observed risk = -0.028426999253273008
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.905742
precision class 1 = 0.792453
recall class 0 = 0.993464
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.006536
positive prediction rate = 0.027909
AUC of ROC = 0.814523
AUC of PRC = 0.475218
min(+P, Se) = 0.453704

-------------------------------

confusion matrix:
[[541   8]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0932610034942627
difference in average predicted and observed risk = -0.029741996505737306
number samples = 626
accuracy = 0.881789
precision class 0 = 0.891269
precision class 1 = 0.578947
recall class 0 = 0.985428
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.014572
positive prediction rate = 0.030351
AUC of ROC = 0.808932
AUC of PRC = 0.410025
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[2239   10]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06983999907970428
difference in average predicted and observed risk = -0.01481600092029571
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.924443
precision class 1 = 0.714286
recall class 0 = 0.995554
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.004446
positive prediction rate = 0.014245
AUC of ROC = 0.793412
AUC of PRC = 0.34833
min(+P, Se) = 0.360577

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07827000319957733
difference in average predicted and observed risk = -0.022535996800422675
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.762332
AUC of PRC = 0.241698
min(+P, Se) = 0.344828

-------------------------------

confusion matrix:
[[472   9]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11362899839878082
difference in average predicted and observed risk = -0.03201900160121918
number samples = 563
accuracy = 0.886323
precision class 0 = 0.895636
precision class 1 = 0.75
recall class 0 = 0.981289
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.018711
positive prediction rate = 0.063943
AUC of ROC = 0.818316
AUC of PRC = 0.537496
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[649   6]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09384199976921082
difference in average predicted and observed risk = -0.013787000230789187
number samples = 734
accuracy = 0.908719
precision class 0 = 0.914084
precision class 1 = 0.75
recall class 0 = 0.99084
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.00916
positive prediction rate = 0.032698
AUC of ROC = 0.806203
AUC of PRC = 0.416718
min(+P, Se) = 0.433735

-------------------------------

confusion matrix:
[[4121   36]
 [ 389   82]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08259300142526627
difference in average predicted and observed risk = -0.019178998574733735
number samples = 4628
accuracy = 0.908168
precision class 0 = 0.913747
precision class 1 = 0.694915
recall class 0 = 0.99134
recall class 1 = 0.174098
false negative rate = 0.825902
false positive rate = 0.00866
positive prediction rate = 0.025497
AUC of ROC = 0.802452
AUC of PRC = 0.400161
min(+P, Se) = 0.40678

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08266200125217438
difference in average predicted and observed risk = 0.0024930012521743733
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.793095
AUC of PRC = 0.351201
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0756480023264885
difference in average predicted and observed risk = -0.03314799767351151
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.785245
AUC of PRC = 0.427674
min(+P, Se) = 0.42

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11108499765396118
difference in average predicted and observed risk = 0.0009159976539611786
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.865934
AUC of PRC = 0.583937
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09674199670553207
difference in average predicted and observed risk = -0.03659100329446793
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08578900247812271
difference in average predicted and observed risk = -0.029254997521877282
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.760085
AUC of PRC = 0.320211
min(+P, Se) = 0.377778

-------------------------------

confusion matrix:
[[433   1]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08200599998235703
difference in average predicted and observed risk = -0.010044000017642982
number samples = 478
accuracy = 0.930962
precision class 0 = 0.931183
precision class 1 = 0.923077
recall class 0 = 0.997696
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.002304
positive prediction rate = 0.027197
AUC of ROC = 0.841171
AUC of PRC = 0.553801
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07081100344657898
difference in average predicted and observed risk = -0.018390996553421024
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.785269
AUC of PRC = 0.400963
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10471499711275101
difference in average predicted and observed risk = -0.012932002887248994
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.932407
AUC of PRC = 0.702545
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08424600213766098
difference in average predicted and observed risk = -0.004463997862339017
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.842317
AUC of PRC = 0.273218
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10112299770116806
difference in average predicted and observed risk = -0.04848300229883193
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.738304
AUC of PRC = 0.450097
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.109094999730587
difference in average predicted and observed risk = 0.030147999730587002
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08357600122690201
difference in average predicted and observed risk = -0.018014998773097993
number samples = 817
accuracy = 0.911873
precision class 0 = 0.915829
precision class 1 = 0.761905
recall class 0 = 0.993188
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.006812
positive prediction rate = 0.025704
AUC of ROC = 0.805768
AUC of PRC = 0.438891
min(+P, Se) = 0.465909

-------------------------------

Epoch 00015: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch15.state
Epoch 16/100
 - 279s - loss: 0.2824 - val_loss: 0.2590

==>predicting on train



confusion matrix:
[[2146    9]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06933700293302536
difference in average predicted and observed risk = -0.03647199706697464
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.905103
precision class 1 = 0.769231
recall class 0 = 0.995824
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.004176
positive prediction rate = 0.016183
AUC of ROC = 0.787209
AUC of PRC = 0.41632
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1167   12]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07539000362157822
difference in average predicted and observed risk = -0.015588996378421788
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.92253
precision class 1 = 0.625
recall class 0 = 0.989822
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.010178
positive prediction rate = 0.024672
AUC of ROC = 0.803561
AUC of PRC = 0.356709
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[651   5]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08564399927854538
difference in average predicted and observed risk = -0.015726000721454622
number samples = 730
accuracy = 0.909589
precision class 0 = 0.914326
precision class 1 = 0.722222
recall class 0 = 0.992378
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.007622
positive prediction rate = 0.024658
AUC of ROC = 0.788996
AUC of PRC = 0.394997
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07835499942302704
difference in average predicted and observed risk = -0.04729900057697295
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.913174
AUC of PRC = 0.689982
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[2454   20]
 [ 224   31]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07239799946546555
difference in average predicted and observed risk = -0.02104300053453445
number samples = 2729
accuracy = 0.91059
precision class 0 = 0.916355
precision class 1 = 0.607843
recall class 0 = 0.991916
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.008084
positive prediction rate = 0.018688
AUC of ROC = 0.783483
AUC of PRC = 0.348902
min(+P, Se) = 0.37931

-------------------------------

confusion matrix:
[[1676    7]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07624900341033936
difference in average predicted and observed risk = -0.03749499658966064
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.903991
precision class 1 = 0.844444
recall class 0 = 0.995841
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.004159
positive prediction rate = 0.023697
AUC of ROC = 0.814069
AUC of PRC = 0.479438
min(+P, Se) = 0.470046

-------------------------------

confusion matrix:
[[542   7]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08557700365781784
difference in average predicted and observed risk = -0.03742599634218216
number samples = 626
accuracy = 0.881789
precision class 0 = 0.889984
precision class 1 = 0.588235
recall class 0 = 0.98725
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.01275
positive prediction rate = 0.027157
AUC of ROC = 0.804722
AUC of PRC = 0.42254
min(+P, Se) = 0.441558

-------------------------------

confusion matrix:
[[2242    7]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06111999973654747
difference in average predicted and observed risk = -0.023536000263452525
number samples = 2457
accuracy = 0.920228
precision class 0 = 0.922254
precision class 1 = 0.730769
recall class 0 = 0.996888
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.003112
positive prediction rate = 0.010582
AUC of ROC = 0.78642
AUC of PRC = 0.347744
min(+P, Se) = 0.365385

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0695049986243248
difference in average predicted and observed risk = -0.03130100137567521
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.75426
AUC of PRC = 0.238316
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[472   9]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10623399913311005
difference in average predicted and observed risk = -0.03941400086688995
number samples = 563
accuracy = 0.884547
precision class 0 = 0.893939
precision class 1 = 0.742857
recall class 0 = 0.981289
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.018711
positive prediction rate = 0.062167
AUC of ROC = 0.818569
AUC of PRC = 0.542229
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[652   3]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08389800041913986
difference in average predicted and observed risk = -0.02373099958086014
number samples = 734
accuracy = 0.905995
precision class 0 = 0.908078
precision class 1 = 0.8125
recall class 0 = 0.99542
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00458
positive prediction rate = 0.021798
AUC of ROC = 0.802841
AUC of PRC = 0.422282
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4130   27]
 [ 402   69]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0739779993891716
difference in average predicted and observed risk = -0.0277940006108284
number samples = 4628
accuracy = 0.907303
precision class 0 = 0.911297
precision class 1 = 0.71875
recall class 0 = 0.993505
recall class 1 = 0.146497
false negative rate = 0.853503
false positive rate = 0.006495
positive prediction rate = 0.020743
AUC of ROC = 0.7977
AUC of PRC = 0.401751
min(+P, Se) = 0.416136

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07413200289011002
difference in average predicted and observed risk = -0.006036997109889988
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.818928
AUC of PRC = 0.382207
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0685029998421669
difference in average predicted and observed risk = -0.0402930001578331
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.7916
AUC of PRC = 0.441987
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10321299731731415
difference in average predicted and observed risk = -0.006956002682685855
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871795
AUC of PRC = 0.533132
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0892300009727478
difference in average predicted and observed risk = -0.044102999027252204
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07800599932670593
difference in average predicted and observed risk = -0.03703800067329406
number samples = 339
accuracy = 0.876106
precision class 0 = 0.886228
precision class 1 = 0.2
recall class 0 = 0.986667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.013333
positive prediction rate = 0.014749
AUC of ROC = 0.780427
AUC of PRC = 0.339656
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07442399859428406
difference in average predicted and observed risk = -0.01762600140571595
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.845203
AUC of PRC = 0.571158
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06266900151968002
difference in average predicted and observed risk = -0.02653299848031998
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.804259
AUC of PRC = 0.405609
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09770800173282623
difference in average predicted and observed risk = -0.01993899826717377
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.937037
AUC of PRC = 0.714975
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07673799991607666
difference in average predicted and observed risk = -0.011972000083923337
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.856798
AUC of PRC = 0.314838
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.0930590033531189
difference in average predicted and observed risk = -0.05654699664688109
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.753899
AUC of PRC = 0.445947
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10582900047302246
difference in average predicted and observed risk = 0.026882000473022458
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07591000199317932
difference in average predicted and observed risk = -0.02568099800682068
number samples = 817
accuracy = 0.904529
precision class 0 = 0.908978
precision class 1 = 0.666667
recall class 0 = 0.993188
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.006812
positive prediction rate = 0.01836
AUC of ROC = 0.817964
AUC of PRC = 0.444914
min(+P, Se) = 0.493976

-------------------------------

Epoch 00016: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch16.state
Epoch 17/100
 - 279s - loss: 0.2819 - val_loss: 0.2575

==>predicting on train



confusion matrix:
[[2142   13]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09170100092887878
difference in average predicted and observed risk = -0.014107999071121216
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.908397
precision class 1 = 0.75
recall class 0 = 0.993968
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.006032
positive prediction rate = 0.021577
AUC of ROC = 0.78558
AUC of PRC = 0.409388
min(+P, Se) = 0.419608

-------------------------------

confusion matrix:
[[1164   15]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09768299758434296
difference in average predicted and observed risk = 0.006703997584342952
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.92381
precision class 1 = 0.594595
recall class 0 = 0.987277
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.012723
positive prediction rate = 0.028527
AUC of ROC = 0.792592
AUC of PRC = 0.37264
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[646  10]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10913900285959244
difference in average predicted and observed risk = 0.007769002859592436
number samples = 730
accuracy = 0.905479
precision class 0 = 0.916312
precision class 1 = 0.6
recall class 0 = 0.984756
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.015244
positive prediction rate = 0.034247
AUC of ROC = 0.799234
AUC of PRC = 0.389887
min(+P, Se) = 0.453333

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09989400207996368
difference in average predicted and observed risk = -0.025759997920036304
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.907186
AUC of PRC = 0.724283
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2448   26]
 [ 214   41]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09449499845504761
difference in average predicted and observed risk = 0.0010539984550476111
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.919609
precision class 1 = 0.61194
recall class 0 = 0.989491
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.010509
positive prediction rate = 0.024551
AUC of ROC = 0.781362
AUC of PRC = 0.354891
min(+P, Se) = 0.376471

-------------------------------

confusion matrix:
[[1670   13]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09929800033569336
difference in average predicted and observed risk = -0.014445999664306639
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.90564
precision class 1 = 0.763636
recall class 0 = 0.992276
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.007724
positive prediction rate = 0.028963
AUC of ROC = 0.811244
AUC of PRC = 0.480288
min(+P, Se) = 0.467593

-------------------------------

confusion matrix:
[[541   8]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10805200040340424
difference in average predicted and observed risk = -0.014950999596595765
number samples = 626
accuracy = 0.884984
precision class 0 = 0.894215
precision class 1 = 0.619048
recall class 0 = 0.985428
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.014572
positive prediction rate = 0.033546
AUC of ROC = 0.802025
AUC of PRC = 0.414605
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[2238   11]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08257699757814407
difference in average predicted and observed risk = -0.0020790024218559217
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.925176
precision class 1 = 0.710526
recall class 0 = 0.995109
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004891
positive prediction rate = 0.015466
AUC of ROC = 0.780353
AUC of PRC = 0.349397
min(+P, Se) = 0.360577

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08973299711942673
difference in average predicted and observed risk = -0.01107300288057328
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.743857
AUC of PRC = 0.268567
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[472   9]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13343200087547302
difference in average predicted and observed risk = -0.012215999124526977
number samples = 563
accuracy = 0.884547
precision class 0 = 0.893939
precision class 1 = 0.742857
recall class 0 = 0.981289
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.018711
positive prediction rate = 0.062167
AUC of ROC = 0.821028
AUC of PRC = 0.561652
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[648   7]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10699699819087982
difference in average predicted and observed risk = -0.0006320018091201807
number samples = 734
accuracy = 0.904632
precision class 0 = 0.911392
precision class 1 = 0.695652
recall class 0 = 0.989313
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.010687
positive prediction rate = 0.031335
AUC of ROC = 0.805237
AUC of PRC = 0.415285
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4118   39]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09646599739789963
difference in average predicted and observed risk = -0.005306002602100374
number samples = 4628
accuracy = 0.907736
precision class 0 = 0.913893
precision class 1 = 0.680328
recall class 0 = 0.990618
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.009382
positive prediction rate = 0.026361
AUC of ROC = 0.795086
AUC of PRC = 0.405944
min(+P, Se) = 0.415254

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0957769975066185
difference in average predicted and observed risk = 0.015607997506618496
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.797682
AUC of PRC = 0.37447
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08934299647808075
difference in average predicted and observed risk = -0.019453003521919254
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.796353
AUC of PRC = 0.429616
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1277559995651245
difference in average predicted and observed risk = 0.01758699956512451
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.866667
AUC of PRC = 0.526931
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10379700362682343
difference in average predicted and observed risk = -0.029535996373176582
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10062800347805023
difference in average predicted and observed risk = -0.014415996521949762
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.771282
AUC of PRC = 0.331325
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[432   2]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09492000192403793
difference in average predicted and observed risk = 0.0028700019240379265
number samples = 478
accuracy = 0.926778
precision class 0 = 0.929032
precision class 1 = 0.846154
recall class 0 = 0.995392
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.004608
positive prediction rate = 0.027197
AUC of ROC = 0.84646
AUC of PRC = 0.550146
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08277600258588791
difference in average predicted and observed risk = -0.006425997414112095
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.793679
AUC of PRC = 0.399221
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1226079985499382
difference in average predicted and observed risk = 0.0049609985499382
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.928704
AUC of PRC = 0.691419
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0984250009059906
difference in average predicted and observed risk = 0.009715000905990603
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.849558
AUC of PRC = 0.288874
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11570899933576584
difference in average predicted and observed risk = -0.03389700066423415
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.753899
AUC of PRC = 0.459851
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1267399936914444
difference in average predicted and observed risk = 0.047792993691444394
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09728799760341644
difference in average predicted and observed risk = -0.004303002396583558
number samples = 817
accuracy = 0.908201
precision class 0 = 0.913425
precision class 1 = 0.7
recall class 0 = 0.991826
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.008174
positive prediction rate = 0.02448
AUC of ROC = 0.813696
AUC of PRC = 0.43506
min(+P, Se) = 0.458824

-------------------------------

Epoch 00017: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch17.state
Epoch 18/100
 - 279s - loss: 0.2804 - val_loss: 0.2688

==>predicting on train



confusion matrix:
[[2150    5]
 [ 234   21]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0578790009021759
difference in average predicted and observed risk = -0.0479299990978241
number samples = 2410
accuracy = 0.90083
precision class 0 = 0.901846
precision class 1 = 0.807692
recall class 0 = 0.99768
recall class 1 = 0.082353
false negative rate = 0.917647
false positive rate = 0.00232
positive prediction rate = 0.010788
AUC of ROC = 0.793374
AUC of PRC = 0.401872
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[1172    7]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06464999914169312
difference in average predicted and observed risk = -0.02632900085830689
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.917776
precision class 1 = 0.65
recall class 0 = 0.994063
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.005937
positive prediction rate = 0.01542
AUC of ROC = 0.793419
AUC of PRC = 0.357984
min(+P, Se) = 0.355932

-------------------------------

confusion matrix:
[[654   2]
 [ 69   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07339199632406235
difference in average predicted and observed risk = -0.027978003675937654
number samples = 730
accuracy = 0.90274
precision class 0 = 0.904564
precision class 1 = 0.714286
recall class 0 = 0.996951
recall class 1 = 0.067568
false negative rate = 0.932432
false positive rate = 0.003049
positive prediction rate = 0.009589
AUC of ROC = 0.790623
AUC of PRC = 0.377037
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06777399778366089
difference in average predicted and observed risk = -0.0578800022163391
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.897954
AUC of PRC = 0.731711
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2464   10]
 [ 234   21]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06191899999976158
difference in average predicted and observed risk = -0.031522000000238415
number samples = 2729
accuracy = 0.91059
precision class 0 = 0.913269
precision class 1 = 0.677419
recall class 0 = 0.995958
recall class 1 = 0.082353
false negative rate = 0.917647
false positive rate = 0.004042
positive prediction rate = 0.011359
AUC of ROC = 0.780731
AUC of PRC = 0.346274
min(+P, Se) = 0.367188

-------------------------------

confusion matrix:
[[1679    4]
 [ 193   23]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.06365600228309631
difference in average predicted and observed risk = -0.050087997716903684
number samples = 1899
accuracy = 0.896261
precision class 0 = 0.896902
precision class 1 = 0.851852
recall class 0 = 0.997623
recall class 1 = 0.106481
false negative rate = 0.893519
false positive rate = 0.002377
positive prediction rate = 0.014218
AUC of ROC = 0.818212
AUC of PRC = 0.474124
min(+P, Se) = 0.451613

-------------------------------

confusion matrix:
[[547   2]
 [ 72   5]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07023900002241135
difference in average predicted and observed risk = -0.052763999977588655
number samples = 626
accuracy = 0.881789
precision class 0 = 0.883683
precision class 1 = 0.714286
recall class 0 = 0.996357
recall class 1 = 0.064935
false negative rate = 0.935065
false positive rate = 0.003643
positive prediction rate = 0.011182
AUC of ROC = 0.802238
AUC of PRC = 0.411365
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[2245    4]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05193199962377548
difference in average predicted and observed risk = -0.03272400037622451
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.921593
precision class 1 = 0.809524
recall class 0 = 0.998221
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.001779
positive prediction rate = 0.008547
AUC of ROC = 0.784436
AUC of PRC = 0.340293
min(+P, Se) = 0.352381

-------------------------------

confusion matrix:
[[223   0]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.059925999492406845
difference in average predicted and observed risk = -0.04088000050759316
number samples = 248
accuracy = 0.903226
precision class 0 = 0.902834
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.0
positive prediction rate = 0.004032
AUC of ROC = 0.747982
AUC of PRC = 0.264901
min(+P, Se) = 0.321429

-------------------------------

confusion matrix:
[[475   6]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09125299751758575
difference in average predicted and observed risk = -0.054395002482414245
number samples = 563
accuracy = 0.87389
precision class 0 = 0.87963
precision class 1 = 0.73913
recall class 0 = 0.987526
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.012474
positive prediction rate = 0.040853
AUC of ROC = 0.824451
AUC of PRC = 0.545189
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[653   2]
 [ 75   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07091999799013138
difference in average predicted and observed risk = -0.036709002009868624
number samples = 734
accuracy = 0.895095
precision class 0 = 0.896978
precision class 1 = 0.666667
recall class 0 = 0.996947
recall class 1 = 0.050633
false negative rate = 0.949367
false positive rate = 0.003053
positive prediction rate = 0.008174
AUC of ROC = 0.804232
AUC of PRC = 0.422223
min(+P, Se) = 0.426829

-------------------------------

confusion matrix:
[[4143   14]
 [ 427   44]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0626320019364357
difference in average predicted and observed risk = -0.0391399980635643
number samples = 4628
accuracy = 0.90471
precision class 0 = 0.906565
precision class 1 = 0.758621
recall class 0 = 0.996632
recall class 1 = 0.093418
false negative rate = 0.906582
false positive rate = 0.003368
positive prediction rate = 0.012532
AUC of ROC = 0.797857
AUC of PRC = 0.397454
min(+P, Se) = 0.40552

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06268300116062164
difference in average predicted and observed risk = -0.01748599883937836
number samples = 237
accuracy = 0.924051
precision class 0 = 0.92735
precision class 1 = 0.666667
recall class 0 = 0.995413
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.004587
positive prediction rate = 0.012658
AUC of ROC = 0.823274
AUC of PRC = 0.378766
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05632400140166283
difference in average predicted and observed risk = -0.05247199859833718
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.806576
AUC of PRC = 0.4104
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09051299840211868
difference in average predicted and observed risk = -0.01965600159788132
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.874725
AUC of PRC = 0.529358
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0758809968829155
difference in average predicted and observed risk = -0.05745200311708451
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0637350007891655
difference in average predicted and observed risk = -0.0513089992108345
number samples = 339
accuracy = 0.884956
precision class 0 = 0.88724
precision class 1 = 0.5
recall class 0 = 0.996667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.003333
positive prediction rate = 0.0059
AUC of ROC = 0.793761
AUC of PRC = 0.324193
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06388799846172333
difference in average predicted and observed risk = -0.02816200153827668
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.853634
AUC of PRC = 0.553045
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.053328000009059906
difference in average predicted and observed risk = -0.0358739999909401
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.813077
AUC of PRC = 0.396491
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08255399763584137
difference in average predicted and observed risk = -0.03509300236415863
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.943519
AUC of PRC = 0.755075
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.05856399983167648
difference in average predicted and observed risk = -0.030146000168323514
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.855994
AUC of PRC = 0.261237
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.0802299976348877
difference in average predicted and observed risk = -0.0693760023651123
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.769006
AUC of PRC = 0.452707
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0935640037059784
difference in average predicted and observed risk = 0.01461700370597839
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.857143
AUC of PRC = 0.483578
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[732   2]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06382499635219574
difference in average predicted and observed risk = -0.03776600364780426
number samples = 817
accuracy = 0.906977
precision class 0 = 0.908189
precision class 1 = 0.818182
recall class 0 = 0.997275
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.002725
positive prediction rate = 0.013464
AUC of ROC = 0.827172
AUC of PRC = 0.435023
min(+P, Se) = 0.493976

-------------------------------

Epoch 00018: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch18.state
Epoch 19/100
 - 277s - loss: 0.2790 - val_loss: 0.2567

==>predicting on train



confusion matrix:
[[2144   11]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08904100209474564
difference in average predicted and observed risk = -0.016767997905254364
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.907321
precision class 1 = 0.765957
recall class 0 = 0.994896
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.005104
positive prediction rate = 0.019502
AUC of ROC = 0.800169
AUC of PRC = 0.410907
min(+P, Se) = 0.419608

-------------------------------

confusion matrix:
[[1165   14]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0968639999628067
difference in average predicted and observed risk = 0.005884999962806697
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.924603
precision class 1 = 0.621622
recall class 0 = 0.988126
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.011874
positive prediction rate = 0.028527
AUC of ROC = 0.801793
AUC of PRC = 0.387974
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[645  11]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10594700276851654
difference in average predicted and observed risk = 0.004577002768516539
number samples = 730
accuracy = 0.90411
precision class 0 = 0.916193
precision class 1 = 0.576923
recall class 0 = 0.983232
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.016768
positive prediction rate = 0.035616
AUC of ROC = 0.799172
AUC of PRC = 0.403839
min(+P, Se) = 0.448718

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09729599952697754
difference in average predicted and observed risk = -0.02835800047302245
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.899202
AUC of PRC = 0.728861
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2448   26]
 [ 213   42]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09286200255155563
difference in average predicted and observed risk = -0.0005789974484443627
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.919955
precision class 1 = 0.617647
recall class 0 = 0.989491
recall class 1 = 0.164706
false negative rate = 0.835294
false positive rate = 0.010509
positive prediction rate = 0.024918
AUC of ROC = 0.788601
AUC of PRC = 0.360635
min(+P, Se) = 0.387597

-------------------------------

confusion matrix:
[[1672   11]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09622199833393097
difference in average predicted and observed risk = -0.01752200166606903
number samples = 1899
accuracy = 0.901
precision class 0 = 0.904273
precision class 1 = 0.78
recall class 0 = 0.993464
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.006536
positive prediction rate = 0.02633
AUC of ROC = 0.825048
AUC of PRC = 0.486692
min(+P, Se) = 0.457399

-------------------------------

confusion matrix:
[[541   8]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10662200301885605
difference in average predicted and observed risk = -0.016380996981143953
number samples = 626
accuracy = 0.881789
precision class 0 = 0.891269
precision class 1 = 0.578947
recall class 0 = 0.985428
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.014572
positive prediction rate = 0.030351
AUC of ROC = 0.816337
AUC of PRC = 0.418665
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[2238   11]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08094199746847153
difference in average predicted and observed risk = -0.003714002531528468
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.925176
precision class 1 = 0.710526
recall class 0 = 0.995109
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004891
positive prediction rate = 0.015466
AUC of ROC = 0.788775
AUC of PRC = 0.354149
min(+P, Se) = 0.360731

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09111899882555008
difference in average predicted and observed risk = -0.009687001174449927
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.775964
AUC of PRC = 0.287727
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[471  10]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13085700571537018
difference in average predicted and observed risk = -0.014790994284629821
number samples = 563
accuracy = 0.882771
precision class 0 = 0.893738
precision class 1 = 0.722222
recall class 0 = 0.97921
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.02079
positive prediction rate = 0.063943
AUC of ROC = 0.83008
AUC of PRC = 0.57707
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10116700083017349
difference in average predicted and observed risk = -0.00646199916982651
number samples = 734
accuracy = 0.907357
precision class 0 = 0.911641
precision class 1 = 0.761905
recall class 0 = 0.992366
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.007634
positive prediction rate = 0.02861
AUC of ROC = 0.808774
AUC of PRC = 0.431472
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4120   37]
 [ 390   81]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09424100071191788
difference in average predicted and observed risk = -0.007530999288082124
number samples = 4628
accuracy = 0.907736
precision class 0 = 0.913526
precision class 1 = 0.686441
recall class 0 = 0.991099
recall class 1 = 0.171975
false negative rate = 0.828025
false positive rate = 0.008901
positive prediction rate = 0.025497
AUC of ROC = 0.805041
AUC of PRC = 0.412342
min(+P, Se) = 0.420168

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09463000297546387
difference in average predicted and observed risk = 0.014461002975463863
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.852728
AUC of PRC = 0.382534
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08803900331258774
difference in average predicted and observed risk = -0.020756996687412266
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.808621
AUC of PRC = 0.422014
min(+P, Se) = 0.408163

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12098299711942673
difference in average predicted and observed risk = 0.010813997119426724
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.867399
AUC of PRC = 0.523727
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11074099689722061
difference in average predicted and observed risk = -0.022592003102779395
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09686099737882614
difference in average predicted and observed risk = -0.018183002621173852
number samples = 339
accuracy = 0.879056
precision class 0 = 0.888889
precision class 1 = 0.333333
recall class 0 = 0.986667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.013333
positive prediction rate = 0.017699
AUC of ROC = 0.803419
AUC of PRC = 0.33488
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[433   1]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09460800141096115
difference in average predicted and observed risk = 0.0025580014109611443
number samples = 478
accuracy = 0.930962
precision class 0 = 0.931183
precision class 1 = 0.923077
recall class 0 = 0.997696
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.002304
positive prediction rate = 0.027197
AUC of ROC = 0.858452
AUC of PRC = 0.55969
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08254899829626083
difference in average predicted and observed risk = -0.00665300170373917
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.820673
AUC of PRC = 0.398221
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11914200335741043
difference in average predicted and observed risk = 0.0014950033574104293
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.925926
AUC of PRC = 0.707178
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0979669988155365
difference in average predicted and observed risk = 0.009256998815536502
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.866452
AUC of PRC = 0.289528
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10853900015354156
difference in average predicted and observed risk = -0.041066999846458424
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.797271
AUC of PRC = 0.479716
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1265220046043396
difference in average predicted and observed risk = 0.047575004604339596
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.847619
AUC of PRC = 0.479365
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[729   5]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09554299712181091
difference in average predicted and observed risk = -0.006048002878189088
number samples = 817
accuracy = 0.909425
precision class 0 = 0.913534
precision class 1 = 0.736842
recall class 0 = 0.993188
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.006812
positive prediction rate = 0.023256
AUC of ROC = 0.834477
AUC of PRC = 0.438059
min(+P, Se) = 0.470588

-------------------------------

Epoch 00019: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch19.state
Epoch 20/100
 - 280s - loss: 0.2769 - val_loss: 0.2580

==>predicting on train



confusion matrix:
[[2137   18]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07656499743461609
difference in average predicted and observed risk = -0.02924400256538391
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.911689
precision class 1 = 0.727273
recall class 0 = 0.991647
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.008353
positive prediction rate = 0.027386
AUC of ROC = 0.796212
AUC of PRC = 0.413084
min(+P, Se) = 0.427451

-------------------------------

confusion matrix:
[[1160   19]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08501499891281128
difference in average predicted and observed risk = -0.005964001087188725
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.928
precision class 1 = 0.595745
recall class 0 = 0.983885
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.016115
positive prediction rate = 0.036237
AUC of ROC = 0.799234
AUC of PRC = 0.392655
min(+P, Se) = 0.383333

-------------------------------

confusion matrix:
[[642  14]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09356199949979782
difference in average predicted and observed risk = -0.007808000500202181
number samples = 730
accuracy = 0.90137
precision class 0 = 0.917143
precision class 1 = 0.533333
recall class 0 = 0.978659
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.021341
positive prediction rate = 0.041096
AUC of ROC = 0.793198
AUC of PRC = 0.398613
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08630599826574326
difference in average predicted and observed risk = -0.03934800173425673
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.898204
AUC of PRC = 0.726727
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2437   37]
 [ 199   56]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08105000108480453
difference in average predicted and observed risk = -0.012390998915195461
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.924507
precision class 1 = 0.602151
recall class 0 = 0.985044
recall class 1 = 0.219608
false negative rate = 0.780392
false positive rate = 0.014956
positive prediction rate = 0.034078
AUC of ROC = 0.783634
AUC of PRC = 0.365292
min(+P, Se) = 0.391473

-------------------------------

confusion matrix:
[[1668   15]
 [ 173   43]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08340399712324142
difference in average predicted and observed risk = -0.030340002876758573
number samples = 1899
accuracy = 0.901
precision class 0 = 0.906029
precision class 1 = 0.741379
recall class 0 = 0.991087
recall class 1 = 0.199074
false negative rate = 0.800926
false positive rate = 0.008913
positive prediction rate = 0.030542
AUC of ROC = 0.82234
AUC of PRC = 0.484773
min(+P, Se) = 0.466063

-------------------------------

confusion matrix:
[[540   9]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09196499735116959
difference in average predicted and observed risk = -0.031038002648830415
number samples = 626
accuracy = 0.884984
precision class 0 = 0.895522
precision class 1 = 0.608696
recall class 0 = 0.983607
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.016393
positive prediction rate = 0.036741
AUC of ROC = 0.808388
AUC of PRC = 0.409553
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[2232   17]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06877099722623825
difference in average predicted and observed risk = -0.015885002773761744
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.926526
precision class 1 = 0.645833
recall class 0 = 0.992441
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.007559
positive prediction rate = 0.019536
AUC of ROC = 0.789945
AUC of PRC = 0.354648
min(+P, Se) = 0.370192

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07609400153160095
difference in average predicted and observed risk = -0.024711998468399055
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.755695
AUC of PRC = 0.272736
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[469  12]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12081699818372726
difference in average predicted and observed risk = -0.024831001816272735
number samples = 563
accuracy = 0.891652
precision class 0 = 0.905405
precision class 1 = 0.733333
recall class 0 = 0.975052
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.024948
positive prediction rate = 0.079929
AUC of ROC = 0.825364
AUC of PRC = 0.580889
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[645  10]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09010700136423111
difference in average predicted and observed risk = -0.017521998635768893
number samples = 734
accuracy = 0.904632
precision class 0 = 0.914894
precision class 1 = 0.655172
recall class 0 = 0.984733
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.015267
positive prediction rate = 0.03951
AUC of ROC = 0.801875
AUC of PRC = 0.414351
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[4105   52]
 [ 372   99]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0820159986615181
difference in average predicted and observed risk = -0.019756001338481904
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.916909
precision class 1 = 0.655629
recall class 0 = 0.987491
recall class 1 = 0.210191
false negative rate = 0.789809
false positive rate = 0.012509
positive prediction rate = 0.032627
AUC of ROC = 0.801291
AUC of PRC = 0.413222
min(+P, Se) = 0.421053

-------------------------------

==>predicting on validation



confusion matrix:
[[213   5]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08343599736690521
difference in average predicted and observed risk = 0.0032669973669052083
number samples = 237
accuracy = 0.919831
precision class 0 = 0.938326
precision class 1 = 0.5
recall class 0 = 0.977064
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.022936
positive prediction rate = 0.042194
AUC of ROC = 0.813375
AUC of PRC = 0.404718
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07223600149154663
difference in average predicted and observed risk = -0.03655999850845337
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.807571
AUC of PRC = 0.42832
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11225699633359909
difference in average predicted and observed risk = 0.0020879963335990875
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.874725
AUC of PRC = 0.525809
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10222700238227844
difference in average predicted and observed risk = -0.031105997617721565
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0826520025730133
difference in average predicted and observed risk = -0.03239199742698669
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.798718
AUC of PRC = 0.348135
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[429   5]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0821629986166954
difference in average predicted and observed risk = -0.009887001383304603
number samples = 478
accuracy = 0.924686
precision class 0 = 0.932609
precision class 1 = 0.722222
recall class 0 = 0.988479
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.011521
positive prediction rate = 0.037657
AUC of ROC = 0.847088
AUC of PRC = 0.560943
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06944900006055832
difference in average predicted and observed risk = -0.019752999939441684
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.807922
AUC of PRC = 0.411307
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10632699728012085
difference in average predicted and observed risk = -0.011320002719879152
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.933333
AUC of PRC = 0.700837
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[111   2]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07961499691009521
difference in average predicted and observed risk = -0.009095003089904782
number samples = 124
accuracy = 0.895161
precision class 0 = 0.909836
precision class 1 = 0.0
recall class 0 = 0.982301
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.017699
positive prediction rate = 0.016129
AUC of ROC = 0.87852
AUC of PRC = 0.31634
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10000299662351608
difference in average predicted and observed risk = -0.049603003376483906
number samples = 127
accuracy = 0.866142
precision class 0 = 0.882353
precision class 1 = 0.625
recall class 0 = 0.972222
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.027778
positive prediction rate = 0.062992
AUC of ROC = 0.775828
AUC of PRC = 0.471652
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11288999766111374
difference in average predicted and observed risk = 0.033942997661113736
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.857143
AUC of PRC = 0.483578
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[725   9]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08236599713563919
difference in average predicted and observed risk = -0.01922500286436081
number samples = 817
accuracy = 0.908201
precision class 0 = 0.916561
precision class 1 = 0.653846
recall class 0 = 0.987738
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.012262
positive prediction rate = 0.031824
AUC of ROC = 0.826614
AUC of PRC = 0.445176
min(+P, Se) = 0.481928

-------------------------------

Epoch 00020: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch20.state
Epoch 21/100
 - 276s - loss: 0.2766 - val_loss: 0.2518

==>predicting on train



confusion matrix:
[[2140   15]
 [ 217   38]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0847650021314621
difference in average predicted and observed risk = -0.021043997868537903
number samples = 2410
accuracy = 0.903734
precision class 0 = 0.907934
precision class 1 = 0.716981
recall class 0 = 0.993039
recall class 1 = 0.14902
false negative rate = 0.85098
false positive rate = 0.006961
positive prediction rate = 0.021992
AUC of ROC = 0.80565
AUC of PRC = 0.425759
min(+P, Se) = 0.404669

-------------------------------

confusion matrix:
[[1164   15]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09116800129413605
difference in average predicted and observed risk = 0.00018900129413604305
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.926752
precision class 1 = 0.634146
recall class 0 = 0.987277
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.012723
positive prediction rate = 0.031611
AUC of ROC = 0.805329
AUC of PRC = 0.399542
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[649   7]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10101299732923508
difference in average predicted and observed risk = -0.00035700267076492487
number samples = 730
accuracy = 0.906849
precision class 0 = 0.914084
precision class 1 = 0.65
recall class 0 = 0.989329
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.010671
positive prediction rate = 0.027397
AUC of ROC = 0.805125
AUC of PRC = 0.424452
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09175600111484528
difference in average predicted and observed risk = -0.03389799888515471
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.904441
AUC of PRC = 0.710084
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2447   27]
 [ 211   44]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08685799688100815
difference in average predicted and observed risk = -0.006583003118991848
number samples = 2729
accuracy = 0.912789
precision class 0 = 0.920617
precision class 1 = 0.619718
recall class 0 = 0.989087
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.010914
positive prediction rate = 0.026017
AUC of ROC = 0.797722
AUC of PRC = 0.376368
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1672   11]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09307999908924103
difference in average predicted and observed risk = -0.02066400091075897
number samples = 1899
accuracy = 0.901
precision class 0 = 0.904273
precision class 1 = 0.78
recall class 0 = 0.993464
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.006536
positive prediction rate = 0.02633
AUC of ROC = 0.824718
AUC of PRC = 0.495649
min(+P, Se) = 0.437788

-------------------------------

confusion matrix:
[[540   9]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10094299912452698
difference in average predicted and observed risk = -0.022060000875473024
number samples = 626
accuracy = 0.880192
precision class 0 = 0.891089
precision class 1 = 0.55
recall class 0 = 0.983607
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.016393
positive prediction rate = 0.031949
AUC of ROC = 0.820618
AUC of PRC = 0.446838
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[2239   10]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07509800046682358
difference in average predicted and observed risk = -0.009557999533176417
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924824
precision class 1 = 0.722222
recall class 0 = 0.995554
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.004446
positive prediction rate = 0.014652
AUC of ROC = 0.797036
AUC of PRC = 0.359856
min(+P, Se) = 0.352679

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08365999907255173
difference in average predicted and observed risk = -0.01714600092744828
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.780269
AUC of PRC = 0.291991
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[469  12]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1326349973678589
difference in average predicted and observed risk = -0.013013002632141113
number samples = 563
accuracy = 0.891652
precision class 0 = 0.905405
precision class 1 = 0.733333
recall class 0 = 0.975052
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.024948
positive prediction rate = 0.079929
AUC of ROC = 0.828863
AUC of PRC = 0.582799
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[651   4]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09627600014209747
difference in average predicted and observed risk = -0.01135299985790253
number samples = 734
accuracy = 0.90327
precision class 0 = 0.906685
precision class 1 = 0.75
recall class 0 = 0.993893
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.006107
positive prediction rate = 0.021798
AUC of ROC = 0.816002
AUC of PRC = 0.437408
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4119   38]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08941099792718887
difference in average predicted and observed risk = -0.012361002072811128
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.913912
precision class 1 = 0.68595
recall class 0 = 0.990859
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.009141
positive prediction rate = 0.026145
AUC of ROC = 0.810091
AUC of PRC = 0.426035
min(+P, Se) = 0.416136

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08850199729204178
difference in average predicted and observed risk = 0.008332997292041774
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.84114
AUC of PRC = 0.377788
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08330400288105011
difference in average predicted and observed risk = -0.025491997118949894
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.811661
AUC of PRC = 0.441626
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12114600092172623
difference in average predicted and observed risk = 0.010977000921726224
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871795
AUC of PRC = 0.542224
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10300300270318985
difference in average predicted and observed risk = -0.030329997296810157
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0945810005068779
difference in average predicted and observed risk = -0.020462999493122094
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.794872
AUC of PRC = 0.347555
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[432   2]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0884609967470169
difference in average predicted and observed risk = -0.0035890032529831
number samples = 478
accuracy = 0.926778
precision class 0 = 0.929032
precision class 1 = 0.846154
recall class 0 = 0.995392
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.004608
positive prediction rate = 0.027197
AUC of ROC = 0.860756
AUC of PRC = 0.564149
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07591400295495987
difference in average predicted and observed risk = -0.013287997045040134
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.818163
AUC of PRC = 0.37663
min(+P, Se) = 0.404762

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11803799867630005
difference in average predicted and observed risk = 0.00039099867630004725
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.925926
AUC of PRC = 0.701025
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09418699890375137
difference in average predicted and observed risk = 0.005476998903751376
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.857603
AUC of PRC = 0.333816
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10618200153112411
difference in average predicted and observed risk = -0.043423998468875874
number samples = 127
accuracy = 0.866142
precision class 0 = 0.882353
precision class 1 = 0.625
recall class 0 = 0.972222
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.027778
positive prediction rate = 0.062992
AUC of ROC = 0.792398
AUC of PRC = 0.478958
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1264220029115677
difference in average predicted and observed risk = 0.047475002911567685
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.091000996530056
difference in average predicted and observed risk = -0.010590003469944001
number samples = 817
accuracy = 0.909425
precision class 0 = 0.914573
precision class 1 = 0.714286
recall class 0 = 0.991826
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.008174
positive prediction rate = 0.025704
AUC of ROC = 0.833787
AUC of PRC = 0.446455
min(+P, Se) = 0.481928

-------------------------------

Epoch 00021: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch21.state
Epoch 22/100
 - 279s - loss: 0.2779 - val_loss: 0.2653

==>predicting on train



confusion matrix:
[[2150    5]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.058396998792886734
difference in average predicted and observed risk = -0.047412001207113266
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.905263
precision class 1 = 0.857143
recall class 0 = 0.99768
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.00232
positive prediction rate = 0.014523
AUC of ROC = 0.805618
AUC of PRC = 0.430371
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1168   11]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06382100284099579
difference in average predicted and observed risk = -0.027157997159004216
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921136
precision class 1 = 0.62069
recall class 0 = 0.99067
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.00933
positive prediction rate = 0.022359
AUC of ROC = 0.803626
AUC of PRC = 0.374213
min(+P, Se) = 0.381356

-------------------------------

confusion matrix:
[[652   4]
 [ 66   8]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07211600244045258
difference in average predicted and observed risk = -0.029253997559547426
number samples = 730
accuracy = 0.90411
precision class 0 = 0.908078
precision class 1 = 0.666667
recall class 0 = 0.993902
recall class 1 = 0.108108
false negative rate = 0.891892
false positive rate = 0.006098
positive prediction rate = 0.016438
AUC of ROC = 0.805887
AUC of PRC = 0.426572
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06676200032234192
difference in average predicted and observed risk = -0.05889199967765807
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.908184
AUC of PRC = 0.716235
min(+P, Se) = 0.653846

-------------------------------

confusion matrix:
[[2457   17]
 [ 229   26]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06062399968504906
difference in average predicted and observed risk = -0.03281700031495094
number samples = 2729
accuracy = 0.909857
precision class 0 = 0.914743
precision class 1 = 0.604651
recall class 0 = 0.993129
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.006871
positive prediction rate = 0.015757
AUC of ROC = 0.797316
AUC of PRC = 0.37222
min(+P, Se) = 0.384314

-------------------------------

confusion matrix:
[[1679    4]
 [ 182   34]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0650160014629364
difference in average predicted and observed risk = -0.048727998537063597
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.902203
precision class 1 = 0.894737
recall class 0 = 0.997623
recall class 1 = 0.157407
false negative rate = 0.842593
false positive rate = 0.002377
positive prediction rate = 0.020011
AUC of ROC = 0.824688
AUC of PRC = 0.490821
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[544   5]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07256300002336502
difference in average predicted and observed risk = -0.05043999997663498
number samples = 626
accuracy = 0.881789
precision class 0 = 0.887439
precision class 1 = 0.615385
recall class 0 = 0.990893
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.009107
positive prediction rate = 0.020767
AUC of ROC = 0.815083
AUC of PRC = 0.440325
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[2245    4]
 [ 190   18]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05013800039887428
difference in average predicted and observed risk = -0.03451799960112571
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.921971
precision class 1 = 0.818182
recall class 0 = 0.998221
recall class 1 = 0.086538
false negative rate = 0.913462
false positive rate = 0.001779
positive prediction rate = 0.008954
AUC of ROC = 0.800568
AUC of PRC = 0.367001
min(+P, Se) = 0.369668

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06068500131368637
difference in average predicted and observed risk = -0.040120998686313636
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.766996
AUC of PRC = 0.278284
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[473   8]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09702599793672562
difference in average predicted and observed risk = -0.04862200206327438
number samples = 563
accuracy = 0.888099
precision class 0 = 0.895833
precision class 1 = 0.771429
recall class 0 = 0.983368
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.016632
positive prediction rate = 0.062167
AUC of ROC = 0.829522
AUC of PRC = 0.56874
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[652   3]
 [ 73   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.06896699965000153
difference in average predicted and observed risk = -0.03866200034999848
number samples = 734
accuracy = 0.896458
precision class 0 = 0.89931
precision class 1 = 0.666667
recall class 0 = 0.99542
recall class 1 = 0.075949
false negative rate = 0.924051
false positive rate = 0.00458
positive prediction rate = 0.012262
AUC of ROC = 0.811847
AUC of PRC = 0.422356
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4136   21]
 [ 411   60]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06242699921131134
difference in average predicted and observed risk = -0.03934500078868866
number samples = 4628
accuracy = 0.906655
precision class 0 = 0.909611
precision class 1 = 0.740741
recall class 0 = 0.994948
recall class 1 = 0.127389
false negative rate = 0.872611
false positive rate = 0.005052
positive prediction rate = 0.017502
AUC of ROC = 0.810078
AUC of PRC = 0.422885
min(+P, Se) = 0.407643

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06366799771785736
difference in average predicted and observed risk = -0.016501002282142643
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.816031
AUC of PRC = 0.296133
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05641699954867363
difference in average predicted and observed risk = -0.052379000451326374
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.807847
AUC of PRC = 0.440147
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08992899954319
difference in average predicted and observed risk = -0.02024000045681
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.87326
AUC of PRC = 0.596071
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.07309900224208832
difference in average predicted and observed risk = -0.06023399775791169
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0664139986038208
difference in average predicted and observed risk = -0.04863000139617919
number samples = 339
accuracy = 0.879056
precision class 0 = 0.886567
precision class 1 = 0.25
recall class 0 = 0.99
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.01
positive prediction rate = 0.011799
AUC of ROC = 0.783162
AUC of PRC = 0.334425
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06224200129508972
difference in average predicted and observed risk = -0.029807998704910285
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.857928
AUC of PRC = 0.564254
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.050794001668691635
difference in average predicted and observed risk = -0.03840799833130837
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.810635
AUC of PRC = 0.38803
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08714400231838226
difference in average predicted and observed risk = -0.03050299768161774
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.924074
AUC of PRC = 0.557268
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06406000256538391
difference in average predicted and observed risk = -0.024649997434616086
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.857603
AUC of PRC = 0.314812
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.08159700036048889
difference in average predicted and observed risk = -0.0680089996395111
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.776803
AUC of PRC = 0.4648
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09033899754285812
difference in average predicted and observed risk = 0.01139199754285812
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.866667
AUC of PRC = 0.716912
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06397300213575363
difference in average predicted and observed risk = -0.03761799786424637
number samples = 817
accuracy = 0.904529
precision class 0 = 0.90796
precision class 1 = 0.692308
recall class 0 = 0.99455
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.00545
positive prediction rate = 0.015912
AUC of ROC = 0.825547
AUC of PRC = 0.43224
min(+P, Se) = 0.47619

-------------------------------

Epoch 00022: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch22.state
Epoch 23/100
 - 276s - loss: 0.2752 - val_loss: 0.2569

==>predicting on train



confusion matrix:
[[2140   15]
 [ 210   45]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08731400221586227
difference in average predicted and observed risk = -0.018494997784137726
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.910638
precision class 1 = 0.75
recall class 0 = 0.993039
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.006961
positive prediction rate = 0.024896
AUC of ROC = 0.803001
AUC of PRC = 0.435267
min(+P, Se) = 0.423664

-------------------------------

confusion matrix:
[[1162   17]
 [  89   29]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09278199821710587
difference in average predicted and observed risk = 0.0018029982171058612
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.928857
precision class 1 = 0.630435
recall class 0 = 0.985581
recall class 1 = 0.245763
false negative rate = 0.754237
false positive rate = 0.014419
positive prediction rate = 0.035466
AUC of ROC = 0.802928
AUC of PRC = 0.386289
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[647   9]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10400299727916718
difference in average predicted and observed risk = 0.0026329972791671735
number samples = 730
accuracy = 0.908219
precision class 0 = 0.917731
precision class 1 = 0.64
recall class 0 = 0.986281
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.01372
positive prediction rate = 0.034247
AUC of ROC = 0.803745
AUC of PRC = 0.423358
min(+P, Se) = 0.474359

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.095380999147892
difference in average predicted and observed risk = -0.03027300085210799
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.918663
AUC of PRC = 0.731328
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2445   29]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08912499994039536
difference in average predicted and observed risk = -0.004316000059604641
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.92299
precision class 1 = 0.6375
recall class 0 = 0.988278
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.011722
positive prediction rate = 0.029315
AUC of ROC = 0.797072
AUC of PRC = 0.380012
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1670   13]
 [ 170   46]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09567199647426605
difference in average predicted and observed risk = -0.018072003525733946
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.907609
precision class 1 = 0.779661
recall class 0 = 0.992276
recall class 1 = 0.212963
false negative rate = 0.787037
false positive rate = 0.007724
positive prediction rate = 0.031069
AUC of ROC = 0.82226
AUC of PRC = 0.494056
min(+P, Se) = 0.465438

-------------------------------

confusion matrix:
[[540   9]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10401500016450882
difference in average predicted and observed risk = -0.01898799983549118
number samples = 626
accuracy = 0.884984
precision class 0 = 0.895522
precision class 1 = 0.608696
recall class 0 = 0.983607
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.016393
positive prediction rate = 0.036741
AUC of ROC = 0.810423
AUC of PRC = 0.423563
min(+P, Se) = 0.457831

-------------------------------

confusion matrix:
[[2237   12]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07766199856996536
difference in average predicted and observed risk = -0.006994001430034633
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.925911
precision class 1 = 0.707317
recall class 0 = 0.994664
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.005336
positive prediction rate = 0.016687
AUC of ROC = 0.802054
AUC of PRC = 0.370383
min(+P, Se) = 0.358852

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09063699841499329
difference in average predicted and observed risk = -0.01016900158500672
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.766637
AUC of PRC = 0.283343
min(+P, Se) = 0.354839

-------------------------------

confusion matrix:
[[469  12]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1286890059709549
difference in average predicted and observed risk = -0.016958994029045105
number samples = 563
accuracy = 0.891652
precision class 0 = 0.905405
precision class 1 = 0.733333
recall class 0 = 0.975052
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.024948
positive prediction rate = 0.079929
AUC of ROC = 0.830713
AUC of PRC = 0.583536
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[649   6]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1008789986371994
difference in average predicted and observed risk = -0.006750001362800601
number samples = 734
accuracy = 0.911444
precision class 0 = 0.916667
precision class 1 = 0.769231
recall class 0 = 0.99084
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.00916
positive prediction rate = 0.035422
AUC of ROC = 0.806049
AUC of PRC = 0.435136
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4115   42]
 [ 374   97]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09181199967861176
difference in average predicted and observed risk = -0.009960000321388246
number samples = 4628
accuracy = 0.910112
precision class 0 = 0.916685
precision class 1 = 0.697842
recall class 0 = 0.989897
recall class 1 = 0.205945
false negative rate = 0.794055
false positive rate = 0.010103
positive prediction rate = 0.030035
AUC of ROC = 0.808864
AUC of PRC = 0.428626
min(+P, Se) = 0.420168

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09157399833202362
difference in average predicted and observed risk = 0.011404998332023616
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.787784
AUC of PRC = 0.356101
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08453299850225449
difference in average predicted and observed risk = -0.024263001497745518
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.803095
AUC of PRC = 0.418378
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12422499805688858
difference in average predicted and observed risk = 0.014055998056888577
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871062
AUC of PRC = 0.524072
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10422399640083313
difference in average predicted and observed risk = -0.029109003599166877
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0967010036110878
difference in average predicted and observed risk = -0.018342996388912194
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.774444
AUC of PRC = 0.328979
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09042900055646896
difference in average predicted and observed risk = -0.0016209994435310432
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.849707
AUC of PRC = 0.548967
min(+P, Se) = 0.543478

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07781200110912323
difference in average predicted and observed risk = -0.011389998890876774
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.794832
AUC of PRC = 0.361816
min(+P, Se) = 0.418605

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11457899957895279
difference in average predicted and observed risk = -0.0030680004210472123
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.930556
AUC of PRC = 0.692711
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09527099877595901
difference in average predicted and observed risk = 0.006560998775959018
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.860821
AUC of PRC = 0.300101
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[105   3]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11255200207233429
difference in average predicted and observed risk = -0.0370539979276657
number samples = 127
accuracy = 0.874016
precision class 0 = 0.889831
precision class 1 = 0.666667
recall class 0 = 0.972222
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.027778
positive prediction rate = 0.070866
AUC of ROC = 0.761696
AUC of PRC = 0.459597
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13326099514961243
difference in average predicted and observed risk = 0.054313995149612423
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09303099662065506
difference in average predicted and observed risk = -0.008560003379344941
number samples = 817
accuracy = 0.910649
precision class 0 = 0.915723
precision class 1 = 0.727273
recall class 0 = 0.991826
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.008174
positive prediction rate = 0.026928
AUC of ROC = 0.817192
AUC of PRC = 0.429343
min(+P, Se) = 0.46988

-------------------------------

Epoch 00023: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch23.state
Epoch 24/100
 - 277s - loss: 0.2717 - val_loss: 0.2594

==>predicting on train



confusion matrix:
[[2152    3]
 [ 228   27]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06850499659776688
difference in average predicted and observed risk = -0.037304003402233124
number samples = 2410
accuracy = 0.904149
precision class 0 = 0.904202
precision class 1 = 0.9
recall class 0 = 0.998608
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.001392
positive prediction rate = 0.012448
AUC of ROC = 0.808369
AUC of PRC = 0.453053
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1170    9]
 [ 103   15]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07481499761343002
difference in average predicted and observed risk = -0.01616400238656998
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.919089
precision class 1 = 0.625
recall class 0 = 0.992366
recall class 1 = 0.127119
false negative rate = 0.872881
false positive rate = 0.007634
positive prediction rate = 0.018504
AUC of ROC = 0.80277
AUC of PRC = 0.37595
min(+P, Se) = 0.376

-------------------------------

confusion matrix:
[[653   3]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08282899856567383
difference in average predicted and observed risk = -0.018541001434326174
number samples = 730
accuracy = 0.908219
precision class 0 = 0.910739
precision class 1 = 0.769231
recall class 0 = 0.995427
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.004573
positive prediction rate = 0.017808
AUC of ROC = 0.802118
AUC of PRC = 0.437364
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07561399787664413
difference in average predicted and observed risk = -0.05004000212335585
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.918912
AUC of PRC = 0.707811
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2462   12]
 [ 229   26]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07067400217056274
difference in average predicted and observed risk = -0.022766997829437252
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.914901
precision class 1 = 0.684211
recall class 0 = 0.99515
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.00485
positive prediction rate = 0.013925
AUC of ROC = 0.79609
AUC of PRC = 0.386067
min(+P, Se) = 0.396078

-------------------------------

confusion matrix:
[[1679    4]
 [ 186   30]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0759190022945404
difference in average predicted and observed risk = -0.03782499770545959
number samples = 1899
accuracy = 0.899947
precision class 0 = 0.900268
precision class 1 = 0.882353
recall class 0 = 0.997623
recall class 1 = 0.138889
false negative rate = 0.861111
false positive rate = 0.002377
positive prediction rate = 0.017904
AUC of ROC = 0.828935
AUC of PRC = 0.503378
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[545   4]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08148899674415588
difference in average predicted and observed risk = -0.04151400325584412
number samples = 626
accuracy = 0.880192
precision class 0 = 0.88474
precision class 1 = 0.6
recall class 0 = 0.992714
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.007286
positive prediction rate = 0.015974
AUC of ROC = 0.819294
AUC of PRC = 0.446968
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2244    5]
 [ 192   16]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06117599830031395
difference in average predicted and observed risk = -0.023480001699686046
number samples = 2457
accuracy = 0.919821
precision class 0 = 0.921182
precision class 1 = 0.761905
recall class 0 = 0.997777
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.002223
positive prediction rate = 0.008547
AUC of ROC = 0.800728
AUC of PRC = 0.370668
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07567200064659119
difference in average predicted and observed risk = -0.02513399935340882
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.766637
AUC of PRC = 0.269778
min(+P, Se) = 0.307692

-------------------------------

confusion matrix:
[[476   5]
 [ 57  25]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1025099977850914
difference in average predicted and observed risk = -0.0431380022149086
number samples = 563
accuracy = 0.889876
precision class 0 = 0.893058
precision class 1 = 0.833333
recall class 0 = 0.989605
recall class 1 = 0.304878
false negative rate = 0.695122
false positive rate = 0.010395
positive prediction rate = 0.053286
AUC of ROC = 0.831449
AUC of PRC = 0.588144
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[654   1]
 [ 71   8]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08070699870586395
difference in average predicted and observed risk = -0.02692200129413605
number samples = 734
accuracy = 0.901907
precision class 0 = 0.902069
precision class 1 = 0.888889
recall class 0 = 0.998473
recall class 1 = 0.101266
false negative rate = 0.898734
false positive rate = 0.001527
positive prediction rate = 0.012262
AUC of ROC = 0.815441
AUC of PRC = 0.470174
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4141   16]
 [ 415   56]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07282599806785583
difference in average predicted and observed risk = -0.028946001932144166
number samples = 4628
accuracy = 0.906871
precision class 0 = 0.908911
precision class 1 = 0.777778
recall class 0 = 0.996151
recall class 1 = 0.118896
false negative rate = 0.881104
false positive rate = 0.003849
positive prediction rate = 0.015557
AUC of ROC = 0.811215
AUC of PRC = 0.435922
min(+P, Se) = 0.419492

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07215999811887741
difference in average predicted and observed risk = -0.008009001881122593
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.811927
AUC of PRC = 0.363478
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06729000061750412
difference in average predicted and observed risk = -0.041505999382495884
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.809505
AUC of PRC = 0.433124
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10351400077342987
difference in average predicted and observed risk = -0.006654999226570132
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.869597
AUC of PRC = 0.528039
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08091499656438828
difference in average predicted and observed risk = -0.05241800343561173
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07709000259637833
difference in average predicted and observed risk = -0.03795399740362167
number samples = 339
accuracy = 0.879056
precision class 0 = 0.886567
precision class 1 = 0.25
recall class 0 = 0.99
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.01
positive prediction rate = 0.011799
AUC of ROC = 0.788291
AUC of PRC = 0.333329
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07255300134420395
difference in average predicted and observed risk = -0.019496998655796058
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.854629
AUC of PRC = 0.548634
min(+P, Se) = 0.531915

-------------------------------

confusion matrix:
[[387   1]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.061629001051187515
difference in average predicted and observed risk = -0.027572998948812488
number samples = 426
accuracy = 0.910798
precision class 0 = 0.912736
precision class 1 = 0.5
recall class 0 = 0.997423
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.002577
positive prediction rate = 0.004695
AUC of ROC = 0.807176
AUC of PRC = 0.393707
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0926629975438118
difference in average predicted and observed risk = -0.024984002456188203
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.933333
AUC of PRC = 0.722339
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07049199938774109
difference in average predicted and observed risk = -0.01821800061225891
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.873693
AUC of PRC = 0.285488
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09439700096845627
difference in average predicted and observed risk = -0.05520899903154372
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.759259
AUC of PRC = 0.45234
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11522399634122849
difference in average predicted and observed risk = 0.03627699634122848
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.87619
AUC of PRC = 0.720139
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07443500310182571
difference in average predicted and observed risk = -0.027155996898174287
number samples = 817
accuracy = 0.904529
precision class 0 = 0.90796
precision class 1 = 0.692308
recall class 0 = 0.99455
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.00545
positive prediction rate = 0.015912
AUC of ROC = 0.82604
AUC of PRC = 0.435806
min(+P, Se) = 0.470588

-------------------------------

Epoch 00024: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch24.state
Epoch 25/100
 - 277s - loss: 0.2759 - val_loss: 0.2537

==>predicting on train



confusion matrix:
[[2142   13]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08137000352144241
difference in average predicted and observed risk = -0.024438996478557587
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.909941
precision class 1 = 0.767857
recall class 0 = 0.993968
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.006032
positive prediction rate = 0.023237
AUC of ROC = 0.81003
AUC of PRC = 0.438082
min(+P, Se) = 0.419608

-------------------------------

confusion matrix:
[[1164   15]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08800999820232391
difference in average predicted and observed risk = -0.0029690017976760907
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.926014
precision class 1 = 0.625
recall class 0 = 0.987277
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.012723
positive prediction rate = 0.03084
AUC of ROC = 0.805746
AUC of PRC = 0.39098
min(+P, Se) = 0.38843

-------------------------------

confusion matrix:
[[647   9]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09811899811029434
difference in average predicted and observed risk = -0.0032510018897056597
number samples = 730
accuracy = 0.906849
precision class 0 = 0.916431
precision class 1 = 0.625
recall class 0 = 0.986281
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.01372
positive prediction rate = 0.032877
AUC of ROC = 0.811491
AUC of PRC = 0.420169
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09008999913930893
difference in average predicted and observed risk = -0.03556400086069106
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.903443
AUC of PRC = 0.711783
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2448   26]
 [ 207   48]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08370599895715714
difference in average predicted and observed risk = -0.009735001042842861
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.922034
precision class 1 = 0.648649
recall class 0 = 0.989491
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.010509
positive prediction rate = 0.027116
AUC of ROC = 0.803005
AUC of PRC = 0.3869
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[1671   12]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08986499905586243
difference in average predicted and observed risk = -0.02387900094413757
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905691
precision class 1 = 0.777778
recall class 0 = 0.99287
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.00713
positive prediction rate = 0.028436
AUC of ROC = 0.824382
AUC of PRC = 0.484534
min(+P, Se) = 0.451613

-------------------------------

confusion matrix:
[[540   9]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09690999984741211
difference in average predicted and observed risk = -0.026093000152587892
number samples = 626
accuracy = 0.881789
precision class 0 = 0.892562
precision class 1 = 0.571429
recall class 0 = 0.983607
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.016393
positive prediction rate = 0.033546
AUC of ROC = 0.827408
AUC of PRC = 0.429931
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[2239   10]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0720750018954277
difference in average predicted and observed risk = -0.012580998104572291
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.925589
precision class 1 = 0.736842
recall class 0 = 0.995554
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.004446
positive prediction rate = 0.015466
AUC of ROC = 0.805835
AUC of PRC = 0.371609
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08447399735450745
difference in average predicted and observed risk = -0.01633200264549256
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.770583
AUC of PRC = 0.275715
min(+P, Se) = 0.314286

-------------------------------

confusion matrix:
[[470  11]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12474100291728973
difference in average predicted and observed risk = -0.020906997082710266
number samples = 563
accuracy = 0.889876
precision class 0 = 0.902111
precision class 1 = 0.738095
recall class 0 = 0.977131
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.022869
positive prediction rate = 0.0746
AUC of ROC = 0.824933
AUC of PRC = 0.584282
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0955749973654747
difference in average predicted and observed risk = -0.012054002634525302
number samples = 734
accuracy = 0.910082
precision class 0 = 0.914205
precision class 1 = 0.782609
recall class 0 = 0.992366
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.007634
positive prediction rate = 0.031335
AUC of ROC = 0.814301
AUC of PRC = 0.432151
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4119   38]
 [ 381   90]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0862329974770546
difference in average predicted and observed risk = -0.015539002522945405
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.915333
precision class 1 = 0.703125
recall class 0 = 0.990859
recall class 1 = 0.191083
false negative rate = 0.808917
false positive rate = 0.009141
positive prediction rate = 0.027658
AUC of ROC = 0.813434
AUC of PRC = 0.429046
min(+P, Se) = 0.422505

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08583399653434753
difference in average predicted and observed risk = 0.00566499653434753
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.782231
AUC of PRC = 0.362009
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07881499826908112
difference in average predicted and observed risk = -0.029981001730918888
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.815971
AUC of PRC = 0.457783
min(+P, Se) = 0.413793

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11891499906778336
difference in average predicted and observed risk = 0.008745999067783353
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.87033
AUC of PRC = 0.527922
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10058200359344482
difference in average predicted and observed risk = -0.03275099640655518
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09007000178098679
difference in average predicted and observed risk = -0.024973998219013208
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.794188
AUC of PRC = 0.34874
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[431   3]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08557800203561783
difference in average predicted and observed risk = -0.0064719979643821784
number samples = 478
accuracy = 0.926778
precision class 0 = 0.930886
precision class 1 = 0.8
recall class 0 = 0.993088
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.006912
positive prediction rate = 0.031381
AUC of ROC = 0.845098
AUC of PRC = 0.561007
min(+P, Se) = 0.553191

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07197599858045578
difference in average predicted and observed risk = -0.017226001419544223
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.808261
AUC of PRC = 0.400634
min(+P, Se) = 0.382979

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10954800248146057
difference in average predicted and observed risk = -0.00809899751853943
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.933333
AUC of PRC = 0.708503
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08693499863147736
difference in average predicted and observed risk = -0.0017750013685226412
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.840708
AUC of PRC = 0.318478
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10940899699926376
difference in average predicted and observed risk = -0.040197003000736226
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.761696
AUC of PRC = 0.471975
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12972700595855713
difference in average predicted and observed risk = 0.050780005958557126
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.614815
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08744200319051743
difference in average predicted and observed risk = -0.014148996809482575
number samples = 817
accuracy = 0.910649
precision class 0 = 0.916772
precision class 1 = 0.708333
recall class 0 = 0.990463
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.009537
positive prediction rate = 0.029376
AUC of ROC = 0.822905
AUC of PRC = 0.444511
min(+P, Se) = 0.458824

-------------------------------

Epoch 00025: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch25.state
Epoch 26/100
 - 278s - loss: 0.2670 - val_loss: 0.2590

==>predicting on train



confusion matrix:
[[2145   10]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0724480003118515
difference in average predicted and observed risk = -0.0333609996881485
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.908513
precision class 1 = 0.795918
recall class 0 = 0.99536
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.00464
positive prediction rate = 0.020332
AUC of ROC = 0.816354
AUC of PRC = 0.439702
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1165   14]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0774030014872551
difference in average predicted and observed risk = -0.013575998512744908
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.922407
precision class 1 = 0.588235
recall class 0 = 0.988126
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.011874
positive prediction rate = 0.026214
AUC of ROC = 0.814868
AUC of PRC = 0.385298
min(+P, Se) = 0.401639

-------------------------------

confusion matrix:
[[649   7]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0892300009727478
difference in average predicted and observed risk = -0.012139999027252199
number samples = 730
accuracy = 0.905479
precision class 0 = 0.912799
precision class 1 = 0.631579
recall class 0 = 0.989329
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.010671
positive prediction rate = 0.026027
AUC of ROC = 0.82519
AUC of PRC = 0.427574
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08174800127744675
difference in average predicted and observed risk = -0.04390599872255324
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.909182
AUC of PRC = 0.713083
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2453   21]
 [ 218   37]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07387500256299973
difference in average predicted and observed risk = -0.01956599743700027
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.918383
precision class 1 = 0.637931
recall class 0 = 0.991512
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.008488
positive prediction rate = 0.021253
AUC of ROC = 0.814098
AUC of PRC = 0.385612
min(+P, Se) = 0.407843

-------------------------------

confusion matrix:
[[1672   11]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08116699755191803
difference in average predicted and observed risk = -0.03257700244808197
number samples = 1899
accuracy = 0.901
precision class 0 = 0.904273
precision class 1 = 0.78
recall class 0 = 0.993464
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.006536
positive prediction rate = 0.02633
AUC of ROC = 0.829083
AUC of PRC = 0.494144
min(+P, Se) = 0.47032

-------------------------------

confusion matrix:
[[540   9]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08614200353622437
difference in average predicted and observed risk = -0.036860996463775636
number samples = 626
accuracy = 0.876997
precision class 0 = 0.888158
precision class 1 = 0.5
recall class 0 = 0.983607
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.016393
positive prediction rate = 0.028754
AUC of ROC = 0.835119
AUC of PRC = 0.449329
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2241    8]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06349100172519684
difference in average predicted and observed risk = -0.021164998274803157
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924124
precision class 1 = 0.75
recall class 0 = 0.996443
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003557
positive prediction rate = 0.013024
AUC of ROC = 0.81296
AUC of PRC = 0.374137
min(+P, Se) = 0.360577

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07472100108861923
difference in average predicted and observed risk = -0.026084998911380775
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.766637
AUC of PRC = 0.271279
min(+P, Se) = 0.305556

-------------------------------

confusion matrix:
[[471  10]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11352299898862839
difference in average predicted and observed risk = -0.03212500101137161
number samples = 563
accuracy = 0.889876
precision class 0 = 0.900574
precision class 1 = 0.75
recall class 0 = 0.97921
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.02079
positive prediction rate = 0.071048
AUC of ROC = 0.83761
AUC of PRC = 0.57761
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[652   3]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08634500205516815
difference in average predicted and observed risk = -0.02128399794483185
number samples = 734
accuracy = 0.904632
precision class 0 = 0.906815
precision class 1 = 0.8
recall class 0 = 0.99542
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.00458
positive prediction rate = 0.020436
AUC of ROC = 0.820408
AUC of PRC = 0.469982
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4125   32]
 [ 395   76]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07686799764633179
difference in average predicted and observed risk = -0.024904002353668214
number samples = 4628
accuracy = 0.907736
precision class 0 = 0.912611
precision class 1 = 0.703704
recall class 0 = 0.992302
recall class 1 = 0.161359
false negative rate = 0.838641
false positive rate = 0.007698
positive prediction rate = 0.023336
AUC of ROC = 0.821516
AUC of PRC = 0.433126
min(+P, Se) = 0.427966

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07566499710083008
difference in average predicted and observed risk = -0.004504002899169926
number samples = 237
accuracy = 0.915612
precision class 0 = 0.930435
precision class 1 = 0.428571
recall class 0 = 0.981651
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018349
positive prediction rate = 0.029536
AUC of ROC = 0.778609
AUC of PRC = 0.34932
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0707549974322319
difference in average predicted and observed risk = -0.0380410025677681
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.814977
AUC of PRC = 0.415696
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10982199758291245
difference in average predicted and observed risk = -0.00034700241708755797
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871795
AUC of PRC = 0.521135
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0835300013422966
difference in average predicted and observed risk = -0.04980299865770341
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08189000189304352
difference in average predicted and observed risk = -0.033153998106956475
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.792308
AUC of PRC = 0.34652
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[432   2]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07573799788951874
difference in average predicted and observed risk = -0.01631200211048127
number samples = 478
accuracy = 0.922594
precision class 0 = 0.925054
precision class 1 = 0.818182
recall class 0 = 0.995392
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.004608
positive prediction rate = 0.023013
AUC of ROC = 0.840804
AUC of PRC = 0.531804
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0639910027384758
difference in average predicted and observed risk = -0.025210997261524204
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.813687
AUC of PRC = 0.372745
min(+P, Se) = 0.372093

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10154999792575836
difference in average predicted and observed risk = -0.01609700207424164
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.935185
AUC of PRC = 0.693134
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07759299874305725
difference in average predicted and observed risk = -0.011117001256942746
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.83749
AUC of PRC = 0.293937
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[105   3]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09888000041246414
difference in average predicted and observed risk = -0.05072599958753585
number samples = 127
accuracy = 0.858268
precision class 0 = 0.875
precision class 1 = 0.571429
recall class 0 = 0.972222
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.027778
positive prediction rate = 0.055118
AUC of ROC = 0.74269
AUC of PRC = 0.436702
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1096310019493103
difference in average predicted and observed risk = 0.0306840019493103
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07829099893569946
difference in average predicted and observed risk = -0.023300001064300538
number samples = 817
accuracy = 0.906977
precision class 0 = 0.912281
precision class 1 = 0.684211
recall class 0 = 0.991826
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.008174
positive prediction rate = 0.023256
AUC of ROC = 0.820492
AUC of PRC = 0.425795
min(+P, Se) = 0.46988

-------------------------------

Epoch 00026: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch26.state
Epoch 27/100
 - 280s - loss: 0.2752 - val_loss: 0.2613

==>predicting on train



confusion matrix:
[[2147    8]
 [ 221   34]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07472000271081924
difference in average predicted and observed risk = -0.031088997289180756
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.906672
precision class 1 = 0.809524
recall class 0 = 0.996288
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.003712
positive prediction rate = 0.017427
AUC of ROC = 0.806289
AUC of PRC = 0.438873
min(+P, Se) = 0.41791

-------------------------------

confusion matrix:
[[1167   12]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07936999946832657
difference in average predicted and observed risk = -0.011609000531673436
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.921073
precision class 1 = 0.6
recall class 0 = 0.989822
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.010178
positive prediction rate = 0.02313
AUC of ROC = 0.805272
AUC of PRC = 0.358898
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[651   5]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09126400202512741
difference in average predicted and observed risk = -0.010105997974872591
number samples = 730
accuracy = 0.906849
precision class 0 = 0.911765
precision class 1 = 0.6875
recall class 0 = 0.992378
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.007622
positive prediction rate = 0.021918
AUC of ROC = 0.81421
AUC of PRC = 0.443603
min(+P, Se) = 0.445946

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08363500237464905
difference in average predicted and observed risk = -0.04201899762535094
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.908433
AUC of PRC = 0.724756
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2455   19]
 [ 225   30]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07638700306415558
difference in average predicted and observed risk = -0.017053996935844418
number samples = 2729
accuracy = 0.91059
precision class 0 = 0.916045
precision class 1 = 0.612245
recall class 0 = 0.99232
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.00768
positive prediction rate = 0.017955
AUC of ROC = 0.802915
AUC of PRC = 0.372735
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1676    7]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08275800198316574
difference in average predicted and observed risk = -0.030985998016834257
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.903504
precision class 1 = 0.840909
recall class 0 = 0.995841
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.004159
positive prediction rate = 0.02317
AUC of ROC = 0.822289
AUC of PRC = 0.495874
min(+P, Se) = 0.449074

-------------------------------

confusion matrix:
[[542   7]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08725199848413467
difference in average predicted and observed risk = -0.03575100151586533
number samples = 626
accuracy = 0.878594
precision class 0 = 0.88707
precision class 1 = 0.533333
recall class 0 = 0.98725
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.01275
positive prediction rate = 0.023962
AUC of ROC = 0.829466
AUC of PRC = 0.44384
min(+P, Se) = 0.474359

-------------------------------

confusion matrix:
[[2244    5]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06647100299596786
difference in average predicted and observed risk = -0.01818499700403213
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.923457
precision class 1 = 0.814815
recall class 0 = 0.997777
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.002223
positive prediction rate = 0.010989
AUC of ROC = 0.803603
AUC of PRC = 0.371909
min(+P, Se) = 0.367925

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07705599814653397
difference in average predicted and observed risk = -0.02375000185346604
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.770942
AUC of PRC = 0.276689
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11313299834728241
difference in average predicted and observed risk = -0.03251500165271759
number samples = 563
accuracy = 0.886323
precision class 0 = 0.895636
precision class 1 = 0.75
recall class 0 = 0.981289
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.018711
positive prediction rate = 0.063943
AUC of ROC = 0.827417
AUC of PRC = 0.565172
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[652   3]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08838299661874771
difference in average predicted and observed risk = -0.01924600338125229
number samples = 734
accuracy = 0.900545
precision class 0 = 0.903047
precision class 1 = 0.75
recall class 0 = 0.99542
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.00458
positive prediction rate = 0.016349
AUC of ROC = 0.806957
AUC of PRC = 0.436909
min(+P, Se) = 0.45679

-------------------------------

confusion matrix:
[[4131   26]
 [ 404   67]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07900100201368332
difference in average predicted and observed risk = -0.022770997986316682
number samples = 4628
accuracy = 0.907087
precision class 0 = 0.910915
precision class 1 = 0.72043
recall class 0 = 0.993746
recall class 1 = 0.142251
false negative rate = 0.857749
false positive rate = 0.006255
positive prediction rate = 0.020095
AUC of ROC = 0.812115
AUC of PRC = 0.425746
min(+P, Se) = 0.418259

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07752600312232971
difference in average predicted and observed risk = -0.0026429968776702922
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.785128
AUC of PRC = 0.331746
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07356200367212296
difference in average predicted and observed risk = -0.03523399632787705
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.799724
AUC of PRC = 0.412983
min(+P, Se) = 0.395833

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1109979972243309
difference in average predicted and observed risk = 0.0008289972243308991
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.87619
AUC of PRC = 0.528904
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08222000300884247
difference in average predicted and observed risk = -0.05111299699115754
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08419399708509445
difference in average predicted and observed risk = -0.03085000291490554
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.793932
AUC of PRC = 0.332384
min(+P, Se) = 0.377778

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07777199894189835
difference in average predicted and observed risk = -0.014278001058101661
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.829231
AUC of PRC = 0.519624
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06726200133562088
difference in average predicted and observed risk = -0.021939998664379123
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.808804
AUC of PRC = 0.369638
min(+P, Se) = 0.395833

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10380200296640396
difference in average predicted and observed risk = -0.01384499703359604
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.934259
AUC of PRC = 0.683796
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0791110023856163
difference in average predicted and observed risk = -0.009598997614383695
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.851971
AUC of PRC = 0.281361
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09728699922561646
difference in average predicted and observed risk = -0.052319000774383534
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.721248
AUC of PRC = 0.423399
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11343400180339813
difference in average predicted and observed risk = 0.03448700180339813
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08043699711561203
difference in average predicted and observed risk = -0.02115400288438797
number samples = 817
accuracy = 0.906977
precision class 0 = 0.91125
precision class 1 = 0.705882
recall class 0 = 0.993188
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.006812
positive prediction rate = 0.020808
AUC of ROC = 0.815288
AUC of PRC = 0.420858
min(+P, Se) = 0.445783

-------------------------------

Epoch 00027: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch27.state
Epoch 28/100
 - 276s - loss: 0.2717 - val_loss: 0.2574

==>predicting on train



confusion matrix:
[[2145   10]
 [ 215   40]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07900100201368332
difference in average predicted and observed risk = -0.02680799798631668
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.908898
precision class 1 = 0.8
recall class 0 = 0.99536
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.00464
positive prediction rate = 0.020747
AUC of ROC = 0.816818
AUC of PRC = 0.438225
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1165   14]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0842370018362999
difference in average predicted and observed risk = -0.006741998163700108
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.921677
precision class 1 = 0.575758
recall class 0 = 0.988126
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.011874
positive prediction rate = 0.025443
AUC of ROC = 0.81665
AUC of PRC = 0.370488
min(+P, Se) = 0.381356

-------------------------------

confusion matrix:
[[650   6]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09796299785375595
difference in average predicted and observed risk = -0.003407002146244051
number samples = 730
accuracy = 0.910959
precision class 0 = 0.916784
precision class 1 = 0.714286
recall class 0 = 0.990854
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.009146
positive prediction rate = 0.028767
AUC of ROC = 0.820946
AUC of PRC = 0.448296
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08913300186395645
difference in average predicted and observed risk = -0.036520998136043537
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.915669
AUC of PRC = 0.723333
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2451   23]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08093799650669098
difference in average predicted and observed risk = -0.012503003493309017
number samples = 2729
accuracy = 0.912789
precision class 0 = 0.919355
precision class 1 = 0.634921
recall class 0 = 0.990703
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.009297
positive prediction rate = 0.023085
AUC of ROC = 0.814531
AUC of PRC = 0.373485
min(+P, Se) = 0.398438

-------------------------------

confusion matrix:
[[1675    8]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08810199797153473
difference in average predicted and observed risk = -0.02564200202846527
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.904428
precision class 1 = 0.829787
recall class 0 = 0.995247
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.004753
positive prediction rate = 0.02475
AUC of ROC = 0.829174
AUC of PRC = 0.499713
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[542   7]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09111600369215012
difference in average predicted and observed risk = -0.031886996307849885
number samples = 626
accuracy = 0.878594
precision class 0 = 0.88707
precision class 1 = 0.533333
recall class 0 = 0.98725
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.01275
positive prediction rate = 0.023962
AUC of ROC = 0.8359
AUC of PRC = 0.446009
min(+P, Se) = 0.467532

-------------------------------

confusion matrix:
[[2241    8]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0708789974451065
difference in average predicted and observed risk = -0.013777002554893489
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924124
precision class 1 = 0.75
recall class 0 = 0.996443
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003557
positive prediction rate = 0.013024
AUC of ROC = 0.813725
AUC of PRC = 0.373357
min(+P, Se) = 0.365385

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08139000087976456
difference in average predicted and observed risk = -0.01941599912023545
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.776143
AUC of PRC = 0.281612
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[471  10]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12040200084447861
difference in average predicted and observed risk = -0.025245999155521393
number samples = 563
accuracy = 0.889876
precision class 0 = 0.900574
precision class 1 = 0.75
recall class 0 = 0.97921
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.02079
positive prediction rate = 0.071048
AUC of ROC = 0.840652
AUC of PRC = 0.56959
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[651   4]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09404200315475464
difference in average predicted and observed risk = -0.013586996845245364
number samples = 734
accuracy = 0.908719
precision class 0 = 0.911765
precision class 1 = 0.8
recall class 0 = 0.993893
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.006107
positive prediction rate = 0.027248
AUC of ROC = 0.814861
AUC of PRC = 0.462721
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4126   31]
 [ 392   79]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08387800306081772
difference in average predicted and observed risk = -0.017893996939182283
number samples = 4628
accuracy = 0.9086
precision class 0 = 0.913236
precision class 1 = 0.718182
recall class 0 = 0.992543
recall class 1 = 0.167728
false negative rate = 0.832272
false positive rate = 0.007457
positive prediction rate = 0.023768
AUC of ROC = 0.821512
AUC of PRC = 0.429519
min(+P, Se) = 0.42161

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08180800080299377
difference in average predicted and observed risk = 0.0016390008029937703
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.787059
AUC of PRC = 0.358175
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07761800289154053
difference in average predicted and observed risk = -0.031177997108459476
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.807737
AUC of PRC = 0.419188
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11863599717617035
difference in average predicted and observed risk = 0.008466997176170346
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.874725
AUC of PRC = 0.54212
min(+P, Se) = 0.647059

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.091669000685215
difference in average predicted and observed risk = -0.04166399931478501
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08929000049829483
difference in average predicted and observed risk = -0.025753999501705163
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.790256
AUC of PRC = 0.333321
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08242499828338623
difference in average predicted and observed risk = -0.009625001716613776
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.837767
AUC of PRC = 0.537174
min(+P, Se) = 0.541667

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07190699875354767
difference in average predicted and observed risk = -0.017295001246452335
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.813348
AUC of PRC = 0.370771
min(+P, Se) = 0.418605

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11043599992990494
difference in average predicted and observed risk = -0.007211000070095064
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.930556
AUC of PRC = 0.690289
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0822020024061203
difference in average predicted and observed risk = -0.006507997593879697
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.840708
AUC of PRC = 0.273095
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10270799696445465
difference in average predicted and observed risk = -0.04689800303554534
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.734893
AUC of PRC = 0.433359
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11933299899101257
difference in average predicted and observed risk = 0.04038599899101257
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08527299761772156
difference in average predicted and observed risk = -0.016318002382278443
number samples = 817
accuracy = 0.909425
precision class 0 = 0.913534
precision class 1 = 0.736842
recall class 0 = 0.993188
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.006812
positive prediction rate = 0.023256
AUC of ROC = 0.818571
AUC of PRC = 0.426296
min(+P, Se) = 0.457831

-------------------------------

Epoch 00028: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch28.state
Epoch 29/100
 - 276s - loss: 0.2680 - val_loss: 0.2584

==>predicting on train



confusion matrix:
[[2145   10]
 [ 215   40]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08026999980211258
difference in average predicted and observed risk = -0.02553900019788742
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.908898
precision class 1 = 0.8
recall class 0 = 0.99536
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.00464
positive prediction rate = 0.020747
AUC of ROC = 0.816596
AUC of PRC = 0.444196
min(+P, Se) = 0.427451

-------------------------------

confusion matrix:
[[1165   14]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0863799974322319
difference in average predicted and observed risk = -0.004599002567768101
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.924603
precision class 1 = 0.621622
recall class 0 = 0.988126
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.011874
positive prediction rate = 0.028527
AUC of ROC = 0.80768
AUC of PRC = 0.383641
min(+P, Se) = 0.38843

-------------------------------

confusion matrix:
[[649   7]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10074800252914429
difference in average predicted and observed risk = -0.0006219974708557147
number samples = 730
accuracy = 0.909589
precision class 0 = 0.916667
precision class 1 = 0.681818
recall class 0 = 0.989329
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.010671
positive prediction rate = 0.030137
AUC of ROC = 0.829124
AUC of PRC = 0.452023
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09029500186443329
difference in average predicted and observed risk = -0.0353589981355667
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.923154
AUC of PRC = 0.742036
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2452   22]
 [ 211   44]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08279299736022949
difference in average predicted and observed risk = -0.010648002639770504
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.920766
precision class 1 = 0.666667
recall class 0 = 0.991108
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.008892
positive prediction rate = 0.024185
AUC of ROC = 0.812824
AUC of PRC = 0.383212
min(+P, Se) = 0.396078

-------------------------------

confusion matrix:
[[1673   10]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08969800174236298
difference in average predicted and observed risk = -0.024045998257637022
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.905303
precision class 1 = 0.803922
recall class 0 = 0.994058
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.005942
positive prediction rate = 0.026856
AUC of ROC = 0.829268
AUC of PRC = 0.504981
min(+P, Se) = 0.472222

-------------------------------

confusion matrix:
[[541   8]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09674499928951263
difference in average predicted and observed risk = -0.026258000710487367
number samples = 626
accuracy = 0.880192
precision class 0 = 0.889803
precision class 1 = 0.555556
recall class 0 = 0.985428
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.014572
positive prediction rate = 0.028754
AUC of ROC = 0.825444
AUC of PRC = 0.440094
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2240    9]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07158099859952927
difference in average predicted and observed risk = -0.013075001400470729
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.925237
precision class 1 = 0.75
recall class 0 = 0.995998
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004002
positive prediction rate = 0.014652
AUC of ROC = 0.812515
AUC of PRC = 0.377776
min(+P, Se) = 0.365385

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08458200097084045
difference in average predicted and observed risk = -0.016223999029159553
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.768969
AUC of PRC = 0.274775
min(+P, Se) = 0.322581

-------------------------------

confusion matrix:
[[473   8]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12200400233268738
difference in average predicted and observed risk = -0.023643997667312622
number samples = 563
accuracy = 0.893428
precision class 0 = 0.900952
precision class 1 = 0.789474
recall class 0 = 0.983368
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.016632
positive prediction rate = 0.067496
AUC of ROC = 0.842655
AUC of PRC = 0.573906
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[650   5]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09560800343751907
difference in average predicted and observed risk = -0.012020996562480929
number samples = 734
accuracy = 0.908719
precision class 0 = 0.912921
precision class 1 = 0.772727
recall class 0 = 0.992366
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.007634
positive prediction rate = 0.029973
AUC of ROC = 0.822012
AUC of PRC = 0.452525
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4125   32]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08562599867582321
difference in average predicted and observed risk = -0.01614600132417679
number samples = 4628
accuracy = 0.90968
precision class 0 = 0.914431
precision class 1 = 0.726496
recall class 0 = 0.992302
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.007698
positive prediction rate = 0.025281
AUC of ROC = 0.820676
AUC of PRC = 0.435495
min(+P, Se) = 0.427966

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0843140035867691
difference in average predicted and observed risk = 0.0041450035867691
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.779092
AUC of PRC = 0.350568
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0798489972949028
difference in average predicted and observed risk = -0.028947002705097202
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.800829
AUC of PRC = 0.414009
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12034899741411209
difference in average predicted and observed risk = 0.010179997414112088
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871795
AUC of PRC = 0.547135
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09016700088977814
difference in average predicted and observed risk = -0.04316599911022187
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09120500087738037
difference in average predicted and observed risk = -0.023838999122619622
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.784872
AUC of PRC = 0.328792
min(+P, Se) = 0.404762

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08465500175952911
difference in average predicted and observed risk = -0.007394998240470893
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.83253
AUC of PRC = 0.533188
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07259199768304825
difference in average predicted and observed risk = -0.016610002316951755
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.808804
AUC of PRC = 0.388414
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11272700130939484
difference in average predicted and observed risk = -0.004919998690605165
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.928704
AUC of PRC = 0.710816
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08820900321006775
difference in average predicted and observed risk = -0.0005009967899322482
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.841512
AUC of PRC = 0.275948
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10511399805545807
difference in average predicted and observed risk = -0.04449200194454192
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.731969
AUC of PRC = 0.422729
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12298999726772308
difference in average predicted and observed risk = 0.04404299726772308
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08737300336360931
difference in average predicted and observed risk = -0.014217996636390687
number samples = 817
accuracy = 0.909425
precision class 0 = 0.913534
precision class 1 = 0.736842
recall class 0 = 0.993188
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.006812
positive prediction rate = 0.023256
AUC of ROC = 0.813401
AUC of PRC = 0.425548
min(+P, Se) = 0.445783

-------------------------------

Epoch 00029: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch29.state
Epoch 30/100
 - 279s - loss: 0.2741 - val_loss: 0.2553

==>predicting on train



confusion matrix:
[[2146    9]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09231799840927124
difference in average predicted and observed risk = -0.01349100159072876
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.9074
precision class 1 = 0.8
recall class 0 = 0.995824
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.004176
positive prediction rate = 0.018672
AUC of ROC = 0.809812
AUC of PRC = 0.437726
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1167   12]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09812799841165543
difference in average predicted and observed risk = 0.007148998411655422
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.921073
precision class 1 = 0.6
recall class 0 = 0.989822
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.010178
positive prediction rate = 0.02313
AUC of ROC = 0.815213
AUC of PRC = 0.391904
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11146099865436554
difference in average predicted and observed risk = 0.010090998654365538
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.814993
AUC of PRC = 0.450431
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10145899653434753
difference in average predicted and observed risk = -0.024195003465652454
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.907435
AUC of PRC = 0.698238
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2454   20]
 [ 220   35]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09436900168657303
difference in average predicted and observed risk = 0.0009280016865730323
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.917726
precision class 1 = 0.636364
recall class 0 = 0.991916
recall class 1 = 0.137255
false negative rate = 0.862745
false positive rate = 0.008084
positive prediction rate = 0.020154
AUC of ROC = 0.806573
AUC of PRC = 0.383149
min(+P, Se) = 0.40625

-------------------------------

confusion matrix:
[[1675    8]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.1016170009970665
difference in average predicted and observed risk = -0.0121269990029335
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.90394
precision class 1 = 0.826087
recall class 0 = 0.995247
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.004753
positive prediction rate = 0.024223
AUC of ROC = 0.826954
AUC of PRC = 0.502408
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[542   7]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10878100246191025
difference in average predicted and observed risk = -0.014221997538089753
number samples = 626
accuracy = 0.878594
precision class 0 = 0.88707
precision class 1 = 0.533333
recall class 0 = 0.98725
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.01275
positive prediction rate = 0.023962
AUC of ROC = 0.828851
AUC of PRC = 0.450335
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2241    8]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08376699686050415
difference in average predicted and observed risk = -0.0008890031394958448
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923743
precision class 1 = 0.741935
recall class 0 = 0.996443
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.003557
positive prediction rate = 0.012617
AUC of ROC = 0.808917
AUC of PRC = 0.37229
min(+P, Se) = 0.367442

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09800399839878082
difference in average predicted and observed risk = -0.002802001601219184
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.767892
AUC of PRC = 0.273874
min(+P, Se) = 0.309524

-------------------------------

confusion matrix:
[[473   8]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13122500479221344
difference in average predicted and observed risk = -0.01442299520778656
number samples = 563
accuracy = 0.889876
precision class 0 = 0.897533
precision class 1 = 0.777778
recall class 0 = 0.983368
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.016632
positive prediction rate = 0.063943
AUC of ROC = 0.82942
AUC of PRC = 0.579394
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[652   3]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10681899636983871
difference in average predicted and observed risk = -0.0008100036301612878
number samples = 734
accuracy = 0.905995
precision class 0 = 0.908078
precision class 1 = 0.8125
recall class 0 = 0.99542
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00458
positive prediction rate = 0.021798
AUC of ROC = 0.817277
AUC of PRC = 0.472883
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4129   28]
 [ 398   73]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09734299778938293
difference in average predicted and observed risk = -0.004429002210617067
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.912083
precision class 1 = 0.722772
recall class 0 = 0.993264
recall class 1 = 0.154989
false negative rate = 0.845011
false positive rate = 0.006736
positive prediction rate = 0.021824
AUC of ROC = 0.816201
AUC of PRC = 0.433941
min(+P, Se) = 0.425847

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09506600350141525
difference in average predicted and observed risk = 0.014897003501415249
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.806374
AUC of PRC = 0.345031
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09422100335359573
difference in average predicted and observed risk = -0.01457499664640427
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.799226
AUC of PRC = 0.437833
min(+P, Se) = 0.395833

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1299850046634674
difference in average predicted and observed risk = 0.019816004663467404
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.876923
AUC of PRC = 0.550337
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10451900213956833
difference in average predicted and observed risk = -0.028813997860431678
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1043270006775856
difference in average predicted and observed risk = -0.010716999322414392
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.802991
AUC of PRC = 0.34596
min(+P, Se) = 0.365385

-------------------------------

confusion matrix:
[[433   1]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09694799780845642
difference in average predicted and observed risk = 0.004897997808456414
number samples = 478
accuracy = 0.930962
precision class 0 = 0.931183
precision class 1 = 0.923077
recall class 0 = 0.997696
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.002304
positive prediction rate = 0.027197
AUC of ROC = 0.833473
AUC of PRC = 0.549344
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08494599908590317
difference in average predicted and observed risk = -0.004256000914096836
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.816061
AUC of PRC = 0.417343
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12047699838876724
difference in average predicted and observed risk = 0.002829998388767241
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.937963
AUC of PRC = 0.733915
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10342100262641907
difference in average predicted and observed risk = 0.01471100262641907
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.842317
AUC of PRC = 0.282445
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11824700236320496
difference in average predicted and observed risk = -0.03135899763679503
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.747076
AUC of PRC = 0.428075
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14186200499534607
difference in average predicted and observed risk = 0.06291500499534607
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.728022
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10001000016927719
difference in average predicted and observed risk = -0.0015809998307228096
number samples = 817
accuracy = 0.911873
precision class 0 = 0.915829
precision class 1 = 0.761905
recall class 0 = 0.993188
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.006812
positive prediction rate = 0.025704
AUC of ROC = 0.821805
AUC of PRC = 0.442217
min(+P, Se) = 0.447059

-------------------------------

Epoch 00030: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch30.state
Epoch 31/100
 - 280s - loss: 0.2720 - val_loss: 0.2630

==>predicting on train



confusion matrix:
[[2147    8]
 [ 221   34]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07765199989080429
difference in average predicted and observed risk = -0.02815700010919571
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.906672
precision class 1 = 0.809524
recall class 0 = 0.996288
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.003712
positive prediction rate = 0.017427
AUC of ROC = 0.814019
AUC of PRC = 0.434867
min(+P, Se) = 0.420849

-------------------------------

confusion matrix:
[[1166   13]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08490999788045883
difference in average predicted and observed risk = -0.0060690021195411725
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.923199
precision class 1 = 0.617647
recall class 0 = 0.988974
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.011026
positive prediction rate = 0.026214
AUC of ROC = 0.800312
AUC of PRC = 0.386015
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[650   6]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09716799855232239
difference in average predicted and observed risk = -0.004202001447677614
number samples = 730
accuracy = 0.909589
precision class 0 = 0.915493
precision class 1 = 0.7
recall class 0 = 0.990854
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.009146
positive prediction rate = 0.027397
AUC of ROC = 0.82966
AUC of PRC = 0.458621
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08828800171613693
difference in average predicted and observed risk = -0.037365998283863056
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.919411
AUC of PRC = 0.741022
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2456   18]
 [ 219   36]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08056800067424774
difference in average predicted and observed risk = -0.012872999325752255
number samples = 2729
accuracy = 0.913155
precision class 0 = 0.918131
precision class 1 = 0.666667
recall class 0 = 0.992724
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.007276
positive prediction rate = 0.019787
AUC of ROC = 0.814286
AUC of PRC = 0.388189
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1673   10]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08698999881744385
difference in average predicted and observed risk = -0.02675400118255615
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.904324
precision class 1 = 0.795918
recall class 0 = 0.994058
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.005942
positive prediction rate = 0.025803
AUC of ROC = 0.819392
AUC of PRC = 0.491251
min(+P, Se) = 0.449074

-------------------------------

confusion matrix:
[[543   6]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09864100068807602
difference in average predicted and observed risk = -0.024361999311923982
number samples = 626
accuracy = 0.881789
precision class 0 = 0.888707
precision class 1 = 0.6
recall class 0 = 0.989071
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.010929
positive prediction rate = 0.023962
AUC of ROC = 0.823031
AUC of PRC = 0.439824
min(+P, Se) = 0.47561

-------------------------------

confusion matrix:
[[2242    7]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06890299916267395
difference in average predicted and observed risk = -0.015753000837326045
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.923774
precision class 1 = 0.766667
recall class 0 = 0.996888
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.003112
positive prediction rate = 0.01221
AUC of ROC = 0.809829
AUC of PRC = 0.36786
min(+P, Se) = 0.355769

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08378399908542633
difference in average predicted and observed risk = -0.017022000914573676
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.772556
AUC of PRC = 0.275676
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[471  10]
 [ 53  29]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11905399709939957
difference in average predicted and observed risk = -0.026594002900600433
number samples = 563
accuracy = 0.888099
precision class 0 = 0.898855
precision class 1 = 0.74359
recall class 0 = 0.97921
recall class 1 = 0.353659
false negative rate = 0.646341
false positive rate = 0.02079
positive prediction rate = 0.069272
AUC of ROC = 0.835531
AUC of PRC = 0.594142
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[652   3]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09021200239658356
difference in average predicted and observed risk = -0.017416997603416445
number samples = 734
accuracy = 0.905995
precision class 0 = 0.908078
precision class 1 = 0.8125
recall class 0 = 0.99542
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00458
positive prediction rate = 0.021798
AUC of ROC = 0.816272
AUC of PRC = 0.459422
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4129   28]
 [ 396   75]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08320300281047821
difference in average predicted and observed risk = -0.01856899718952179
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.912486
precision class 1 = 0.728155
recall class 0 = 0.993264
recall class 1 = 0.159236
false negative rate = 0.840764
false positive rate = 0.006736
positive prediction rate = 0.022256
AUC of ROC = 0.817089
AUC of PRC = 0.432518
min(+P, Se) = 0.422505

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08284000307321548
difference in average predicted and observed risk = 0.0026710030732154805
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.730324
AUC of PRC = 0.32713
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07786799967288971
difference in average predicted and observed risk = -0.030928000327110294
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.7937
AUC of PRC = 0.402619
min(+P, Se) = 0.396226

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11938600242137909
difference in average predicted and observed risk = 0.009217002421379086
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.872527
AUC of PRC = 0.519777
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09141899645328522
difference in average predicted and observed risk = -0.04191400354671479
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09019199758768082
difference in average predicted and observed risk = -0.024852002412319177
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.772906
AUC of PRC = 0.324803
min(+P, Se) = 0.387755

-------------------------------

confusion matrix:
[[432   2]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08269300311803818
difference in average predicted and observed risk = -0.00935699688196183
number samples = 478
accuracy = 0.922594
precision class 0 = 0.925054
precision class 1 = 0.818182
recall class 0 = 0.995392
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.004608
positive prediction rate = 0.023013
AUC of ROC = 0.821114
AUC of PRC = 0.519937
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0697380006313324
difference in average predicted and observed risk = -0.019463999368667606
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.791305
AUC of PRC = 0.380616
min(+P, Se) = 0.382979

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11062200367450714
difference in average predicted and observed risk = -0.0070249963254928605
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.924074
AUC of PRC = 0.621427
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09369300305843353
difference in average predicted and observed risk = 0.0049830030584335355
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.826227
AUC of PRC = 0.241739
min(+P, Se) = 0.272727

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10049699991941452
difference in average predicted and observed risk = -0.04910900008058547
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.731481
AUC of PRC = 0.431234
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1244639977812767
difference in average predicted and observed risk = 0.0455169977812767
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0858049988746643
difference in average predicted and observed risk = -0.015786001125335694
number samples = 817
accuracy = 0.905753
precision class 0 = 0.911139
precision class 1 = 0.666667
recall class 0 = 0.991826
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.008174
positive prediction rate = 0.022032
AUC of ROC = 0.800187
AUC of PRC = 0.410202
min(+P, Se) = 0.421687

-------------------------------

Epoch 00031: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch31.state
Epoch 32/100
 - 284s - loss: 0.2692 - val_loss: 0.2650

==>predicting on train



confusion matrix:
[[2148    7]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06582199782133102
difference in average predicted and observed risk = -0.039987002178668976
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.907478
precision class 1 = 0.837209
recall class 0 = 0.996752
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.003248
positive prediction rate = 0.017842
AUC of ROC = 0.815299
AUC of PRC = 0.448177
min(+P, Se) = 0.420849

-------------------------------

confusion matrix:
[[1169   10]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07275000214576721
difference in average predicted and observed risk = -0.018228997854232792
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.923381
precision class 1 = 0.677419
recall class 0 = 0.991518
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.008482
positive prediction rate = 0.023901
AUC of ROC = 0.809843
AUC of PRC = 0.395325
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08381199836730957
difference in average predicted and observed risk = -0.01755800163269043
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.821543
AUC of PRC = 0.455337
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0761839970946312
difference in average predicted and observed risk = -0.04947000290536879
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.933882
AUC of PRC = 0.743449
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2456   18]
 [ 216   39]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06817000359296799
difference in average predicted and observed risk = -0.02527099640703201
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.919162
precision class 1 = 0.684211
recall class 0 = 0.992724
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.007276
positive prediction rate = 0.020887
AUC of ROC = 0.815863
AUC of PRC = 0.397868
min(+P, Se) = 0.396078

-------------------------------

confusion matrix:
[[1677    6]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07513800263404846
difference in average predicted and observed risk = -0.038605997365951536
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.903556
precision class 1 = 0.860465
recall class 0 = 0.996435
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.003565
positive prediction rate = 0.022643
AUC of ROC = 0.82255
AUC of PRC = 0.50299
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[544   5]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08607900142669678
difference in average predicted and observed risk = -0.036923998573303224
number samples = 626
accuracy = 0.881789
precision class 0 = 0.887439
precision class 1 = 0.615385
recall class 0 = 0.990893
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.009107
positive prediction rate = 0.020767
AUC of ROC = 0.836539
AUC of PRC = 0.459308
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2242    7]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05715800076723099
difference in average predicted and observed risk = -0.027497999232769008
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.924155
precision class 1 = 0.774194
recall class 0 = 0.996888
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003112
positive prediction rate = 0.012617
AUC of ROC = 0.810103
AUC of PRC = 0.374982
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07066100090742111
difference in average predicted and observed risk = -0.030144999092578895
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.783498
AUC of PRC = 0.283949
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[472   9]
 [ 53  29]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10671799629926682
difference in average predicted and observed risk = -0.038930003700733185
number samples = 563
accuracy = 0.889876
precision class 0 = 0.899048
precision class 1 = 0.763158
recall class 0 = 0.981289
recall class 1 = 0.353659
false negative rate = 0.646341
false positive rate = 0.018711
positive prediction rate = 0.067496
AUC of ROC = 0.833654
AUC of PRC = 0.587405
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[653   2]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07737500220537186
difference in average predicted and observed risk = -0.030253997794628146
number samples = 734
accuracy = 0.908719
precision class 0 = 0.909471
precision class 1 = 0.875
recall class 0 = 0.996947
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.003053
positive prediction rate = 0.021798
AUC of ROC = 0.819944
AUC of PRC = 0.475891
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4133   24]
 [ 395   76]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07102899998426437
difference in average predicted and observed risk = -0.030743000015735628
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.912765
precision class 1 = 0.76
recall class 0 = 0.994227
recall class 1 = 0.161359
false negative rate = 0.838641
false positive rate = 0.005773
positive prediction rate = 0.021608
AUC of ROC = 0.819584
AUC of PRC = 0.442202
min(+P, Se) = 0.424628

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07101400196552277
difference in average predicted and observed risk = -0.009154998034477238
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.767986
AUC of PRC = 0.350892
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06535200029611588
difference in average predicted and observed risk = -0.04344399970388413
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.790605
AUC of PRC = 0.415071
min(+P, Se) = 0.383333

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11125499755144119
difference in average predicted and observed risk = 0.0010859975514411896
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.877656
AUC of PRC = 0.534543
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0766879990696907
difference in average predicted and observed risk = -0.0566450009303093
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07739599794149399
difference in average predicted and observed risk = -0.037648002058506005
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.766923
AUC of PRC = 0.321641
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07165999710559845
difference in average predicted and observed risk = -0.020390002894401557
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.834311
AUC of PRC = 0.533137
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05764700099825859
difference in average predicted and observed risk = -0.03155499900174141
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.800122
AUC of PRC = 0.386591
min(+P, Se) = 0.377778

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09931500256061554
difference in average predicted and observed risk = -0.018331997439384462
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.925
AUC of PRC = 0.703944
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08054699748754501
difference in average predicted and observed risk = -0.008163002512454984
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.832663
AUC of PRC = 0.263876
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09198199957609177
difference in average predicted and observed risk = -0.05762400042390822
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.735867
AUC of PRC = 0.431487
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10878100246191025
difference in average predicted and observed risk = 0.029834002461910245
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.753704
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0740400031208992
difference in average predicted and observed risk = -0.0275509968791008
number samples = 817
accuracy = 0.908201
precision class 0 = 0.91239
precision class 1 = 0.722222
recall class 0 = 0.993188
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.006812
positive prediction rate = 0.022032
AUC of ROC = 0.806014
AUC of PRC = 0.426835
min(+P, Se) = 0.457831

-------------------------------

Epoch 00032: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch32.state
Epoch 33/100
 - 278s - loss: 0.2730 - val_loss: 0.2524

==>predicting on train



confusion matrix:
[[2146    9]
 [ 215   40]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08093900233507156
difference in average predicted and observed risk = -0.024869997664928437
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.908937
precision class 1 = 0.816327
recall class 0 = 0.995824
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.004176
positive prediction rate = 0.020332
AUC of ROC = 0.823317
AUC of PRC = 0.446576
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1164   15]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08838599920272827
difference in average predicted and observed risk = -0.002593000797271733
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.926014
precision class 1 = 0.625
recall class 0 = 0.987277
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.012723
positive prediction rate = 0.03084
AUC of ROC = 0.815119
AUC of PRC = 0.387583
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[648   8]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10199499875307083
difference in average predicted and observed risk = 0.0006249987530708295
number samples = 730
accuracy = 0.906849
precision class 0 = 0.915254
precision class 1 = 0.636364
recall class 0 = 0.987805
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.012195
positive prediction rate = 0.030137
AUC of ROC = 0.838229
AUC of PRC = 0.450928
min(+P, Se) = 0.506667

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09161099791526794
difference in average predicted and observed risk = -0.034043002084732044
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.924152
AUC of PRC = 0.712925
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2450   24]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08327700197696686
difference in average predicted and observed risk = -0.010163998023033138
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.921053
precision class 1 = 0.652174
recall class 0 = 0.990299
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.009701
positive prediction rate = 0.025284
AUC of ROC = 0.827919
AUC of PRC = 0.397262
min(+P, Se) = 0.40856

-------------------------------

confusion matrix:
[[1674    9]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09183300286531448
difference in average predicted and observed risk = -0.021910997134685514
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.904865
precision class 1 = 0.816327
recall class 0 = 0.994652
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.005348
positive prediction rate = 0.025803
AUC of ROC = 0.825023
AUC of PRC = 0.497809
min(+P, Se) = 0.439815

-------------------------------

confusion matrix:
[[541   8]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10509199649095535
difference in average predicted and observed risk = -0.01791100350904465
number samples = 626
accuracy = 0.886581
precision class 0 = 0.895695
precision class 1 = 0.636364
recall class 0 = 0.985428
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.014572
positive prediction rate = 0.035144
AUC of ROC = 0.83687
AUC of PRC = 0.4485
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2238   11]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07090599834918976
difference in average predicted and observed risk = -0.013750001650810237
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924411
precision class 1 = 0.694444
recall class 0 = 0.995109
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.004891
positive prediction rate = 0.014652
AUC of ROC = 0.825752
AUC of PRC = 0.380915
min(+P, Se) = 0.358852

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08619599789381027
difference in average predicted and observed risk = -0.014610002106189734
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.770404
AUC of PRC = 0.269528
min(+P, Se) = 0.3125

-------------------------------

confusion matrix:
[[473   8]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12538400292396545
difference in average predicted and observed risk = -0.020263997076034546
number samples = 563
accuracy = 0.893428
precision class 0 = 0.900952
precision class 1 = 0.789474
recall class 0 = 0.983368
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.016632
positive prediction rate = 0.067496
AUC of ROC = 0.837305
AUC of PRC = 0.588917
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09493400156497955
difference in average predicted and observed risk = -0.01269499843502045
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.82549
AUC of PRC = 0.458452
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[4124   33]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08678799867630005
difference in average predicted and observed risk = -0.014984001323699953
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.914412
precision class 1 = 0.720339
recall class 0 = 0.992062
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.007938
positive prediction rate = 0.025497
AUC of ROC = 0.827533
AUC of PRC = 0.440253
min(+P, Se) = 0.418259

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08660399913787842
difference in average predicted and observed risk = 0.006434999137878414
number samples = 237
accuracy = 0.915612
precision class 0 = 0.930435
precision class 1 = 0.428571
recall class 0 = 0.981651
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018349
positive prediction rate = 0.029536
AUC of ROC = 0.783921
AUC of PRC = 0.341138
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0832189992070198
difference in average predicted and observed risk = -0.025577000792980198
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.817519
AUC of PRC = 0.452571
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13014699518680573
difference in average predicted and observed risk = 0.019977995186805722
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.873993
AUC of PRC = 0.508792
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09765700250864029
difference in average predicted and observed risk = -0.03567599749135972
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09663599729537964
difference in average predicted and observed risk = -0.018408002704620355
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.788376
AUC of PRC = 0.347034
min(+P, Se) = 0.404762

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08787299692630768
difference in average predicted and observed risk = -0.004177003073692329
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.855938
AUC of PRC = 0.539818
min(+P, Se) = 0.543478

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07275500148534775
difference in average predicted and observed risk = -0.016446998514652256
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.823996
AUC of PRC = 0.426989
min(+P, Se) = 0.395349

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11798900365829468
difference in average predicted and observed risk = 0.00034200365829467616
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.914815
AUC of PRC = 0.700137
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10108000040054321
difference in average predicted and observed risk = 0.012370000400543216
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.85358
AUC of PRC = 0.28764
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[105   3]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10887899994850159
difference in average predicted and observed risk = -0.0407270000514984
number samples = 127
accuracy = 0.866142
precision class 0 = 0.882353
precision class 1 = 0.625
recall class 0 = 0.972222
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.027778
positive prediction rate = 0.062992
AUC of ROC = 0.761696
AUC of PRC = 0.436277
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14138400554656982
difference in average predicted and observed risk = 0.06243700554656982
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.753704
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09150899946689606
difference in average predicted and observed risk = -0.010082000533103944
number samples = 817
accuracy = 0.908201
precision class 0 = 0.914465
precision class 1 = 0.681818
recall class 0 = 0.990463
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.009537
positive prediction rate = 0.026928
AUC of ROC = 0.826286
AUC of PRC = 0.439907
min(+P, Se) = 0.481928

-------------------------------

Epoch 00033: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch33.state
Epoch 34/100
 - 271s - loss: 0.2673 - val_loss: 0.2565

==>predicting on train



confusion matrix:
[[2147    8]
 [ 222   33]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08677300065755844
difference in average predicted and observed risk = -0.01903599934244156
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.90629
precision class 1 = 0.804878
recall class 0 = 0.996288
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.003712
positive prediction rate = 0.017012
AUC of ROC = 0.826714
AUC of PRC = 0.450499
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[1168   11]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09275099635124207
difference in average predicted and observed risk = 0.0017719963512420611
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921136
precision class 1 = 0.62069
recall class 0 = 0.99067
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.00933
positive prediction rate = 0.022359
AUC of ROC = 0.818454
AUC of PRC = 0.405036
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[651   5]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10346800088882446
difference in average predicted and observed risk = 0.002098000888824461
number samples = 730
accuracy = 0.908219
precision class 0 = 0.913043
precision class 1 = 0.705882
recall class 0 = 0.992378
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.007622
positive prediction rate = 0.023288
AUC of ROC = 0.841855
AUC of PRC = 0.464075
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09303800016641617
difference in average predicted and observed risk = -0.03261599983358382
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.931387
AUC of PRC = 0.74218
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2456   18]
 [ 222   33]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08762700110673904
difference in average predicted and observed risk = -0.005813998893260952
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.917102
precision class 1 = 0.647059
recall class 0 = 0.992724
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.007276
positive prediction rate = 0.018688
AUC of ROC = 0.830001
AUC of PRC = 0.408221
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1676    7]
 [ 181   35]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09667699784040451
difference in average predicted and observed risk = -0.017067002159595487
number samples = 1899
accuracy = 0.901
precision class 0 = 0.902531
precision class 1 = 0.833333
recall class 0 = 0.995841
recall class 1 = 0.162037
false negative rate = 0.837963
false positive rate = 0.004159
positive prediction rate = 0.022117
AUC of ROC = 0.831515
AUC of PRC = 0.502848
min(+P, Se) = 0.447005

-------------------------------

confusion matrix:
[[541   8]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10886300355195999
difference in average predicted and observed risk = -0.01413999644804001
number samples = 626
accuracy = 0.876997
precision class 0 = 0.886885
precision class 1 = 0.5
recall class 0 = 0.985428
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.014572
positive prediction rate = 0.025559
AUC of ROC = 0.854399
AUC of PRC = 0.467004
min(+P, Se) = 0.518072

-------------------------------

confusion matrix:
[[2244    5]
 [ 187   21]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07671099901199341
difference in average predicted and observed risk = -0.007945000988006587
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.923077
precision class 1 = 0.807692
recall class 0 = 0.997777
recall class 1 = 0.100962
false negative rate = 0.899038
false positive rate = 0.002223
positive prediction rate = 0.010582
AUC of ROC = 0.824118
AUC of PRC = 0.388502
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09042199701070786
difference in average predicted and observed risk = -0.010384002989292151
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.77417
AUC of PRC = 0.265089
min(+P, Se) = 0.282051

-------------------------------

confusion matrix:
[[473   8]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13099099695682526
difference in average predicted and observed risk = -0.014657003043174743
number samples = 563
accuracy = 0.889876
precision class 0 = 0.897533
precision class 1 = 0.777778
recall class 0 = 0.983368
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.016632
positive prediction rate = 0.063943
AUC of ROC = 0.84301
AUC of PRC = 0.5981
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[653   2]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09526199847459793
difference in average predicted and observed risk = -0.012367001525402072
number samples = 734
accuracy = 0.90327
precision class 0 = 0.904432
precision class 1 = 0.833333
recall class 0 = 0.996947
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.003053
positive prediction rate = 0.016349
AUC of ROC = 0.822128
AUC of PRC = 0.449162
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4132   25]
 [ 403   68]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09133999794721603
difference in average predicted and observed risk = -0.010432002052783967
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.911136
precision class 1 = 0.731183
recall class 0 = 0.993986
recall class 1 = 0.144374
false negative rate = 0.855626
false positive rate = 0.006014
positive prediction rate = 0.020095
AUC of ROC = 0.831283
AUC of PRC = 0.448744
min(+P, Se) = 0.430998

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09003700315952301
difference in average predicted and observed risk = 0.009868003159523006
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.745292
AUC of PRC = 0.314772
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08884300291538239
difference in average predicted and observed risk = -0.01995299708461762
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.822713
AUC of PRC = 0.444591
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.130280002951622
difference in average predicted and observed risk = 0.020111002951622006
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.882051
AUC of PRC = 0.535957
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09574799984693527
difference in average predicted and observed risk = -0.037585000153064735
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10079000145196915
difference in average predicted and observed risk = -0.014253998548030847
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.796581
AUC of PRC = 0.340448
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09162499755620956
difference in average predicted and observed risk = -0.0004250024437904426
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.834992
AUC of PRC = 0.512188
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07676699757575989
difference in average predicted and observed risk = -0.012435002424240116
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.819927
AUC of PRC = 0.40601
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12460099905729294
difference in average predicted and observed risk = 0.006953999057292937
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.934259
AUC of PRC = 0.726279
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10543599724769592
difference in average predicted and observed risk = 0.016725997247695926
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.84473
AUC of PRC = 0.262555
min(+P, Se) = 0.315789

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11052300035953522
difference in average predicted and observed risk = -0.03908299964046477
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.751949
AUC of PRC = 0.427931
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14321699738502502
difference in average predicted and observed risk = 0.06426999738502502
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0954279974102974
difference in average predicted and observed risk = -0.006163002589702607
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.819753
AUC of PRC = 0.425161
min(+P, Se) = 0.421687

-------------------------------

Epoch 00034: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch34.state
Epoch 35/100
 - 304s - loss: 0.2687 - val_loss: 0.2585

==>predicting on train



confusion matrix:
[[2142   13]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0701960027217865
difference in average predicted and observed risk = -0.0356129972782135
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.908397
precision class 1 = 0.75
recall class 0 = 0.993968
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.006032
positive prediction rate = 0.021577
AUC of ROC = 0.826083
AUC of PRC = 0.446443
min(+P, Se) = 0.408397

-------------------------------

confusion matrix:
[[1162   17]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07742399722337723
difference in average predicted and observed risk = -0.013555002776622777
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.924423
precision class 1 = 0.575
recall class 0 = 0.985581
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.014419
positive prediction rate = 0.03084
AUC of ROC = 0.826282
AUC of PRC = 0.404359
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[648   8]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08932200074195862
difference in average predicted and observed risk = -0.012047999258041384
number samples = 730
accuracy = 0.906849
precision class 0 = 0.915254
precision class 1 = 0.636364
recall class 0 = 0.987805
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.012195
positive prediction rate = 0.030137
AUC of ROC = 0.834315
AUC of PRC = 0.46621
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08275499939918518
difference in average predicted and observed risk = -0.04289900060081481
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.914421
AUC of PRC = 0.681122
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[2447   27]
 [ 213   42]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0729139968752861
difference in average predicted and observed risk = -0.020527003124713894
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.919925
precision class 1 = 0.608696
recall class 0 = 0.989087
recall class 1 = 0.164706
false negative rate = 0.835294
false positive rate = 0.010914
positive prediction rate = 0.025284
AUC of ROC = 0.827651
AUC of PRC = 0.401602
min(+P, Se) = 0.388462

-------------------------------

confusion matrix:
[[1671   12]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07984200119972229
difference in average predicted and observed risk = -0.03390199880027771
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.904221
precision class 1 = 0.764706
recall class 0 = 0.99287
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.00713
positive prediction rate = 0.026856
AUC of ROC = 0.833666
AUC of PRC = 0.500703
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[539  10]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08964899927377701
difference in average predicted and observed risk = -0.03335400072622299
number samples = 626
accuracy = 0.876997
precision class 0 = 0.889439
precision class 1 = 0.5
recall class 0 = 0.981785
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.018215
positive prediction rate = 0.031949
AUC of ROC = 0.842997
AUC of PRC = 0.449684
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2237   12]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.060812998563051224
difference in average predicted and observed risk = -0.02384300143694877
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924762
precision class 1 = 0.684211
recall class 0 = 0.994664
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.005336
positive prediction rate = 0.015466
AUC of ROC = 0.829168
AUC of PRC = 0.384885
min(+P, Se) = 0.360577

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07035300135612488
difference in average predicted and observed risk = -0.03045299864387513
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.791031
AUC of PRC = 0.275436
min(+P, Se) = 0.315789

-------------------------------

confusion matrix:
[[471  10]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12069399654865265
difference in average predicted and observed risk = -0.02495400345134735
number samples = 563
accuracy = 0.895204
precision class 0 = 0.905769
precision class 1 = 0.767442
recall class 0 = 0.97921
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.02079
positive prediction rate = 0.076377
AUC of ROC = 0.834897
AUC of PRC = 0.593407
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08128999918699265
difference in average predicted and observed risk = -0.026339000813007357
number samples = 734
accuracy = 0.900545
precision class 0 = 0.905292
precision class 1 = 0.6875
recall class 0 = 0.992366
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.007634
positive prediction rate = 0.021798
AUC of ROC = 0.821219
AUC of PRC = 0.4456
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4118   39]
 [ 390   81]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0757569968700409
difference in average predicted and observed risk = -0.026015003129959108
number samples = 4628
accuracy = 0.907303
precision class 0 = 0.913487
precision class 1 = 0.675
recall class 0 = 0.990618
recall class 1 = 0.171975
false negative rate = 0.828025
false positive rate = 0.009382
positive prediction rate = 0.025929
AUC of ROC = 0.830636
AUC of PRC = 0.443438
min(+P, Se) = 0.413136

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07597800344228745
difference in average predicted and observed risk = -0.004190996557712559
number samples = 237
accuracy = 0.915612
precision class 0 = 0.930435
precision class 1 = 0.428571
recall class 0 = 0.981651
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018349
positive prediction rate = 0.029536
AUC of ROC = 0.788508
AUC of PRC = 0.368902
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07025399804115295
difference in average predicted and observed risk = -0.03854200195884705
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.807295
AUC of PRC = 0.450361
min(+P, Se) = 0.42

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11940299719572067
difference in average predicted and observed risk = 0.00923399719572067
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.87033
AUC of PRC = 0.507881
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08897700160741806
difference in average predicted and observed risk = -0.04435599839258195
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08422300219535828
difference in average predicted and observed risk = -0.030820997804641717
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.794701
AUC of PRC = 0.34977
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07649300247430801
difference in average predicted and observed risk = -0.015556997525691993
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.836039
AUC of PRC = 0.536925
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.062217000871896744
difference in average predicted and observed risk = -0.02698499912810326
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.811313
AUC of PRC = 0.401757
min(+P, Se) = 0.414634

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10679800063371658
difference in average predicted and observed risk = -0.010848999366283418
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.930556
AUC of PRC = 0.699604
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08562800288200378
difference in average predicted and observed risk = -0.003081997117996213
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.831858
AUC of PRC = 0.272121
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.100552998483181
difference in average predicted and observed risk = -0.04905300151681899
number samples = 127
accuracy = 0.866142
precision class 0 = 0.882353
precision class 1 = 0.625
recall class 0 = 0.972222
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.027778
positive prediction rate = 0.062992
AUC of ROC = 0.746101
AUC of PRC = 0.426203
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11393299698829651
difference in average predicted and observed risk = 0.034985996988296506
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.914286
AUC of PRC = 0.738636
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07970000058412552
difference in average predicted and observed risk = -0.021890999415874482
number samples = 817
accuracy = 0.908201
precision class 0 = 0.914465
precision class 1 = 0.681818
recall class 0 = 0.990463
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.009537
positive prediction rate = 0.026928
AUC of ROC = 0.818982
AUC of PRC = 0.436713
min(+P, Se) = 0.45977

-------------------------------

Epoch 00035: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch35.state
Epoch 36/100
 - 295s - loss: 0.2704 - val_loss: 0.2597

==>predicting on train



confusion matrix:
[[2148    7]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07548700273036957
difference in average predicted and observed risk = -0.030321997269630432
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.905947
precision class 1 = 0.820513
recall class 0 = 0.996752
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.003248
positive prediction rate = 0.016183
AUC of ROC = 0.820529
AUC of PRC = 0.446699
min(+P, Se) = 0.418868

-------------------------------

confusion matrix:
[[1168   11]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0816970020532608
difference in average predicted and observed risk = -0.009281997946739201
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921136
precision class 1 = 0.62069
recall class 0 = 0.99067
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.00933
positive prediction rate = 0.022359
AUC of ROC = 0.809441
AUC of PRC = 0.374753
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[654   2]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08966399729251862
difference in average predicted and observed risk = -0.011706002707481386
number samples = 730
accuracy = 0.909589
precision class 0 = 0.910864
precision class 1 = 0.833333
recall class 0 = 0.996951
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.003049
positive prediction rate = 0.016438
AUC of ROC = 0.833635
AUC of PRC = 0.463099
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08331099897623062
difference in average predicted and observed risk = -0.04234300102376937
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.917665
AUC of PRC = 0.726646
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2457   17]
 [ 222   33]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07674799859523773
difference in average predicted and observed risk = -0.016693001404762264
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.917133
precision class 1 = 0.66
recall class 0 = 0.993129
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.006871
positive prediction rate = 0.018322
AUC of ROC = 0.815683
AUC of PRC = 0.39077
min(+P, Se) = 0.407843

-------------------------------

confusion matrix:
[[1679    4]
 [ 184   32]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08415199816226959
difference in average predicted and observed risk = -0.029592001837730406
number samples = 1899
accuracy = 0.901
precision class 0 = 0.901235
precision class 1 = 0.888889
recall class 0 = 0.997623
recall class 1 = 0.148148
false negative rate = 0.851852
false positive rate = 0.002377
positive prediction rate = 0.018957
AUC of ROC = 0.832236
AUC of PRC = 0.497628
min(+P, Se) = 0.459091

-------------------------------

confusion matrix:
[[546   3]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09497600048780441
difference in average predicted and observed risk = -0.02802699951219559
number samples = 626
accuracy = 0.883387
precision class 0 = 0.886364
precision class 1 = 0.7
recall class 0 = 0.994536
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.005464
positive prediction rate = 0.015974
AUC of ROC = 0.83519
AUC of PRC = 0.451322
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2244    5]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06624899804592133
difference in average predicted and observed risk = -0.01840700195407867
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.922318
precision class 1 = 0.791667
recall class 0 = 0.997777
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.002223
positive prediction rate = 0.009768
AUC of ROC = 0.816852
AUC of PRC = 0.383136
min(+P, Se) = 0.373206

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0775739997625351
difference in average predicted and observed risk = -0.02323200023746491
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.804484
AUC of PRC = 0.296298
min(+P, Se) = 0.341463

-------------------------------

confusion matrix:
[[472   9]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12172800302505493
difference in average predicted and observed risk = -0.023919996974945068
number samples = 563
accuracy = 0.886323
precision class 0 = 0.895636
precision class 1 = 0.75
recall class 0 = 0.981289
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.018711
positive prediction rate = 0.063943
AUC of ROC = 0.827037
AUC of PRC = 0.566916
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[652   3]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08072400093078613
difference in average predicted and observed risk = -0.02690499906921387
number samples = 734
accuracy = 0.90327
precision class 0 = 0.905556
precision class 1 = 0.785714
recall class 0 = 0.99542
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.00458
positive prediction rate = 0.019074
AUC of ROC = 0.826457
AUC of PRC = 0.44156
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4136   21]
 [ 406   65]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07978600263595581
difference in average predicted and observed risk = -0.02198599736404419
number samples = 4628
accuracy = 0.907736
precision class 0 = 0.910612
precision class 1 = 0.755814
recall class 0 = 0.994948
recall class 1 = 0.138004
false negative rate = 0.861996
false positive rate = 0.005052
positive prediction rate = 0.018583
AUC of ROC = 0.823611
AUC of PRC = 0.437324
min(+P, Se) = 0.430085

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07910200208425522
difference in average predicted and observed risk = -0.0010669979157447856
number samples = 237
accuracy = 0.924051
precision class 0 = 0.92735
precision class 1 = 0.666667
recall class 0 = 0.995413
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.004587
positive prediction rate = 0.012658
AUC of ROC = 0.760502
AUC of PRC = 0.347301
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07760299742221832
difference in average predicted and observed risk = -0.03119300257778168
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.798176
AUC of PRC = 0.419445
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11783000081777573
difference in average predicted and observed risk = 0.007661000817775723
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.875458
AUC of PRC = 0.577098
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08615399897098541
difference in average predicted and observed risk = -0.047179001029014594
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08770299702882767
difference in average predicted and observed risk = -0.027341002971172326
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.778291
AUC of PRC = 0.343093
min(+P, Se) = 0.365854

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0816510021686554
difference in average predicted and observed risk = -0.010398997831344611
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.832792
AUC of PRC = 0.527877
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0672290027141571
difference in average predicted and observed risk = -0.0219729972858429
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.802632
AUC of PRC = 0.374024
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11200500279664993
difference in average predicted and observed risk = -0.005641997203350069
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.932407
AUC of PRC = 0.719929
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09135399758815765
difference in average predicted and observed risk = 0.0026439975881576566
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.823813
AUC of PRC = 0.244038
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[107   1]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10100899636745453
difference in average predicted and observed risk = -0.04859700363254546
number samples = 127
accuracy = 0.874016
precision class 0 = 0.877049
precision class 1 = 0.8
recall class 0 = 0.990741
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009259
positive prediction rate = 0.03937
AUC of ROC = 0.734405
AUC of PRC = 0.429632
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11947900056838989
difference in average predicted and observed risk = 0.04053200056838989
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08416199684143066
difference in average predicted and observed risk = -0.017429003158569337
number samples = 817
accuracy = 0.908201
precision class 0 = 0.910336
precision class 1 = 0.785714
recall class 0 = 0.995913
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.004087
positive prediction rate = 0.017136
AUC of ROC = 0.810627
AUC of PRC = 0.439933
min(+P, Se) = 0.421687

-------------------------------

Epoch 00036: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch36.state
Epoch 37/100
 - 274s - loss: 0.2693 - val_loss: 0.2595

==>predicting on train



confusion matrix:
[[2148    7]
 [ 215   40]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08190099895000458
difference in average predicted and observed risk = -0.023908001049995423
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.909014
precision class 1 = 0.851064
recall class 0 = 0.996752
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.003248
positive prediction rate = 0.019502
AUC of ROC = 0.822337
AUC of PRC = 0.444079
min(+P, Se) = 0.426357

-------------------------------

confusion matrix:
[[1166   13]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08489099889993668
difference in average predicted and observed risk = -0.006088001100063328
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.92393
precision class 1 = 0.628571
recall class 0 = 0.988974
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.011026
positive prediction rate = 0.026985
AUC of ROC = 0.811554
AUC of PRC = 0.380959
min(+P, Se) = 0.357724

-------------------------------

confusion matrix:
[[649   7]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09580300003290176
difference in average predicted and observed risk = -0.005566999967098238
number samples = 730
accuracy = 0.90411
precision class 0 = 0.911517
precision class 1 = 0.611111
recall class 0 = 0.989329
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.010671
positive prediction rate = 0.024658
AUC of ROC = 0.815693
AUC of PRC = 0.427719
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08914099633693695
difference in average predicted and observed risk = -0.03651300366306304
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.922156
AUC of PRC = 0.726953
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2454   20]
 [ 214   41]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08207499980926514
difference in average predicted and observed risk = -0.01136600019073486
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.91979
precision class 1 = 0.672131
recall class 0 = 0.991916
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.008084
positive prediction rate = 0.022353
AUC of ROC = 0.810322
AUC of PRC = 0.385018
min(+P, Se) = 0.394531

-------------------------------

confusion matrix:
[[1675    8]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0897660031914711
difference in average predicted and observed risk = -0.023977996808528898
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.903452
precision class 1 = 0.822222
recall class 0 = 0.995247
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.004753
positive prediction rate = 0.023697
AUC of ROC = 0.838868
AUC of PRC = 0.497897
min(+P, Se) = 0.453704

-------------------------------

confusion matrix:
[[542   7]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10186100006103516
difference in average predicted and observed risk = -0.021141999938964845
number samples = 626
accuracy = 0.881789
precision class 0 = 0.889984
precision class 1 = 0.588235
recall class 0 = 0.98725
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.01275
positive prediction rate = 0.027157
AUC of ROC = 0.812575
AUC of PRC = 0.425327
min(+P, Se) = 0.448718

-------------------------------

confusion matrix:
[[2241    8]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07183399796485901
difference in average predicted and observed risk = -0.012822002035140986
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923743
precision class 1 = 0.741935
recall class 0 = 0.996443
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.003557
positive prediction rate = 0.012617
AUC of ROC = 0.82187
AUC of PRC = 0.38257
min(+P, Se) = 0.379147

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08242899924516678
difference in average predicted and observed risk = -0.018377000754833228
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.803049
AUC of PRC = 0.30499
min(+P, Se) = 0.325

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12438999861478806
difference in average predicted and observed risk = -0.021258001385211944
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.832818
AUC of PRC = 0.560159
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[652   3]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08680299669504166
difference in average predicted and observed risk = -0.020826003304958346
number samples = 734
accuracy = 0.905995
precision class 0 = 0.908078
precision class 1 = 0.8125
recall class 0 = 0.99542
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00458
positive prediction rate = 0.021798
AUC of ROC = 0.827017
AUC of PRC = 0.441076
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4129   28]
 [ 393   78]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0852309986948967
difference in average predicted and observed risk = -0.016541001305103303
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.913092
precision class 1 = 0.735849
recall class 0 = 0.993264
recall class 1 = 0.165605
false negative rate = 0.834395
false positive rate = 0.006736
positive prediction rate = 0.022904
AUC of ROC = 0.823297
AUC of PRC = 0.433421
min(+P, Se) = 0.421053

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08475600183010101
difference in average predicted and observed risk = 0.004587001830101009
number samples = 237
accuracy = 0.915612
precision class 0 = 0.930435
precision class 1 = 0.428571
recall class 0 = 0.981651
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018349
positive prediction rate = 0.029536
AUC of ROC = 0.787301
AUC of PRC = 0.36422
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0796549990773201
difference in average predicted and observed risk = -0.029141000922679905
number samples = 432
accuracy = 0.898148
precision class 0 = 0.901176
precision class 1 = 0.714286
recall class 0 = 0.994805
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.005195
positive prediction rate = 0.016204
AUC of ROC = 0.784692
AUC of PRC = 0.41994
min(+P, Se) = 0.472727

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1247830018401146
difference in average predicted and observed risk = 0.01461400184011459
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.868132
AUC of PRC = 0.508932
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0953259989619255
difference in average predicted and observed risk = -0.0380070010380745
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09190300107002258
difference in average predicted and observed risk = -0.02314099892997741
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.781368
AUC of PRC = 0.341837
min(+P, Se) = 0.388889

-------------------------------

confusion matrix:
[[430   4]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08562199771404266
difference in average predicted and observed risk = -0.006428002285957343
number samples = 478
accuracy = 0.91841
precision class 0 = 0.924731
precision class 1 = 0.692308
recall class 0 = 0.990783
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.009217
positive prediction rate = 0.027197
AUC of ROC = 0.820591
AUC of PRC = 0.515617
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07185100018978119
difference in average predicted and observed risk = -0.017350999810218815
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.795917
AUC of PRC = 0.377612
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11697699874639511
difference in average predicted and observed risk = -0.0006700012536048905
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.928704
AUC of PRC = 0.709801
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09495099633932114
difference in average predicted and observed risk = 0.006240996339321139
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.824618
AUC of PRC = 0.261004
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[105   3]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10323499888181686
difference in average predicted and observed risk = -0.046371001118183125
number samples = 127
accuracy = 0.858268
precision class 0 = 0.875
precision class 1 = 0.571429
recall class 0 = 0.972222
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.027778
positive prediction rate = 0.055118
AUC of ROC = 0.741228
AUC of PRC = 0.44799
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12255500257015228
difference in average predicted and observed risk = 0.04360800257015228
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.625
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0882280021905899
difference in average predicted and observed risk = -0.013362997809410096
number samples = 817
accuracy = 0.904529
precision class 0 = 0.91206
precision class 1 = 0.619048
recall class 0 = 0.989101
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.010899
positive prediction rate = 0.025704
AUC of ROC = 0.805686
AUC of PRC = 0.424518
min(+P, Se) = 0.445783

-------------------------------

Epoch 00037: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch37.state
Epoch 38/100
 - 275s - loss: 0.2693 - val_loss: 0.2546

==>predicting on train



confusion matrix:
[[2147    8]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08772599697113037
difference in average predicted and observed risk = -0.01808300302886963
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.90936
precision class 1 = 0.836735
recall class 0 = 0.996288
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.003712
positive prediction rate = 0.020332
AUC of ROC = 0.838162
AUC of PRC = 0.461369
min(+P, Se) = 0.431373

-------------------------------

confusion matrix:
[[1162   17]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0923679992556572
difference in average predicted and observed risk = 0.0013889992556571917
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.924423
precision class 1 = 0.575
recall class 0 = 0.985581
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.014419
positive prediction rate = 0.03084
AUC of ROC = 0.820431
AUC of PRC = 0.408105
min(+P, Se) = 0.403361

-------------------------------

confusion matrix:
[[648   8]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10323300212621689
difference in average predicted and observed risk = 0.0018630021262168867
number samples = 730
accuracy = 0.908219
precision class 0 = 0.916549
precision class 1 = 0.652174
recall class 0 = 0.987805
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.012195
positive prediction rate = 0.031507
AUC of ROC = 0.829124
AUC of PRC = 0.454137
min(+P, Se) = 0.513158

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09485699981451035
difference in average predicted and observed risk = -0.030797000185489642
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.912176
AUC of PRC = 0.699162
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2450   24]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08882299810647964
difference in average predicted and observed risk = -0.0046180018935203515
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.921053
precision class 1 = 0.652174
recall class 0 = 0.990299
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.009701
positive prediction rate = 0.025284
AUC of ROC = 0.822626
AUC of PRC = 0.404343
min(+P, Se) = 0.403922

-------------------------------

confusion matrix:
[[1673   10]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09599900245666504
difference in average predicted and observed risk = -0.01774499754333496
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.904813
precision class 1 = 0.8
recall class 0 = 0.994058
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.005942
positive prediction rate = 0.02633
AUC of ROC = 0.850611
AUC of PRC = 0.511868
min(+P, Se) = 0.462963

-------------------------------

confusion matrix:
[[542   7]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10662399977445602
difference in average predicted and observed risk = -0.016379000225543977
number samples = 626
accuracy = 0.880192
precision class 0 = 0.888525
precision class 1 = 0.5625
recall class 0 = 0.98725
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.01275
positive prediction rate = 0.025559
AUC of ROC = 0.831949
AUC of PRC = 0.440487
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2239   10]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07807900011539459
difference in average predicted and observed risk = -0.006576999884605403
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.925207
precision class 1 = 0.72973
recall class 0 = 0.995554
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004446
positive prediction rate = 0.015059
AUC of ROC = 0.833635
AUC of PRC = 0.390845
min(+P, Se) = 0.38009

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09169799834489822
difference in average predicted and observed risk = -0.009108001655101783
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.812197
AUC of PRC = 0.313452
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[471  10]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13272500038146973
difference in average predicted and observed risk = -0.012922999618530273
number samples = 563
accuracy = 0.891652
precision class 0 = 0.902299
precision class 1 = 0.756098
recall class 0 = 0.97921
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.02079
positive prediction rate = 0.072824
AUC of ROC = 0.837762
AUC of PRC = 0.591124
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09352400153875351
difference in average predicted and observed risk = -0.014104998461246493
number samples = 734
accuracy = 0.910082
precision class 0 = 0.913043
precision class 1 = 0.809524
recall class 0 = 0.993893
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.006107
positive prediction rate = 0.02861
AUC of ROC = 0.840197
AUC of PRC = 0.469166
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4123   34]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09176699817180634
difference in average predicted and observed risk = -0.010005001828193666
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.914393
precision class 1 = 0.714286
recall class 0 = 0.991821
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.008179
positive prediction rate = 0.025713
AUC of ROC = 0.835196
AUC of PRC = 0.450254
min(+P, Se) = 0.423729

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09311600029468536
difference in average predicted and observed risk = 0.01294700029468536
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.847658
AUC of PRC = 0.384226
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08644899725914001
difference in average predicted and observed risk = -0.02234700274085999
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.788174
AUC of PRC = 0.429835
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13155099749565125
difference in average predicted and observed risk = 0.021381997495651242
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.866667
AUC of PRC = 0.523576
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10728500038385391
difference in average predicted and observed risk = -0.026047999616146095
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09973599761724472
difference in average predicted and observed risk = -0.015308002382755273
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.788205
AUC of PRC = 0.348667
min(+P, Se) = 0.358974

-------------------------------

confusion matrix:
[[431   3]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09277299791574478
difference in average predicted and observed risk = 0.0007229979157447747
number samples = 478
accuracy = 0.926778
precision class 0 = 0.930886
precision class 1 = 0.8
recall class 0 = 0.993088
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.006912
positive prediction rate = 0.031381
AUC of ROC = 0.842951
AUC of PRC = 0.542442
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[386   2]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07915399968624115
difference in average predicted and observed risk = -0.010048000313758854
number samples = 426
accuracy = 0.915493
precision class 0 = 0.919048
precision class 1 = 0.666667
recall class 0 = 0.994845
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.005155
positive prediction rate = 0.014085
AUC of ROC = 0.807108
AUC of PRC = 0.376635
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12383300065994263
difference in average predicted and observed risk = 0.006186000659942625
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.928704
AUC of PRC = 0.713466
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09954799711704254
difference in average predicted and observed risk = 0.010837997117042544
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.850362
AUC of PRC = 0.33167
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11258099973201752
difference in average predicted and observed risk = -0.03702500026798247
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.773392
AUC of PRC = 0.473398
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1358869969844818
difference in average predicted and observed risk = 0.05693999698448181
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.753704
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09566199779510498
difference in average predicted and observed risk = -0.00592900220489502
number samples = 817
accuracy = 0.909425
precision class 0 = 0.915617
precision class 1 = 0.695652
recall class 0 = 0.990463
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.009537
positive prediction rate = 0.028152
AUC of ROC = 0.820163
AUC of PRC = 0.435883
min(+P, Se) = 0.453488

-------------------------------

Epoch 00038: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch38.state
Epoch 39/100
 - 274s - loss: 0.2603 - val_loss: 0.2588

==>predicting on train



confusion matrix:
[[2146    9]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07590100169181824
difference in average predicted and observed risk = -0.029907998308181763
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.908552
precision class 1 = 0.8125
recall class 0 = 0.995824
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.004176
positive prediction rate = 0.019917
AUC of ROC = 0.823362
AUC of PRC = 0.452652
min(+P, Se) = 0.439689

-------------------------------

confusion matrix:
[[1164   15]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08173300325870514
difference in average predicted and observed risk = -0.009245996741294865
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.924543
precision class 1 = 0.605263
recall class 0 = 0.987277
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.012723
positive prediction rate = 0.029298
AUC of ROC = 0.807651
AUC of PRC = 0.382456
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[648   8]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09430400282144547
difference in average predicted and observed risk = -0.007065997178554537
number samples = 730
accuracy = 0.908219
precision class 0 = 0.916549
precision class 1 = 0.652174
recall class 0 = 0.987805
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.012195
positive prediction rate = 0.031507
AUC of ROC = 0.839053
AUC of PRC = 0.464224
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08658000081777573
difference in average predicted and observed risk = -0.03907399918222426
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.927645
AUC of PRC = 0.711448
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2453   21]
 [ 212   43]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07616700232028961
difference in average predicted and observed risk = -0.017273997679710384
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.92045
precision class 1 = 0.671875
recall class 0 = 0.991512
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.008488
positive prediction rate = 0.023452
AUC of ROC = 0.823956
AUC of PRC = 0.40482
min(+P, Se) = 0.422481

-------------------------------

confusion matrix:
[[1671   12]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08765099942684174
difference in average predicted and observed risk = -0.026093000573158262
number samples = 1899
accuracy = 0.901
precision class 0 = 0.90471
precision class 1 = 0.769231
recall class 0 = 0.99287
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.00713
positive prediction rate = 0.027383
AUC of ROC = 0.827438
AUC of PRC = 0.49525
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[542   7]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09788499772548676
difference in average predicted and observed risk = -0.025118002274513246
number samples = 626
accuracy = 0.883387
precision class 0 = 0.891447
precision class 1 = 0.611111
recall class 0 = 0.98725
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.01275
positive prediction rate = 0.028754
AUC of ROC = 0.844842
AUC of PRC = 0.464659
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2239   10]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06572599709033966
difference in average predicted and observed risk = -0.018930002909660334
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924061
precision class 1 = 0.705882
recall class 0 = 0.995554
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.004446
positive prediction rate = 0.013838
AUC of ROC = 0.816621
AUC of PRC = 0.377601
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07843700051307678
difference in average predicted and observed risk = -0.022368999486923224
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.804664
AUC of PRC = 0.292355
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[472   9]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1248600035905838
difference in average predicted and observed risk = -0.0207879964094162
number samples = 563
accuracy = 0.895204
precision class 0 = 0.904215
precision class 1 = 0.780488
recall class 0 = 0.981289
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.018711
positive prediction rate = 0.072824
AUC of ROC = 0.830308
AUC of PRC = 0.587375
min(+P, Se) = 0.536585

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08418799936771393
difference in average predicted and observed risk = -0.023441000632286074
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.830186
AUC of PRC = 0.47839
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4124   33]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08087900280952454
difference in average predicted and observed risk = -0.020892997190475465
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.914007
precision class 1 = 0.715517
recall class 0 = 0.992062
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.007938
positive prediction rate = 0.025065
AUC of ROC = 0.826297
AUC of PRC = 0.443546
min(+P, Se) = 0.446316

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07882100343704224
difference in average predicted and observed risk = -0.0013479965629577678
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.765814
AUC of PRC = 0.324875
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07584600150585175
difference in average predicted and observed risk = -0.03294999849414826
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.799668
AUC of PRC = 0.450536
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11976400017738342
difference in average predicted and observed risk = 0.00959500017738342
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.878388
AUC of PRC = 0.628453
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09507299959659576
difference in average predicted and observed risk = -0.03826000040340424
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08794199675321579
difference in average predicted and observed risk = -0.027102003246784204
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.748718
AUC of PRC = 0.317797
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[432   2]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08079099655151367
difference in average predicted and observed risk = -0.011259003448486335
number samples = 478
accuracy = 0.926778
precision class 0 = 0.929032
precision class 1 = 0.846154
recall class 0 = 0.995392
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.004608
positive prediction rate = 0.027197
AUC of ROC = 0.855205
AUC of PRC = 0.553267
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06632100045681
difference in average predicted and observed risk = -0.022880999543190006
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.810635
AUC of PRC = 0.405109
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11596500128507614
difference in average predicted and observed risk = -0.0016819987149238602
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.917593
AUC of PRC = 0.581136
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09096500277519226
difference in average predicted and observed risk = 0.0022550027751922636
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.78037
AUC of PRC = 0.262466
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09874100238084793
difference in average predicted and observed risk = -0.05086499761915206
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.765107
AUC of PRC = 0.506878
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11919499933719635
difference in average predicted and observed risk = 0.04024799933719635
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.914286
AUC of PRC = 0.606566
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08375799655914307
difference in average predicted and observed risk = -0.017833003440856934
number samples = 817
accuracy = 0.909425
precision class 0 = 0.914573
precision class 1 = 0.714286
recall class 0 = 0.991826
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.008174
positive prediction rate = 0.025704
AUC of ROC = 0.810824
AUC of PRC = 0.445869
min(+P, Se) = 0.452381

-------------------------------

Epoch 00039: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch39.state
Epoch 40/100
 - 277s - loss: 0.2621 - val_loss: 0.2524

==>predicting on train



confusion matrix:
[[2141   14]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08032000064849854
difference in average predicted and observed risk = -0.025488999351501465
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.909902
precision class 1 = 0.754386
recall class 0 = 0.993503
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.006497
positive prediction rate = 0.023651
AUC of ROC = 0.829238
AUC of PRC = 0.451589
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[1162   17]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08447500318288803
difference in average predicted and observed risk = -0.006503996817111973
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.925159
precision class 1 = 0.585366
recall class 0 = 0.985581
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.014419
positive prediction rate = 0.031611
AUC of ROC = 0.813876
AUC of PRC = 0.393685
min(+P, Se) = 0.387097

-------------------------------

confusion matrix:
[[645  11]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09563399851322174
difference in average predicted and observed risk = -0.005736001486778261
number samples = 730
accuracy = 0.90411
precision class 0 = 0.916193
precision class 1 = 0.576923
recall class 0 = 0.983232
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.016768
positive prediction rate = 0.035616
AUC of ROC = 0.836664
AUC of PRC = 0.468818
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09037700295448303
difference in average predicted and observed risk = -0.035276997045516956
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.899202
AUC of PRC = 0.697625
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2445   29]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08107700198888779
difference in average predicted and observed risk = -0.01236399801111221
number samples = 2729
accuracy = 0.913155
precision class 0 = 0.921598
precision class 1 = 0.618421
recall class 0 = 0.988278
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.011722
positive prediction rate = 0.027849
AUC of ROC = 0.818249
AUC of PRC = 0.401236
min(+P, Se) = 0.407843

-------------------------------

confusion matrix:
[[1669   14]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08896899968385696
difference in average predicted and observed risk = -0.024775000316143034
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.905098
precision class 1 = 0.745455
recall class 0 = 0.991682
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.008318
positive prediction rate = 0.028963
AUC of ROC = 0.842169
AUC of PRC = 0.499196
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[539  10]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10185299813747406
difference in average predicted and observed risk = -0.02115000186252594
number samples = 626
accuracy = 0.880192
precision class 0 = 0.892384
precision class 1 = 0.545455
recall class 0 = 0.981785
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.018215
positive prediction rate = 0.035144
AUC of ROC = 0.835214
AUC of PRC = 0.452521
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2236   13]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07029200345277786
difference in average predicted and observed risk = -0.014363996547222133
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.925114
precision class 1 = 0.675
recall class 0 = 0.99422
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.00578
positive prediction rate = 0.01628
AUC of ROC = 0.823663
AUC of PRC = 0.379152
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08264599740505219
difference in average predicted and observed risk = -0.01816000259494782
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.783318
AUC of PRC = 0.300413
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12163600325584412
difference in average predicted and observed risk = -0.024011996744155883
number samples = 563
accuracy = 0.891652
precision class 0 = 0.900763
precision class 1 = 0.769231
recall class 0 = 0.981289
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.018711
positive prediction rate = 0.069272
AUC of ROC = 0.835911
AUC of PRC = 0.587951
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[647   8]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08823899924755096
difference in average predicted and observed risk = -0.019390000752449038
number samples = 734
accuracy = 0.905995
precision class 0 = 0.913842
precision class 1 = 0.692308
recall class 0 = 0.987786
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.012214
positive prediction rate = 0.035422
AUC of ROC = 0.838864
AUC of PRC = 0.471595
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4114   43]
 [ 383   88]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08431500196456909
difference in average predicted and observed risk = -0.01745699803543091
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.914832
precision class 1 = 0.671756
recall class 0 = 0.989656
recall class 1 = 0.186837
false negative rate = 0.813163
false positive rate = 0.010344
positive prediction rate = 0.028306
AUC of ROC = 0.829312
AUC of PRC = 0.443435
min(+P, Se) = 0.433404

-------------------------------

==>predicting on validation



confusion matrix:
[[213   5]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08546199649572372
difference in average predicted and observed risk = 0.00529299649572372
number samples = 237
accuracy = 0.924051
precision class 0 = 0.942478
precision class 1 = 0.545455
recall class 0 = 0.977064
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.022936
positive prediction rate = 0.046414
AUC of ROC = 0.790439
AUC of PRC = 0.375441
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07655400037765503
difference in average predicted and observed risk = -0.032241999622344975
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.814203
AUC of PRC = 0.482949
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12036599963903427
difference in average predicted and observed risk = 0.010196999639034268
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.87033
AUC of PRC = 0.495427
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1041869968175888
difference in average predicted and observed risk = -0.0291460031824112
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08776699751615524
difference in average predicted and observed risk = -0.02727700248384475
number samples = 339
accuracy = 0.890855
precision class 0 = 0.899696
precision class 1 = 0.6
recall class 0 = 0.986667
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.013333
positive prediction rate = 0.029499
AUC of ROC = 0.80188
AUC of PRC = 0.363493
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08556800335645676
difference in average predicted and observed risk = -0.00648199664354325
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.839914
AUC of PRC = 0.556174
min(+P, Se) = 0.574468

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06926199793815613
difference in average predicted and observed risk = -0.019940002061843876
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.807515
AUC of PRC = 0.43404
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11195500195026398
difference in average predicted and observed risk = -0.0056919980497360245
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.936111
AUC of PRC = 0.693714
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09312699735164642
difference in average predicted and observed risk = 0.004416997351646426
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.874497
AUC of PRC = 0.329601
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10504099726676941
difference in average predicted and observed risk = -0.04456500273323058
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.769493
AUC of PRC = 0.476856
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12740899622440338
difference in average predicted and observed risk = 0.04846199622440338
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.614815
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08647999912500381
difference in average predicted and observed risk = -0.015111000874996186
number samples = 817
accuracy = 0.911873
precision class 0 = 0.918987
precision class 1 = 0.703704
recall class 0 = 0.989101
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.010899
positive prediction rate = 0.033048
AUC of ROC = 0.824251
AUC of PRC = 0.460921
min(+P, Se) = 0.505747

-------------------------------

Epoch 00040: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch40.state
Epoch 41/100
 - 276s - loss: 0.2660 - val_loss: 0.2561

==>predicting on train



confusion matrix:
[[2150    5]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07123400270938873
difference in average predicted and observed risk = -0.03457499729061127
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.906026
precision class 1 = 0.864865
recall class 0 = 0.99768
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.00232
positive prediction rate = 0.015353
AUC of ROC = 0.835449
AUC of PRC = 0.458171
min(+P, Se) = 0.40458

-------------------------------

confusion matrix:
[[1169   10]
 [ 101   17]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0751819983124733
difference in average predicted and observed risk = -0.015797001687526707
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.920472
precision class 1 = 0.62963
recall class 0 = 0.991518
recall class 1 = 0.144068
false negative rate = 0.855932
false positive rate = 0.008482
positive prediction rate = 0.020817
AUC of ROC = 0.823888
AUC of PRC = 0.391279
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[651   5]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08581399917602539
difference in average predicted and observed risk = -0.015556000823974611
number samples = 730
accuracy = 0.908219
precision class 0 = 0.913043
precision class 1 = 0.705882
recall class 0 = 0.992378
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.007622
positive prediction rate = 0.023288
AUC of ROC = 0.850733
AUC of PRC = 0.467714
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07960599660873413
difference in average predicted and observed risk = -0.04604800339126586
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.897455
AUC of PRC = 0.651089
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2458   16]
 [ 223   32]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07216399908065796
difference in average predicted and observed risk = -0.021277000919342037
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.916822
precision class 1 = 0.666667
recall class 0 = 0.993533
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.006467
positive prediction rate = 0.017589
AUC of ROC = 0.829477
AUC of PRC = 0.404069
min(+P, Se) = 0.407843

-------------------------------

confusion matrix:
[[1678    5]
 [ 182   34]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0790409967303276
difference in average predicted and observed risk = -0.03470300326967239
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.902151
precision class 1 = 0.871795
recall class 0 = 0.997029
recall class 1 = 0.157407
false negative rate = 0.842593
false positive rate = 0.002971
positive prediction rate = 0.020537
AUC of ROC = 0.846468
AUC of PRC = 0.504557
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[544   5]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0919710025191307
difference in average predicted and observed risk = -0.031031997480869294
number samples = 626
accuracy = 0.878594
precision class 0 = 0.884553
precision class 1 = 0.545455
recall class 0 = 0.990893
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.009107
positive prediction rate = 0.017572
AUC of ROC = 0.838549
AUC of PRC = 0.450277
min(+P, Se) = 0.467532

-------------------------------

confusion matrix:
[[2244    5]
 [ 188   20]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06239699944853783
difference in average predicted and observed risk = -0.02225900055146217
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.922697
precision class 1 = 0.8
recall class 0 = 0.997777
recall class 1 = 0.096154
false negative rate = 0.903846
false positive rate = 0.002223
positive prediction rate = 0.010175
AUC of ROC = 0.832207
AUC of PRC = 0.379792
min(+P, Se) = 0.345972

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0747309997677803
difference in average predicted and observed risk = -0.026075000232219703
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.805202
AUC of PRC = 0.315959
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[474   7]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10724399983882904
difference in average predicted and observed risk = -0.03840400016117096
number samples = 563
accuracy = 0.889876
precision class 0 = 0.89603
precision class 1 = 0.794118
recall class 0 = 0.985447
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.014553
positive prediction rate = 0.060391
AUC of ROC = 0.8477
AUC of PRC = 0.578352
min(+P, Se) = 0.578313

-------------------------------

confusion matrix:
[[653   2]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07798100262880325
difference in average predicted and observed risk = -0.02964799737119675
number samples = 734
accuracy = 0.905995
precision class 0 = 0.906944
precision class 1 = 0.857143
recall class 0 = 0.996947
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.003053
positive prediction rate = 0.019074
AUC of ROC = 0.839907
AUC of PRC = 0.479723
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4136   21]
 [ 405   66]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07498600333929062
difference in average predicted and observed risk = -0.026785996660709382
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.910813
precision class 1 = 0.758621
recall class 0 = 0.994948
recall class 1 = 0.140127
false negative rate = 0.859873
false positive rate = 0.005052
positive prediction rate = 0.018799
AUC of ROC = 0.837246
AUC of PRC = 0.44531
min(+P, Se) = 0.426752

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07868099957704544
difference in average predicted and observed risk = -0.0014880004229545635
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.791405
AUC of PRC = 0.385648
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06825000047683716
difference in average predicted and observed risk = -0.040545999523162846
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.804145
AUC of PRC = 0.465628
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11281199753284454
difference in average predicted and observed risk = 0.0026429975328445404
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.869597
AUC of PRC = 0.575153
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08888600021600723
difference in average predicted and observed risk = -0.044446999783992774
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08088699728250504
difference in average predicted and observed risk = -0.03415700271749496
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.80094
AUC of PRC = 0.364843
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07675500214099884
difference in average predicted and observed risk = -0.015294997859001166
number samples = 478
accuracy = 0.930962
precision class 0 = 0.931183
precision class 1 = 0.923077
recall class 0 = 0.997696
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.002304
positive prediction rate = 0.027197
AUC of ROC = 0.824309
AUC of PRC = 0.538708
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0615760013461113
difference in average predicted and observed risk = -0.027625998653888706
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.793475
AUC of PRC = 0.422617
min(+P, Se) = 0.408163

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10200600326061249
difference in average predicted and observed risk = -0.015640996739387514
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.908333
AUC of PRC = 0.681349
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08537299931049347
difference in average predicted and observed risk = -0.003337000689506528
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.896219
AUC of PRC = 0.341942
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09661000221967697
difference in average predicted and observed risk = -0.05299599778032302
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.77729
AUC of PRC = 0.514902
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12152499705553055
difference in average predicted and observed risk = 0.042577997055530545
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.990476
AUC of PRC = 0.902778
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07846999913454056
difference in average predicted and observed risk = -0.023121000865459443
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.815929
AUC of PRC = 0.463478
min(+P, Se) = 0.46988

-------------------------------

Epoch 00041: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch41.state
Epoch 42/100
 - 278s - loss: 0.2712 - val_loss: 0.2463

==>predicting on train



confusion matrix:
[[2142   13]
 [ 206   49]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07704100012779236
difference in average predicted and observed risk = -0.028767999872207642
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.912266
precision class 1 = 0.790323
recall class 0 = 0.993968
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.006032
positive prediction rate = 0.025726
AUC of ROC = 0.832554
AUC of PRC = 0.454962
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1162   17]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08235400170087814
difference in average predicted and observed risk = -0.008624998299121861
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.926635
precision class 1 = 0.604651
recall class 0 = 0.985581
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.014419
positive prediction rate = 0.033153
AUC of ROC = 0.829567
AUC of PRC = 0.410015
min(+P, Se) = 0.391667

-------------------------------

confusion matrix:
[[644  12]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09467200189828873
difference in average predicted and observed risk = -0.006697998101711275
number samples = 730
accuracy = 0.90411
precision class 0 = 0.917379
precision class 1 = 0.571429
recall class 0 = 0.981707
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.018293
positive prediction rate = 0.038356
AUC of ROC = 0.843915
AUC of PRC = 0.46812
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08785100281238556
difference in average predicted and observed risk = -0.03780299718761443
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.902196
AUC of PRC = 0.685395
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2447   27]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07876600325107574
difference in average predicted and observed risk = -0.014674996748924252
number samples = 2729
accuracy = 0.916086
precision class 0 = 0.923745
precision class 1 = 0.6625
recall class 0 = 0.989087
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.010914
positive prediction rate = 0.029315
AUC of ROC = 0.831406
AUC of PRC = 0.416785
min(+P, Se) = 0.424125

-------------------------------

confusion matrix:
[[1667   16]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08605600148439407
difference in average predicted and observed risk = -0.027687998515605924
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.906964
precision class 1 = 0.737705
recall class 0 = 0.990493
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.009507
positive prediction rate = 0.032122
AUC of ROC = 0.841974
AUC of PRC = 0.495464
min(+P, Se) = 0.449074

-------------------------------

confusion matrix:
[[539  10]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09629300236701965
difference in average predicted and observed risk = -0.026709997632980348
number samples = 626
accuracy = 0.884984
precision class 0 = 0.896839
precision class 1 = 0.6
recall class 0 = 0.981785
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.018215
positive prediction rate = 0.039936
AUC of ROC = 0.846521
AUC of PRC = 0.451412
min(+P, Se) = 0.464286

-------------------------------

confusion matrix:
[[2236   13]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06853000074625015
difference in average predicted and observed risk = -0.016125999253749843
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.926263
precision class 1 = 0.697674
recall class 0 = 0.99422
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.00578
positive prediction rate = 0.017501
AUC of ROC = 0.823588
AUC of PRC = 0.380169
min(+P, Se) = 0.363208

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0803849995136261
difference in average predicted and observed risk = -0.020421000486373908
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.814888
AUC of PRC = 0.318407
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[472   9]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1159370020031929
difference in average predicted and observed risk = -0.029710997996807098
number samples = 563
accuracy = 0.895204
precision class 0 = 0.904215
precision class 1 = 0.780488
recall class 0 = 0.981289
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.018711
positive prediction rate = 0.072824
AUC of ROC = 0.847954
AUC of PRC = 0.602405
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[648   7]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08788400143384933
difference in average predicted and observed risk = -0.019744998566150668
number samples = 734
accuracy = 0.908719
precision class 0 = 0.915254
precision class 1 = 0.730769
recall class 0 = 0.989313
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.010687
positive prediction rate = 0.035422
AUC of ROC = 0.85042
AUC of PRC = 0.473131
min(+P, Se) = 0.45977

-------------------------------

confusion matrix:
[[4114   43]
 [ 373   98]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08175700157880783
difference in average predicted and observed risk = -0.02001499842119217
number samples = 4628
accuracy = 0.910112
precision class 0 = 0.916871
precision class 1 = 0.695035
recall class 0 = 0.989656
recall class 1 = 0.208068
false negative rate = 0.791932
false positive rate = 0.010344
positive prediction rate = 0.030467
AUC of ROC = 0.836586
AUC of PRC = 0.449621
min(+P, Se) = 0.438819

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08217799663543701
difference in average predicted and observed risk = 0.0020089966354370076
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.862627
AUC of PRC = 0.414182
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07293900102376938
difference in average predicted and observed risk = -0.035856998976230625
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.824316
AUC of PRC = 0.477245
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12264599651098251
difference in average predicted and observed risk = 0.01247699651098251
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.874725
AUC of PRC = 0.506813
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10736499726772308
difference in average predicted and observed risk = -0.025968002732276924
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08724100142717361
difference in average predicted and observed risk = -0.02780299857282638
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.812479
AUC of PRC = 0.36565
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08180800080299377
difference in average predicted and observed risk = -0.010241999197006232
number samples = 478
accuracy = 0.930962
precision class 0 = 0.933045
precision class 1 = 0.866667
recall class 0 = 0.995392
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.004608
positive prediction rate = 0.031381
AUC of ROC = 0.871387
AUC of PRC = 0.566965
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06804899871349335
difference in average predicted and observed risk = -0.021153001286506656
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.819927
AUC of PRC = 0.441261
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1083270013332367
difference in average predicted and observed risk = -0.009319998666763307
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.90463
AUC of PRC = 0.674551
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08673900365829468
difference in average predicted and observed risk = -0.0019709963417053195
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.892196
AUC of PRC = 0.356964
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1049100011587143
difference in average predicted and observed risk = -0.044695998841285695
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.832846
AUC of PRC = 0.484794
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12004200369119644
difference in average predicted and observed risk = 0.04109500369119644
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08406200259923935
difference in average predicted and observed risk = -0.01752899740076065
number samples = 817
accuracy = 0.911873
precision class 0 = 0.916877
precision class 1 = 0.73913
recall class 0 = 0.991826
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.008174
positive prediction rate = 0.028152
AUC of ROC = 0.846361
AUC of PRC = 0.460897
min(+P, Se) = 0.506024

-------------------------------

Epoch 00042: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch42.state
Epoch 43/100
 - 276s - loss: 0.2715 - val_loss: 0.2442

==>predicting on train



confusion matrix:
[[2144   11]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07953300327062607
difference in average predicted and observed risk = -0.026275996729373932
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.910017
precision class 1 = 0.796296
recall class 0 = 0.994896
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.005104
positive prediction rate = 0.022407
AUC of ROC = 0.836588
AUC of PRC = 0.466736
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1163   16]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08493900299072266
difference in average predicted and observed risk = -0.006039997009277348
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.924483
precision class 1 = 0.589744
recall class 0 = 0.986429
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.013571
positive prediction rate = 0.030069
AUC of ROC = 0.837481
AUC of PRC = 0.406313
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[646  10]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09842900186777115
difference in average predicted and observed risk = -0.002940998132228853
number samples = 730
accuracy = 0.905479
precision class 0 = 0.916312
precision class 1 = 0.6
recall class 0 = 0.984756
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.015244
positive prediction rate = 0.034247
AUC of ROC = 0.838888
AUC of PRC = 0.428598
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09059999883174896
difference in average predicted and observed risk = -0.035054001168251026
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.90993
AUC of PRC = 0.692066
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2449   25]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08096099644899368
difference in average predicted and observed risk = -0.012480003551006313
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.921716
precision class 1 = 0.652778
recall class 0 = 0.989895
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.010105
positive prediction rate = 0.026383
AUC of ROC = 0.83563
AUC of PRC = 0.412535
min(+P, Se) = 0.425287

-------------------------------

confusion matrix:
[[1670   13]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08955000340938568
difference in average predicted and observed risk = -0.024193996590614317
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.90564
precision class 1 = 0.763636
recall class 0 = 0.992276
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.007724
positive prediction rate = 0.028963
AUC of ROC = 0.845663
AUC of PRC = 0.500918
min(+P, Se) = 0.470046

-------------------------------

confusion matrix:
[[540   9]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10099200159311295
difference in average predicted and observed risk = -0.022010998406887056
number samples = 626
accuracy = 0.883387
precision class 0 = 0.89404
precision class 1 = 0.590909
recall class 0 = 0.983607
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.016393
positive prediction rate = 0.035144
AUC of ROC = 0.850212
AUC of PRC = 0.45768
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2237   12]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07109899818897247
difference in average predicted and observed risk = -0.013557001811027522
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.925528
precision class 1 = 0.7
recall class 0 = 0.994664
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.005336
positive prediction rate = 0.01628
AUC of ROC = 0.827891
AUC of PRC = 0.379688
min(+P, Se) = 0.370192

-------------------------------

confusion matrix:
[[218   5]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0843380019068718
difference in average predicted and observed risk = -0.01646799809312821
number samples = 248
accuracy = 0.887097
precision class 0 = 0.904564
precision class 1 = 0.285714
recall class 0 = 0.977578
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.022422
positive prediction rate = 0.028226
AUC of ROC = 0.805202
AUC of PRC = 0.311323
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[473   8]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11717899888753891
difference in average predicted and observed risk = -0.02846900111246109
number samples = 563
accuracy = 0.895204
precision class 0 = 0.902672
precision class 1 = 0.794872
recall class 0 = 0.983368
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.016632
positive prediction rate = 0.069272
AUC of ROC = 0.854952
AUC of PRC = 0.603335
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[651   4]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09018699824810028
difference in average predicted and observed risk = -0.01744200175189972
number samples = 734
accuracy = 0.907357
precision class 0 = 0.910489
precision class 1 = 0.789474
recall class 0 = 0.993893
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.006107
positive prediction rate = 0.025886
AUC of ROC = 0.851155
AUC of PRC = 0.475207
min(+P, Se) = 0.46988

-------------------------------

confusion matrix:
[[4119   38]
 [ 382   89]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0844850018620491
difference in average predicted and observed risk = -0.0172869981379509
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.91513
precision class 1 = 0.700787
recall class 0 = 0.990859
recall class 1 = 0.18896
false negative rate = 0.81104
false positive rate = 0.009141
positive prediction rate = 0.027442
AUC of ROC = 0.840198
AUC of PRC = 0.44973
min(+P, Se) = 0.446089

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08558700233697891
difference in average predicted and observed risk = 0.005418002336978908
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.853935
AUC of PRC = 0.418953
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07736799865961075
difference in average predicted and observed risk = -0.031428001340389256
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.846145
AUC of PRC = 0.494308
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12438199669122696
difference in average predicted and observed risk = 0.014212996691226956
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.866667
AUC of PRC = 0.52766
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10684199631214142
difference in average predicted and observed risk = -0.02649100368785859
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09095799922943115
difference in average predicted and observed risk = -0.02408600077056884
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.806923
AUC of PRC = 0.362796
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[432   2]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08525999635457993
difference in average predicted and observed risk = -0.006790003645420081
number samples = 478
accuracy = 0.926778
precision class 0 = 0.929032
precision class 1 = 0.846154
recall class 0 = 0.995392
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.004608
positive prediction rate = 0.027197
AUC of ROC = 0.885526
AUC of PRC = 0.575616
min(+P, Se) = 0.541667

-------------------------------

confusion matrix:
[[388   0]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07105900347232819
difference in average predicted and observed risk = -0.018142996527671817
number samples = 426
accuracy = 0.922535
precision class 0 = 0.921615
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.0
positive prediction rate = 0.011737
AUC of ROC = 0.843869
AUC of PRC = 0.451577
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10874699801206589
difference in average predicted and observed risk = -0.008900001987934114
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.90463
AUC of PRC = 0.701682
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09357400238513947
difference in average predicted and observed risk = 0.004864002385139468
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.892196
AUC of PRC = 0.343743
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10809600353240967
difference in average predicted and observed risk = -0.04150999646759032
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.817739
AUC of PRC = 0.475753
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12880699336528778
difference in average predicted and observed risk = 0.04985999336528778
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.971429
AUC of PRC = 0.816667
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08762499690055847
difference in average predicted and observed risk = -0.013966003099441529
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.853124
AUC of PRC = 0.468294
min(+P, Se) = 0.47619

-------------------------------

Epoch 00043: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch43.state
Epoch 44/100
 - 273s - loss: 0.2683 - val_loss: 0.2452

==>predicting on train



confusion matrix:
[[2141   14]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07955099642276764
difference in average predicted and observed risk = -0.02625800357723236
number samples = 2410
accuracy = 0.908299
precision class 0 = 0.91184
precision class 1 = 0.774194
recall class 0 = 0.993503
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.006497
positive prediction rate = 0.025726
AUC of ROC = 0.83901
AUC of PRC = 0.470802
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1162   17]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08516500145196915
difference in average predicted and observed risk = -0.005813998548030858
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.925896
precision class 1 = 0.595238
recall class 0 = 0.985581
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.014419
positive prediction rate = 0.032382
AUC of ROC = 0.839853
AUC of PRC = 0.408092
min(+P, Se) = 0.396825

-------------------------------

confusion matrix:
[[642  14]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0994580015540123
difference in average predicted and observed risk = -0.0019119984459877032
number samples = 730
accuracy = 0.9
precision class 0 = 0.915835
precision class 1 = 0.517241
recall class 0 = 0.978659
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.021341
positive prediction rate = 0.039726
AUC of ROC = 0.846593
AUC of PRC = 0.459293
min(+P, Se) = 0.469136

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09176500141620636
difference in average predicted and observed risk = -0.03388899858379363
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.917914
AUC of PRC = 0.716148
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2444   30]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08061099797487259
difference in average predicted and observed risk = -0.012830002025127407
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.922961
precision class 1 = 0.62963
recall class 0 = 0.987874
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.012126
positive prediction rate = 0.029681
AUC of ROC = 0.840313
AUC of PRC = 0.42151
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[1667   16]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09074299782514572
difference in average predicted and observed risk = -0.023001002174854276
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.906964
precision class 1 = 0.737705
recall class 0 = 0.990493
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.009507
positive prediction rate = 0.032122
AUC of ROC = 0.846947
AUC of PRC = 0.504473
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[539  10]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10102199763059616
difference in average predicted and observed risk = -0.02198100236940384
number samples = 626
accuracy = 0.884984
precision class 0 = 0.896839
precision class 1 = 0.6
recall class 0 = 0.981785
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.018215
positive prediction rate = 0.039936
AUC of ROC = 0.84716
AUC of PRC = 0.442858
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[2234   15]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07086499780416489
difference in average predicted and observed risk = -0.013791002195835109
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.926971
precision class 1 = 0.680851
recall class 0 = 0.99333
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.00667
positive prediction rate = 0.019129
AUC of ROC = 0.834149
AUC of PRC = 0.39162
min(+P, Se) = 0.352381

-------------------------------

confusion matrix:
[[217   6]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08445099741220474
difference in average predicted and observed risk = -0.016355002587795264
number samples = 248
accuracy = 0.883065
precision class 0 = 0.904167
precision class 1 = 0.25
recall class 0 = 0.973094
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.026906
positive prediction rate = 0.032258
AUC of ROC = 0.81435
AUC of PRC = 0.318867
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[473   8]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11984600126743317
difference in average predicted and observed risk = -0.025801998732566833
number samples = 563
accuracy = 0.895204
precision class 0 = 0.902672
precision class 1 = 0.794872
recall class 0 = 0.983368
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.016632
positive prediction rate = 0.069272
AUC of ROC = 0.854343
AUC of PRC = 0.620127
min(+P, Se) = 0.561798

-------------------------------

confusion matrix:
[[648   7]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09064999967813492
difference in average predicted and observed risk = -0.016979000321865084
number samples = 734
accuracy = 0.904632
precision class 0 = 0.911392
precision class 1 = 0.695652
recall class 0 = 0.989313
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.010687
positive prediction rate = 0.031335
AUC of ROC = 0.85388
AUC of PRC = 0.46496
min(+P, Se) = 0.469136

-------------------------------

confusion matrix:
[[4111   46]
 [ 375   96]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08476900309324265
difference in average predicted and observed risk = -0.017002996906757356
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.916407
precision class 1 = 0.676056
recall class 0 = 0.988934
recall class 1 = 0.203822
false negative rate = 0.796178
false positive rate = 0.011066
positive prediction rate = 0.030683
AUC of ROC = 0.843593
AUC of PRC = 0.457203
min(+P, Se) = 0.43949

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08543600142002106
difference in average predicted and observed risk = 0.005267001420021053
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.876871
AUC of PRC = 0.453345
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07722999900579453
difference in average predicted and observed risk = -0.03156600099420548
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.820448
AUC of PRC = 0.478333
min(+P, Se) = 0.46

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12753400206565857
difference in average predicted and observed risk = 0.017365002065658566
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.855678
AUC of PRC = 0.512677
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10716699808835983
difference in average predicted and observed risk = -0.026166001911640174
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09192900359630585
difference in average predicted and observed risk = -0.023114996403694146
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.802308
AUC of PRC = 0.360588
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08517099916934967
difference in average predicted and observed risk = -0.006879000830650336
number samples = 478
accuracy = 0.930962
precision class 0 = 0.933045
precision class 1 = 0.866667
recall class 0 = 0.995392
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.004608
positive prediction rate = 0.031381
AUC of ROC = 0.872277
AUC of PRC = 0.578146
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07118400186300278
difference in average predicted and observed risk = -0.018017998136997226
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.836679
AUC of PRC = 0.445014
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11073800176382065
difference in average predicted and observed risk = -0.006908998236179353
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.892593
AUC of PRC = 0.705564
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09506600350141525
difference in average predicted and observed risk = 0.0063560035014152555
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.889783
AUC of PRC = 0.371097
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10552799701690674
difference in average predicted and observed risk = -0.04407800298309325
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.809454
AUC of PRC = 0.478629
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13330799341201782
difference in average predicted and observed risk = 0.05436099341201782
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08797500282526016
difference in average predicted and observed risk = -0.013615997174739838
number samples = 817
accuracy = 0.911873
precision class 0 = 0.916877
precision class 1 = 0.73913
recall class 0 = 0.991826
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.008174
positive prediction rate = 0.028152
AUC of ROC = 0.843538
AUC of PRC = 0.468096
min(+P, Se) = 0.506024

-------------------------------

Epoch 00044: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch44.state
Epoch 45/100
 - 272s - loss: 0.2659 - val_loss: 0.2439

==>predicting on train



confusion matrix:
[[2144   11]
 [ 209   46]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08041899651288986
difference in average predicted and observed risk = -0.025390003487110138
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.911177
precision class 1 = 0.807018
recall class 0 = 0.994896
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.005104
positive prediction rate = 0.023651
AUC of ROC = 0.846633
AUC of PRC = 0.481675
min(+P, Se) = 0.445312

-------------------------------

confusion matrix:
[[1162   17]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08497600257396698
difference in average predicted and observed risk = -0.006002997426033024
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.925159
precision class 1 = 0.585366
recall class 0 = 0.985581
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.014419
positive prediction rate = 0.031611
AUC of ROC = 0.836302
AUC of PRC = 0.415601
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[645  11]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09885899722576141
difference in average predicted and observed risk = -0.002511002774238588
number samples = 730
accuracy = 0.905479
precision class 0 = 0.917496
precision class 1 = 0.592593
recall class 0 = 0.983232
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.016768
positive prediction rate = 0.036986
AUC of ROC = 0.84855
AUC of PRC = 0.472358
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09072700142860413
difference in average predicted and observed risk = -0.03492699857139586
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.922405
AUC of PRC = 0.739039
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2448   26]
 [ 205   50]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08098600059747696
difference in average predicted and observed risk = -0.012454999402523037
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.922729
precision class 1 = 0.657895
recall class 0 = 0.989491
recall class 1 = 0.196078
false negative rate = 0.803922
false positive rate = 0.010509
positive prediction rate = 0.027849
AUC of ROC = 0.844507
AUC of PRC = 0.431138
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[1669   14]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09084100276231766
difference in average predicted and observed risk = -0.02290299723768234
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.906573
precision class 1 = 0.758621
recall class 0 = 0.991682
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.008318
positive prediction rate = 0.030542
AUC of ROC = 0.849536
AUC of PRC = 0.513488
min(+P, Se) = 0.486111

-------------------------------

confusion matrix:
[[540   9]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10169000178575516
difference in average predicted and observed risk = -0.021312998214244844
number samples = 626
accuracy = 0.881789
precision class 0 = 0.892562
precision class 1 = 0.571429
recall class 0 = 0.983607
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.016393
positive prediction rate = 0.033546
AUC of ROC = 0.859887
AUC of PRC = 0.45991
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2237   12]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07096300274133682
difference in average predicted and observed risk = -0.013692997258663173
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.927062
precision class 1 = 0.727273
recall class 0 = 0.994664
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.005336
positive prediction rate = 0.017908
AUC of ROC = 0.836367
AUC of PRC = 0.398296
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08503899723291397
difference in average predicted and observed risk = -0.015767002767086036
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.812018
AUC of PRC = 0.330656
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12054900079965591
difference in average predicted and observed risk = -0.025098999200344085
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.857309
AUC of PRC = 0.633806
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[649   6]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09066300094127655
difference in average predicted and observed risk = -0.016965999058723452
number samples = 734
accuracy = 0.907357
precision class 0 = 0.912799
precision class 1 = 0.73913
recall class 0 = 0.99084
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.00916
positive prediction rate = 0.031335
AUC of ROC = 0.855638
AUC of PRC = 0.474093
min(+P, Se) = 0.465116

-------------------------------

confusion matrix:
[[4117   40]
 [ 377   94]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08502999693155289
difference in average predicted and observed risk = -0.016742003068447114
number samples = 4628
accuracy = 0.909896
precision class 0 = 0.91611
precision class 1 = 0.701493
recall class 0 = 0.990378
recall class 1 = 0.199575
false negative rate = 0.800425
false positive rate = 0.009622
positive prediction rate = 0.028954
AUC of ROC = 0.847089
AUC of PRC = 0.467612
min(+P, Se) = 0.449064

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08584299683570862
difference in average predicted and observed risk = 0.005673996835708614
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.840174
AUC of PRC = 0.422476
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07605300098657608
difference in average predicted and observed risk = -0.032742999013423923
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.843051
AUC of PRC = 0.489794
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12332700192928314
difference in average predicted and observed risk = 0.013158001929283139
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.863736
AUC of PRC = 0.521196
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10943999886512756
difference in average predicted and observed risk = -0.023893001134872444
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08967199921607971
difference in average predicted and observed risk = -0.02537200078392028
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.818205
AUC of PRC = 0.372668
min(+P, Se) = 0.465116

-------------------------------

confusion matrix:
[[431   3]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08501400053501129
difference in average predicted and observed risk = -0.007035999464988715
number samples = 478
accuracy = 0.92887
precision class 0 = 0.9329
precision class 1 = 0.8125
recall class 0 = 0.993088
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.006912
positive prediction rate = 0.033473
AUC of ROC = 0.876571
AUC of PRC = 0.579781
min(+P, Se) = 0.541667

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0691630020737648
difference in average predicted and observed risk = -0.020038997926235202
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.843597
AUC of PRC = 0.457683
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10911999642848969
difference in average predicted and observed risk = -0.008527003571510317
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.90463
AUC of PRC = 0.693066
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09308700263500214
difference in average predicted and observed risk = 0.004377002635002139
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.907482
AUC of PRC = 0.374266
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1091729998588562
difference in average predicted and observed risk = -0.04043300014114379
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.818713
AUC of PRC = 0.516881
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1324709951877594
difference in average predicted and observed risk = 0.053523995187759396
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.086947001516819
difference in average predicted and observed risk = -0.014643998483181
number samples = 817
accuracy = 0.910649
precision class 0 = 0.916772
precision class 1 = 0.708333
recall class 0 = 0.990463
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.009537
positive prediction rate = 0.029376
AUC of ROC = 0.852007
AUC of PRC = 0.473463
min(+P, Se) = 0.505495

-------------------------------

Epoch 00045: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch45.state
Epoch 46/100
 - 271s - loss: 0.2622 - val_loss: 0.2506

==>predicting on train



confusion matrix:
[[2145   10]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07981599867343903
difference in average predicted and observed risk = -0.025993001326560974
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.909284
precision class 1 = 0.803922
recall class 0 = 0.99536
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.00464
positive prediction rate = 0.021162
AUC of ROC = 0.84685
AUC of PRC = 0.476839
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1165   14]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08436699956655502
difference in average predicted and observed risk = -0.006612000433444981
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.924603
precision class 1 = 0.621622
recall class 0 = 0.988126
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.011874
positive prediction rate = 0.028527
AUC of ROC = 0.839997
AUC of PRC = 0.419543
min(+P, Se) = 0.408333

-------------------------------

confusion matrix:
[[649   7]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09730900079011917
difference in average predicted and observed risk = -0.004060999209880831
number samples = 730
accuracy = 0.908219
precision class 0 = 0.915374
precision class 1 = 0.666667
recall class 0 = 0.989329
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.010671
positive prediction rate = 0.028767
AUC of ROC = 0.845707
AUC of PRC = 0.467184
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09076900035142899
difference in average predicted and observed risk = -0.034884999648571
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.908932
AUC of PRC = 0.712776
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2452   22]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08070799708366394
difference in average predicted and observed risk = -0.012733002916336056
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.921112
precision class 1 = 0.671642
recall class 0 = 0.991108
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.008892
positive prediction rate = 0.024551
AUC of ROC = 0.843614
AUC of PRC = 0.428879
min(+P, Se) = 0.407692

-------------------------------

confusion matrix:
[[1673   10]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08946900069713593
difference in average predicted and observed risk = -0.024274999302864073
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.904324
precision class 1 = 0.795918
recall class 0 = 0.994058
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.005942
positive prediction rate = 0.025803
AUC of ROC = 0.85123
AUC of PRC = 0.515319
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[542   7]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10159599781036377
difference in average predicted and observed risk = -0.02140700218963623
number samples = 626
accuracy = 0.881789
precision class 0 = 0.889984
precision class 1 = 0.588235
recall class 0 = 0.98725
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.01275
positive prediction rate = 0.027157
AUC of ROC = 0.849218
AUC of PRC = 0.45325
min(+P, Se) = 0.467532

-------------------------------

confusion matrix:
[[2241    8]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0704910010099411
difference in average predicted and observed risk = -0.014164998990058894
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.925268
precision class 1 = 0.771429
recall class 0 = 0.996443
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.003557
positive prediction rate = 0.014245
AUC of ROC = 0.843014
AUC of PRC = 0.399097
min(+P, Se) = 0.366667

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08425399661064148
difference in average predicted and observed risk = -0.016552003389358527
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.81704
AUC of PRC = 0.330527
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12123099714517593
difference in average predicted and observed risk = -0.024417002854824066
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.856701
AUC of PRC = 0.629633
min(+P, Se) = 0.566265

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08747699856758118
difference in average predicted and observed risk = -0.020152001432418826
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.849261
AUC of PRC = 0.499431
min(+P, Se) = 0.4625

-------------------------------

confusion matrix:
[[4125   32]
 [ 387   84]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08430299907922745
difference in average predicted and observed risk = -0.017469000920772554
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.914229
precision class 1 = 0.724138
recall class 0 = 0.992302
recall class 1 = 0.178344
false negative rate = 0.821656
false positive rate = 0.007698
positive prediction rate = 0.025065
AUC of ROC = 0.847221
AUC of PRC = 0.466871
min(+P, Se) = 0.43129

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08570600301027298
difference in average predicted and observed risk = 0.005537003010272976
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.851762
AUC of PRC = 0.414991
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07788900285959244
difference in average predicted and observed risk = -0.030906997140407566
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.811495
AUC of PRC = 0.457803
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12420900166034698
difference in average predicted and observed risk = 0.014040001660346982
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.865934
AUC of PRC = 0.520564
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10012000054121017
difference in average predicted and observed risk = -0.03321299945878983
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0916450023651123
difference in average predicted and observed risk = -0.02339899763488769
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.811368
AUC of PRC = 0.356807
min(+P, Se) = 0.413043

-------------------------------

confusion matrix:
[[431   3]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08483900129795074
difference in average predicted and observed risk = -0.007210998702049262
number samples = 478
accuracy = 0.926778
precision class 0 = 0.930886
precision class 1 = 0.8
recall class 0 = 0.993088
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.006912
positive prediction rate = 0.031381
AUC of ROC = 0.851121
AUC of PRC = 0.54581
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06960699707269669
difference in average predicted and observed risk = -0.019595002927303318
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.824064
AUC of PRC = 0.425279
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11154799908399582
difference in average predicted and observed risk = -0.0060990009160041825
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.910185
AUC of PRC = 0.681006
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09761299937963486
difference in average predicted and observed risk = 0.00890299937963486
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.90185
AUC of PRC = 0.392633
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10541000217199326
difference in average predicted and observed risk = -0.04419599782800673
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.781676
AUC of PRC = 0.47192
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13418400287628174
difference in average predicted and observed risk = 0.055237002876281735
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08766300231218338
difference in average predicted and observed risk = -0.01392799768781662
number samples = 817
accuracy = 0.908201
precision class 0 = 0.913425
precision class 1 = 0.7
recall class 0 = 0.991826
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.008174
positive prediction rate = 0.02448
AUC of ROC = 0.834723
AUC of PRC = 0.450147
min(+P, Se) = 0.45977

-------------------------------

Epoch 00046: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch46.state
Epoch 47/100
 - 270s - loss: 0.2637 - val_loss: 0.2525

==>predicting on train



confusion matrix:
[[2147    8]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08775900304317474
difference in average predicted and observed risk = -0.018049996956825257
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.90936
precision class 1 = 0.836735
recall class 0 = 0.996288
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.003712
positive prediction rate = 0.020332
AUC of ROC = 0.838599
AUC of PRC = 0.468725
min(+P, Se) = 0.424125

-------------------------------

confusion matrix:
[[1165   14]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09356900304555893
difference in average predicted and observed risk = 0.002590003045558925
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.92387
precision class 1 = 0.611111
recall class 0 = 0.988126
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.011874
positive prediction rate = 0.027756
AUC of ROC = 0.831774
AUC of PRC = 0.415328
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[647   9]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10526899993419647
difference in average predicted and observed risk = 0.0038989999341964704
number samples = 730
accuracy = 0.906849
precision class 0 = 0.916431
precision class 1 = 0.625
recall class 0 = 0.986281
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.01372
positive prediction rate = 0.032877
AUC of ROC = 0.827476
AUC of PRC = 0.46906
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09846200048923492
difference in average predicted and observed risk = -0.027191999510765064
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.908932
AUC of PRC = 0.719165
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2453   21]
 [ 212   43]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08957000076770782
difference in average predicted and observed risk = -0.0038709992322921716
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.92045
precision class 1 = 0.671875
recall class 0 = 0.991512
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.008488
positive prediction rate = 0.023452
AUC of ROC = 0.828855
AUC of PRC = 0.41319
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1672   11]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09693200141191483
difference in average predicted and observed risk = -0.016811998588085172
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905252
precision class 1 = 0.788462
recall class 0 = 0.993464
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.006536
positive prediction rate = 0.027383
AUC of ROC = 0.847957
AUC of PRC = 0.518874
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[543   6]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10893700271844864
difference in average predicted and observed risk = -0.014065997281551362
number samples = 626
accuracy = 0.881789
precision class 0 = 0.888707
precision class 1 = 0.6
recall class 0 = 0.989071
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.010929
positive prediction rate = 0.023962
AUC of ROC = 0.830223
AUC of PRC = 0.451584
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2240    9]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07892800122499466
difference in average predicted and observed risk = -0.005727998775005336
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.925237
precision class 1 = 0.75
recall class 0 = 0.995998
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004002
positive prediction rate = 0.014652
AUC of ROC = 0.840271
AUC of PRC = 0.398826
min(+P, Se) = 0.366667

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09476599842309952
difference in average predicted and observed risk = -0.006040001576900489
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.789776
AUC of PRC = 0.294241
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[472   9]
 [ 53  29]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12776799499988556
difference in average predicted and observed risk = -0.01788000500011444
number samples = 563
accuracy = 0.889876
precision class 0 = 0.899048
precision class 1 = 0.763158
recall class 0 = 0.981289
recall class 1 = 0.353659
false negative rate = 0.646341
false positive rate = 0.018711
positive prediction rate = 0.067496
AUC of ROC = 0.845545
AUC of PRC = 0.610201
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[651   4]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09666799753904343
difference in average predicted and observed risk = -0.010961002460956576
number samples = 734
accuracy = 0.911444
precision class 0 = 0.914326
precision class 1 = 0.818182
recall class 0 = 0.993893
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.006107
positive prediction rate = 0.029973
AUC of ROC = 0.836274
AUC of PRC = 0.500689
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[4125   32]
 [ 387   84]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09259100258350372
difference in average predicted and observed risk = -0.009180997416496278
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.914229
precision class 1 = 0.724138
recall class 0 = 0.992302
recall class 1 = 0.178344
false negative rate = 0.821656
false positive rate = 0.007698
positive prediction rate = 0.025065
AUC of ROC = 0.837542
AUC of PRC = 0.458833
min(+P, Se) = 0.440928

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09529100358486176
difference in average predicted and observed risk = 0.015122003584861751
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.826412
AUC of PRC = 0.373433
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08620499819517136
difference in average predicted and observed risk = -0.022591001804828648
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.813705
AUC of PRC = 0.463973
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12940800189971924
difference in average predicted and observed risk = 0.019239001899719235
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.871795
AUC of PRC = 0.506519
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11162099987268448
difference in average predicted and observed risk = -0.02171200012731553
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09911800175905228
difference in average predicted and observed risk = -0.015925998240947717
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.80359
AUC of PRC = 0.35388
min(+P, Se) = 0.413043

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09381300210952759
difference in average predicted and observed risk = 0.001763002109527581
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.848659
AUC of PRC = 0.534017
min(+P, Se) = 0.530612

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07782900333404541
difference in average predicted and observed risk = -0.011372996665954593
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.818367
AUC of PRC = 0.415746
min(+P, Se) = 0.395349

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11873800307512283
difference in average predicted and observed risk = 0.0010910030751228317
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.919444
AUC of PRC = 0.671437
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10401099920272827
difference in average predicted and observed risk = 0.015300999202728274
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.89461
AUC of PRC = 0.342792
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11592300236225128
difference in average predicted and observed risk = -0.03368299763774871
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.775341
AUC of PRC = 0.475878
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14624600112438202
difference in average predicted and observed risk = 0.06729900112438202
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09601400047540665
difference in average predicted and observed risk = -0.005576999524593354
number samples = 817
accuracy = 0.909425
precision class 0 = 0.913534
precision class 1 = 0.736842
recall class 0 = 0.993188
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.006812
positive prediction rate = 0.023256
AUC of ROC = 0.831489
AUC of PRC = 0.442539
min(+P, Se) = 0.473118

-------------------------------

Epoch 00047: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch47.state
Epoch 48/100
 - 295s - loss: 0.2602 - val_loss: 0.2520

==>predicting on train



confusion matrix:
[[2152    3]
 [ 231   24]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10507799685001373
difference in average predicted and observed risk = -0.0007310031499862674
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.903063
precision class 1 = 0.888889
recall class 0 = 0.998608
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.001392
positive prediction rate = 0.011203
AUC of ROC = 0.843356
AUC of PRC = 0.487293
min(+P, Se) = 0.467181

-------------------------------

confusion matrix:
[[1171    8]
 [ 103   15]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10655099898576736
difference in average predicted and observed risk = 0.01557199898576736
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.919152
precision class 1 = 0.652174
recall class 0 = 0.993215
recall class 1 = 0.127119
false negative rate = 0.872881
false positive rate = 0.006785
positive prediction rate = 0.017733
AUC of ROC = 0.850455
AUC of PRC = 0.427703
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[653   3]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11999700218439102
difference in average predicted and observed risk = 0.01862700218439102
number samples = 730
accuracy = 0.909589
precision class 0 = 0.912011
precision class 1 = 0.785714
recall class 0 = 0.995427
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.004573
positive prediction rate = 0.019178
AUC of ROC = 0.856749
AUC of PRC = 0.478586
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11368700116872787
difference in average predicted and observed risk = -0.011966998831272113
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.934132
AUC of PRC = 0.740958
min(+P, Se) = 0.653846

-------------------------------

confusion matrix:
[[2463   11]
 [ 228   27]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10353799909353256
difference in average predicted and observed risk = 0.010096999093532566
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.915273
precision class 1 = 0.710526
recall class 0 = 0.995554
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.004446
positive prediction rate = 0.013925
AUC of ROC = 0.849608
AUC of PRC = 0.440467
min(+P, Se) = 0.443137

-------------------------------

confusion matrix:
[[1679    4]
 [ 189   27]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.1148969978094101
difference in average predicted and observed risk = 0.0011529978094100973
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.898822
precision class 1 = 0.870968
recall class 0 = 0.997623
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.002377
positive prediction rate = 0.016324
AUC of ROC = 0.850903
AUC of PRC = 0.520923
min(+P, Se) = 0.472222

-------------------------------

confusion matrix:
[[545   4]
 [ 72   5]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12748999893665314
difference in average predicted and observed risk = 0.004486998936653136
number samples = 626
accuracy = 0.878594
precision class 0 = 0.883306
precision class 1 = 0.555556
recall class 0 = 0.992714
recall class 1 = 0.064935
false negative rate = 0.935065
false positive rate = 0.007286
positive prediction rate = 0.014377
AUC of ROC = 0.865209
AUC of PRC = 0.498622
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2247    2]
 [ 193   15]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09440100193023682
difference in average predicted and observed risk = 0.009745001930236821
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.920902
precision class 1 = 0.882353
recall class 0 = 0.999111
recall class 1 = 0.072115
false negative rate = 0.927885
false positive rate = 0.000889
positive prediction rate = 0.006919
AUC of ROC = 0.847129
AUC of PRC = 0.408852
min(+P, Se) = 0.399038

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11233499646186829
difference in average predicted and observed risk = 0.01152899646186828
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.801256
AUC of PRC = 0.31005
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[474   7]
 [ 57  25]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14203299582004547
difference in average predicted and observed risk = -0.0036150041799545285
number samples = 563
accuracy = 0.886323
precision class 0 = 0.892655
precision class 1 = 0.78125
recall class 0 = 0.985447
recall class 1 = 0.304878
false negative rate = 0.695122
false positive rate = 0.014553
positive prediction rate = 0.056838
AUC of ROC = 0.859667
AUC of PRC = 0.617838
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[654   1]
 [ 71   8]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11058499664068222
difference in average predicted and observed risk = 0.002955996640682218
number samples = 734
accuracy = 0.901907
precision class 0 = 0.902069
precision class 1 = 0.888889
recall class 0 = 0.998473
recall class 1 = 0.101266
false negative rate = 0.898734
false positive rate = 0.001527
positive prediction rate = 0.012262
AUC of ROC = 0.847232
AUC of PRC = 0.509893
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4142   15]
 [ 417   54]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10819900035858154
difference in average predicted and observed risk = 0.006427000358581542
number samples = 4628
accuracy = 0.906655
precision class 0 = 0.908533
precision class 1 = 0.782609
recall class 0 = 0.996392
recall class 1 = 0.11465
false negative rate = 0.88535
false positive rate = 0.003608
positive prediction rate = 0.014909
AUC of ROC = 0.850649
AUC of PRC = 0.475714
min(+P, Se) = 0.457627

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10910200327634811
difference in average predicted and observed risk = 0.02893300327634811
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.831482
AUC of PRC = 0.388989
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10357999801635742
difference in average predicted and observed risk = -0.005216001983642582
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.831832
AUC of PRC = 0.475971
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1452919989824295
difference in average predicted and observed risk = 0.0351229989824295
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.879853
AUC of PRC = 0.617909
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11926399916410446
difference in average predicted and observed risk = -0.014069000835895545
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11654900014400482
difference in average predicted and observed risk = 0.0015050001440048283
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.80094
AUC of PRC = 0.36541
min(+P, Se) = 0.404762

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.10840199887752533
difference in average predicted and observed risk = 0.016351998877525323
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.87699
AUC of PRC = 0.568855
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09396100044250488
difference in average predicted and observed risk = 0.004759000442504879
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.843733
AUC of PRC = 0.444708
min(+P, Se) = 0.404762

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13205699622631073
difference in average predicted and observed risk = 0.014409996226310728
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.92037
AUC of PRC = 0.713125
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.1236409991979599
difference in average predicted and observed risk = 0.0349309991979599
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.90185
AUC of PRC = 0.392421
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12882499396800995
difference in average predicted and observed risk = -0.02078100603199004
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.775341
AUC of PRC = 0.497306
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.16148699820041656
difference in average predicted and observed risk = 0.08253999820041656
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.1117819994688034
difference in average predicted and observed risk = 0.010190999468803405
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.844621
AUC of PRC = 0.479643
min(+P, Se) = 0.447059

-------------------------------

Epoch 00048: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch48.state
Epoch 49/100
 - 298s - loss: 0.2656 - val_loss: 0.2499

==>predicting on train



confusion matrix:
[[2151    4]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07017000019550323
difference in average predicted and observed risk = -0.035638999804496765
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.905303
precision class 1 = 0.882353
recall class 0 = 0.998144
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.001856
positive prediction rate = 0.014108
AUC of ROC = 0.845836
AUC of PRC = 0.475683
min(+P, Se) = 0.454902

-------------------------------

confusion matrix:
[[1168   11]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07415299862623215
difference in average predicted and observed risk = -0.016826001373767857
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.921863
precision class 1 = 0.633333
recall class 0 = 0.99067
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.00933
positive prediction rate = 0.02313
AUC of ROC = 0.845431
AUC of PRC = 0.42779
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[652   4]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0860619992017746
difference in average predicted and observed risk = -0.015308000798225405
number samples = 730
accuracy = 0.908219
precision class 0 = 0.911888
precision class 1 = 0.733333
recall class 0 = 0.993902
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.006098
positive prediction rate = 0.020548
AUC of ROC = 0.846552
AUC of PRC = 0.462967
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0798489972949028
difference in average predicted and observed risk = -0.045805002705097186
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.923902
AUC of PRC = 0.72172
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2462   12]
 [ 222   33]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07065899670124054
difference in average predicted and observed risk = -0.022782003298759457
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.917288
precision class 1 = 0.733333
recall class 0 = 0.99515
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.00485
positive prediction rate = 0.01649
AUC of ROC = 0.847463
AUC of PRC = 0.429648
min(+P, Se) = 0.402299

-------------------------------

confusion matrix:
[[1675    8]
 [ 185   31]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07927200198173523
difference in average predicted and observed risk = -0.03447199801826477
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.900538
precision class 1 = 0.794872
recall class 0 = 0.995247
recall class 1 = 0.143519
false negative rate = 0.856481
false positive rate = 0.004753
positive prediction rate = 0.020537
AUC of ROC = 0.849481
AUC of PRC = 0.514253
min(+P, Se) = 0.470046

-------------------------------

confusion matrix:
[[545   4]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08613800257444382
difference in average predicted and observed risk = -0.036864997425556184
number samples = 626
accuracy = 0.880192
precision class 0 = 0.88474
precision class 1 = 0.6
recall class 0 = 0.992714
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.007286
positive prediction rate = 0.015974
AUC of ROC = 0.849762
AUC of PRC = 0.455783
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[2246    3]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06099500134587288
difference in average predicted and observed risk = -0.023660998654127116
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.922382
precision class 1 = 0.863636
recall class 0 = 0.998666
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.001334
positive prediction rate = 0.008954
AUC of ROC = 0.847729
AUC of PRC = 0.408016
min(+P, Se) = 0.401914

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07521600276231766
difference in average predicted and observed risk = -0.02558999723768235
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.78278
AUC of PRC = 0.285799
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[472   9]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11136399954557419
difference in average predicted and observed risk = -0.03428400045442581
number samples = 563
accuracy = 0.888099
precision class 0 = 0.897338
precision class 1 = 0.756757
recall class 0 = 0.981289
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.018711
positive prediction rate = 0.065719
AUC of ROC = 0.862127
AUC of PRC = 0.62136
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[654   1]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07932599633932114
difference in average predicted and observed risk = -0.028303003660678866
number samples = 734
accuracy = 0.904632
precision class 0 = 0.904564
precision class 1 = 0.909091
recall class 0 = 0.998473
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.001527
positive prediction rate = 0.014986
AUC of ROC = 0.845009
AUC of PRC = 0.512203
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4137   20]
 [ 407   64]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07419300079345703
difference in average predicted and observed risk = -0.02757899920654297
number samples = 4628
accuracy = 0.907736
precision class 0 = 0.910431
precision class 1 = 0.761905
recall class 0 = 0.995189
recall class 1 = 0.135881
false negative rate = 0.864119
false positive rate = 0.004811
positive prediction rate = 0.01815
AUC of ROC = 0.84857
AUC of PRC = 0.465716
min(+P, Se) = 0.435244

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07474499940872192
difference in average predicted and observed risk = -0.00542400059127808
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.842347
AUC of PRC = 0.365829
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06784500181674957
difference in average predicted and observed risk = -0.04095099818325043
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.827521
AUC of PRC = 0.469537
min(+P, Se) = 0.42

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1103610023856163
difference in average predicted and observed risk = 0.00019200238561629945
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.87326
AUC of PRC = 0.642839
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08702699840068817
difference in average predicted and observed risk = -0.046306001599311836
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07954700291156769
difference in average predicted and observed risk = -0.035496997088432306
number samples = 339
accuracy = 0.882006
precision class 0 = 0.886905
precision class 1 = 0.333333
recall class 0 = 0.993333
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.006667
positive prediction rate = 0.00885
AUC of ROC = 0.801795
AUC of PRC = 0.368882
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07466600090265274
difference in average predicted and observed risk = -0.017383999097347266
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.872905
AUC of PRC = 0.542995
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.059696000069379807
difference in average predicted and observed risk = -0.029505999930620197
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.848413
AUC of PRC = 0.425102
min(+P, Se) = 0.456522

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09866999834775925
difference in average predicted and observed risk = -0.018977001652240755
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.917593
AUC of PRC = 0.717933
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08237499743700027
difference in average predicted and observed risk = -0.0063350025629997225
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.888174
AUC of PRC = 0.364714
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09462100267410278
difference in average predicted and observed risk = -0.054984997325897206
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.773879
AUC of PRC = 0.523436
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12975400686264038
difference in average predicted and observed risk = 0.05080700686264038
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.776786
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07669100165367126
difference in average predicted and observed risk = -0.024899998346328736
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.843554
AUC of PRC = 0.469207
min(+P, Se) = 0.457831

-------------------------------

Epoch 00049: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch49.state
Epoch 50/100
 - 295s - loss: 0.2621 - val_loss: 0.2479

==>predicting on train



confusion matrix:
[[2153    2]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07920700311660767
difference in average predicted and observed risk = -0.026601996883392334
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.905383
precision class 1 = 0.9375
recall class 0 = 0.999072
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.000928
positive prediction rate = 0.013278
AUC of ROC = 0.851235
AUC of PRC = 0.491083
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1170    9]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08436399698257446
difference in average predicted and observed risk = -0.006615003017425541
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.921986
precision class 1 = 0.678571
recall class 0 = 0.992366
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.007634
positive prediction rate = 0.021588
AUC of ROC = 0.842412
AUC of PRC = 0.440575
min(+P, Se) = 0.42623

-------------------------------

confusion matrix:
[[652   4]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09686599671840668
difference in average predicted and observed risk = -0.0045040032815933245
number samples = 730
accuracy = 0.910959
precision class 0 = 0.914446
precision class 1 = 0.764706
recall class 0 = 0.993902
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.006098
positive prediction rate = 0.023288
AUC of ROC = 0.847767
AUC of PRC = 0.490854
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08891399949789047
difference in average predicted and observed risk = -0.036740000502109516
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.928144
AUC of PRC = 0.723616
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2463   11]
 [ 221   34]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07960399985313416
difference in average predicted and observed risk = -0.013837000146865841
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.91766
precision class 1 = 0.755556
recall class 0 = 0.995554
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.004446
positive prediction rate = 0.01649
AUC of ROC = 0.847106
AUC of PRC = 0.440905
min(+P, Se) = 0.40856

-------------------------------

confusion matrix:
[[1678    5]
 [ 183   33]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08992200344800949
difference in average predicted and observed risk = -0.023821996551990507
number samples = 1899
accuracy = 0.901
precision class 0 = 0.901666
precision class 1 = 0.868421
recall class 0 = 0.997029
recall class 1 = 0.152778
false negative rate = 0.847222
false positive rate = 0.002971
positive prediction rate = 0.020011
AUC of ROC = 0.855521
AUC of PRC = 0.532963
min(+P, Se) = 0.491071

-------------------------------

confusion matrix:
[[546   3]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09966400265693665
difference in average predicted and observed risk = -0.023338997343063356
number samples = 626
accuracy = 0.881789
precision class 0 = 0.884927
precision class 1 = 0.666667
recall class 0 = 0.994536
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.005464
positive prediction rate = 0.014377
AUC of ROC = 0.855794
AUC of PRC = 0.483105
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2246    3]
 [ 188   20]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07023599743843079
difference in average predicted and observed risk = -0.014420002561569209
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.922761
precision class 1 = 0.869565
recall class 0 = 0.998666
recall class 1 = 0.096154
false negative rate = 0.903846
false positive rate = 0.001334
positive prediction rate = 0.009361
AUC of ROC = 0.844326
AUC of PRC = 0.412015
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08968500047922134
difference in average predicted and observed risk = -0.011120999520778663
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.815067
AUC of PRC = 0.311763
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[475   6]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11838400363922119
difference in average predicted and observed risk = -0.02726399636077881
number samples = 563
accuracy = 0.893428
precision class 0 = 0.897921
precision class 1 = 0.823529
recall class 0 = 0.987526
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.012474
positive prediction rate = 0.060391
AUC of ROC = 0.865575
AUC of PRC = 0.644128
min(+P, Se) = 0.564706

-------------------------------

confusion matrix:
[[654   1]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08739899843931198
difference in average predicted and observed risk = -0.02023000156068802
number samples = 734
accuracy = 0.907357
precision class 0 = 0.907073
precision class 1 = 0.923077
recall class 0 = 0.998473
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.001527
positive prediction rate = 0.017711
AUC of ROC = 0.852295
AUC of PRC = 0.515907
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4141   16]
 [ 404   67]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08383800089359283
difference in average predicted and observed risk = -0.017933999106407167
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.911111
precision class 1 = 0.807229
recall class 0 = 0.996151
recall class 1 = 0.142251
false negative rate = 0.857749
false positive rate = 0.003849
positive prediction rate = 0.017934
AUC of ROC = 0.850932
AUC of PRC = 0.481168
min(+P, Se) = 0.445148

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0828310027718544
difference in average predicted and observed risk = 0.0026620027718543965
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.860212
AUC of PRC = 0.359043
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07716500014066696
difference in average predicted and observed risk = -0.03163099985933304
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.815142
AUC of PRC = 0.47039
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11960600316524506
difference in average predicted and observed risk = 0.009437003165245053
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.87326
AUC of PRC = 0.595038
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08994399756193161
difference in average predicted and observed risk = -0.0433890024380684
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09003599733114243
difference in average predicted and observed risk = -0.025008002668857568
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.818547
AUC of PRC = 0.37244
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08212500065565109
difference in average predicted and observed risk = -0.009924999344348914
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.857719
AUC of PRC = 0.531879
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06766699999570847
difference in average predicted and observed risk = -0.021535000004291538
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.837697
AUC of PRC = 0.414415
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10807699710130692
difference in average predicted and observed risk = -0.009570002898693086
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.918519
AUC of PRC = 0.716804
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09507899731397629
difference in average predicted and observed risk = 0.006368997313976291
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.89461
AUC of PRC = 0.410887
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10425200313329697
difference in average predicted and observed risk = -0.04535399686670302
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.784113
AUC of PRC = 0.521667
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12889599800109863
difference in average predicted and observed risk = 0.04994899800109863
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08540800213813782
difference in average predicted and observed risk = -0.016182997861862183
number samples = 817
accuracy = 0.909425
precision class 0 = 0.911471
precision class 1 = 0.8
recall class 0 = 0.995913
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.004087
positive prediction rate = 0.01836
AUC of ROC = 0.841666
AUC of PRC = 0.46842
min(+P, Se) = 0.493976

-------------------------------

Epoch 00050: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch50.state
Epoch 51/100
 - 286s - loss: 0.2605 - val_loss: 0.2453

==>predicting on train



confusion matrix:
[[2143   12]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09689199924468994
difference in average predicted and observed risk = -0.008917000755310059
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.910365
precision class 1 = 0.785714
recall class 0 = 0.994432
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.005568
positive prediction rate = 0.023237
AUC of ROC = 0.846677
AUC of PRC = 0.480388
min(+P, Se) = 0.45098

-------------------------------

confusion matrix:
[[1164   15]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09959899634122849
difference in average predicted and observed risk = 0.00861999634122848
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.925278
precision class 1 = 0.615385
recall class 0 = 0.987277
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.012723
positive prediction rate = 0.030069
AUC of ROC = 0.841427
AUC of PRC = 0.434699
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[647   9]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11648199707269669
difference in average predicted and observed risk = 0.015111997072696684
number samples = 730
accuracy = 0.906849
precision class 0 = 0.916431
precision class 1 = 0.625
recall class 0 = 0.986281
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.01372
positive prediction rate = 0.032877
AUC of ROC = 0.844904
AUC of PRC = 0.489822
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10597799718379974
difference in average predicted and observed risk = -0.019676002816200244
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.919162
AUC of PRC = 0.718172
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2451   23]
 [ 209   46]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09630800038576126
difference in average predicted and observed risk = 0.0028670003857612647
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.921429
precision class 1 = 0.666667
recall class 0 = 0.990703
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.009297
positive prediction rate = 0.025284
AUC of ROC = 0.847517
AUC of PRC = 0.441524
min(+P, Se) = 0.416031

-------------------------------

confusion matrix:
[[1669   14]
 [ 173   43]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10802300274372101
difference in average predicted and observed risk = -0.00572099725627899
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.90608
precision class 1 = 0.754386
recall class 0 = 0.991682
recall class 1 = 0.199074
false negative rate = 0.800926
false positive rate = 0.008318
positive prediction rate = 0.030016
AUC of ROC = 0.846647
AUC of PRC = 0.514061
min(+P, Se) = 0.493213

-------------------------------

confusion matrix:
[[541   8]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11821500211954117
difference in average predicted and observed risk = -0.004787997880458833
number samples = 626
accuracy = 0.884984
precision class 0 = 0.894215
precision class 1 = 0.619048
recall class 0 = 0.985428
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.014572
positive prediction rate = 0.033546
AUC of ROC = 0.856031
AUC of PRC = 0.489274
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2238   11]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08678299933671951
difference in average predicted and observed risk = 0.002126999336719518
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.925176
precision class 1 = 0.710526
recall class 0 = 0.995109
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004891
positive prediction rate = 0.015466
AUC of ROC = 0.845194
AUC of PRC = 0.406942
min(+P, Se) = 0.399038

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10699199885129929
difference in average predicted and observed risk = 0.006185998851299279
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.801614
AUC of PRC = 0.300305
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13471800088882446
difference in average predicted and observed risk = -0.010929999111175537
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.85594
AUC of PRC = 0.629431
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10674899816513062
difference in average predicted and observed risk = -0.0008800018348693872
number samples = 734
accuracy = 0.908719
precision class 0 = 0.912921
precision class 1 = 0.772727
recall class 0 = 0.992366
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.007634
positive prediction rate = 0.029973
AUC of ROC = 0.843656
AUC of PRC = 0.507139
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[4120   37]
 [ 382   89]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10111500322818756
difference in average predicted and observed risk = -0.0006569967718124403
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.915149
precision class 1 = 0.706349
recall class 0 = 0.991099
recall class 1 = 0.18896
false negative rate = 0.81104
false positive rate = 0.008901
positive prediction rate = 0.027226
AUC of ROC = 0.84745
AUC of PRC = 0.473359
min(+P, Se) = 0.452229

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0988679975271225
difference in average predicted and observed risk = 0.018698997527122493
number samples = 237
accuracy = 0.915612
precision class 0 = 0.930435
precision class 1 = 0.428571
recall class 0 = 0.981651
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018349
positive prediction rate = 0.029536
AUC of ROC = 0.852245
AUC of PRC = 0.325992
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09399399906396866
difference in average predicted and observed risk = -0.014802000936031345
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.830119
AUC of PRC = 0.508638
min(+P, Se) = 0.479167

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14346300065517426
difference in average predicted and observed risk = 0.03329400065517425
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.863736
AUC of PRC = 0.51737
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12159500271081924
difference in average predicted and observed risk = -0.011737997289180763
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10950800031423569
difference in average predicted and observed risk = -0.005535999685764306
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.813162
AUC of PRC = 0.366989
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[431   3]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09935200214385986
difference in average predicted and observed risk = 0.0073020021438598565
number samples = 478
accuracy = 0.92887
precision class 0 = 0.9329
precision class 1 = 0.8125
recall class 0 = 0.993088
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.006912
positive prediction rate = 0.033473
AUC of ROC = 0.863846
AUC of PRC = 0.554302
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[386   2]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08455099910497665
difference in average predicted and observed risk = -0.0046510008950233495
number samples = 426
accuracy = 0.91784
precision class 0 = 0.921241
precision class 1 = 0.714286
recall class 0 = 0.994845
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.005155
positive prediction rate = 0.016432
AUC of ROC = 0.84475
AUC of PRC = 0.448703
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1242159977555275
difference in average predicted and observed risk = 0.006568997755527495
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.901852
AUC of PRC = 0.686711
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11359699815511703
difference in average predicted and observed risk = 0.024886998155117038
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.904264
AUC of PRC = 0.405556
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12479600310325623
difference in average predicted and observed risk = -0.024809996896743763
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.772417
AUC of PRC = 0.442745
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15763400495052338
difference in average predicted and observed risk = 0.07868700495052337
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.753704
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10356699675321579
difference in average predicted and observed risk = 0.001975996753215789
number samples = 817
accuracy = 0.909425
precision class 0 = 0.915617
precision class 1 = 0.695652
recall class 0 = 0.990463
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.009537
positive prediction rate = 0.028152
AUC of ROC = 0.844178
AUC of PRC = 0.459149
min(+P, Se) = 0.46988

-------------------------------

Epoch 00051: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch51.state
Epoch 52/100
 - 281s - loss: 0.2590 - val_loss: 0.2519

==>predicting on train



confusion matrix:
[[2147    8]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07389199733734131
difference in average predicted and observed risk = -0.03191700266265869
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.910517
precision class 1 = 0.846154
recall class 0 = 0.996288
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.003712
positive prediction rate = 0.021577
AUC of ROC = 0.845598
AUC of PRC = 0.483908
min(+P, Se) = 0.466926

-------------------------------

confusion matrix:
[[1164   15]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07985399663448334
difference in average predicted and observed risk = -0.011125003365516667
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.925278
precision class 1 = 0.615385
recall class 0 = 0.987277
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.012723
positive prediction rate = 0.030069
AUC of ROC = 0.838358
AUC of PRC = 0.434532
min(+P, Se) = 0.408333

-------------------------------

confusion matrix:
[[648   8]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0925310030579567
difference in average predicted and observed risk = -0.008838996942043306
number samples = 730
accuracy = 0.909589
precision class 0 = 0.917847
precision class 1 = 0.666667
recall class 0 = 0.987805
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.012195
positive prediction rate = 0.032877
AUC of ROC = 0.850692
AUC of PRC = 0.490583
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0842289999127388
difference in average predicted and observed risk = -0.04142500008726119
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.93014
AUC of PRC = 0.738151
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2454   20]
 [ 207   48]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07545699924230576
difference in average predicted and observed risk = -0.01798400075769424
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.92221
precision class 1 = 0.705882
recall class 0 = 0.991916
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.008084
positive prediction rate = 0.024918
AUC of ROC = 0.846728
AUC of PRC = 0.440666
min(+P, Se) = 0.428016

-------------------------------

confusion matrix:
[[1671   12]
 [ 173   43]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08392100036144257
difference in average predicted and observed risk = -0.029822999638557432
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.906182
precision class 1 = 0.781818
recall class 0 = 0.99287
recall class 1 = 0.199074
false negative rate = 0.800926
false positive rate = 0.00713
positive prediction rate = 0.028963
AUC of ROC = 0.847046
AUC of PRC = 0.521053
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[542   7]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08995100110769272
difference in average predicted and observed risk = -0.03305199889230728
number samples = 626
accuracy = 0.883387
precision class 0 = 0.891447
precision class 1 = 0.611111
recall class 0 = 0.98725
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.01275
positive prediction rate = 0.028754
AUC of ROC = 0.847231
AUC of PRC = 0.486412
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[2240    9]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06621100008487701
difference in average predicted and observed risk = -0.01844499991512298
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.92562
precision class 1 = 0.756757
recall class 0 = 0.995998
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.004002
positive prediction rate = 0.015059
AUC of ROC = 0.847154
AUC of PRC = 0.414923
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08232799917459488
difference in average predicted and observed risk = -0.018478000825405128
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.785471
AUC of PRC = 0.276744
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[472   9]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11241599917411804
difference in average predicted and observed risk = -0.03323200082588196
number samples = 563
accuracy = 0.895204
precision class 0 = 0.904215
precision class 1 = 0.780488
recall class 0 = 0.981289
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.018711
positive prediction rate = 0.072824
AUC of ROC = 0.86162
AUC of PRC = 0.626715
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[651   4]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08527100086212158
difference in average predicted and observed risk = -0.02235799913787842
number samples = 734
accuracy = 0.912807
precision class 0 = 0.915612
precision class 1 = 0.826087
recall class 0 = 0.993893
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.006107
positive prediction rate = 0.031335
AUC of ROC = 0.844874
AUC of PRC = 0.509317
min(+P, Se) = 0.457831

-------------------------------

confusion matrix:
[[4125   32]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07892999798059464
difference in average predicted and observed risk = -0.022842002019405366
number samples = 4628
accuracy = 0.910977
precision class 0 = 0.915649
precision class 1 = 0.739837
recall class 0 = 0.992302
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.007698
positive prediction rate = 0.026577
AUC of ROC = 0.847411
AUC of PRC = 0.475415
min(+P, Se) = 0.449153

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08028999716043472
difference in average predicted and observed risk = 0.00012099716043471875
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.864317
AUC of PRC = 0.38191
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07048700004816055
difference in average predicted and observed risk = -0.03830899995183945
number samples = 432
accuracy = 0.902778
precision class 0 = 0.905437
precision class 1 = 0.777778
recall class 0 = 0.994805
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.005195
positive prediction rate = 0.020833
AUC of ROC = 0.803592
AUC of PRC = 0.461634
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12097799777984619
difference in average predicted and observed risk = 0.010808997779846188
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.860073
AUC of PRC = 0.50782
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09024500101804733
difference in average predicted and observed risk = -0.043087998981952674
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08323699980974197
difference in average predicted and observed risk = -0.03180700019025802
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.799145
AUC of PRC = 0.366843
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08000999689102173
difference in average predicted and observed risk = -0.012040003108978278
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.853634
AUC of PRC = 0.527298
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[385   3]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06478600203990936
difference in average predicted and observed risk = -0.02441599796009064
number samples = 426
accuracy = 0.91784
precision class 0 = 0.923261
precision class 1 = 0.666667
recall class 0 = 0.992268
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.007732
positive prediction rate = 0.021127
AUC of ROC = 0.825081
AUC of PRC = 0.385894
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10332900285720825
difference in average predicted and observed risk = -0.01431799714279175
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.9
AUC of PRC = 0.68049
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0821319967508316
difference in average predicted and observed risk = -0.006578003249168393
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.89461
AUC of PRC = 0.445561
min(+P, Se) = 0.636364

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10518000274896622
difference in average predicted and observed risk = -0.04442599725103377
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.762671
AUC of PRC = 0.45018
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12582500278949738
difference in average predicted and observed risk = 0.04687800278949737
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08134900033473969
difference in average predicted and observed risk = -0.020241999665260316
number samples = 817
accuracy = 0.909425
precision class 0 = 0.916667
precision class 1 = 0.68
recall class 0 = 0.989101
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.010899
positive prediction rate = 0.0306
AUC of ROC = 0.83167
AUC of PRC = 0.444294
min(+P, Se) = 0.481928

-------------------------------

Epoch 00052: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch52.state
Epoch 53/100
 - 280s - loss: 0.2573 - val_loss: 0.2524

==>predicting on train



confusion matrix:
[[2149    6]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07810399681329727
difference in average predicted and observed risk = -0.02770500318670273
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.9079
precision class 1 = 0.860465
recall class 0 = 0.997216
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.002784
positive prediction rate = 0.017842
AUC of ROC = 0.83881
AUC of PRC = 0.476943
min(+P, Se) = 0.436293

-------------------------------

confusion matrix:
[[1169   10]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08364199846982956
difference in average predicted and observed risk = -0.007337001530170445
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.922652
precision class 1 = 0.666667
recall class 0 = 0.991518
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.008482
positive prediction rate = 0.02313
AUC of ROC = 0.823716
AUC of PRC = 0.424703
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09561099857091904
difference in average predicted and observed risk = -0.005759001429080965
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.851537
AUC of PRC = 0.489303
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08630900084972382
difference in average predicted and observed risk = -0.03934499915027617
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.924651
AUC of PRC = 0.707098
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2461   13]
 [ 216   39]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07883799821138382
difference in average predicted and observed risk = -0.014603001788616177
number samples = 2729
accuracy = 0.916086
precision class 0 = 0.919313
precision class 1 = 0.75
recall class 0 = 0.994745
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.005255
positive prediction rate = 0.019055
AUC of ROC = 0.842668
AUC of PRC = 0.44163
min(+P, Se) = 0.420455

-------------------------------

confusion matrix:
[[1673   10]
 [ 180   36]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08838800340890884
difference in average predicted and observed risk = -0.025355996591091154
number samples = 1899
accuracy = 0.899947
precision class 0 = 0.90286
precision class 1 = 0.782609
recall class 0 = 0.994058
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005942
positive prediction rate = 0.024223
AUC of ROC = 0.837003
AUC of PRC = 0.508329
min(+P, Se) = 0.469565

-------------------------------

confusion matrix:
[[546   3]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09268999844789505
difference in average predicted and observed risk = -0.03031300155210495
number samples = 626
accuracy = 0.884984
precision class 0 = 0.887805
precision class 1 = 0.727273
recall class 0 = 0.994536
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.005464
positive prediction rate = 0.017572
AUC of ROC = 0.843943
AUC of PRC = 0.491696
min(+P, Se) = 0.512821

-------------------------------

confusion matrix:
[[2243    6]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0703670009970665
difference in average predicted and observed risk = -0.014288999002933497
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.923806
precision class 1 = 0.793103
recall class 0 = 0.997332
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.002668
positive prediction rate = 0.011803
AUC of ROC = 0.834768
AUC of PRC = 0.401964
min(+P, Se) = 0.402844

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08577799797058105
difference in average predicted and observed risk = -0.015028002029418952
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.810045
AUC of PRC = 0.295912
min(+P, Se) = 0.366667

-------------------------------

confusion matrix:
[[472   9]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11907099932432175
difference in average predicted and observed risk = -0.026577000675678253
number samples = 563
accuracy = 0.891652
precision class 0 = 0.900763
precision class 1 = 0.769231
recall class 0 = 0.981289
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.018711
positive prediction rate = 0.069272
AUC of ROC = 0.853228
AUC of PRC = 0.636496
min(+P, Se) = 0.566265

-------------------------------

confusion matrix:
[[653   2]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08687999844551086
difference in average predicted and observed risk = -0.020749001554489138
number samples = 734
accuracy = 0.907357
precision class 0 = 0.908206
precision class 1 = 0.866667
recall class 0 = 0.996947
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.003053
positive prediction rate = 0.020436
AUC of ROC = 0.839869
AUC of PRC = 0.496257
min(+P, Se) = 0.419753

-------------------------------

confusion matrix:
[[4134   23]
 [ 396   75]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08275599777698517
difference in average predicted and observed risk = -0.019016002223014833
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.912583
precision class 1 = 0.765306
recall class 0 = 0.994467
recall class 1 = 0.159236
false negative rate = 0.840764
false positive rate = 0.005533
positive prediction rate = 0.021175
AUC of ROC = 0.840385
AUC of PRC = 0.469801
min(+P, Se) = 0.439746

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08472900092601776
difference in average predicted and observed risk = 0.004560000926017757
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.804925
AUC of PRC = 0.303383
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07529599964618683
difference in average predicted and observed risk = -0.033500000353813175
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.823321
AUC of PRC = 0.474535
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1200760006904602
difference in average predicted and observed risk = 0.009907000690460202
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.880586
AUC of PRC = 0.53226
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09718099981546402
difference in average predicted and observed risk = -0.03615200018453599
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08889299631118774
difference in average predicted and observed risk = -0.02615100368881225
number samples = 339
accuracy = 0.879056
precision class 0 = 0.888889
precision class 1 = 0.333333
recall class 0 = 0.986667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.013333
positive prediction rate = 0.017699
AUC of ROC = 0.810427
AUC of PRC = 0.358593
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08275800198316574
difference in average predicted and observed risk = -0.009291998016834266
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.846198
AUC of PRC = 0.520828
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06999299675226212
difference in average predicted and observed risk = -0.019209003247737888
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.804734
AUC of PRC = 0.397553
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1051430031657219
difference in average predicted and observed risk = -0.012503996834278108
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.922222
AUC of PRC = 0.61007
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08710599690675735
difference in average predicted and observed risk = -0.0016040030932426425
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.893001
AUC of PRC = 0.401016
min(+P, Se) = 0.636364

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10701099783182144
difference in average predicted and observed risk = -0.04259500216817855
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.787037
AUC of PRC = 0.50142
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1252650022506714
difference in average predicted and observed risk = 0.04631800225067138
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08530399948358536
difference in average predicted and observed risk = -0.016287000516414643
number samples = 817
accuracy = 0.905753
precision class 0 = 0.910112
precision class 1 = 0.6875
recall class 0 = 0.993188
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.006812
positive prediction rate = 0.019584
AUC of ROC = 0.831276
AUC of PRC = 0.445954
min(+P, Se) = 0.5

-------------------------------

Epoch 00053: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch53.state
Epoch 54/100
 - 285s - loss: 0.2596 - val_loss: 0.2471

==>predicting on train



confusion matrix:
[[2146    9]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08891800045967102
difference in average predicted and observed risk = -0.01689099954032898
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.909322
precision class 1 = 0.82
recall class 0 = 0.995824
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.004176
positive prediction rate = 0.020747
AUC of ROC = 0.849603
AUC of PRC = 0.487231
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[1165   14]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09447299689054489
difference in average predicted and observed risk = 0.003493996890544887
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.923138
precision class 1 = 0.6
recall class 0 = 0.988126
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.011874
positive prediction rate = 0.026985
AUC of ROC = 0.844051
AUC of PRC = 0.438127
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[648   8]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10673599690198898
difference in average predicted and observed risk = 0.005365996901988981
number samples = 730
accuracy = 0.908219
precision class 0 = 0.916549
precision class 1 = 0.652174
recall class 0 = 0.987805
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.012195
positive prediction rate = 0.031507
AUC of ROC = 0.856234
AUC of PRC = 0.494543
min(+P, Se) = 0.493333

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09790600091218948
difference in average predicted and observed risk = -0.027747999087810504
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.928144
AUC of PRC = 0.721175
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2454   20]
 [ 211   44]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08931200206279755
difference in average predicted and observed risk = -0.00412899793720245
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.920826
precision class 1 = 0.6875
recall class 0 = 0.991916
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.008084
positive prediction rate = 0.023452
AUC of ROC = 0.848493
AUC of PRC = 0.449574
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1671   12]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09989999979734421
difference in average predicted and observed risk = -0.01384400020265579
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.904221
precision class 1 = 0.764706
recall class 0 = 0.99287
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.00713
positive prediction rate = 0.026856
AUC of ROC = 0.854955
AUC of PRC = 0.517178
min(+P, Se) = 0.472222

-------------------------------

confusion matrix:
[[543   6]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10339800268411636
difference in average predicted and observed risk = -0.019604997315883638
number samples = 626
accuracy = 0.880192
precision class 0 = 0.887255
precision class 1 = 0.571429
recall class 0 = 0.989071
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.010929
positive prediction rate = 0.022364
AUC of ROC = 0.853192
AUC of PRC = 0.492406
min(+P, Se) = 0.512821

-------------------------------

confusion matrix:
[[2239   10]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08041100203990936
difference in average predicted and observed risk = -0.004244997960090632
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924824
precision class 1 = 0.722222
recall class 0 = 0.995554
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.004446
positive prediction rate = 0.014652
AUC of ROC = 0.853388
AUC of PRC = 0.416827
min(+P, Se) = 0.403587

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09688600152730942
difference in average predicted and observed risk = -0.003919998472690589
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.805561
AUC of PRC = 0.296975
min(+P, Se) = 0.366667

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13156500458717346
difference in average predicted and observed risk = -0.014082995412826538
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.856701
AUC of PRC = 0.63655
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[651   4]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09951899945735931
difference in average predicted and observed risk = -0.008110000542640688
number samples = 734
accuracy = 0.910082
precision class 0 = 0.913043
precision class 1 = 0.809524
recall class 0 = 0.993893
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.006107
positive prediction rate = 0.02861
AUC of ROC = 0.84872
AUC of PRC = 0.512705
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4125   32]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09365600347518921
difference in average predicted and observed risk = -0.008115996524810792
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.914026
precision class 1 = 0.721739
recall class 0 = 0.992302
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.007698
positive prediction rate = 0.024849
AUC of ROC = 0.851848
AUC of PRC = 0.4793
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09454300254583359
difference in average predicted and observed risk = 0.014374002545833583
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.857798
AUC of PRC = 0.342154
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08666399866342545
difference in average predicted and observed risk = -0.022132001336574558
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.816248
AUC of PRC = 0.490002
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13350500166416168
difference in average predicted and observed risk = 0.02333600166416168
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.863736
AUC of PRC = 0.486333
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10391499847173691
difference in average predicted and observed risk = -0.0294180015282631
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10023000091314316
difference in average predicted and observed risk = -0.014813999086856836
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.812821
AUC of PRC = 0.373826
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[431   3]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0935949981212616
difference in average predicted and observed risk = 0.0015449981212615899
number samples = 478
accuracy = 0.92887
precision class 0 = 0.9329
precision class 1 = 0.8125
recall class 0 = 0.993088
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.006912
positive prediction rate = 0.033473
AUC of ROC = 0.8584
AUC of PRC = 0.53601
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07921800017356873
difference in average predicted and observed risk = -0.009983999826431278
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.838511
AUC of PRC = 0.438387
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1200139969587326
difference in average predicted and observed risk = 0.0023669969587326034
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.903704
AUC of PRC = 0.656831
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10011100023984909
difference in average predicted and observed risk = 0.011401000239849093
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.875302
AUC of PRC = 0.399992
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11731600016355515
difference in average predicted and observed risk = -0.032289999836444844
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.777778
AUC of PRC = 0.461574
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14250099658966064
difference in average predicted and observed risk = 0.06355399658966064
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09634800255298615
difference in average predicted and observed risk = -0.005242997447013856
number samples = 817
accuracy = 0.910649
precision class 0 = 0.916772
precision class 1 = 0.708333
recall class 0 = 0.990463
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.009537
positive prediction rate = 0.029376
AUC of ROC = 0.839631
AUC of PRC = 0.452873
min(+P, Se) = 0.481928

-------------------------------

Epoch 00054: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch54.state
Epoch 55/100
 - 283s - loss: 0.2572 - val_loss: 0.2436

==>predicting on train



confusion matrix:
[[2146    9]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07463199645280838
difference in average predicted and observed risk = -0.03117700354719162
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.910479
precision class 1 = 0.830189
recall class 0 = 0.995824
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.004176
positive prediction rate = 0.021992
AUC of ROC = 0.85668
AUC of PRC = 0.504607
min(+P, Se) = 0.458824

-------------------------------

confusion matrix:
[[1164   15]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08032699674367905
difference in average predicted and observed risk = -0.010652003256320958
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.926014
precision class 1 = 0.625
recall class 0 = 0.987277
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.012723
positive prediction rate = 0.03084
AUC of ROC = 0.84735
AUC of PRC = 0.439958
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[646  10]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09198799729347229
difference in average predicted and observed risk = -0.009382002706527712
number samples = 730
accuracy = 0.905479
precision class 0 = 0.916312
precision class 1 = 0.6
recall class 0 = 0.984756
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.015244
positive prediction rate = 0.034247
AUC of ROC = 0.863546
AUC of PRC = 0.497181
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08409500122070312
difference in average predicted and observed risk = -0.04155899877929686
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.932136
AUC of PRC = 0.735082
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2451   23]
 [ 209   46]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07503200322389603
difference in average predicted and observed risk = -0.01840899677610397
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.921429
precision class 1 = 0.666667
recall class 0 = 0.990703
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.009297
positive prediction rate = 0.025284
AUC of ROC = 0.857043
AUC of PRC = 0.456254
min(+P, Se) = 0.431373

-------------------------------

confusion matrix:
[[1671   12]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08557000011205673
difference in average predicted and observed risk = -0.028173999887943266
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.907166
precision class 1 = 0.789474
recall class 0 = 0.99287
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.00713
positive prediction rate = 0.030016
AUC of ROC = 0.858115
AUC of PRC = 0.530987
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[543   6]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08763299882411957
difference in average predicted and observed risk = -0.03537000117588043
number samples = 626
accuracy = 0.888179
precision class 0 = 0.894563
precision class 1 = 0.684211
recall class 0 = 0.989071
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.010929
positive prediction rate = 0.030351
AUC of ROC = 0.864263
AUC of PRC = 0.496948
min(+P, Se) = 0.5125

-------------------------------

confusion matrix:
[[2239   10]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06695500016212463
difference in average predicted and observed risk = -0.01770099983787536
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.925972
precision class 1 = 0.74359
recall class 0 = 0.995554
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.004446
positive prediction rate = 0.015873
AUC of ROC = 0.856885
AUC of PRC = 0.428305
min(+P, Se) = 0.397129

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08040100336074829
difference in average predicted and observed risk = -0.020404996639251716
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.806996
AUC of PRC = 0.299807
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[472   9]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11485999822616577
difference in average predicted and observed risk = -0.030788001773834228
number samples = 563
accuracy = 0.891652
precision class 0 = 0.900763
precision class 1 = 0.769231
recall class 0 = 0.981289
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.018711
positive prediction rate = 0.069272
AUC of ROC = 0.867071
AUC of PRC = 0.641055
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[648   7]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08622600138187408
difference in average predicted and observed risk = -0.021402998618125918
number samples = 734
accuracy = 0.907357
precision class 0 = 0.913963
precision class 1 = 0.72
recall class 0 = 0.989313
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.010687
positive prediction rate = 0.03406
AUC of ROC = 0.853087
AUC of PRC = 0.522414
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4122   35]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07935699820518494
difference in average predicted and observed risk = -0.022415001794815065
number samples = 4628
accuracy = 0.910328
precision class 0 = 0.915593
precision class 1 = 0.722222
recall class 0 = 0.99158
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.00842
positive prediction rate = 0.027226
AUC of ROC = 0.857885
AUC of PRC = 0.488733
min(+P, Se) = 0.447983

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07940900325775146
difference in average predicted and observed risk = -0.0007599967422485393
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.87325
AUC of PRC = 0.395077
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07314600050449371
difference in average predicted and observed risk = -0.03564999949550629
number samples = 432
accuracy = 0.900463
precision class 0 = 0.903302
precision class 1 = 0.75
recall class 0 = 0.994805
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.005195
positive prediction rate = 0.018519
AUC of ROC = 0.828792
AUC of PRC = 0.45859
min(+P, Se) = 0.462963

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11946199834346771
difference in average predicted and observed risk = 0.00929299834346771
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.874725
AUC of PRC = 0.523912
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0906979963183403
difference in average predicted and observed risk = -0.042635003681659706
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08556400239467621
difference in average predicted and observed risk = -0.029479997605323785
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.805214
AUC of PRC = 0.352015
min(+P, Se) = 0.418605

-------------------------------

confusion matrix:
[[432   2]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07997900247573853
difference in average predicted and observed risk = -0.012070997524261481
number samples = 478
accuracy = 0.930962
precision class 0 = 0.933045
precision class 1 = 0.866667
recall class 0 = 0.995392
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.004608
positive prediction rate = 0.031381
AUC of ROC = 0.884112
AUC of PRC = 0.562386
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[386   2]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06700500100851059
difference in average predicted and observed risk = -0.022196998991489414
number samples = 426
accuracy = 0.91784
precision class 0 = 0.921241
precision class 1 = 0.714286
recall class 0 = 0.994845
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.005155
positive prediction rate = 0.016432
AUC of ROC = 0.851736
AUC of PRC = 0.420286
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10706300288438797
difference in average predicted and observed risk = -0.010583997115612032
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.912037
AUC of PRC = 0.672315
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08001500368118286
difference in average predicted and observed risk = -0.008694996318817136
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.888978
AUC of PRC = 0.431831
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10360199958086014
difference in average predicted and observed risk = -0.04600400041913985
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.79386
AUC of PRC = 0.469868
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12348199635744095
difference in average predicted and observed risk = 0.044534996357440945
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.625
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08229699730873108
difference in average predicted and observed risk = -0.01929400269126892
number samples = 817
accuracy = 0.911873
precision class 0 = 0.916877
precision class 1 = 0.73913
recall class 0 = 0.991826
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.008174
positive prediction rate = 0.028152
AUC of ROC = 0.851925
AUC of PRC = 0.455804
min(+P, Se) = 0.476744

-------------------------------

Epoch 00055: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch55.state
Epoch 56/100
 - 275s - loss: 0.2558 - val_loss: 0.2422

==>predicting on train



confusion matrix:
[[2138   17]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10311300307512283
difference in average predicted and observed risk = -0.002695996924877167
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.911727
precision class 1 = 0.738462
recall class 0 = 0.992111
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.007889
positive prediction rate = 0.026971
AUC of ROC = 0.846815
AUC of PRC = 0.489374
min(+P, Se) = 0.458824

-------------------------------

confusion matrix:
[[1163   16]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10642799735069275
difference in average predicted and observed risk = 0.015448997350692745
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.929656
precision class 1 = 0.652174
recall class 0 = 0.986429
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.013571
positive prediction rate = 0.035466
AUC of ROC = 0.844094
AUC of PRC = 0.441989
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[644  12]
 [ 56  18]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.12081699818372726
difference in average predicted and observed risk = 0.019446998183727263
number samples = 730
accuracy = 0.906849
precision class 0 = 0.92
precision class 1 = 0.6
recall class 0 = 0.981707
recall class 1 = 0.243243
false negative rate = 0.756757
false positive rate = 0.018293
positive prediction rate = 0.041096
AUC of ROC = 0.861569
AUC of PRC = 0.483916
min(+P, Se) = 0.506667

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.1100270003080368
difference in average predicted and observed risk = -0.015626999691963184
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.934381
AUC of PRC = 0.75013
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2443   31]
 [ 201   54]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10207399725914001
difference in average predicted and observed risk = 0.008632997259140018
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.923979
precision class 1 = 0.635294
recall class 0 = 0.98747
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.01253
positive prediction rate = 0.031147
AUC of ROC = 0.84902
AUC of PRC = 0.444754
min(+P, Se) = 0.441406

-------------------------------

confusion matrix:
[[1668   15]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11437200009822845
difference in average predicted and observed risk = 0.0006280000982284567
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.908497
precision class 1 = 0.761905
recall class 0 = 0.991087
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.008913
positive prediction rate = 0.033175
AUC of ROC = 0.854319
AUC of PRC = 0.529084
min(+P, Se) = 0.489083

-------------------------------

confusion matrix:
[[538  11]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11922799795866013
difference in average predicted and observed risk = -0.0037750020413398755
number samples = 626
accuracy = 0.880192
precision class 0 = 0.893688
precision class 1 = 0.541667
recall class 0 = 0.979964
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.020036
positive prediction rate = 0.038339
AUC of ROC = 0.870485
AUC of PRC = 0.497309
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2234   15]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09320300072431564
difference in average predicted and observed risk = 0.008547000724315648
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.926971
precision class 1 = 0.680851
recall class 0 = 0.99333
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.00667
positive prediction rate = 0.019129
AUC of ROC = 0.851372
AUC of PRC = 0.419976
min(+P, Se) = 0.408654

-------------------------------

confusion matrix:
[[218   5]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11096599698066711
difference in average predicted and observed risk = 0.010159996980667108
number samples = 248
accuracy = 0.891129
precision class 0 = 0.908333
precision class 1 = 0.375
recall class 0 = 0.977578
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.022422
positive prediction rate = 0.032258
AUC of ROC = 0.789776
AUC of PRC = 0.304685
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[472   9]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14890199899673462
difference in average predicted and observed risk = 0.0032539989967346195
number samples = 563
accuracy = 0.89698
precision class 0 = 0.90595
precision class 1 = 0.785714
recall class 0 = 0.981289
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.018711
positive prediction rate = 0.0746
AUC of ROC = 0.857436
AUC of PRC = 0.63299
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[649   6]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11003299802541733
difference in average predicted and observed risk = 0.0024039980254173254
number samples = 734
accuracy = 0.912807
precision class 0 = 0.917963
precision class 1 = 0.777778
recall class 0 = 0.99084
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.00916
positive prediction rate = 0.036785
AUC of ROC = 0.840371
AUC of PRC = 0.500962
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4111   46]
 [ 369  102]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10711999982595444
difference in average predicted and observed risk = 0.005347999825954436
number samples = 4628
accuracy = 0.910328
precision class 0 = 0.917634
precision class 1 = 0.689189
recall class 0 = 0.988934
recall class 1 = 0.216561
false negative rate = 0.78344
false positive rate = 0.011066
positive prediction rate = 0.031979
AUC of ROC = 0.851735
AUC of PRC = 0.481563
min(+P, Se) = 0.462845

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10557399690151215
difference in average predicted and observed risk = 0.025404996901512142
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.835345
AUC of PRC = 0.401746
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[384   1]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10114599764347076
difference in average predicted and observed risk = -0.00765000235652924
number samples = 432
accuracy = 0.905093
precision class 0 = 0.90566
precision class 1 = 0.875
recall class 0 = 0.997403
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.002597
positive prediction rate = 0.018519
AUC of ROC = 0.842608
AUC of PRC = 0.485889
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14737999439239502
difference in average predicted and observed risk = 0.037210994392395016
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.884249
AUC of PRC = 0.502174
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1317950040102005
difference in average predicted and observed risk = -0.0015379959897995066
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11544200032949448
difference in average predicted and observed risk = 0.00039800032949448283
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.821368
AUC of PRC = 0.384298
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[430   4]
 [ 29  15]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.1065400019288063
difference in average predicted and observed risk = 0.014490001928806298
number samples = 478
accuracy = 0.930962
precision class 0 = 0.936819
precision class 1 = 0.789474
recall class 0 = 0.990783
recall class 1 = 0.340909
false negative rate = 0.659091
false positive rate = 0.009217
positive prediction rate = 0.039749
AUC of ROC = 0.873429
AUC of PRC = 0.569393
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[386   2]
 [ 30   8]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09166400134563446
difference in average predicted and observed risk = 0.002462001345634457
number samples = 426
accuracy = 0.924883
precision class 0 = 0.927885
precision class 1 = 0.8
recall class 0 = 0.994845
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.005155
positive prediction rate = 0.023474
AUC of ROC = 0.851601
AUC of PRC = 0.441606
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.14096499979496002
difference in average predicted and observed risk = 0.02331799979496002
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.921296
AUC of PRC = 0.682625
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11209099739789963
difference in average predicted and observed risk = 0.02338099739789963
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.880129
AUC of PRC = 0.351924
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13284699618816376
difference in average predicted and observed risk = -0.01675900381183623
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.800682
AUC of PRC = 0.493989
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15427500009536743
difference in average predicted and observed risk = 0.07532800009536743
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11023300141096115
difference in average predicted and observed risk = 0.00864200141096115
number samples = 817
accuracy = 0.913097
precision class 0 = 0.920152
precision class 1 = 0.714286
recall class 0 = 0.989101
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.010899
positive prediction rate = 0.034272
AUC of ROC = 0.852418
AUC of PRC = 0.471358
min(+P, Se) = 0.464286

-------------------------------

Epoch 00056: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch56.state
Epoch 57/100
 - 274s - loss: 0.2570 - val_loss: 0.2440

==>predicting on train



confusion matrix:
[[2143   12]
 [ 206   49]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09924399852752686
difference in average predicted and observed risk = -0.006565001472473145
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.912303
precision class 1 = 0.803279
recall class 0 = 0.994432
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.005568
positive prediction rate = 0.025311
AUC of ROC = 0.846142
AUC of PRC = 0.485836
min(+P, Se) = 0.462745

-------------------------------

confusion matrix:
[[1163   16]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10444500297307968
difference in average predicted and observed risk = 0.013466002973079677
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.929656
precision class 1 = 0.652174
recall class 0 = 0.986429
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.013571
positive prediction rate = 0.035466
AUC of ROC = 0.83651
AUC of PRC = 0.433839
min(+P, Se) = 0.396694

-------------------------------

confusion matrix:
[[644  12]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11771299690008163
difference in average predicted and observed risk = 0.016342996900081633
number samples = 730
accuracy = 0.905479
precision class 0 = 0.918688
precision class 1 = 0.586207
recall class 0 = 0.981707
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.018293
positive prediction rate = 0.039726
AUC of ROC = 0.859797
AUC of PRC = 0.491214
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10889799892902374
difference in average predicted and observed risk = -0.016756001070976245
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.918663
AUC of PRC = 0.744044
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2448   26]
 [ 201   54]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10022400319576263
difference in average predicted and observed risk = 0.006783003195762638
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.924122
precision class 1 = 0.675
recall class 0 = 0.989491
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.010509
positive prediction rate = 0.029315
AUC of ROC = 0.83893
AUC of PRC = 0.433825
min(+P, Se) = 0.424125

-------------------------------

confusion matrix:
[[1668   15]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.1094600036740303
difference in average predicted and observed risk = -0.004283996325969694
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.908497
precision class 1 = 0.761905
recall class 0 = 0.991087
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.008913
positive prediction rate = 0.033175
AUC of ROC = 0.860897
AUC of PRC = 0.537285
min(+P, Se) = 0.511416

-------------------------------

confusion matrix:
[[542   7]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11425799876451492
difference in average predicted and observed risk = -0.008745001235485078
number samples = 626
accuracy = 0.888179
precision class 0 = 0.895868
precision class 1 = 0.666667
recall class 0 = 0.98725
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.01275
positive prediction rate = 0.033546
AUC of ROC = 0.862939
AUC of PRC = 0.497782
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2236   13]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09055899828672409
difference in average predicted and observed risk = 0.005902998286724095
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.927032
precision class 1 = 0.711111
recall class 0 = 0.99422
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.00578
positive prediction rate = 0.018315
AUC of ROC = 0.844967
AUC of PRC = 0.412314
min(+P, Se) = 0.399038

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10512100160121918
difference in average predicted and observed risk = 0.0043150016012191705
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.785471
AUC of PRC = 0.299048
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.144554004073143
difference in average predicted and observed risk = -0.0010939959268569943
number samples = 563
accuracy = 0.89698
precision class 0 = 0.90595
precision class 1 = 0.785714
recall class 0 = 0.981289
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.018711
positive prediction rate = 0.0746
AUC of ROC = 0.862887
AUC of PRC = 0.63605
min(+P, Se) = 0.578313

-------------------------------

confusion matrix:
[[647   8]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10884299874305725
difference in average predicted and observed risk = 0.0012139987430572485
number samples = 734
accuracy = 0.910082
precision class 0 = 0.917731
precision class 1 = 0.724138
recall class 0 = 0.987786
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.012214
positive prediction rate = 0.03951
AUC of ROC = 0.841936
AUC of PRC = 0.50107
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4116   41]
 [ 369  102]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10401400178670883
difference in average predicted and observed risk = 0.0022420017867088304
number samples = 4628
accuracy = 0.911409
precision class 0 = 0.917726
precision class 1 = 0.713287
recall class 0 = 0.990137
recall class 1 = 0.216561
false negative rate = 0.78344
false positive rate = 0.009863
positive prediction rate = 0.030899
AUC of ROC = 0.848712
AUC of PRC = 0.478504
min(+P, Se) = 0.463983

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10357599705457687
difference in average predicted and observed risk = 0.02340699705457687
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.816272
AUC of PRC = 0.422746
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09706900268793106
difference in average predicted and observed risk = -0.011726997312068943
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.846422
AUC of PRC = 0.480386
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14440199732780457
difference in average predicted and observed risk = 0.03423299732780456
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.883516
AUC of PRC = 0.490349
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1276949942111969
difference in average predicted and observed risk = -0.005638005788803108
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1111690029501915
difference in average predicted and observed risk = -0.0038749970498084957
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.817949
AUC of PRC = 0.380564
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[431   3]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.10390300303697586
difference in average predicted and observed risk = 0.011853003036975854
number samples = 478
accuracy = 0.930962
precision class 0 = 0.934924
precision class 1 = 0.823529
recall class 0 = 0.993088
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.006912
positive prediction rate = 0.035565
AUC of ROC = 0.871282
AUC of PRC = 0.564458
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08938299864530563
difference in average predicted and observed risk = 0.00018099864530563003
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.840613
AUC of PRC = 0.411661
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13309399783611298
difference in average predicted and observed risk = 0.015446997836112975
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.925
AUC of PRC = 0.71308
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.1061059981584549
difference in average predicted and observed risk = 0.017395998158454898
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.896219
AUC of PRC = 0.39317
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1323319971561432
difference in average predicted and observed risk = -0.0172740028438568
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.79191
AUC of PRC = 0.48503
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1509300023317337
difference in average predicted and observed risk = 0.0719830023317337
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10691799968481064
difference in average predicted and observed risk = 0.005326999684810638
number samples = 817
accuracy = 0.913097
precision class 0 = 0.91909
precision class 1 = 0.730769
recall class 0 = 0.990463
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.009537
positive prediction rate = 0.031824
AUC of ROC = 0.848922
AUC of PRC = 0.476795
min(+P, Se) = 0.471264

-------------------------------

Epoch 00057: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch57.state
Epoch 58/100
 - 278s - loss: 0.2608 - val_loss: 0.2444

==>predicting on train



confusion matrix:
[[2148    7]
 [ 215   40]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08464299887418747
difference in average predicted and observed risk = -0.02116600112581253
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.909014
precision class 1 = 0.851064
recall class 0 = 0.996752
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.003248
positive prediction rate = 0.019502
AUC of ROC = 0.854482
AUC of PRC = 0.494454
min(+P, Se) = 0.458824

-------------------------------

confusion matrix:
[[1166   13]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08833400160074234
difference in average predicted and observed risk = -0.0026449983992576642
number samples = 1297
accuracy = 0.920586
precision class 0 = 0.928344
precision class 1 = 0.682927
recall class 0 = 0.988974
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.011026
positive prediction rate = 0.031611
AUC of ROC = 0.840241
AUC of PRC = 0.435009
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10301599651575089
difference in average predicted and observed risk = 0.0016459965157508832
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.856295
AUC of PRC = 0.489696
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09374299645423889
difference in average predicted and observed risk = -0.031911003545761096
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.921158
AUC of PRC = 0.739496
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[2457   17]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0847800001502037
difference in average predicted and observed risk = -0.008660999849796291
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.92126
precision class 1 = 0.725806
recall class 0 = 0.993129
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.006871
positive prediction rate = 0.022719
AUC of ROC = 0.846826
AUC of PRC = 0.44229
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[1673   10]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09494499862194061
difference in average predicted and observed risk = -0.018799001378059385
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.905303
precision class 1 = 0.803922
recall class 0 = 0.994058
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.005942
positive prediction rate = 0.026856
AUC of ROC = 0.861177
AUC of PRC = 0.536096
min(+P, Se) = 0.493088

-------------------------------

confusion matrix:
[[544   5]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09802799671888351
difference in average predicted and observed risk = -0.024975003281116487
number samples = 626
accuracy = 0.884984
precision class 0 = 0.890344
precision class 1 = 0.666667
recall class 0 = 0.990893
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.009107
positive prediction rate = 0.023962
AUC of ROC = 0.870556
AUC of PRC = 0.505942
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2243    6]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07644300162792206
difference in average predicted and observed risk = -0.008212998372077937
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.924948
precision class 1 = 0.8125
recall class 0 = 0.997332
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.002668
positive prediction rate = 0.013024
AUC of ROC = 0.849286
AUC of PRC = 0.413521
min(+P, Se) = 0.385714

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08972100168466568
difference in average predicted and observed risk = -0.011084998315334327
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.790135
AUC of PRC = 0.30247
min(+P, Se) = 0.309524

-------------------------------

confusion matrix:
[[472   9]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1246429979801178
difference in average predicted and observed risk = -0.021005002019882202
number samples = 563
accuracy = 0.89698
precision class 0 = 0.90595
precision class 1 = 0.785714
recall class 0 = 0.981289
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.018711
positive prediction rate = 0.0746
AUC of ROC = 0.872192
AUC of PRC = 0.637781
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09544199705123901
difference in average predicted and observed risk = -0.012187002948760989
number samples = 734
accuracy = 0.908719
precision class 0 = 0.911765
precision class 1 = 0.8
recall class 0 = 0.993893
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.006107
positive prediction rate = 0.027248
AUC of ROC = 0.842671
AUC of PRC = 0.522415
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4130   27]
 [ 385   86]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0889509990811348
difference in average predicted and observed risk = -0.012821000918865205
number samples = 4628
accuracy = 0.910977
precision class 0 = 0.914729
precision class 1 = 0.761062
recall class 0 = 0.993505
recall class 1 = 0.18259
false negative rate = 0.81741
false positive rate = 0.006495
positive prediction rate = 0.024417
AUC of ROC = 0.853345
AUC of PRC = 0.482794
min(+P, Se) = 0.440678

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08637800067663193
difference in average predicted and observed risk = 0.006209000676631923
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.849831
AUC of PRC = 0.415809
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08320300281047821
difference in average predicted and observed risk = -0.025592997189521793
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.835535
AUC of PRC = 0.417611
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13289199769496918
difference in average predicted and observed risk = 0.022722997694969174
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.89304
AUC of PRC = 0.496919
min(+P, Se) = 0.529412

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10677800327539444
difference in average predicted and observed risk = -0.026554996724605567
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09707599878311157
difference in average predicted and observed risk = -0.01796800121688842
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.824359
AUC of PRC = 0.382873
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08868499845266342
difference in average predicted and observed risk = -0.003365001547336585
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.870968
AUC of PRC = 0.539288
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07608699798583984
difference in average predicted and observed risk = -0.01311500201416016
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.845022
AUC of PRC = 0.385345
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[90  0]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11128599941730499
difference in average predicted and observed risk = -0.006361000582695009
number samples = 102
accuracy = 0.931373
precision class 0 = 0.927835
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.0
positive prediction rate = 0.04902
AUC of ROC = 0.937037
AUC of PRC = 0.73658
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09289100021123886
difference in average predicted and observed risk = 0.004181000211238864
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.881738
AUC of PRC = 0.303777
min(+P, Se) = 0.388889

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11683499813079834
difference in average predicted and observed risk = -0.03277100186920165
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.805556
AUC of PRC = 0.505343
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13629600405693054
difference in average predicted and observed risk = 0.05734900405693054
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.857143
AUC of PRC = 0.483578
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[729   5]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0921659991145134
difference in average predicted and observed risk = -0.009425000885486604
number samples = 817
accuracy = 0.913097
precision class 0 = 0.916981
precision class 1 = 0.772727
recall class 0 = 0.993188
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.006812
positive prediction rate = 0.026928
AUC of ROC = 0.852467
AUC of PRC = 0.450678
min(+P, Se) = 0.464286

-------------------------------

Epoch 00058: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch58.state
Epoch 59/100
 - 274s - loss: 0.2592 - val_loss: 0.2471

==>predicting on train



confusion matrix:
[[2151    4]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08151800185441971
difference in average predicted and observed risk = -0.024290998145580292
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.907595
precision class 1 = 0.9
recall class 0 = 0.998144
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.001856
positive prediction rate = 0.016598
AUC of ROC = 0.853221
AUC of PRC = 0.498545
min(+P, Se) = 0.467433

-------------------------------

confusion matrix:
[[1168   11]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08596599847078323
difference in average predicted and observed risk = -0.005013001529216771
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.924782
precision class 1 = 0.676471
recall class 0 = 0.99067
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.00933
positive prediction rate = 0.026214
AUC of ROC = 0.842095
AUC of PRC = 0.436494
min(+P, Se) = 0.393443

-------------------------------

confusion matrix:
[[650   6]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09679999947547913
difference in average predicted and observed risk = -0.004570000524520876
number samples = 730
accuracy = 0.906849
precision class 0 = 0.912921
precision class 1 = 0.666667
recall class 0 = 0.990854
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.009146
positive prediction rate = 0.024658
AUC of ROC = 0.862722
AUC of PRC = 0.493239
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08929900079965591
difference in average predicted and observed risk = -0.036354999200344074
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.910429
AUC of PRC = 0.706351
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2461   13]
 [ 218   37]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08181300014257431
difference in average predicted and observed risk = -0.011627999857425686
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.918626
precision class 1 = 0.74
recall class 0 = 0.994745
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.005255
positive prediction rate = 0.018322
AUC of ROC = 0.848054
AUC of PRC = 0.444799
min(+P, Se) = 0.433594

-------------------------------

confusion matrix:
[[1675    8]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09078899770975113
difference in average predicted and observed risk = -0.02295500229024887
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.90394
precision class 1 = 0.826087
recall class 0 = 0.995247
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.004753
positive prediction rate = 0.024223
AUC of ROC = 0.860547
AUC of PRC = 0.53406
min(+P, Se) = 0.481481

-------------------------------

confusion matrix:
[[545   4]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09481299668550491
difference in average predicted and observed risk = -0.028190003314495088
number samples = 626
accuracy = 0.883387
precision class 0 = 0.887622
precision class 1 = 0.666667
recall class 0 = 0.992714
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.007286
positive prediction rate = 0.019169
AUC of ROC = 0.872614
AUC of PRC = 0.511871
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2245    4]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07311700284481049
difference in average predicted and observed risk = -0.01153899715518951
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.923868
precision class 1 = 0.851852
recall class 0 = 0.998221
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.001779
positive prediction rate = 0.010989
AUC of ROC = 0.849734
AUC of PRC = 0.414846
min(+P, Se) = 0.389423

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08563400059938431
difference in average predicted and observed risk = -0.015171999400615699
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.7887
AUC of PRC = 0.303419
min(+P, Se) = 0.365854

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12379500269889832
difference in average predicted and observed risk = -0.021852997301101684
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.869454
AUC of PRC = 0.635895
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[653   2]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08956699818372726
difference in average predicted and observed risk = -0.018062001816272738
number samples = 734
accuracy = 0.905995
precision class 0 = 0.906944
precision class 1 = 0.857143
recall class 0 = 0.996947
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.003053
positive prediction rate = 0.019074
AUC of ROC = 0.845782
AUC of PRC = 0.519828
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4136   21]
 [ 396   75]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08549600094556808
difference in average predicted and observed risk = -0.016275999054431917
number samples = 4628
accuracy = 0.909896
precision class 0 = 0.912621
precision class 1 = 0.78125
recall class 0 = 0.994948
recall class 1 = 0.159236
false negative rate = 0.840764
false positive rate = 0.005052
positive prediction rate = 0.020743
AUC of ROC = 0.853849
AUC of PRC = 0.484425
min(+P, Se) = 0.450106

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08572400361299515
difference in average predicted and observed risk = 0.0055550036129951436
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.828585
AUC of PRC = 0.40059
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07849899679422379
difference in average predicted and observed risk = -0.03029700320577622
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.838685
AUC of PRC = 0.460285
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12655100226402283
difference in average predicted and observed risk = 0.016382002264022824
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.888645
AUC of PRC = 0.483816
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10187000036239624
difference in average predicted and observed risk = -0.03146299963760377
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09293299913406372
difference in average predicted and observed risk = -0.022111000865936273
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.830427
AUC of PRC = 0.376367
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08517400175333023
difference in average predicted and observed risk = -0.006875998246669776
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.860547
AUC of PRC = 0.538142
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[387   1]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07131200283765793
difference in average predicted and observed risk = -0.017889997162342075
number samples = 426
accuracy = 0.910798
precision class 0 = 0.912736
precision class 1 = 0.5
recall class 0 = 0.997423
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.002577
positive prediction rate = 0.004695
AUC of ROC = 0.847192
AUC of PRC = 0.407547
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11320699751377106
difference in average predicted and observed risk = -0.0044400024862289444
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.932407
AUC of PRC = 0.719438
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08750399947166443
difference in average predicted and observed risk = -0.0012060005283355685
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.888174
AUC of PRC = 0.344195
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[107   1]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11379799991846085
difference in average predicted and observed risk = -0.03580800008153914
number samples = 127
accuracy = 0.88189
precision class 0 = 0.884298
precision class 1 = 0.833333
recall class 0 = 0.990741
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009259
positive prediction rate = 0.047244
AUC of ROC = 0.7846
AUC of PRC = 0.474471
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13126899302005768
difference in average predicted and observed risk = 0.052321993020057675
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.838095
AUC of PRC = 0.475694
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08839300274848938
difference in average predicted and observed risk = -0.01319799725151062
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.84815
AUC of PRC = 0.448822
min(+P, Se) = 0.460674

-------------------------------

Epoch 00059: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch59.state
Epoch 60/100
 - 270s - loss: 0.2613 - val_loss: 0.2407

==>predicting on train



confusion matrix:
[[2143   12]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0867300033569336
difference in average predicted and observed risk = -0.019078996643066407
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.909979
precision class 1 = 0.781818
recall class 0 = 0.994432
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.005568
positive prediction rate = 0.022822
AUC of ROC = 0.857954
AUC of PRC = 0.490414
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[1163   16]
 [  91   27]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09117799997329712
difference in average predicted and observed risk = 0.00019899997329711483
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.927432
precision class 1 = 0.627907
recall class 0 = 0.986429
recall class 1 = 0.228814
false negative rate = 0.771186
false positive rate = 0.013571
positive prediction rate = 0.033153
AUC of ROC = 0.854868
AUC of PRC = 0.44103
min(+P, Se) = 0.404959

-------------------------------

confusion matrix:
[[649   7]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10443100333213806
difference in average predicted and observed risk = 0.0030610033321380598
number samples = 730
accuracy = 0.909589
precision class 0 = 0.916667
precision class 1 = 0.681818
recall class 0 = 0.989329
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.010671
positive prediction rate = 0.030137
AUC of ROC = 0.871869
AUC of PRC = 0.499148
min(+P, Se) = 0.493333

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09369499981403351
difference in average predicted and observed risk = -0.03195900018596648
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.933633
AUC of PRC = 0.753624
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[2450   24]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08708199858665466
difference in average predicted and observed risk = -0.006359001413345333
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.921053
precision class 1 = 0.652174
recall class 0 = 0.990299
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.009701
positive prediction rate = 0.025284
AUC of ROC = 0.862159
AUC of PRC = 0.45068
min(+P, Se) = 0.426923

-------------------------------

confusion matrix:
[[1672   11]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09676700085401535
difference in average predicted and observed risk = -0.016976999145984648
number samples = 1899
accuracy = 0.90416
precision class 0 = 0.907216
precision class 1 = 0.803571
recall class 0 = 0.993464
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.006536
positive prediction rate = 0.029489
AUC of ROC = 0.860886
AUC of PRC = 0.529431
min(+P, Se) = 0.472477

-------------------------------

confusion matrix:
[[544   5]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10240399837493896
difference in average predicted and observed risk = -0.020599001625061036
number samples = 626
accuracy = 0.886581
precision class 0 = 0.891803
precision class 1 = 0.6875
recall class 0 = 0.990893
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.009107
positive prediction rate = 0.025559
AUC of ROC = 0.872093
AUC of PRC = 0.501178
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2238   11]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07712700217962265
difference in average predicted and observed risk = -0.007528997820377345
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.925558
precision class 1 = 0.717949
recall class 0 = 0.995109
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.004891
positive prediction rate = 0.015873
AUC of ROC = 0.858076
AUC of PRC = 0.419026
min(+P, Se) = 0.405286

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09332499653100967
difference in average predicted and observed risk = -0.007481003468990333
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.784933
AUC of PRC = 0.335236
min(+P, Se) = 0.387097

-------------------------------

confusion matrix:
[[470  11]
 [ 48  34]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1348170042037964
difference in average predicted and observed risk = -0.010830995796203613
number samples = 563
accuracy = 0.895204
precision class 0 = 0.907336
precision class 1 = 0.755556
recall class 0 = 0.977131
recall class 1 = 0.414634
false negative rate = 0.585366
false positive rate = 0.022869
positive prediction rate = 0.079929
AUC of ROC = 0.879443
AUC of PRC = 0.635937
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[649   6]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09366899728775024
difference in average predicted and observed risk = -0.013960002712249758
number samples = 734
accuracy = 0.904632
precision class 0 = 0.910238
precision class 1 = 0.714286
recall class 0 = 0.99084
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00916
positive prediction rate = 0.02861
AUC of ROC = 0.858093
AUC of PRC = 0.509954
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4122   35]
 [ 381   90]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09105599671602249
difference in average predicted and observed risk = -0.01071600328397751
number samples = 4628
accuracy = 0.910112
precision class 0 = 0.91539
precision class 1 = 0.72
recall class 0 = 0.99158
recall class 1 = 0.191083
false negative rate = 0.808917
false positive rate = 0.00842
positive prediction rate = 0.02701
AUC of ROC = 0.86187
AUC of PRC = 0.48479
min(+P, Se) = 0.450317

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08851099759340286
difference in average predicted and observed risk = 0.008341997593402858
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.859005
AUC of PRC = 0.341093
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07989200204610825
difference in average predicted and observed risk = -0.028903997953891758
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.849351
AUC of PRC = 0.477699
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12807799875736237
difference in average predicted and observed risk = 0.017908998757362363
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.886447
AUC of PRC = 0.483806
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09911700338125229
difference in average predicted and observed risk = -0.03421599661874772
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09303600341081619
difference in average predicted and observed risk = -0.0220079965891838
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.841197
AUC of PRC = 0.39545
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08794599771499634
difference in average predicted and observed risk = -0.004104002285003669
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.877147
AUC of PRC = 0.539306
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07284100353717804
difference in average predicted and observed risk = -0.016360996462821964
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.861028
AUC of PRC = 0.424656
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11974000185728073
difference in average predicted and observed risk = 0.0020930018572807296
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.914815
AUC of PRC = 0.5395
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08762100338935852
difference in average predicted and observed risk = -0.0010889966106414767
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.919549
AUC of PRC = 0.442651
min(+P, Se) = 0.636364

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11104100197553635
difference in average predicted and observed risk = -0.03856499802446364
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.807992
AUC of PRC = 0.489253
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14122100174427032
difference in average predicted and observed risk = 0.06227400174427032
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.838095
AUC of PRC = 0.457155
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[728   6]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09005799889564514
difference in average predicted and observed risk = -0.01153300110435486
number samples = 817
accuracy = 0.910649
precision class 0 = 0.915723
precision class 1 = 0.727273
recall class 0 = 0.991826
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.008174
positive prediction rate = 0.026928
AUC of ROC = 0.862037
AUC of PRC = 0.453395
min(+P, Se) = 0.494118

-------------------------------

Epoch 00060: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch60.state
Epoch 61/100
 - 275s - loss: 0.2551 - val_loss: 0.2403

==>predicting on train



confusion matrix:
[[2148    7]
 [ 221   34]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09540700167417526
difference in average predicted and observed risk = -0.010401998325824738
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.906712
precision class 1 = 0.829268
recall class 0 = 0.996752
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.003248
positive prediction rate = 0.017012
AUC of ROC = 0.849621
AUC of PRC = 0.49064
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[1168   11]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09835100173950195
difference in average predicted and observed risk = 0.007372001739501949
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.926249
precision class 1 = 0.694444
recall class 0 = 0.99067
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.00933
positive prediction rate = 0.027756
AUC of ROC = 0.852166
AUC of PRC = 0.443911
min(+P, Se) = 0.406504

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1130409985780716
difference in average predicted and observed risk = 0.011670998578071592
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.861672
AUC of PRC = 0.487483
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09814900159835815
difference in average predicted and observed risk = -0.027504998401641834
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.926148
AUC of PRC = 0.746202
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2460   14]
 [ 218   37]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09462399780750275
difference in average predicted and observed risk = 0.0011829978075027503
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.918596
precision class 1 = 0.72549
recall class 0 = 0.994341
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.005659
positive prediction rate = 0.018688
AUC of ROC = 0.852182
AUC of PRC = 0.447441
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1673   10]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10559800267219543
difference in average predicted and observed risk = -0.008145997327804563
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.904324
precision class 1 = 0.795918
recall class 0 = 0.994058
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.005942
positive prediction rate = 0.025803
AUC of ROC = 0.858649
AUC of PRC = 0.531551
min(+P, Se) = 0.493151

-------------------------------

confusion matrix:
[[545   4]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11198200285434723
difference in average predicted and observed risk = -0.011020997145652772
number samples = 626
accuracy = 0.883387
precision class 0 = 0.887622
precision class 1 = 0.666667
recall class 0 = 0.992714
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.007286
positive prediction rate = 0.019169
AUC of ROC = 0.871975
AUC of PRC = 0.517491
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2242    7]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08532299846410751
difference in average predicted and observed risk = 0.0006669984641075183
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.924155
precision class 1 = 0.774194
recall class 0 = 0.996888
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003112
positive prediction rate = 0.012617
AUC of ROC = 0.849239
AUC of PRC = 0.415234
min(+P, Se) = 0.392344

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0998769998550415
difference in average predicted and observed risk = -0.0009290001449585028
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.776143
AUC of PRC = 0.285897
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[474   7]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14149199426174164
difference in average predicted and observed risk = -0.0041560057382583615
number samples = 563
accuracy = 0.900533
precision class 0 = 0.90631
precision class 1 = 0.825
recall class 0 = 0.985447
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.014553
positive prediction rate = 0.071048
AUC of ROC = 0.874398
AUC of PRC = 0.625809
min(+P, Se) = 0.569767

-------------------------------

confusion matrix:
[[651   4]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10162299871444702
difference in average predicted and observed risk = -0.006006001285552981
number samples = 734
accuracy = 0.900545
precision class 0 = 0.904167
precision class 1 = 0.714286
recall class 0 = 0.993893
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.006107
positive prediction rate = 0.019074
AUC of ROC = 0.848043
AUC of PRC = 0.507948
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4133   24]
 [ 395   76]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09912700206041336
difference in average predicted and observed risk = -0.0026449979395866408
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.912765
precision class 1 = 0.76
recall class 0 = 0.994227
recall class 1 = 0.161359
false negative rate = 0.838641
false positive rate = 0.005773
positive prediction rate = 0.021608
AUC of ROC = 0.85522
AUC of PRC = 0.483412
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09718000143766403
difference in average predicted and observed risk = 0.017011001437664028
number samples = 237
accuracy = 0.932489
precision class 0 = 0.935345
precision class 1 = 0.8
recall class 0 = 0.995413
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.004587
positive prediction rate = 0.021097
AUC of ROC = 0.843312
AUC of PRC = 0.400363
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09313599765300751
difference in average predicted and observed risk = -0.015660002346992496
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.846974
AUC of PRC = 0.492453
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1420380026102066
difference in average predicted and observed risk = 0.0318690026102066
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.891575
AUC of PRC = 0.481628
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1103530004620552
difference in average predicted and observed risk = -0.0229799995379448
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10611099749803543
difference in average predicted and observed risk = -0.008933002501964563
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.83453
AUC of PRC = 0.405728
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[432   2]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09909199923276901
difference in average predicted and observed risk = 0.007041999232769006
number samples = 478
accuracy = 0.924686
precision class 0 = 0.927039
precision class 1 = 0.833333
recall class 0 = 0.995392
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.004608
positive prediction rate = 0.025105
AUC of ROC = 0.873429
AUC of PRC = 0.551475
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08391600102186203
difference in average predicted and observed risk = -0.0052859989781379735
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.847056
AUC of PRC = 0.429834
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12727199494838715
difference in average predicted and observed risk = 0.009624994948387144
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.939815
AUC of PRC = 0.725116
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10740000009536743
difference in average predicted and observed risk = 0.018690000095367434
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.912309
AUC of PRC = 0.38547
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[107   1]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12305399775505066
difference in average predicted and observed risk = -0.02655200224494933
number samples = 127
accuracy = 0.889764
precision class 0 = 0.891667
precision class 1 = 0.857143
recall class 0 = 0.990741
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.009259
positive prediction rate = 0.055118
AUC of ROC = 0.807018
AUC of PRC = 0.499881
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1489969938993454
difference in average predicted and observed risk = 0.0700499938993454
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.828571
AUC of PRC = 0.451425
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10200399905443192
difference in average predicted and observed risk = 0.00041299905443191454
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.85772
AUC of PRC = 0.469647
min(+P, Se) = 0.45977

-------------------------------

Epoch 00061: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch61.state
Epoch 62/100
 - 271s - loss: 0.2613 - val_loss: 0.2403

==>predicting on train



confusion matrix:
[[2149    6]
 [ 220   35]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10066000372171402
difference in average predicted and observed risk = -0.0051489962782859805
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.907134
precision class 1 = 0.853659
recall class 0 = 0.997216
recall class 1 = 0.137255
false negative rate = 0.862745
false positive rate = 0.002784
positive prediction rate = 0.017012
AUC of ROC = 0.856532
AUC of PRC = 0.506884
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1168   11]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10322199761867523
difference in average predicted and observed risk = 0.012242997618675228
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.924051
precision class 1 = 0.666667
recall class 0 = 0.99067
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.00933
positive prediction rate = 0.025443
AUC of ROC = 0.859016
AUC of PRC = 0.455009
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[649   7]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11779099702835083
difference in average predicted and observed risk = 0.01642099702835083
number samples = 730
accuracy = 0.906849
precision class 0 = 0.914084
precision class 1 = 0.65
recall class 0 = 0.989329
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.010671
positive prediction rate = 0.027397
AUC of ROC = 0.862722
AUC of PRC = 0.486892
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10599800199270248
difference in average predicted and observed risk = -0.019655998007297504
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.916168
AUC of PRC = 0.722803
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2458   16]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09966299682855606
difference in average predicted and observed risk = 0.0062219968285560645
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.919566
precision class 1 = 0.714286
recall class 0 = 0.993533
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.006467
positive prediction rate = 0.02052
AUC of ROC = 0.855817
AUC of PRC = 0.454564
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1675    8]
 [ 181   35]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11096499860286713
difference in average predicted and observed risk = -0.0027790013971328714
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.902478
precision class 1 = 0.813953
recall class 0 = 0.995247
recall class 1 = 0.162037
false negative rate = 0.837963
false positive rate = 0.004753
positive prediction rate = 0.022643
AUC of ROC = 0.866533
AUC of PRC = 0.54965
min(+P, Se) = 0.506849

-------------------------------

confusion matrix:
[[546   3]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11495500057935715
difference in average predicted and observed risk = -0.008047999420642854
number samples = 626
accuracy = 0.881789
precision class 0 = 0.884927
precision class 1 = 0.666667
recall class 0 = 0.994536
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.005464
positive prediction rate = 0.014377
AUC of ROC = 0.880964
AUC of PRC = 0.537813
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2242    7]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09163200110197067
difference in average predicted and observed risk = 0.0069760011019706775
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.925299
precision class 1 = 0.794118
recall class 0 = 0.996888
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.003112
positive prediction rate = 0.013838
AUC of ROC = 0.856274
AUC of PRC = 0.428167
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10621199756860733
difference in average predicted and observed risk = 0.005405997568607324
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.794798
AUC of PRC = 0.309375
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[472   9]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14256200194358826
difference in average predicted and observed risk = -0.003085998056411743
number samples = 563
accuracy = 0.888099
precision class 0 = 0.897338
precision class 1 = 0.756757
recall class 0 = 0.981289
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.018711
positive prediction rate = 0.065719
AUC of ROC = 0.874271
AUC of PRC = 0.635851
min(+P, Se) = 0.578313

-------------------------------

confusion matrix:
[[651   4]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10762400180101395
difference in average predicted and observed risk = -4.998198986055913e-06
number samples = 734
accuracy = 0.904632
precision class 0 = 0.90795
precision class 1 = 0.764706
recall class 0 = 0.993893
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.006107
positive prediction rate = 0.023161
AUC of ROC = 0.851503
AUC of PRC = 0.517541
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[4133   24]
 [ 396   75]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10429999977350235
difference in average predicted and observed risk = 0.0025279997735023485
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.912564
precision class 1 = 0.757576
recall class 0 = 0.994227
recall class 1 = 0.159236
false negative rate = 0.840764
false positive rate = 0.005773
positive prediction rate = 0.021392
AUC of ROC = 0.860722
AUC of PRC = 0.4957
min(+P, Se) = 0.473461

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10338199883699417
difference in average predicted and observed risk = 0.023212998836994167
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.855867
AUC of PRC = 0.435627
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09698200225830078
difference in average predicted and observed risk = -0.011813997741699223
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.851119
AUC of PRC = 0.498407
min(+P, Se) = 0.45283

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14742699265480042
difference in average predicted and observed risk = 0.03725799265480041
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.885714
AUC of PRC = 0.482188
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11712799966335297
difference in average predicted and observed risk = -0.01620500033664704
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1118680015206337
difference in average predicted and observed risk = -0.003175998479366296
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.846239
AUC of PRC = 0.409645
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.10331500321626663
difference in average predicted and observed risk = 0.011265003216266625
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.871544
AUC of PRC = 0.561351
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08923699706792831
difference in average predicted and observed risk = 3.49970679283107e-05
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.859333
AUC of PRC = 0.431148
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12940500676631927
difference in average predicted and observed risk = 0.011758006766319273
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.935185
AUC of PRC = 0.726374
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10970199853181839
difference in average predicted and observed risk = 0.020991998531818393
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.901046
AUC of PRC = 0.335283
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13197200000286102
difference in average predicted and observed risk = -0.017633999997138966
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.805068
AUC of PRC = 0.51658
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15078799426555634
difference in average predicted and observed risk = 0.07184099426555633
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.866667
AUC of PRC = 0.4807
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[729   5]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10686399787664413
difference in average predicted and observed risk = 0.005272997876644134
number samples = 817
accuracy = 0.910649
precision class 0 = 0.91468
precision class 1 = 0.75
recall class 0 = 0.993188
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.006812
positive prediction rate = 0.02448
AUC of ROC = 0.861314
AUC of PRC = 0.478065
min(+P, Se) = 0.470588

-------------------------------

Epoch 00062: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch62.state
Epoch 63/100
 - 273s - loss: 0.2583 - val_loss: 0.2392

==>predicting on train



confusion matrix:
[[2142   13]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09876199811697006
difference in average predicted and observed risk = -0.007047001883029938
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.909168
precision class 1 = 0.759259
recall class 0 = 0.993968
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.006032
positive prediction rate = 0.022407
AUC of ROC = 0.854238
AUC of PRC = 0.495265
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[1162   17]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10246899724006653
difference in average predicted and observed risk = 0.011489997240066524
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.926635
precision class 1 = 0.604651
recall class 0 = 0.985581
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.014419
positive prediction rate = 0.033153
AUC of ROC = 0.854574
AUC of PRC = 0.444687
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[645  11]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11775500327348709
difference in average predicted and observed risk = 0.01638500327348709
number samples = 730
accuracy = 0.905479
precision class 0 = 0.917496
precision class 1 = 0.592593
recall class 0 = 0.983232
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.016768
positive prediction rate = 0.036986
AUC of ROC = 0.868655
AUC of PRC = 0.506151
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10624399781227112
difference in average predicted and observed risk = -0.01941000218772887
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.913922
AUC of PRC = 0.72775
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2447   27]
 [ 209   46]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09830299764871597
difference in average predicted and observed risk = 0.004861997648715977
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.92131
precision class 1 = 0.630137
recall class 0 = 0.989087
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.010914
positive prediction rate = 0.02675
AUC of ROC = 0.851914
AUC of PRC = 0.443737
min(+P, Se) = 0.43346

-------------------------------

confusion matrix:
[[1668   15]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11000700294971466
difference in average predicted and observed risk = -0.0037369970502853372
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.906522
precision class 1 = 0.745763
recall class 0 = 0.991087
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.008913
positive prediction rate = 0.031069
AUC of ROC = 0.867977
AUC of PRC = 0.550818
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[543   6]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11593499779701233
difference in average predicted and observed risk = -0.007068002202987672
number samples = 626
accuracy = 0.884984
precision class 0 = 0.891626
precision class 1 = 0.647059
recall class 0 = 0.989071
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.010929
positive prediction rate = 0.027157
AUC of ROC = 0.878291
AUC of PRC = 0.523566
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[2234   15]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08839300274848938
difference in average predicted and observed risk = 0.0037370027484893847
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.925819
precision class 1 = 0.659091
recall class 0 = 0.99333
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.00667
positive prediction rate = 0.017908
AUC of ROC = 0.854658
AUC of PRC = 0.418789
min(+P, Se) = 0.413462

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.1057559996843338
difference in average predicted and observed risk = 0.0049499996843337946
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.792466
AUC of PRC = 0.315122
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[471  10]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1445010006427765
difference in average predicted and observed risk = -0.0011469993572235104
number samples = 563
accuracy = 0.893428
precision class 0 = 0.904031
precision class 1 = 0.761905
recall class 0 = 0.97921
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.02079
positive prediction rate = 0.0746
AUC of ROC = 0.877643
AUC of PRC = 0.646209
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[648   7]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10876499861478806
difference in average predicted and observed risk = 0.001135998614788053
number samples = 734
accuracy = 0.904632
precision class 0 = 0.911392
precision class 1 = 0.695652
recall class 0 = 0.989313
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.010687
positive prediction rate = 0.031335
AUC of ROC = 0.847985
AUC of PRC = 0.510415
min(+P, Se) = 0.45679

-------------------------------

confusion matrix:
[[4115   42]
 [ 381   90]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10310599952936172
difference in average predicted and observed risk = 0.0013339995293617235
number samples = 4628
accuracy = 0.9086
precision class 0 = 0.915258
precision class 1 = 0.681818
recall class 0 = 0.989897
recall class 1 = 0.191083
false negative rate = 0.808917
false positive rate = 0.010103
positive prediction rate = 0.028522
AUC of ROC = 0.859068
AUC of PRC = 0.490113
min(+P, Se) = 0.467505

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10194200277328491
difference in average predicted and observed risk = 0.021773002773284908
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.849107
AUC of PRC = 0.428838
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[384   1]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09408900141716003
difference in average predicted and observed risk = -0.01470699858283997
number samples = 432
accuracy = 0.905093
precision class 0 = 0.90566
precision class 1 = 0.875
recall class 0 = 0.997403
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.002597
positive prediction rate = 0.018519
AUC of ROC = 0.845261
AUC of PRC = 0.483801
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14920000731945038
difference in average predicted and observed risk = 0.039031007319450375
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.888645
AUC of PRC = 0.481935
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12362000346183777
difference in average predicted and observed risk = -0.009712996538162239
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10946899652481079
difference in average predicted and observed risk = -0.0055750034751892025
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.842735
AUC of PRC = 0.395236
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[430   4]
 [ 29  15]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.1025329977273941
difference in average predicted and observed risk = 0.010482997727394097
number samples = 478
accuracy = 0.930962
precision class 0 = 0.936819
precision class 1 = 0.789474
recall class 0 = 0.990783
recall class 1 = 0.340909
false negative rate = 0.659091
false positive rate = 0.009217
positive prediction rate = 0.039749
AUC of ROC = 0.868559
AUC of PRC = 0.550547
min(+P, Se) = 0.488889

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08552300184965134
difference in average predicted and observed risk = -0.003678998150348667
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.857976
AUC of PRC = 0.430799
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[87  3]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13654400408267975
difference in average predicted and observed risk = 0.018897004082679747
number samples = 102
accuracy = 0.911765
precision class 0 = 0.935484
precision class 1 = 0.666667
recall class 0 = 0.966667
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.033333
positive prediction rate = 0.088235
AUC of ROC = 0.925926
AUC of PRC = 0.693433
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10739800333976746
difference in average predicted and observed risk = 0.01868800333976746
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.893001
AUC of PRC = 0.337817
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13217000663280487
difference in average predicted and observed risk = -0.01743599336719512
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.806043
AUC of PRC = 0.501203
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14888200163841248
difference in average predicted and observed risk = 0.06993500163841247
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.544192
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[726   8]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10541100054979324
difference in average predicted and observed risk = 0.0038200005497932427
number samples = 817
accuracy = 0.913097
precision class 0 = 0.920152
precision class 1 = 0.714286
recall class 0 = 0.989101
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.010899
positive prediction rate = 0.034272
AUC of ROC = 0.8579
AUC of PRC = 0.467551
min(+P, Se) = 0.457831

-------------------------------

Epoch 00063: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch63.state
Epoch 64/100
 - 271s - loss: 0.2573 - val_loss: 0.2404

==>predicting on train



confusion matrix:
[[2145   10]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09278800338506699
difference in average predicted and observed risk = -0.013020996614933014
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.909284
precision class 1 = 0.803922
recall class 0 = 0.99536
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.00464
positive prediction rate = 0.021162
AUC of ROC = 0.85319
AUC of PRC = 0.492549
min(+P, Se) = 0.460938

-------------------------------

confusion matrix:
[[1166   13]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09605100005865097
difference in average predicted and observed risk = 0.005072000058650966
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.925397
precision class 1 = 0.648649
recall class 0 = 0.988974
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.011026
positive prediction rate = 0.028527
AUC of ROC = 0.85558
AUC of PRC = 0.447656
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[649   7]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11172399669885635
difference in average predicted and observed risk = 0.010353996698856352
number samples = 730
accuracy = 0.910959
precision class 0 = 0.917963
precision class 1 = 0.695652
recall class 0 = 0.989329
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.010671
positive prediction rate = 0.031507
AUC of ROC = 0.864556
AUC of PRC = 0.507345
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09872400015592575
difference in average predicted and observed risk = -0.026929999844074237
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.920908
AUC of PRC = 0.733018
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2455   19]
 [ 213   42]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09186799824237823
difference in average predicted and observed risk = -0.0015730017576217614
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.920165
precision class 1 = 0.688525
recall class 0 = 0.99232
recall class 1 = 0.164706
false negative rate = 0.835294
false positive rate = 0.00768
positive prediction rate = 0.022353
AUC of ROC = 0.851183
AUC of PRC = 0.444601
min(+P, Se) = 0.419608

-------------------------------

confusion matrix:
[[1671   12]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10421500355005264
difference in average predicted and observed risk = -0.009528996449947355
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.907166
precision class 1 = 0.789474
recall class 0 = 0.99287
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.00713
positive prediction rate = 0.030016
AUC of ROC = 0.867336
AUC of PRC = 0.552424
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[544   5]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11112800240516663
difference in average predicted and observed risk = -0.011874997594833375
number samples = 626
accuracy = 0.888179
precision class 0 = 0.893268
precision class 1 = 0.705882
recall class 0 = 0.990893
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.009107
positive prediction rate = 0.027157
AUC of ROC = 0.874151
AUC of PRC = 0.5289
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2239   10]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08161800354719162
difference in average predicted and observed risk = -0.0030379964528083753
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924824
precision class 1 = 0.722222
recall class 0 = 0.995554
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.004446
positive prediction rate = 0.014652
AUC of ROC = 0.853042
AUC of PRC = 0.413181
min(+P, Se) = 0.400901

-------------------------------

confusion matrix:
[[220   3]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09902799874544144
difference in average predicted and observed risk = -0.00177800125455857
number samples = 248
accuracy = 0.895161
precision class 0 = 0.90535
precision class 1 = 0.4
recall class 0 = 0.986547
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.013453
positive prediction rate = 0.020161
AUC of ROC = 0.799462
AUC of PRC = 0.332742
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[471  10]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14202800393104553
difference in average predicted and observed risk = -0.0036199960689544675
number samples = 563
accuracy = 0.895204
precision class 0 = 0.905769
precision class 1 = 0.767442
recall class 0 = 0.97921
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.02079
positive prediction rate = 0.076377
AUC of ROC = 0.878328
AUC of PRC = 0.652782
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[652   3]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10080300271511078
difference in average predicted and observed risk = -0.006825997284889224
number samples = 734
accuracy = 0.907357
precision class 0 = 0.909344
precision class 1 = 0.823529
recall class 0 = 0.99542
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.00458
positive prediction rate = 0.023161
AUC of ROC = 0.851425
AUC of PRC = 0.527397
min(+P, Se) = 0.481481

-------------------------------

confusion matrix:
[[4126   31]
 [ 384   87]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0969339981675148
difference in average predicted and observed risk = -0.0048380018324852
number samples = 4628
accuracy = 0.910328
precision class 0 = 0.914856
precision class 1 = 0.737288
recall class 0 = 0.992543
recall class 1 = 0.184713
false negative rate = 0.815287
false positive rate = 0.007457
positive prediction rate = 0.025497
AUC of ROC = 0.858362
AUC of PRC = 0.491339
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09501799941062927
difference in average predicted and observed risk = 0.014848999410629268
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.838242
AUC of PRC = 0.378275
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09091299772262573
difference in average predicted and observed risk = -0.01788300227737427
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.844101
AUC of PRC = 0.472982
min(+P, Se) = 0.42

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1440809965133667
difference in average predicted and observed risk = 0.033911996513366696
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.892308
AUC of PRC = 0.49583
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11408299952745438
difference in average predicted and observed risk = -0.01925000047254563
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10492300242185593
difference in average predicted and observed risk = -0.010120997578144067
number samples = 339
accuracy = 0.879056
precision class 0 = 0.888889
precision class 1 = 0.333333
recall class 0 = 0.986667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.013333
positive prediction rate = 0.017699
AUC of ROC = 0.826667
AUC of PRC = 0.358885
min(+P, Se) = 0.413043

-------------------------------

confusion matrix:
[[431   3]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09759200364351273
difference in average predicted and observed risk = 0.005542003643512719
number samples = 478
accuracy = 0.930962
precision class 0 = 0.934924
precision class 1 = 0.823529
recall class 0 = 0.993088
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.006912
positive prediction rate = 0.035565
AUC of ROC = 0.872225
AUC of PRC = 0.558912
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0807500034570694
difference in average predicted and observed risk = -0.008451996542930607
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.855467
AUC of PRC = 0.427668
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13675600290298462
difference in average predicted and observed risk = 0.019109002902984618
number samples = 102
accuracy = 0.911765
precision class 0 = 0.935484
precision class 1 = 0.666667
recall class 0 = 0.966667
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.033333
positive prediction rate = 0.088235
AUC of ROC = 0.92037
AUC of PRC = 0.663009
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10295099765062332
difference in average predicted and observed risk = 0.014240997650623324
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.883347
AUC of PRC = 0.318084
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1224609985947609
difference in average predicted and observed risk = -0.027145001405239094
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.804094
AUC of PRC = 0.501386
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14607299864292145
difference in average predicted and observed risk = 0.06712599864292144
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.599747
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10063400119543076
difference in average predicted and observed risk = -0.0009569988045692451
number samples = 817
accuracy = 0.909425
precision class 0 = 0.915617
precision class 1 = 0.695652
recall class 0 = 0.990463
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.009537
positive prediction rate = 0.028152
AUC of ROC = 0.854453
AUC of PRC = 0.457749
min(+P, Se) = 0.457831

-------------------------------

Epoch 00064: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch64.state
Epoch 65/100
 - 272s - loss: 0.2591 - val_loss: 0.2473

==>predicting on train



confusion matrix:
[[2150    5]
 [ 222   33]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10913299769163132
difference in average predicted and observed risk = 0.003323997691631317
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.906408
precision class 1 = 0.868421
recall class 0 = 0.99768
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.00232
positive prediction rate = 0.015768
AUC of ROC = 0.855011
AUC of PRC = 0.502496
min(+P, Se) = 0.474903

-------------------------------

confusion matrix:
[[1168   11]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11332199722528458
difference in average predicted and observed risk = 0.022342997225284572
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.921863
precision class 1 = 0.633333
recall class 0 = 0.99067
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.00933
positive prediction rate = 0.02313
AUC of ROC = 0.859203
AUC of PRC = 0.455432
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[651   5]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.13001300394535065
difference in average predicted and observed risk = 0.028643003945350645
number samples = 730
accuracy = 0.909589
precision class 0 = 0.914326
precision class 1 = 0.722222
recall class 0 = 0.992378
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.007622
positive prediction rate = 0.024658
AUC of ROC = 0.865009
AUC of PRC = 0.514424
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.1137780025601387
difference in average predicted and observed risk = -0.011875997439861286
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.928393
AUC of PRC = 0.73988
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2461   13]
 [ 221   34]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10825199633836746
difference in average predicted and observed risk = 0.014810996338367466
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.917599
precision class 1 = 0.723404
recall class 0 = 0.994745
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.005255
positive prediction rate = 0.017222
AUC of ROC = 0.854827
AUC of PRC = 0.456352
min(+P, Se) = 0.44358

-------------------------------

confusion matrix:
[[1675    8]
 [ 180   36]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.12175299972295761
difference in average predicted and observed risk = 0.008008999722957613
number samples = 1899
accuracy = 0.901
precision class 0 = 0.902965
precision class 1 = 0.818182
recall class 0 = 0.995247
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.004753
positive prediction rate = 0.02317
AUC of ROC = 0.866786
AUC of PRC = 0.548074
min(+P, Se) = 0.493088

-------------------------------

confusion matrix:
[[545   4]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.1301340013742447
difference in average predicted and observed risk = 0.007131001374244689
number samples = 626
accuracy = 0.880192
precision class 0 = 0.88474
precision class 1 = 0.6
recall class 0 = 0.992714
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.007286
positive prediction rate = 0.015974
AUC of ROC = 0.872212
AUC of PRC = 0.522284
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2244    5]
 [ 188   20]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09803599864244461
difference in average predicted and observed risk = 0.013379998642444615
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.922697
precision class 1 = 0.8
recall class 0 = 0.997777
recall class 1 = 0.096154
false negative rate = 0.903846
false positive rate = 0.002223
positive prediction rate = 0.010175
AUC of ROC = 0.853721
AUC of PRC = 0.422211
min(+P, Se) = 0.397129

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.1176920011639595
difference in average predicted and observed risk = 0.016886001163959496
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.800179
AUC of PRC = 0.320273
min(+P, Se) = 0.413793

-------------------------------

confusion matrix:
[[472   9]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1592330038547516
difference in average predicted and observed risk = 0.013585003854751587
number samples = 563
accuracy = 0.893428
precision class 0 = 0.902486
precision class 1 = 0.775
recall class 0 = 0.981289
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.018711
positive prediction rate = 0.071048
AUC of ROC = 0.88492
AUC of PRC = 0.660891
min(+P, Se) = 0.590361

-------------------------------

confusion matrix:
[[654   1]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1164259985089302
difference in average predicted and observed risk = 0.008796998508930204
number samples = 734
accuracy = 0.905995
precision class 0 = 0.905817
precision class 1 = 0.916667
recall class 0 = 0.998473
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.001527
positive prediction rate = 0.016349
AUC of ROC = 0.853396
AUC of PRC = 0.528932
min(+P, Se) = 0.493827

-------------------------------

confusion matrix:
[[4136   21]
 [ 401   70]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11379200220108032
difference in average predicted and observed risk = 0.012020002201080321
number samples = 4628
accuracy = 0.908816
precision class 0 = 0.911616
precision class 1 = 0.769231
recall class 0 = 0.994948
recall class 1 = 0.14862
false negative rate = 0.85138
false positive rate = 0.005052
positive prediction rate = 0.019663
AUC of ROC = 0.860276
AUC of PRC = 0.497716
min(+P, Se) = 0.46723

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.11139900237321854
difference in average predicted and observed risk = 0.031230002373218532
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.837277
AUC of PRC = 0.366344
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10857000201940536
difference in average predicted and observed risk = -0.00022599798059463883
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.842056
AUC of PRC = 0.466084
min(+P, Se) = 0.46

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.15816999971866608
difference in average predicted and observed risk = 0.048000999718666074
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.879853
AUC of PRC = 0.481026
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12640899419784546
difference in average predicted and observed risk = -0.006924005802154548
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.12465500086545944
difference in average predicted and observed risk = 0.009611000865459449
number samples = 339
accuracy = 0.876106
precision class 0 = 0.886228
precision class 1 = 0.2
recall class 0 = 0.986667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.013333
positive prediction rate = 0.014749
AUC of ROC = 0.821197
AUC of PRC = 0.358879
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[431   3]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.1119299978017807
difference in average predicted and observed risk = 0.019879997801780694
number samples = 478
accuracy = 0.920502
precision class 0 = 0.924893
precision class 1 = 0.75
recall class 0 = 0.993088
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.006912
positive prediction rate = 0.025105
AUC of ROC = 0.871334
AUC of PRC = 0.544515
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09598600119352341
difference in average predicted and observed risk = 0.0067840011935234035
number samples = 426
accuracy = 0.910798
precision class 0 = 0.912736
precision class 1 = 0.5
recall class 0 = 0.997423
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.002577
positive prediction rate = 0.004695
AUC of ROC = 0.851533
AUC of PRC = 0.398498
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1471710056066513
difference in average predicted and observed risk = 0.029524005606651305
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.923148
AUC of PRC = 0.690691
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.12759000062942505
difference in average predicted and observed risk = 0.03888000062942505
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.880129
AUC of PRC = 0.306392
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13886600732803345
difference in average predicted and observed risk = -0.010739992671966542
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.803119
AUC of PRC = 0.479562
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.16847099363803864
difference in average predicted and observed risk = 0.08952399363803863
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.594017
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11721000075340271
difference in average predicted and observed risk = 0.01561900075340271
number samples = 817
accuracy = 0.902081
precision class 0 = 0.90875
precision class 1 = 0.588235
recall class 0 = 0.990463
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.009537
positive prediction rate = 0.020808
AUC of ROC = 0.851958
AUC of PRC = 0.447309
min(+P, Se) = 0.457447

-------------------------------

Epoch 00065: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch65.state
Epoch 66/100
 - 278s - loss: 0.2529 - val_loss: 0.2399

==>predicting on train



confusion matrix:
[[2149    6]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08555900305509567
difference in average predicted and observed risk = -0.020249996944904328
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.9079
precision class 1 = 0.860465
recall class 0 = 0.997216
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.002784
positive prediction rate = 0.017842
AUC of ROC = 0.860409
AUC of PRC = 0.505268
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1168   11]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08945000171661377
difference in average predicted and observed risk = -0.0015289982833862348
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.925515
precision class 1 = 0.685714
recall class 0 = 0.99067
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.00933
positive prediction rate = 0.026985
AUC of ROC = 0.862423
AUC of PRC = 0.453042
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[650   6]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10349400341510773
difference in average predicted and observed risk = 0.0021240034151077253
number samples = 730
accuracy = 0.909589
precision class 0 = 0.915493
precision class 1 = 0.7
recall class 0 = 0.990854
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.009146
positive prediction rate = 0.027397
AUC of ROC = 0.872507
AUC of PRC = 0.517104
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09148000180721283
difference in average predicted and observed risk = -0.03417399819278716
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.929641
AUC of PRC = 0.739118
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2458   16]
 [ 213   42]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08491600304841995
difference in average predicted and observed risk = -0.008524996951580044
number samples = 2729
accuracy = 0.916086
precision class 0 = 0.920255
precision class 1 = 0.724138
recall class 0 = 0.993533
recall class 1 = 0.164706
false negative rate = 0.835294
false positive rate = 0.006467
positive prediction rate = 0.021253
AUC of ROC = 0.863937
AUC of PRC = 0.464425
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1676    7]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0966309979557991
difference in average predicted and observed risk = -0.017113002044200895
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.903991
precision class 1 = 0.844444
recall class 0 = 0.995841
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.004159
positive prediction rate = 0.023697
AUC of ROC = 0.86634
AUC of PRC = 0.541112
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[545   4]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10522300004959106
difference in average predicted and observed risk = -0.017779999950408937
number samples = 626
accuracy = 0.889776
precision class 0 = 0.893443
precision class 1 = 0.75
recall class 0 = 0.992714
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.007286
positive prediction rate = 0.025559
AUC of ROC = 0.881366
AUC of PRC = 0.54098
min(+P, Se) = 0.5375

-------------------------------

confusion matrix:
[[2242    7]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07507999986410141
difference in average predicted and observed risk = -0.009576000135898585
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.924918
precision class 1 = 0.787879
recall class 0 = 0.996888
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.003112
positive prediction rate = 0.013431
AUC of ROC = 0.859927
AUC of PRC = 0.420595
min(+P, Se) = 0.377358

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09477899968624115
difference in average predicted and observed risk = -0.006027000313758857
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.802691
AUC of PRC = 0.318283
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[473   8]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13071900606155396
difference in average predicted and observed risk = -0.014928993938446045
number samples = 563
accuracy = 0.893428
precision class 0 = 0.900952
precision class 1 = 0.789474
recall class 0 = 0.983368
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.016632
positive prediction rate = 0.067496
AUC of ROC = 0.889965
AUC of PRC = 0.660124
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[653   2]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09236499667167664
difference in average predicted and observed risk = -0.015264003328323367
number samples = 734
accuracy = 0.904632
precision class 0 = 0.905687
precision class 1 = 0.846154
recall class 0 = 0.996947
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.003053
positive prediction rate = 0.017711
AUC of ROC = 0.852797
AUC of PRC = 0.5232
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4134   23]
 [ 391   80]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08972299844026566
difference in average predicted and observed risk = -0.012049001559734346
number samples = 4628
accuracy = 0.910545
precision class 0 = 0.913591
precision class 1 = 0.776699
recall class 0 = 0.994467
recall class 1 = 0.169851
false negative rate = 0.830149
false positive rate = 0.005533
positive prediction rate = 0.022256
AUC of ROC = 0.865279
AUC of PRC = 0.498984
min(+P, Se) = 0.470339

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08760900050401688
difference in average predicted and observed risk = 0.007440000504016872
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.838967
AUC of PRC = 0.378424
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08194600045681
difference in average predicted and observed risk = -0.026849999543190006
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.85123
AUC of PRC = 0.525938
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13434599339962006
difference in average predicted and observed risk = 0.024176993399620053
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.878388
AUC of PRC = 0.488897
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10688800364732742
difference in average predicted and observed risk = -0.026444996352672584
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09721200168132782
difference in average predicted and observed risk = -0.017831998318672174
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.835385
AUC of PRC = 0.388625
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08842799812555313
difference in average predicted and observed risk = -0.0036220018744468757
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.870968
AUC of PRC = 0.551744
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07181700319051743
difference in average predicted and observed risk = -0.017384996809482578
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.860214
AUC of PRC = 0.469592
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11688400059938431
difference in average predicted and observed risk = -0.0007629994006156937
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.923148
AUC of PRC = 0.690405
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10078500211238861
difference in average predicted and observed risk = 0.012075002112388614
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.874497
AUC of PRC = 0.302748
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11601600050926208
difference in average predicted and observed risk = -0.033589999490737904
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.810429
AUC of PRC = 0.504983
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14410799741744995
difference in average predicted and observed risk = 0.06516099741744995
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0920730009675026
difference in average predicted and observed risk = -0.009517999032497407
number samples = 817
accuracy = 0.906977
precision class 0 = 0.912281
precision class 1 = 0.684211
recall class 0 = 0.991826
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.008174
positive prediction rate = 0.023256
AUC of ROC = 0.856784
AUC of PRC = 0.466162
min(+P, Se) = 0.46988

-------------------------------

Epoch 00066: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch66.state
Epoch 67/100
 - 272s - loss: 0.2534 - val_loss: 0.2453

==>predicting on train



confusion matrix:
[[2144   11]
 [ 213   42]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07833799719810486
difference in average predicted and observed risk = -0.027471002801895142
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.909631
precision class 1 = 0.792453
recall class 0 = 0.994896
recall class 1 = 0.164706
false negative rate = 0.835294
false positive rate = 0.005104
positive prediction rate = 0.021992
AUC of ROC = 0.856225
AUC of PRC = 0.502488
min(+P, Se) = 0.471483

-------------------------------

confusion matrix:
[[1166   13]
 [  91   27]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08497399836778641
difference in average predicted and observed risk = -0.006005001632213597
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.927605
precision class 1 = 0.675
recall class 0 = 0.988974
recall class 1 = 0.228814
false negative rate = 0.771186
false positive rate = 0.011026
positive prediction rate = 0.03084
AUC of ROC = 0.861726
AUC of PRC = 0.460677
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[648   8]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09693200141191483
difference in average predicted and observed risk = -0.004437998588085176
number samples = 730
accuracy = 0.909589
precision class 0 = 0.917847
precision class 1 = 0.666667
recall class 0 = 0.987805
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.012195
positive prediction rate = 0.032877
AUC of ROC = 0.859838
AUC of PRC = 0.499187
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08662799745798111
difference in average predicted and observed risk = -0.03902600254201888
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.918164
AUC of PRC = 0.749714
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[2452   22]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07958000153303146
difference in average predicted and observed risk = -0.013860998466968533
number samples = 2729
accuracy = 0.91572
precision class 0 = 0.921804
precision class 1 = 0.681159
recall class 0 = 0.991108
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.008892
positive prediction rate = 0.025284
AUC of ROC = 0.853849
AUC of PRC = 0.459344
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1672   11]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08906800299882889
difference in average predicted and observed risk = -0.02467599700117111
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.906725
precision class 1 = 0.8
recall class 0 = 0.993464
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.006536
positive prediction rate = 0.028963
AUC of ROC = 0.868684
AUC of PRC = 0.544208
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[542   7]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10010100156068802
difference in average predicted and observed risk = -0.022901998439311982
number samples = 626
accuracy = 0.884984
precision class 0 = 0.892916
precision class 1 = 0.631579
recall class 0 = 0.98725
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.01275
positive prediction rate = 0.030351
AUC of ROC = 0.874553
AUC of PRC = 0.526015
min(+P, Se) = 0.541176

-------------------------------

confusion matrix:
[[2240    9]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06777200102806091
difference in average predicted and observed risk = -0.016883998971939082
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.926385
precision class 1 = 0.769231
recall class 0 = 0.995998
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.004002
positive prediction rate = 0.015873
AUC of ROC = 0.856498
AUC of PRC = 0.429346
min(+P, Se) = 0.397436

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08770299702882767
difference in average predicted and observed risk = -0.01310300297117234
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.796233
AUC of PRC = 0.305743
min(+P, Se) = 0.387097

-------------------------------

confusion matrix:
[[471  10]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12609000504016876
difference in average predicted and observed risk = -0.019557994959831237
number samples = 563
accuracy = 0.893428
precision class 0 = 0.904031
precision class 1 = 0.761905
recall class 0 = 0.97921
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.02079
positive prediction rate = 0.0746
AUC of ROC = 0.884894
AUC of PRC = 0.659664
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[652   3]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08772999793291092
difference in average predicted and observed risk = -0.019899002067089083
number samples = 734
accuracy = 0.910082
precision class 0 = 0.911888
precision class 1 = 0.842105
recall class 0 = 0.99542
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.00458
positive prediction rate = 0.025886
AUC of ROC = 0.847637
AUC of PRC = 0.513895
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4124   33]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08347299695014954
difference in average predicted and observed risk = -0.018299003049850465
number samples = 4628
accuracy = 0.910761
precision class 0 = 0.915631
precision class 1 = 0.733871
recall class 0 = 0.992062
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.007938
positive prediction rate = 0.026793
AUC of ROC = 0.860675
AUC of PRC = 0.496472
min(+P, Se) = 0.474576

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08386900275945663
difference in average predicted and observed risk = 0.0037000027594566304
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.83776
AUC of PRC = 0.414693
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07585100084543228
difference in average predicted and observed risk = -0.03294499915456772
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.833269
AUC of PRC = 0.483497
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12777599692344666
difference in average predicted and observed risk = 0.017606996923446652
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.879853
AUC of PRC = 0.47524
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10537900030612946
difference in average predicted and observed risk = -0.02795399969387055
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09048400074243546
difference in average predicted and observed risk = -0.024559999257564538
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.819573
AUC of PRC = 0.376746
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0841199979186058
difference in average predicted and observed risk = -0.007930002081394202
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.862065
AUC of PRC = 0.550463
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06593699753284454
difference in average predicted and observed risk = -0.02326500246715546
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.847463
AUC of PRC = 0.419064
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11650499701499939
difference in average predicted and observed risk = -0.001142002985000612
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.925
AUC of PRC = 0.672643
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09249500185251236
difference in average predicted and observed risk = 0.0037850018525123624
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.886565
AUC of PRC = 0.376473
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11291100084781647
difference in average predicted and observed risk = -0.03669499915218352
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.784113
AUC of PRC = 0.49575
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13425999879837036
difference in average predicted and observed risk = 0.05531299879837036
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.544192
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[726   8]
 [ 65  18]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0867609977722168
difference in average predicted and observed risk = -0.014830002227783204
number samples = 817
accuracy = 0.910649
precision class 0 = 0.917826
precision class 1 = 0.692308
recall class 0 = 0.989101
recall class 1 = 0.216867
false negative rate = 0.783133
false positive rate = 0.010899
positive prediction rate = 0.031824
AUC of ROC = 0.845655
AUC of PRC = 0.45938
min(+P, Se) = 0.481928

-------------------------------

Epoch 00067: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch67.state
Epoch 68/100
 - 270s - loss: 0.2566 - val_loss: 0.2403

==>predicting on train



confusion matrix:
[[2145   10]
 [ 217   38]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09129200130701065
difference in average predicted and observed risk = -0.01451699869298935
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.908129
precision class 1 = 0.791667
recall class 0 = 0.99536
recall class 1 = 0.14902
false negative rate = 0.85098
false positive rate = 0.00464
positive prediction rate = 0.019917
AUC of ROC = 0.86153
AUC of PRC = 0.504554
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1165   14]
 [  91   27]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09577599912881851
difference in average predicted and observed risk = 0.004796999128818508
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.927548
precision class 1 = 0.658537
recall class 0 = 0.988126
recall class 1 = 0.228814
false negative rate = 0.771186
false positive rate = 0.011874
positive prediction rate = 0.031611
AUC of ROC = 0.867764
AUC of PRC = 0.454504
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[650   6]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1136389970779419
difference in average predicted and observed risk = 0.012268997077941893
number samples = 730
accuracy = 0.912329
precision class 0 = 0.918079
precision class 1 = 0.727273
recall class 0 = 0.990854
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.009146
positive prediction rate = 0.030137
AUC of ROC = 0.867811
AUC of PRC = 0.514092
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09889800101518631
difference in average predicted and observed risk = -0.026755998984813678
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.922156
AUC of PRC = 0.725721
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2457   17]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09159299731254578
difference in average predicted and observed risk = -0.00184800268745422
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.921951
precision class 1 = 0.734375
recall class 0 = 0.993129
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.006871
positive prediction rate = 0.023452
AUC of ROC = 0.864145
AUC of PRC = 0.464291
min(+P, Se) = 0.424125

-------------------------------

confusion matrix:
[[1670   13]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10327800363302231
difference in average predicted and observed risk = -0.01046599636697769
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.904659
precision class 1 = 0.754717
recall class 0 = 0.992276
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.007724
positive prediction rate = 0.027909
AUC of ROC = 0.868216
AUC of PRC = 0.546881
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[542   7]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11501500010490417
difference in average predicted and observed risk = -0.007987999895095826
number samples = 626
accuracy = 0.884984
precision class 0 = 0.892916
precision class 1 = 0.631579
recall class 0 = 0.98725
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.01275
positive prediction rate = 0.030351
AUC of ROC = 0.88553
AUC of PRC = 0.534528
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[2241    8]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08085600286722183
difference in average predicted and observed risk = -0.003799997132778163
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.924505
precision class 1 = 0.757576
recall class 0 = 0.996443
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.003557
positive prediction rate = 0.013431
AUC of ROC = 0.859542
AUC of PRC = 0.425068
min(+P, Se) = 0.399083

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10316299647092819
difference in average predicted and observed risk = 0.0023569964709281854
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.807175
AUC of PRC = 0.325131
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[471  10]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13476799428462982
difference in average predicted and observed risk = -0.010880005715370178
number samples = 563
accuracy = 0.898757
precision class 0 = 0.909266
precision class 1 = 0.777778
recall class 0 = 0.97921
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.02079
positive prediction rate = 0.079929
AUC of ROC = 0.890142
AUC of PRC = 0.661264
min(+P, Se) = 0.590361

-------------------------------

confusion matrix:
[[652   3]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10076099634170532
difference in average predicted and observed risk = -0.00686800365829468
number samples = 734
accuracy = 0.905995
precision class 0 = 0.908078
precision class 1 = 0.8125
recall class 0 = 0.99542
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00458
positive prediction rate = 0.021798
AUC of ROC = 0.853899
AUC of PRC = 0.519865
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4127   30]
 [ 384   87]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09638699889183044
difference in average predicted and observed risk = -0.005385001108169557
number samples = 4628
accuracy = 0.910545
precision class 0 = 0.914875
precision class 1 = 0.74359
recall class 0 = 0.992783
recall class 1 = 0.184713
false negative rate = 0.815287
false positive rate = 0.007217
positive prediction rate = 0.025281
AUC of ROC = 0.866089
AUC of PRC = 0.500559
min(+P, Se) = 0.461864

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09297800064086914
difference in average predicted and observed risk = 0.012809000640869136
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.858281
AUC of PRC = 0.390979
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08717700093984604
difference in average predicted and observed risk = -0.021618999060153965
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.842332
AUC of PRC = 0.510692
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14233100414276123
difference in average predicted and observed risk = 0.03216200414276123
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.87619
AUC of PRC = 0.492244
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11319299787282944
difference in average predicted and observed risk = -0.02014000212717057
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10238800197839737
difference in average predicted and observed risk = -0.012655998021602624
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.833675
AUC of PRC = 0.386109
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09451399743556976
difference in average predicted and observed risk = 0.0024639974355697564
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.86704
AUC of PRC = 0.54116
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0770609974861145
difference in average predicted and observed risk = -0.012141002513885502
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.863673
AUC of PRC = 0.451491
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11962500214576721
difference in average predicted and observed risk = 0.0019780021457672103
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.917593
AUC of PRC = 0.680147
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10953299701213837
difference in average predicted and observed risk = 0.02082299701213837
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.852776
AUC of PRC = 0.311434
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12436699867248535
difference in average predicted and observed risk = -0.025239001327514637
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.795809
AUC of PRC = 0.486565
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.144228994846344
difference in average predicted and observed risk = 0.06528199484634399
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.763889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09778100252151489
difference in average predicted and observed risk = -0.003809997478485108
number samples = 817
accuracy = 0.908201
precision class 0 = 0.913425
precision class 1 = 0.7
recall class 0 = 0.991826
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.008174
positive prediction rate = 0.02448
AUC of ROC = 0.854125
AUC of PRC = 0.458104
min(+P, Se) = 0.446602

-------------------------------

Epoch 00068: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch68.state
Epoch 69/100
 - 273s - loss: 0.2536 - val_loss: 0.2364

==>predicting on train



confusion matrix:
[[2136   19]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09609100222587585
difference in average predicted and observed risk = -0.009717997774124146
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.911652
precision class 1 = 0.716418
recall class 0 = 0.991183
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.008817
positive prediction rate = 0.027801
AUC of ROC = 0.865828
AUC of PRC = 0.505589
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1160   19]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.1007080003619194
difference in average predicted and observed risk = 0.009729000361919399
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.929487
precision class 1 = 0.612245
recall class 0 = 0.983885
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.016115
positive prediction rate = 0.037779
AUC of ROC = 0.865075
AUC of PRC = 0.454663
min(+P, Se) = 0.404959

-------------------------------

confusion matrix:
[[642  14]
 [ 56  18]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11877100169658661
difference in average predicted and observed risk = 0.017401001696586607
number samples = 730
accuracy = 0.90411
precision class 0 = 0.919771
precision class 1 = 0.5625
recall class 0 = 0.978659
recall class 1 = 0.243243
false negative rate = 0.756757
false positive rate = 0.021341
positive prediction rate = 0.043836
AUC of ROC = 0.887257
AUC of PRC = 0.517724
min(+P, Se) = 0.513158

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.1052509993314743
difference in average predicted and observed risk = -0.020403000668525684
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.922156
AUC of PRC = 0.715662
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2444   30]
 [ 198   57]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09692899882793427
difference in average predicted and observed risk = 0.003487998827934269
number samples = 2729
accuracy = 0.916453
precision class 0 = 0.925057
precision class 1 = 0.655172
recall class 0 = 0.987874
recall class 1 = 0.223529
false negative rate = 0.776471
false positive rate = 0.012126
positive prediction rate = 0.03188
AUC of ROC = 0.867098
AUC of PRC = 0.455689
min(+P, Se) = 0.437984

-------------------------------

confusion matrix:
[[1660   23]
 [ 169   47]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10768000036478043
difference in average predicted and observed risk = -0.006063999635219572
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.9076
precision class 1 = 0.671429
recall class 0 = 0.986334
recall class 1 = 0.217593
false negative rate = 0.782407
false positive rate = 0.013666
positive prediction rate = 0.036862
AUC of ROC = 0.874956
AUC of PRC = 0.551129
min(+P, Se) = 0.502304

-------------------------------

confusion matrix:
[[538  11]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11734899878501892
difference in average predicted and observed risk = -0.00565400121498108
number samples = 626
accuracy = 0.883387
precision class 0 = 0.896667
precision class 1 = 0.576923
recall class 0 = 0.979964
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.020036
positive prediction rate = 0.041534
AUC of ROC = 0.88527
AUC of PRC = 0.516832
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[2232   17]
 [ 174   34]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08620300143957138
difference in average predicted and observed risk = 0.0015470014395713855
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.927681
precision class 1 = 0.666667
recall class 0 = 0.992441
recall class 1 = 0.163462
false negative rate = 0.836538
false positive rate = 0.007559
positive prediction rate = 0.020757
AUC of ROC = 0.865725
AUC of PRC = 0.429451
min(+P, Se) = 0.400922

-------------------------------

confusion matrix:
[[217   6]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.105274997651577
difference in average predicted and observed risk = 0.004468997651576989
number samples = 248
accuracy = 0.883065
precision class 0 = 0.904167
precision class 1 = 0.25
recall class 0 = 0.973094
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.026906
positive prediction rate = 0.032258
AUC of ROC = 0.810583
AUC of PRC = 0.315952
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[468  13]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1423649936914444
difference in average predicted and observed risk = -0.0032830063085556027
number samples = 563
accuracy = 0.893428
precision class 0 = 0.908738
precision class 1 = 0.729167
recall class 0 = 0.972973
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.027027
positive prediction rate = 0.085258
AUC of ROC = 0.890954
AUC of PRC = 0.662365
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[649   6]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10556399822235107
difference in average predicted and observed risk = -0.0020650017776489282
number samples = 734
accuracy = 0.908719
precision class 0 = 0.914084
precision class 1 = 0.75
recall class 0 = 0.99084
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.00916
positive prediction rate = 0.032698
AUC of ROC = 0.861185
AUC of PRC = 0.523481
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4104   53]
 [ 367  104]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10134100168943405
difference in average predicted and observed risk = -0.00043099831056594984
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.917915
precision class 1 = 0.66242
recall class 0 = 0.98725
recall class 1 = 0.220807
false negative rate = 0.779193
false positive rate = 0.01275
positive prediction rate = 0.033924
AUC of ROC = 0.870659
AUC of PRC = 0.497554
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0987050011754036
difference in average predicted and observed risk = 0.01853600117540359
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.859971
AUC of PRC = 0.400832
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09103000164031982
difference in average predicted and observed risk = -0.01776599835968018
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.859077
AUC of PRC = 0.518969
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14865699410438538
difference in average predicted and observed risk = 0.03848799410438537
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.881319
AUC of PRC = 0.486399
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.119718998670578
difference in average predicted and observed risk = -0.013614001329422004
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.951923
AUC of PRC = 0.852431
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10642000287771225
difference in average predicted and observed risk = -0.008623997122287744
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.849744
AUC of PRC = 0.410808
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09994799643754959
difference in average predicted and observed risk = 0.007897996437549584
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.872958
AUC of PRC = 0.543482
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08212999999523163
difference in average predicted and observed risk = -0.007072000004768375
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.86408
AUC of PRC = 0.448384
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1273210048675537
difference in average predicted and observed risk = 0.00967400486755371
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.913889
AUC of PRC = 0.682125
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10960400104522705
difference in average predicted and observed risk = 0.020894001045227054
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.880129
AUC of PRC = 0.322457
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1294270008802414
difference in average predicted and observed risk = -0.020178999119758595
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.827973
AUC of PRC = 0.507209
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1539209932088852
difference in average predicted and observed risk = 0.07497399320888519
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[726   8]
 [ 65  18]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10263299942016602
difference in average predicted and observed risk = 0.0010419994201660149
number samples = 817
accuracy = 0.910649
precision class 0 = 0.917826
precision class 1 = 0.692308
recall class 0 = 0.989101
recall class 1 = 0.216867
false negative rate = 0.783133
false positive rate = 0.010899
positive prediction rate = 0.031824
AUC of ROC = 0.863612
AUC of PRC = 0.465943
min(+P, Se) = 0.45977

-------------------------------

Epoch 00069: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch69.state
Epoch 70/100
 - 269s - loss: 0.2523 - val_loss: 0.2374

==>predicting on train



confusion matrix:
[[2138   17]
 [ 209   46]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08620999753475189
difference in average predicted and observed risk = -0.019599002465248108
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.91095
precision class 1 = 0.730159
recall class 0 = 0.992111
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.007889
positive prediction rate = 0.026141
AUC of ROC = 0.86708
AUC of PRC = 0.504513
min(+P, Se) = 0.474708

-------------------------------

confusion matrix:
[[1163   16]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09161999821662903
difference in average predicted and observed risk = 0.000640998216629024
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.928172
precision class 1 = 0.636364
recall class 0 = 0.986429
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.013571
positive prediction rate = 0.033924
AUC of ROC = 0.872939
AUC of PRC = 0.460335
min(+P, Se) = 0.443548

-------------------------------

confusion matrix:
[[645  11]
 [ 56  18]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10649900138378143
difference in average predicted and observed risk = 0.005129001383781431
number samples = 730
accuracy = 0.908219
precision class 0 = 0.920114
precision class 1 = 0.62069
recall class 0 = 0.983232
recall class 1 = 0.243243
false negative rate = 0.756757
false positive rate = 0.016768
positive prediction rate = 0.039726
AUC of ROC = 0.885403
AUC of PRC = 0.518525
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09634999930858612
difference in average predicted and observed risk = -0.029304000691413867
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.93014
AUC of PRC = 0.729331
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2445   29]
 [ 201   54]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08732300251722336
difference in average predicted and observed risk = -0.006117997482776638
number samples = 2729
accuracy = 0.91572
precision class 0 = 0.924036
precision class 1 = 0.650602
recall class 0 = 0.988278
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.011722
positive prediction rate = 0.030414
AUC of ROC = 0.871425
AUC of PRC = 0.45801
min(+P, Se) = 0.45098

-------------------------------

confusion matrix:
[[1667   16]
 [ 170   46]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09712400287389755
difference in average predicted and observed risk = -0.016619997126102445
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.907458
precision class 1 = 0.741935
recall class 0 = 0.990493
recall class 1 = 0.212963
false negative rate = 0.787037
false positive rate = 0.009507
positive prediction rate = 0.032649
AUC of ROC = 0.875847
AUC of PRC = 0.550746
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[541   8]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10525500029325485
difference in average predicted and observed risk = -0.01774799970674515
number samples = 626
accuracy = 0.881789
precision class 0 = 0.891269
precision class 1 = 0.578947
recall class 0 = 0.985428
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.014572
positive prediction rate = 0.030351
AUC of ROC = 0.888203
AUC of PRC = 0.519448
min(+P, Se) = 0.576923

-------------------------------

confusion matrix:
[[2234   15]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0757950022816658
difference in average predicted and observed risk = -0.008860997718334193
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.926586
precision class 1 = 0.673913
recall class 0 = 0.99333
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.00667
positive prediction rate = 0.018722
AUC of ROC = 0.868841
AUC of PRC = 0.434138
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[218   5]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09341900050640106
difference in average predicted and observed risk = -0.007386999493598945
number samples = 248
accuracy = 0.887097
precision class 0 = 0.904564
precision class 1 = 0.285714
recall class 0 = 0.977578
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.022422
positive prediction rate = 0.028226
AUC of ROC = 0.817937
AUC of PRC = 0.312224
min(+P, Se) = 0.354839

-------------------------------

confusion matrix:
[[470  11]
 [ 46  36]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13855700194835663
difference in average predicted and observed risk = -0.007090998051643371
number samples = 563
accuracy = 0.898757
precision class 0 = 0.910853
precision class 1 = 0.765957
recall class 0 = 0.977131
recall class 1 = 0.439024
false negative rate = 0.560976
false positive rate = 0.022869
positive prediction rate = 0.083481
AUC of ROC = 0.88923
AUC of PRC = 0.641283
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[649   6]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0946199968457222
difference in average predicted and observed risk = -0.013009003154277804
number samples = 734
accuracy = 0.911444
precision class 0 = 0.916667
precision class 1 = 0.769231
recall class 0 = 0.99084
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.00916
positive prediction rate = 0.035422
AUC of ROC = 0.864721
AUC of PRC = 0.522016
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4112   45]
 [ 371  100]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09134499728679657
difference in average predicted and observed risk = -0.010427002713203432
number samples = 4628
accuracy = 0.910112
precision class 0 = 0.917243
precision class 1 = 0.689655
recall class 0 = 0.989175
recall class 1 = 0.212314
false negative rate = 0.787686
false positive rate = 0.010825
positive prediction rate = 0.031331
AUC of ROC = 0.873454
AUC of PRC = 0.49885
min(+P, Se) = 0.478814

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08956299722194672
difference in average predicted and observed risk = 0.009393997221946712
number samples = 237
accuracy = 0.92827
precision class 0 = 0.942731
precision class 1 = 0.6
recall class 0 = 0.981651
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018349
positive prediction rate = 0.042194
AUC of ROC = 0.853452
AUC of PRC = 0.426537
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0807960033416748
difference in average predicted and observed risk = -0.0279999966583252
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.853993
AUC of PRC = 0.520795
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13338899612426758
difference in average predicted and observed risk = 0.023219996124267575
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.875458
AUC of PRC = 0.473014
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10929500311613083
difference in average predicted and observed risk = -0.024037996883869178
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09429000318050385
difference in average predicted and observed risk = -0.02075399681949615
number samples = 339
accuracy = 0.890855
precision class 0 = 0.899696
precision class 1 = 0.6
recall class 0 = 0.986667
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.013333
positive prediction rate = 0.029499
AUC of ROC = 0.852393
AUC of PRC = 0.40763
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09034500271081924
difference in average predicted and observed risk = -0.0017049972891807624
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.86704
AUC of PRC = 0.55643
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[386   2]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07176300138235092
difference in average predicted and observed risk = -0.017438998617649082
number samples = 426
accuracy = 0.91784
precision class 0 = 0.921241
precision class 1 = 0.714286
recall class 0 = 0.994845
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.005155
positive prediction rate = 0.016432
AUC of ROC = 0.864894
AUC of PRC = 0.445882
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1207209974527359
difference in average predicted and observed risk = 0.0030739974527358993
number samples = 102
accuracy = 0.911765
precision class 0 = 0.935484
precision class 1 = 0.666667
recall class 0 = 0.966667
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.033333
positive prediction rate = 0.088235
AUC of ROC = 0.912963
AUC of PRC = 0.679017
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09769099950790405
difference in average predicted and observed risk = 0.008980999507904056
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.876911
AUC of PRC = 0.338633
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11655600368976593
difference in average predicted and observed risk = -0.03304999631023406
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.817251
AUC of PRC = 0.500954
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1407410055398941
difference in average predicted and observed risk = 0.0617940055398941
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09198199957609177
difference in average predicted and observed risk = -0.009609000423908234
number samples = 817
accuracy = 0.911873
precision class 0 = 0.918987
precision class 1 = 0.703704
recall class 0 = 0.989101
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.010899
positive prediction rate = 0.033048
AUC of ROC = 0.860313
AUC of PRC = 0.474839
min(+P, Se) = 0.47619

-------------------------------

Epoch 00070: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch70.state
Epoch 71/100
 - 271s - loss: 0.2524 - val_loss: 0.2420

==>predicting on train



confusion matrix:
[[2145   10]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10661199688911438
difference in average predicted and observed risk = 0.0008029968891143796
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.909284
precision class 1 = 0.803922
recall class 0 = 0.99536
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.00464
positive prediction rate = 0.021162
AUC of ROC = 0.871369
AUC of PRC = 0.522635
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1165   14]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11127900332212448
difference in average predicted and observed risk = 0.020300003322124477
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.92681
precision class 1 = 0.65
recall class 0 = 0.988126
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.011874
positive prediction rate = 0.03084
AUC of ROC = 0.873025
AUC of PRC = 0.469483
min(+P, Se) = 0.457627

-------------------------------

confusion matrix:
[[648   8]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.12616899609565735
difference in average predicted and observed risk = 0.024798996095657347
number samples = 730
accuracy = 0.909589
precision class 0 = 0.917847
precision class 1 = 0.666667
recall class 0 = 0.987805
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.012195
positive prediction rate = 0.032877
AUC of ROC = 0.881551
AUC of PRC = 0.529673
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11369699984788895
difference in average predicted and observed risk = -0.011957000152111041
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.925898
AUC of PRC = 0.703183
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2453   21]
 [ 207   48]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10635299980640411
difference in average predicted and observed risk = 0.012911999806404117
number samples = 2729
accuracy = 0.916453
precision class 0 = 0.92218
precision class 1 = 0.695652
recall class 0 = 0.991512
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.008488
positive prediction rate = 0.025284
AUC of ROC = 0.872942
AUC of PRC = 0.477585
min(+P, Se) = 0.478599

-------------------------------

confusion matrix:
[[1671   12]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11840199679136276
difference in average predicted and observed risk = 0.0046579967913627646
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905691
precision class 1 = 0.777778
recall class 0 = 0.99287
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.00713
positive prediction rate = 0.028436
AUC of ROC = 0.877767
AUC of PRC = 0.555419
min(+P, Se) = 0.52

-------------------------------

confusion matrix:
[[543   6]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.1283939927816391
difference in average predicted and observed risk = 0.005390992781639098
number samples = 626
accuracy = 0.886581
precision class 0 = 0.893092
precision class 1 = 0.666667
recall class 0 = 0.989071
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.010929
positive prediction rate = 0.028754
AUC of ROC = 0.891325
AUC of PRC = 0.537931
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[2240    9]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09623900055885315
difference in average predicted and observed risk = 0.011583000558853154
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.926385
precision class 1 = 0.769231
recall class 0 = 0.995998
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.004002
positive prediction rate = 0.015873
AUC of ROC = 0.867512
AUC of PRC = 0.442617
min(+P, Se) = 0.447115

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11691799759864807
difference in average predicted and observed risk = 0.016111997598648065
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.836951
AUC of PRC = 0.329337
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[473   8]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.15214499831199646
difference in average predicted and observed risk = 0.00649699831199646
number samples = 563
accuracy = 0.898757
precision class 0 = 0.90613
precision class 1 = 0.804878
recall class 0 = 0.983368
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.016632
positive prediction rate = 0.072824
AUC of ROC = 0.887354
AUC of PRC = 0.663713
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[649   6]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11389300227165222
difference in average predicted and observed risk = 0.006264002271652219
number samples = 734
accuracy = 0.90327
precision class 0 = 0.908964
precision class 1 = 0.7
recall class 0 = 0.99084
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.00916
positive prediction rate = 0.027248
AUC of ROC = 0.874094
AUC of PRC = 0.533367
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4124   33]
 [ 381   90]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11129699647426605
difference in average predicted and observed risk = 0.009524996474266051
number samples = 4628
accuracy = 0.910545
precision class 0 = 0.915427
precision class 1 = 0.731707
recall class 0 = 0.992062
recall class 1 = 0.191083
false negative rate = 0.808917
false positive rate = 0.007938
positive prediction rate = 0.026577
AUC of ROC = 0.875165
AUC of PRC = 0.511761
min(+P, Se) = 0.505308

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10910599678754807
difference in average predicted and observed risk = 0.02893699678754806
number samples = 237
accuracy = 0.915612
precision class 0 = 0.930435
precision class 1 = 0.428571
recall class 0 = 0.981651
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018349
positive prediction rate = 0.029536
AUC of ROC = 0.865282
AUC of PRC = 0.403866
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10177899897098541
difference in average predicted and observed risk = -0.007017001029014591
number samples = 432
accuracy = 0.902778
precision class 0 = 0.901639
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.0
positive prediction rate = 0.011574
AUC of ROC = 0.847195
AUC of PRC = 0.537043
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[102   3]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.15364399552345276
difference in average predicted and observed risk = 0.043474995523452756
number samples = 118
accuracy = 0.898305
precision class 0 = 0.918919
precision class 1 = 0.571429
recall class 0 = 0.971429
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.028571
positive prediction rate = 0.059322
AUC of ROC = 0.87033
AUC of PRC = 0.456889
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12424399703741074
difference in average predicted and observed risk = -0.009089002962589271
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11742399632930756
difference in average predicted and observed risk = 0.0023799963293075627
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.851197
AUC of PRC = 0.416764
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[430   4]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.10852999985218048
difference in average predicted and observed risk = 0.016479999852180474
number samples = 478
accuracy = 0.922594
precision class 0 = 0.928726
precision class 1 = 0.733333
recall class 0 = 0.990783
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.009217
positive prediction rate = 0.031381
AUC of ROC = 0.865574
AUC of PRC = 0.540531
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0907989963889122
difference in average predicted and observed risk = 0.0015969963889121974
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.860893
AUC of PRC = 0.456231
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1354610025882721
difference in average predicted and observed risk = 0.017814002588272093
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.911111
AUC of PRC = 0.648095
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.12030400335788727
difference in average predicted and observed risk = 0.03159400335788727
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.860821
AUC of PRC = 0.34815
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.14212100207805634
difference in average predicted and observed risk = -0.0074849979219436535
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.823099
AUC of PRC = 0.49168
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.16367100179195404
difference in average predicted and observed risk = 0.08472400179195404
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.544192
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[727   7]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11221999675035477
difference in average predicted and observed risk = 0.010628996750354766
number samples = 817
accuracy = 0.906977
precision class 0 = 0.913317
precision class 1 = 0.666667
recall class 0 = 0.990463
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.009537
positive prediction rate = 0.025704
AUC of ROC = 0.858967
AUC of PRC = 0.469704
min(+P, Se) = 0.476744

-------------------------------

Epoch 00071: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch71.state
Epoch 72/100
 - 270s - loss: 0.2531 - val_loss: 0.2345

==>predicting on train



confusion matrix:
[[2148    7]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09087900072336197
difference in average predicted and observed risk = -0.014929999276638031
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.910169
precision class 1 = 0.86
recall class 0 = 0.996752
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.003248
positive prediction rate = 0.020747
AUC of ROC = 0.866765
AUC of PRC = 0.520217
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1166   13]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.095551997423172
difference in average predicted and observed risk = 0.004572997423171993
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.926132
precision class 1 = 0.657895
recall class 0 = 0.988974
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.011026
positive prediction rate = 0.029298
AUC of ROC = 0.87539
AUC of PRC = 0.472704
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[649   7]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11055299639701843
difference in average predicted and observed risk = 0.00918299639701843
number samples = 730
accuracy = 0.909589
precision class 0 = 0.916667
precision class 1 = 0.681818
recall class 0 = 0.989329
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.010671
positive prediction rate = 0.030137
AUC of ROC = 0.88394
AUC of PRC = 0.516804
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09930799901485443
difference in average predicted and observed risk = -0.026346000985145557
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.926647
AUC of PRC = 0.729551
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2458   16]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09114900231361389
difference in average predicted and observed risk = -0.0022919976863861047
number samples = 2729
accuracy = 0.917919
precision class 0 = 0.921981
precision class 1 = 0.746032
recall class 0 = 0.993533
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.006467
positive prediction rate = 0.023085
AUC of ROC = 0.869729
AUC of PRC = 0.474704
min(+P, Se) = 0.457031

-------------------------------

confusion matrix:
[[1671   12]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10209300369024277
difference in average predicted and observed risk = -0.01165099630975723
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905691
precision class 1 = 0.777778
recall class 0 = 0.99287
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.00713
positive prediction rate = 0.028436
AUC of ROC = 0.878295
AUC of PRC = 0.556499
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[545   4]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10711299628019333
difference in average predicted and observed risk = -0.015890003719806672
number samples = 626
accuracy = 0.884984
precision class 0 = 0.88907
precision class 1 = 0.692308
recall class 0 = 0.992714
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.007286
positive prediction rate = 0.020767
AUC of ROC = 0.887091
AUC of PRC = 0.527342
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2241    8]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0820700004696846
difference in average predicted and observed risk = -0.0025859995303153943
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.926799
precision class 1 = 0.794872
recall class 0 = 0.996443
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.003557
positive prediction rate = 0.015873
AUC of ROC = 0.867285
AUC of PRC = 0.443441
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09646899998188019
difference in average predicted and observed risk = -0.004337000018119819
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.821166
AUC of PRC = 0.320625
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[472   9]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13420900702476501
difference in average predicted and observed risk = -0.011438992975234985
number samples = 563
accuracy = 0.89698
precision class 0 = 0.90595
precision class 1 = 0.785714
recall class 0 = 0.981289
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.018711
positive prediction rate = 0.0746
AUC of ROC = 0.894402
AUC of PRC = 0.663788
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[652   3]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1014150008559227
difference in average predicted and observed risk = -0.0062139991440773035
number samples = 734
accuracy = 0.908719
precision class 0 = 0.910615
precision class 1 = 0.833333
recall class 0 = 0.99542
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00458
positive prediction rate = 0.024523
AUC of ROC = 0.86389
AUC of PRC = 0.522452
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[4129   28]
 [ 382   89]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09564000368118286
difference in average predicted and observed risk = -0.00613199631881714
number samples = 4628
accuracy = 0.911409
precision class 0 = 0.915318
precision class 1 = 0.760684
recall class 0 = 0.993264
recall class 1 = 0.18896
false negative rate = 0.81104
false positive rate = 0.006736
positive prediction rate = 0.025281
AUC of ROC = 0.873497
AUC of PRC = 0.509877
min(+P, Se) = 0.48643

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0933770015835762
difference in average predicted and observed risk = 0.013208001583576198
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.864075
AUC of PRC = 0.452145
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08755899965763092
difference in average predicted and observed risk = -0.021237000342369083
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.85554
AUC of PRC = 0.5264
min(+P, Se) = 0.479167

-------------------------------

confusion matrix:
[[102   3]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13901199400424957
difference in average predicted and observed risk = 0.02884299400424957
number samples = 118
accuracy = 0.898305
precision class 0 = 0.918919
precision class 1 = 0.571429
recall class 0 = 0.971429
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.028571
positive prediction rate = 0.059322
AUC of ROC = 0.87326
AUC of PRC = 0.469536
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11180199682712555
difference in average predicted and observed risk = -0.021531003172874458
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1021760031580925
difference in average predicted and observed risk = -0.012867996841907495
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.858376
AUC of PRC = 0.430188
min(+P, Se) = 0.487805

-------------------------------

confusion matrix:
[[431   3]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09430000185966492
difference in average predicted and observed risk = 0.00225000185966491
number samples = 478
accuracy = 0.922594
precision class 0 = 0.926882
precision class 1 = 0.769231
recall class 0 = 0.993088
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.006912
positive prediction rate = 0.027197
AUC of ROC = 0.870601
AUC of PRC = 0.569365
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07865899801254272
difference in average predicted and observed risk = -0.010543001987457279
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.863131
AUC of PRC = 0.466533
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11790300160646439
difference in average predicted and observed risk = 0.0002560016064643844
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.914815
AUC of PRC = 0.689096
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10252399742603302
difference in average predicted and observed risk = 0.013813997426033023
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.889783
AUC of PRC = 0.339043
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1251019984483719
difference in average predicted and observed risk = -0.024504001551628102
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.828947
AUC of PRC = 0.52242
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14677000045776367
difference in average predicted and observed risk = 0.06782300045776367
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.753704
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09756799787282944
difference in average predicted and observed risk = -0.0040230021271705635
number samples = 817
accuracy = 0.906977
precision class 0 = 0.912281
precision class 1 = 0.684211
recall class 0 = 0.991826
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.008174
positive prediction rate = 0.023256
AUC of ROC = 0.865254
AUC of PRC = 0.489942
min(+P, Se) = 0.494253

-------------------------------

Epoch 00072: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch72.state
Epoch 73/100
 - 277s - loss: 0.2469 - val_loss: 0.2375

==>predicting on train



confusion matrix:
[[2150    5]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10220299661159515
difference in average predicted and observed risk = -0.0036060033884048465
number samples = 2410
accuracy = 0.909958
precision class 0 = 0.910246
precision class 1 = 0.895833
recall class 0 = 0.99768
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.00232
positive prediction rate = 0.019917
AUC of ROC = 0.864521
AUC of PRC = 0.513397
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[1164   15]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10365799814462662
difference in average predicted and observed risk = 0.012678998144626613
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.92823
precision class 1 = 0.651163
recall class 0 = 0.987277
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.012723
positive prediction rate = 0.033153
AUC of ROC = 0.874218
AUC of PRC = 0.459058
min(+P, Se) = 0.432203

-------------------------------

confusion matrix:
[[649   7]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.12091600149869919
difference in average predicted and observed risk = 0.019546001498699186
number samples = 730
accuracy = 0.908219
precision class 0 = 0.915374
precision class 1 = 0.666667
recall class 0 = 0.989329
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.010671
positive prediction rate = 0.028767
AUC of ROC = 0.887504
AUC of PRC = 0.518921
min(+P, Se) = 0.506667

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11018200218677521
difference in average predicted and observed risk = -0.01547199781322478
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.921906
AUC of PRC = 0.716495
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2456   18]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10058899968862534
difference in average predicted and observed risk = 0.007147999688625339
number samples = 2729
accuracy = 0.918652
precision class 0 = 0.923308
precision class 1 = 0.73913
recall class 0 = 0.992724
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.007276
positive prediction rate = 0.025284
AUC of ROC = 0.870335
AUC of PRC = 0.470571
min(+P, Se) = 0.443609

-------------------------------

confusion matrix:
[[1673   10]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11351300030946732
difference in average predicted and observed risk = -0.0002309996905326822
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.904813
precision class 1 = 0.8
recall class 0 = 0.994058
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.005942
positive prediction rate = 0.02633
AUC of ROC = 0.875781
AUC of PRC = 0.546955
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[544   5]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12003300338983536
difference in average predicted and observed risk = -0.0029699966101646436
number samples = 626
accuracy = 0.886581
precision class 0 = 0.891803
precision class 1 = 0.6875
recall class 0 = 0.990893
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.009107
positive prediction rate = 0.025559
AUC of ROC = 0.891562
AUC of PRC = 0.54017
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[2242    7]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09188500046730042
difference in average predicted and observed risk = 0.00722900046730042
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.926446
precision class 1 = 0.810811
recall class 0 = 0.996888
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.003112
positive prediction rate = 0.015059
AUC of ROC = 0.866186
AUC of PRC = 0.432402
min(+P, Se) = 0.382075

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10726500302553177
difference in average predicted and observed risk = 0.006459003025531762
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.80843
AUC of PRC = 0.319619
min(+P, Se) = 0.371429

-------------------------------

confusion matrix:
[[471  10]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1447400003671646
difference in average predicted and observed risk = -0.0009079996328353879
number samples = 563
accuracy = 0.898757
precision class 0 = 0.909266
precision class 1 = 0.777778
recall class 0 = 0.97921
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.02079
positive prediction rate = 0.079929
AUC of ROC = 0.888013
AUC of PRC = 0.649722
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[652   3]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11045599728822708
difference in average predicted and observed risk = 0.002826997288227079
number samples = 734
accuracy = 0.907357
precision class 0 = 0.909344
precision class 1 = 0.823529
recall class 0 = 0.99542
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.00458
positive prediction rate = 0.023161
AUC of ROC = 0.867176
AUC of PRC = 0.532888
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4129   28]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10589200258255005
difference in average predicted and observed risk = 0.0041200025825500475
number samples = 4628
accuracy = 0.911841
precision class 0 = 0.915724
precision class 1 = 0.764706
recall class 0 = 0.993264
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.006736
positive prediction rate = 0.025713
AUC of ROC = 0.872704
AUC of PRC = 0.503657
min(+P, Se) = 0.469136

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.10134000331163406
difference in average predicted and observed risk = 0.02117100331163406
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.848624
AUC of PRC = 0.427709
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09679300338029861
difference in average predicted and observed risk = -0.01200299661970139
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.859796
AUC of PRC = 0.544395
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[102   3]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.15015600621700287
difference in average predicted and observed risk = 0.039987006217002866
number samples = 118
accuracy = 0.898305
precision class 0 = 0.918919
precision class 1 = 0.571429
recall class 0 = 0.971429
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.028571
positive prediction rate = 0.059322
AUC of ROC = 0.879121
AUC of PRC = 0.466244
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11697199940681458
difference in average predicted and observed risk = -0.016361000593185432
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11289799958467484
difference in average predicted and observed risk = -0.0021460004153251583
number samples = 339
accuracy = 0.882006
precision class 0 = 0.891566
precision class 1 = 0.428571
recall class 0 = 0.986667
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.013333
positive prediction rate = 0.020649
AUC of ROC = 0.855214
AUC of PRC = 0.414743
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[431   3]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.10206600278615952
difference in average predicted and observed risk = 0.010016002786159509
number samples = 478
accuracy = 0.922594
precision class 0 = 0.926882
precision class 1 = 0.769231
recall class 0 = 0.993088
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.006912
positive prediction rate = 0.027197
AUC of ROC = 0.868402
AUC of PRC = 0.558296
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08717600256204605
difference in average predicted and observed risk = -0.0020259974379539525
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.858587
AUC of PRC = 0.452007
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[87  3]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12687300145626068
difference in average predicted and observed risk = 0.00922600145626068
number samples = 102
accuracy = 0.892157
precision class 0 = 0.915789
precision class 1 = 0.571429
recall class 0 = 0.966667
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.033333
positive prediction rate = 0.068627
AUC of ROC = 0.925926
AUC of PRC = 0.696254
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11606799811124802
difference in average predicted and observed risk = 0.02735799811124802
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.876106
AUC of PRC = 0.320982
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13096000254154205
difference in average predicted and observed risk = -0.018645997458457936
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.821637
AUC of PRC = 0.511271
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15678200125694275
difference in average predicted and observed risk = 0.07783500125694275
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.753704
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10656099766492844
difference in average predicted and observed risk = 0.0049699976649284355
number samples = 817
accuracy = 0.905753
precision class 0 = 0.912171
precision class 1 = 0.65
recall class 0 = 0.990463
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.009537
positive prediction rate = 0.02448
AUC of ROC = 0.862349
AUC of PRC = 0.478911
min(+P, Se) = 0.506024

-------------------------------

Epoch 00073: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch73.state
Epoch 74/100
 - 275s - loss: 0.2510 - val_loss: 0.2341

==>predicting on train



confusion matrix:
[[2149    6]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09453699737787247
difference in average predicted and observed risk = -0.011272002622127533
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.910208
precision class 1 = 0.877551
recall class 0 = 0.997216
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.002784
positive prediction rate = 0.020332
AUC of ROC = 0.871376
AUC of PRC = 0.528859
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1165   14]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09780800342559814
difference in average predicted and observed risk = 0.00682900342559814
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.928287
precision class 1 = 0.666667
recall class 0 = 0.988126
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.011874
positive prediction rate = 0.032382
AUC of ROC = 0.879818
AUC of PRC = 0.476939
min(+P, Se) = 0.449153

-------------------------------

confusion matrix:
[[649   7]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11302500218153
difference in average predicted and observed risk = 0.011655002181529997
number samples = 730
accuracy = 0.909589
precision class 0 = 0.916667
precision class 1 = 0.681818
recall class 0 = 0.989329
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.010671
positive prediction rate = 0.030137
AUC of ROC = 0.89183
AUC of PRC = 0.515667
min(+P, Se) = 0.489583

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10201100260019302
difference in average predicted and observed risk = -0.023642997399806964
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.930888
AUC of PRC = 0.73027
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2457   17]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09384199976921082
difference in average predicted and observed risk = 0.00040099976921081915
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.923337
precision class 1 = 0.75
recall class 0 = 0.993129
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.006871
positive prediction rate = 0.024918
AUC of ROC = 0.879771
AUC of PRC = 0.489343
min(+P, Se) = 0.472656

-------------------------------

confusion matrix:
[[1672   11]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10562799870967865
difference in average predicted and observed risk = -0.008116001290321348
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905252
precision class 1 = 0.788462
recall class 0 = 0.993464
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.006536
positive prediction rate = 0.027383
AUC of ROC = 0.878031
AUC of PRC = 0.554582
min(+P, Se) = 0.513761

-------------------------------

confusion matrix:
[[543   6]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11745399981737137
difference in average predicted and observed risk = -0.005549000182628633
number samples = 626
accuracy = 0.888179
precision class 0 = 0.894563
precision class 1 = 0.684211
recall class 0 = 0.989071
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.010929
positive prediction rate = 0.030351
AUC of ROC = 0.895986
AUC of PRC = 0.555796
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2242    7]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08302000164985657
difference in average predicted and observed risk = -0.0016359983501434278
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.925681
precision class 1 = 0.8
recall class 0 = 0.996888
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.003112
positive prediction rate = 0.014245
AUC of ROC = 0.873104
AUC of PRC = 0.445837
min(+P, Se) = 0.416268

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10174199938774109
difference in average predicted and observed risk = 0.0009359993877410822
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.827623
AUC of PRC = 0.337133
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[472   9]
 [ 46  36]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14377300441265106
difference in average predicted and observed risk = -0.0018749955873489377
number samples = 563
accuracy = 0.902309
precision class 0 = 0.911197
precision class 1 = 0.8
recall class 0 = 0.981289
recall class 1 = 0.439024
false negative rate = 0.560976
false positive rate = 0.018711
positive prediction rate = 0.079929
AUC of ROC = 0.89676
AUC of PRC = 0.667427
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[652   3]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09945700317621231
difference in average predicted and observed risk = -0.008171996823787692
number samples = 734
accuracy = 0.907357
precision class 0 = 0.909344
precision class 1 = 0.823529
recall class 0 = 0.99542
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.00458
positive prediction rate = 0.023161
AUC of ROC = 0.870461
AUC of PRC = 0.538396
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[4129   28]
 [ 379   92]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09867800027132034
difference in average predicted and observed risk = -0.0030939997286796583
number samples = 4628
accuracy = 0.912057
precision class 0 = 0.915927
precision class 1 = 0.766667
recall class 0 = 0.993264
recall class 1 = 0.195329
false negative rate = 0.804671
false positive rate = 0.006736
positive prediction rate = 0.025929
AUC of ROC = 0.879034
AUC of PRC = 0.517098
min(+P, Se) = 0.491525

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09493199735879898
difference in average predicted and observed risk = 0.014762997358798977
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.866731
AUC of PRC = 0.433599
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09006600081920624
difference in average predicted and observed risk = -0.018729999180793766
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.860846
AUC of PRC = 0.541276
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14410099387168884
difference in average predicted and observed risk = 0.03393199387168884
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.871062
AUC of PRC = 0.466432
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11127399653196335
difference in average predicted and observed risk = -0.02205900346803666
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10586799681186676
difference in average predicted and observed risk = -0.009176003188133233
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.857009
AUC of PRC = 0.423395
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09594099968671799
difference in average predicted and observed risk = 0.0038909996867179802
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.874057
AUC of PRC = 0.565272
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0791110023856163
difference in average predicted and observed risk = -0.010090997614383701
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.87127
AUC of PRC = 0.473423
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12830300629138947
difference in average predicted and observed risk = 0.010656006291389464
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.907407
AUC of PRC = 0.703261
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10803300142288208
difference in average predicted and observed risk = 0.019323001422882083
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.893001
AUC of PRC = 0.364535
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12501199543476105
difference in average predicted and observed risk = -0.02459400456523894
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.832846
AUC of PRC = 0.499522
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14969700574874878
difference in average predicted and observed risk = 0.07075000574874878
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.55101
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10006000101566315
difference in average predicted and observed risk = -0.0015309989843368538
number samples = 817
accuracy = 0.909425
precision class 0 = 0.914573
precision class 1 = 0.714286
recall class 0 = 0.991826
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.008174
positive prediction rate = 0.025704
AUC of ROC = 0.866633
AUC of PRC = 0.483857
min(+P, Se) = 0.494118

-------------------------------

Epoch 00074: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch74.state
Epoch 75/100
 - 274s - loss: 0.2530 - val_loss: 0.2372

==>predicting on train



confusion matrix:
[[2141   14]
 [ 203   52]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07942599803209305
difference in average predicted and observed risk = -0.026383001967906952
number samples = 2410
accuracy = 0.909958
precision class 0 = 0.913396
precision class 1 = 0.787879
recall class 0 = 0.993503
recall class 1 = 0.203922
false negative rate = 0.796078
false positive rate = 0.006497
positive prediction rate = 0.027386
AUC of ROC = 0.871895
AUC of PRC = 0.520901
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1161   18]
 [  87   31]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08440099656581879
difference in average predicted and observed risk = -0.006578003434181218
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.930288
precision class 1 = 0.632653
recall class 0 = 0.984733
recall class 1 = 0.262712
false negative rate = 0.737288
false positive rate = 0.015267
positive prediction rate = 0.037779
AUC of ROC = 0.880601
AUC of PRC = 0.478346
min(+P, Se) = 0.462185

-------------------------------

confusion matrix:
[[645  11]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09882599860429764
difference in average predicted and observed risk = -0.002544001395702364
number samples = 730
accuracy = 0.905479
precision class 0 = 0.917496
precision class 1 = 0.592593
recall class 0 = 0.983232
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.016768
positive prediction rate = 0.036986
AUC of ROC = 0.885259
AUC of PRC = 0.509991
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08735000342130661
difference in average predicted and observed risk = -0.03830399657869338
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.935878
AUC of PRC = 0.76156
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2447   27]
 [ 197   58]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07990799844264984
difference in average predicted and observed risk = -0.013533001557350155
number samples = 2729
accuracy = 0.917919
precision class 0 = 0.925492
precision class 1 = 0.682353
recall class 0 = 0.989087
recall class 1 = 0.227451
false negative rate = 0.772549
false positive rate = 0.010914
positive prediction rate = 0.031147
AUC of ROC = 0.878454
AUC of PRC = 0.484473
min(+P, Se) = 0.472656

-------------------------------

confusion matrix:
[[1666   17]
 [ 169   47]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09038600325584412
difference in average predicted and observed risk = -0.02335799674415588
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.907902
precision class 1 = 0.734375
recall class 0 = 0.989899
recall class 1 = 0.217593
false negative rate = 0.782407
false positive rate = 0.010101
positive prediction rate = 0.033702
AUC of ROC = 0.878788
AUC of PRC = 0.554984
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[540   9]
 [ 60  17]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0994030013680458
difference in average predicted and observed risk = -0.023599998631954194
number samples = 626
accuracy = 0.889776
precision class 0 = 0.9
precision class 1 = 0.653846
recall class 0 = 0.983607
recall class 1 = 0.220779
false negative rate = 0.779221
false positive rate = 0.016393
positive prediction rate = 0.041534
AUC of ROC = 0.892721
AUC of PRC = 0.54724
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2239   10]
 [ 175   33]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06811399757862091
difference in average predicted and observed risk = -0.016542002421379084
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.927506
precision class 1 = 0.767442
recall class 0 = 0.995554
recall class 1 = 0.158654
false negative rate = 0.841346
false positive rate = 0.004446
positive prediction rate = 0.017501
AUC of ROC = 0.873749
AUC of PRC = 0.448882
min(+P, Se) = 0.425837

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08367899805307388
difference in average predicted and observed risk = -0.017127001946926124
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.817399
AUC of PRC = 0.332389
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[467  14]
 [ 45  37]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13390199840068817
difference in average predicted and observed risk = -0.011746001599311828
number samples = 563
accuracy = 0.895204
precision class 0 = 0.912109
precision class 1 = 0.72549
recall class 0 = 0.970894
recall class 1 = 0.451219
false negative rate = 0.548781
false positive rate = 0.029106
positive prediction rate = 0.090586
AUC of ROC = 0.89321
AUC of PRC = 0.654338
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[648   7]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0871800035238266
difference in average predicted and observed risk = -0.020448996476173403
number samples = 734
accuracy = 0.905995
precision class 0 = 0.912676
precision class 1 = 0.708333
recall class 0 = 0.989313
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.010687
positive prediction rate = 0.032698
AUC of ROC = 0.875891
AUC of PRC = 0.540539
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[4113   44]
 [ 366  105]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08420699834823608
difference in average predicted and observed risk = -0.017565001651763917
number samples = 4628
accuracy = 0.911409
precision class 0 = 0.918285
precision class 1 = 0.704698
recall class 0 = 0.989415
recall class 1 = 0.22293
false negative rate = 0.77707
false positive rate = 0.010585
positive prediction rate = 0.032195
AUC of ROC = 0.878564
AUC of PRC = 0.514394
min(+P, Se) = 0.492569

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08067599684000015
difference in average predicted and observed risk = 0.0005069968400001484
number samples = 237
accuracy = 0.92827
precision class 0 = 0.942731
precision class 1 = 0.6
recall class 0 = 0.981651
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018349
positive prediction rate = 0.042194
AUC of ROC = 0.872284
AUC of PRC = 0.499461
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07497099786996841
difference in average predicted and observed risk = -0.03382500213003159
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.846753
AUC of PRC = 0.522891
min(+P, Se) = 0.479167

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13235600292682648
difference in average predicted and observed risk = 0.022187002926826474
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.871062
AUC of PRC = 0.473689
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10357999801635742
difference in average predicted and observed risk = -0.029753001983642585
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 32   7]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09007199853658676
difference in average predicted and observed risk = -0.024972001463413232
number samples = 339
accuracy = 0.893805
precision class 0 = 0.902439
precision class 1 = 0.636364
recall class 0 = 0.986667
recall class 1 = 0.179487
false negative rate = 0.820513
false positive rate = 0.013333
positive prediction rate = 0.032448
AUC of ROC = 0.852137
AUC of PRC = 0.440173
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08305200189352036
difference in average predicted and observed risk = -0.008997998106479652
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.867302
AUC of PRC = 0.561901
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06371799856424332
difference in average predicted and observed risk = -0.025484001435756687
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.866115
AUC of PRC = 0.477726
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11754299700260162
difference in average predicted and observed risk = -0.00010400299739837804
number samples = 102
accuracy = 0.911765
precision class 0 = 0.935484
precision class 1 = 0.666667
recall class 0 = 0.966667
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.033333
positive prediction rate = 0.088235
AUC of ROC = 0.889815
AUC of PRC = 0.687253
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0908840000629425
difference in average predicted and observed risk = 0.0021740000629425077
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.884956
AUC of PRC = 0.339718
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11357100307941437
difference in average predicted and observed risk = -0.03603499692058562
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.816764
AUC of PRC = 0.50547
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14228299260139465
difference in average predicted and observed risk = 0.06333599260139465
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.55101
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[726   8]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08596500009298325
difference in average predicted and observed risk = -0.015625999907016755
number samples = 817
accuracy = 0.913097
precision class 0 = 0.920152
precision class 1 = 0.714286
recall class 0 = 0.989101
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.010899
positive prediction rate = 0.034272
AUC of ROC = 0.860789
AUC of PRC = 0.48856
min(+P, Se) = 0.493976

-------------------------------

Epoch 00075: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch75.state
Epoch 76/100
 - 275s - loss: 0.2558 - val_loss: 0.2343

==>predicting on train



confusion matrix:
[[2144   11]
 [ 205   50]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09834499657154083
difference in average predicted and observed risk = -0.007464003428459168
number samples = 2410
accuracy = 0.910373
precision class 0 = 0.912729
precision class 1 = 0.819672
recall class 0 = 0.994896
recall class 1 = 0.196078
false negative rate = 0.803922
false positive rate = 0.005104
positive prediction rate = 0.025311
AUC of ROC = 0.873585
AUC of PRC = 0.529628
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1160   19]
 [  89   29]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.1017879992723465
difference in average predicted and observed risk = 0.010808999272346492
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.928743
precision class 1 = 0.604167
recall class 0 = 0.983885
recall class 1 = 0.245763
false negative rate = 0.754237
false positive rate = 0.016115
positive prediction rate = 0.037008
AUC of ROC = 0.878725
AUC of PRC = 0.481731
min(+P, Se) = 0.474576

-------------------------------

confusion matrix:
[[646  10]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11807099729776382
difference in average predicted and observed risk = 0.016700997297763823
number samples = 730
accuracy = 0.905479
precision class 0 = 0.916312
precision class 1 = 0.6
recall class 0 = 0.984756
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.015244
positive prediction rate = 0.034247
AUC of ROC = 0.882828
AUC of PRC = 0.515421
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.1055459976196289
difference in average predicted and observed risk = -0.02010800238037108
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.937375
AUC of PRC = 0.748483
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2446   28]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09746400266885757
difference in average predicted and observed risk = 0.004023002668857578
number samples = 2729
accuracy = 0.91572
precision class 0 = 0.923716
precision class 1 = 0.654321
recall class 0 = 0.988682
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.011318
positive prediction rate = 0.029681
AUC of ROC = 0.876811
AUC of PRC = 0.481507
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1670   13]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11026900261640549
difference in average predicted and observed risk = -0.003474997383594511
number samples = 1899
accuracy = 0.904687
precision class 0 = 0.908596
precision class 1 = 0.786885
recall class 0 = 0.992276
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.007724
positive prediction rate = 0.032122
AUC of ROC = 0.880912
AUC of PRC = 0.568594
min(+P, Se) = 0.516129

-------------------------------

confusion matrix:
[[540   9]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11386200040578842
difference in average predicted and observed risk = -0.00914099959421158
number samples = 626
accuracy = 0.886581
precision class 0 = 0.89701
precision class 1 = 0.625
recall class 0 = 0.983607
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.016393
positive prediction rate = 0.038339
AUC of ROC = 0.891704
AUC of PRC = 0.546246
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2238   11]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08786500245332718
difference in average predicted and observed risk = 0.003209002453327184
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.926708
precision class 1 = 0.738095
recall class 0 = 0.995109
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.004891
positive prediction rate = 0.017094
AUC of ROC = 0.871071
AUC of PRC = 0.449336
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.1042179986834526
difference in average predicted and observed risk = 0.0034119986834525995
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.824395
AUC of PRC = 0.340608
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[470  11]
 [ 46  36]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1479630023241043
difference in average predicted and observed risk = 0.0023150023241043094
number samples = 563
accuracy = 0.898757
precision class 0 = 0.910853
precision class 1 = 0.765957
recall class 0 = 0.977131
recall class 1 = 0.439024
false negative rate = 0.560976
false positive rate = 0.022869
positive prediction rate = 0.083481
AUC of ROC = 0.89567
AUC of PRC = 0.655569
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[649   6]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10772500187158585
difference in average predicted and observed risk = 9.60018715858435e-05
number samples = 734
accuracy = 0.907357
precision class 0 = 0.912799
precision class 1 = 0.73913
recall class 0 = 0.99084
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.00916
positive prediction rate = 0.031335
AUC of ROC = 0.878133
AUC of PRC = 0.566841
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4116   41]
 [ 370  101]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10271800309419632
difference in average predicted and observed risk = 0.0009460030941963182
number samples = 4628
accuracy = 0.911193
precision class 0 = 0.917521
precision class 1 = 0.711268
recall class 0 = 0.990137
recall class 1 = 0.214437
false negative rate = 0.785563
false positive rate = 0.009863
positive prediction rate = 0.030683
AUC of ROC = 0.878653
AUC of PRC = 0.518789
min(+P, Se) = 0.509554

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09763900190591812
difference in average predicted and observed risk = 0.017470001905918117
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.877354
AUC of PRC = 0.483454
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0940760001540184
difference in average predicted and observed risk = -0.014719999845981602
number samples = 432
accuracy = 0.907407
precision class 0 = 0.905882
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.0
positive prediction rate = 0.016204
AUC of ROC = 0.841061
AUC of PRC = 0.527525
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14829599857330322
difference in average predicted and observed risk = 0.03812699857330322
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.87326
AUC of PRC = 0.487905
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12134499847888947
difference in average predicted and observed risk = -0.011988001521110542
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11075799912214279
difference in average predicted and observed risk = -0.004286000877857202
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.835299
AUC of PRC = 0.430889
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[430   4]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0991080030798912
difference in average predicted and observed risk = 0.007058003079891198
number samples = 478
accuracy = 0.92887
precision class 0 = 0.934783
precision class 1 = 0.777778
recall class 0 = 0.990783
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.009217
positive prediction rate = 0.037657
AUC of ROC = 0.876152
AUC of PRC = 0.572591
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08270899951457977
difference in average predicted and observed risk = -0.0064930004854202306
number samples = 426
accuracy = 0.924883
precision class 0 = 0.92381
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.0
positive prediction rate = 0.014085
AUC of ROC = 0.863877
AUC of PRC = 0.473193
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[87  3]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1329299956560135
difference in average predicted and observed risk = 0.015282995656013487
number samples = 102
accuracy = 0.911765
precision class 0 = 0.935484
precision class 1 = 0.666667
recall class 0 = 0.966667
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.033333
positive prediction rate = 0.088235
AUC of ROC = 0.889815
AUC of PRC = 0.686898
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10517700016498566
difference in average predicted and observed risk = 0.01646700016498566
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.874497
AUC of PRC = 0.370168
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13519799709320068
difference in average predicted and observed risk = -0.014408002906799305
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.818713
AUC of PRC = 0.508179
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15567299723625183
difference in average predicted and observed risk = 0.07672599723625183
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10394199937582016
difference in average predicted and observed risk = 0.002350999375820159
number samples = 817
accuracy = 0.914321
precision class 0 = 0.920253
precision class 1 = 0.740741
recall class 0 = 0.990463
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.009537
positive prediction rate = 0.033048
AUC of ROC = 0.859575
AUC of PRC = 0.492604
min(+P, Se) = 0.483146

-------------------------------

Epoch 00076: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch76.state
Epoch 77/100
 - 275s - loss: 0.2536 - val_loss: 0.2357

==>predicting on train



confusion matrix:
[[2150    5]
 [ 215   40]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08001700043678284
difference in average predicted and observed risk = -0.025791999563217163
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.909091
precision class 1 = 0.888889
recall class 0 = 0.99768
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.00232
positive prediction rate = 0.018672
AUC of ROC = 0.873143
AUC of PRC = 0.536403
min(+P, Se) = 0.498054

-------------------------------

confusion matrix:
[[1167   12]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08378999680280685
difference in average predicted and observed risk = -0.00718900319719315
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.923259
precision class 1 = 0.636364
recall class 0 = 0.989822
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.010178
positive prediction rate = 0.025443
AUC of ROC = 0.876878
AUC of PRC = 0.478115
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[649   7]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09623699635267258
difference in average predicted and observed risk = -0.005133003647327425
number samples = 730
accuracy = 0.906849
precision class 0 = 0.914084
precision class 1 = 0.65
recall class 0 = 0.989329
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.010671
positive prediction rate = 0.027397
AUC of ROC = 0.883611
AUC of PRC = 0.519346
min(+P, Se) = 0.505747

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0878169983625412
difference in average predicted and observed risk = -0.03783700163745879
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.925649
AUC of PRC = 0.717956
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2458   16]
 [ 212   43]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07977800071239471
difference in average predicted and observed risk = -0.013662999287605282
number samples = 2729
accuracy = 0.916453
precision class 0 = 0.920599
precision class 1 = 0.728814
recall class 0 = 0.993533
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.006467
positive prediction rate = 0.02162
AUC of ROC = 0.877853
AUC of PRC = 0.492262
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1674    9]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08995600044727325
difference in average predicted and observed risk = -0.023787999552726743
number samples = 1899
accuracy = 0.901
precision class 0 = 0.9034
precision class 1 = 0.804348
recall class 0 = 0.994652
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.005348
positive prediction rate = 0.024223
AUC of ROC = 0.877357
AUC of PRC = 0.560794
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[547   2]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09095899760723114
difference in average predicted and observed risk = -0.03204400239276886
number samples = 626
accuracy = 0.883387
precision class 0 = 0.885113
precision class 1 = 0.75
recall class 0 = 0.996357
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.003643
positive prediction rate = 0.01278
AUC of ROC = 0.890143
AUC of PRC = 0.562915
min(+P, Se) = 0.602564

-------------------------------

confusion matrix:
[[2243    6]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07177899777889252
difference in average predicted and observed risk = -0.012877002221107478
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.925712
precision class 1 = 0.823529
recall class 0 = 0.997332
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.002668
positive prediction rate = 0.013838
AUC of ROC = 0.870124
AUC of PRC = 0.449318
min(+P, Se) = 0.413462

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08560100197792053
difference in average predicted and observed risk = -0.015204998022079474
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.83713
AUC of PRC = 0.351356
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[471  10]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12177100032567978
difference in average predicted and observed risk = -0.02387699967432022
number samples = 563
accuracy = 0.889876
precision class 0 = 0.900574
precision class 1 = 0.75
recall class 0 = 0.97921
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.02079
positive prediction rate = 0.071048
AUC of ROC = 0.895213
AUC of PRC = 0.658655
min(+P, Se) = 0.60241

-------------------------------

confusion matrix:
[[651   4]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08917500078678131
difference in average predicted and observed risk = -0.01845399921321869
number samples = 734
accuracy = 0.907357
precision class 0 = 0.910489
precision class 1 = 0.789474
recall class 0 = 0.993893
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.006107
positive prediction rate = 0.025886
AUC of ROC = 0.875756
AUC of PRC = 0.558833
min(+P, Se) = 0.542169

-------------------------------

confusion matrix:
[[4132   25]
 [ 391   80]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08395499736070633
difference in average predicted and observed risk = -0.017817002639293672
number samples = 4628
accuracy = 0.910112
precision class 0 = 0.913553
precision class 1 = 0.761905
recall class 0 = 0.993986
recall class 1 = 0.169851
false negative rate = 0.830149
false positive rate = 0.006014
positive prediction rate = 0.022688
AUC of ROC = 0.877776
AUC of PRC = 0.521563
min(+P, Se) = 0.504237

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08269199728965759
difference in average predicted and observed risk = 0.0025229972896575886
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.873974
AUC of PRC = 0.446574
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07606100291013718
difference in average predicted and observed risk = -0.03273499708986283
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.853551
AUC of PRC = 0.536631
min(+P, Se) = 0.509091

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12234299629926682
difference in average predicted and observed risk = 0.012173996299266812
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.868132
AUC of PRC = 0.460519
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09465400129556656
difference in average predicted and observed risk = -0.03867899870443345
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09002500027418137
difference in average predicted and observed risk = -0.025018999725818628
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.855385
AUC of PRC = 0.427197
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[432   2]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08203700184822083
difference in average predicted and observed risk = -0.010012998151779182
number samples = 478
accuracy = 0.924686
precision class 0 = 0.927039
precision class 1 = 0.833333
recall class 0 = 0.995392
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.004608
positive prediction rate = 0.025105
AUC of ROC = 0.872643
AUC of PRC = 0.56237
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0681300014257431
difference in average predicted and observed risk = -0.0210719985742569
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.861978
AUC of PRC = 0.457369
min(+P, Se) = 0.415094

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10401400178670883
difference in average predicted and observed risk = -0.01363299821329117
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.916667
AUC of PRC = 0.703766
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0842519998550415
difference in average predicted and observed risk = -0.004458000144958493
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.895414
AUC of PRC = 0.399925
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11440400034189224
difference in average predicted and observed risk = -0.03520199965810775
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.831384
AUC of PRC = 0.518405
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13481099903583527
difference in average predicted and observed risk = 0.05586399903583526
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.569444
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08535200357437134
difference in average predicted and observed risk = -0.016238996425628663
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.865188
AUC of PRC = 0.485396
min(+P, Se) = 0.488889

-------------------------------

Epoch 00077: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch77.state
Epoch 78/100
 - 275s - loss: 0.2484 - val_loss: 0.2307

==>predicting on train



confusion matrix:
[[2145   10]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0850830003619194
difference in average predicted and observed risk = -0.020725999638080597
number samples = 2410
accuracy = 0.908299
precision class 0 = 0.910441
precision class 1 = 0.814815
recall class 0 = 0.99536
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.00464
positive prediction rate = 0.022407
AUC of ROC = 0.874484
AUC of PRC = 0.531125
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[1163   16]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08953999727964401
difference in average predicted and observed risk = -0.0014390027203559919
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.928172
precision class 1 = 0.636364
recall class 0 = 0.986429
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.013571
positive prediction rate = 0.033924
AUC of ROC = 0.880191
AUC of PRC = 0.487028
min(+P, Se) = 0.474576

-------------------------------

confusion matrix:
[[647   9]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10356300324201584
difference in average predicted and observed risk = 0.002193003242015837
number samples = 730
accuracy = 0.909589
precision class 0 = 0.919034
precision class 1 = 0.653846
recall class 0 = 0.986281
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.01372
positive prediction rate = 0.035616
AUC of ROC = 0.892366
AUC of PRC = 0.528865
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09231700003147125
difference in average predicted and observed risk = -0.033336999968528735
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.933882
AUC of PRC = 0.75307
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[2451   23]
 [ 203   52]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08433599770069122
difference in average predicted and observed risk = -0.009105002299308773
number samples = 2729
accuracy = 0.917186
precision class 0 = 0.923512
precision class 1 = 0.693333
recall class 0 = 0.990703
recall class 1 = 0.203922
false negative rate = 0.796078
false positive rate = 0.009297
positive prediction rate = 0.027483
AUC of ROC = 0.883816
AUC of PRC = 0.489762
min(+P, Se) = 0.484375

-------------------------------

confusion matrix:
[[1670   13]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09703200310468674
difference in average predicted and observed risk = -0.01671199689531326
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.906623
precision class 1 = 0.77193
recall class 0 = 0.992276
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.007724
positive prediction rate = 0.030016
AUC of ROC = 0.876807
AUC of PRC = 0.567597
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[543   6]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10010600090026855
difference in average predicted and observed risk = -0.022896999099731447
number samples = 626
accuracy = 0.884984
precision class 0 = 0.891626
precision class 1 = 0.647059
recall class 0 = 0.989071
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.010929
positive prediction rate = 0.027157
AUC of ROC = 0.893431
AUC of PRC = 0.541233
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2239   10]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07605200260877609
difference in average predicted and observed risk = -0.008603997391223903
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.927122
precision class 1 = 0.761905
recall class 0 = 0.995554
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.004446
positive prediction rate = 0.017094
AUC of ROC = 0.874485
AUC of PRC = 0.450001
min(+P, Se) = 0.413953

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09070499986410141
difference in average predicted and observed risk = -0.010101000135898597
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.821525
AUC of PRC = 0.34455
min(+P, Se) = 0.388889

-------------------------------

confusion matrix:
[[471  10]
 [ 48  34]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12842099368572235
difference in average predicted and observed risk = -0.01722700631427765
number samples = 563
accuracy = 0.89698
precision class 0 = 0.907514
precision class 1 = 0.772727
recall class 0 = 0.97921
recall class 1 = 0.414634
false negative rate = 0.585366
false positive rate = 0.02079
positive prediction rate = 0.078153
AUC of ROC = 0.903326
AUC of PRC = 0.667662
min(+P, Se) = 0.611765

-------------------------------

confusion matrix:
[[649   6]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09549800306558609
difference in average predicted and observed risk = -0.012130996934413912
number samples = 734
accuracy = 0.908719
precision class 0 = 0.914084
precision class 1 = 0.75
recall class 0 = 0.99084
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.00916
positive prediction rate = 0.032698
AUC of ROC = 0.875331
AUC of PRC = 0.55504
min(+P, Se) = 0.547619

-------------------------------

confusion matrix:
[[4121   36]
 [ 375   96]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08954600244760513
difference in average predicted and observed risk = -0.012225997552394868
number samples = 4628
accuracy = 0.911193
precision class 0 = 0.916593
precision class 1 = 0.727273
recall class 0 = 0.99134
recall class 1 = 0.203822
false negative rate = 0.796178
false positive rate = 0.00866
positive prediction rate = 0.028522
AUC of ROC = 0.881059
AUC of PRC = 0.522783
min(+P, Se) = 0.496855

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08599899709224701
difference in average predicted and observed risk = 0.005829997092247005
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.874215
AUC of PRC = 0.459508
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0794060006737709
difference in average predicted and observed risk = -0.0293899993262291
number samples = 432
accuracy = 0.902778
precision class 0 = 0.901639
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.0
positive prediction rate = 0.011574
AUC of ROC = 0.868969
AUC of PRC = 0.553494
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13013699650764465
difference in average predicted and observed risk = 0.01996799650764465
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.854945
AUC of PRC = 0.451846
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09964200109243393
difference in average predicted and observed risk = -0.03369099890756608
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09429799765348434
difference in average predicted and observed risk = -0.02074600234651565
number samples = 339
accuracy = 0.893805
precision class 0 = 0.89759
precision class 1 = 0.714286
recall class 0 = 0.993333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.006667
positive prediction rate = 0.020649
AUC of ROC = 0.849744
AUC of PRC = 0.435331
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[432   2]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0859069973230362
difference in average predicted and observed risk = -0.006143002676963813
number samples = 478
accuracy = 0.930962
precision class 0 = 0.933045
precision class 1 = 0.866667
recall class 0 = 0.995392
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.004608
positive prediction rate = 0.031381
AUC of ROC = 0.885683
AUC of PRC = 0.579082
min(+P, Se) = 0.481481

-------------------------------

confusion matrix:
[[388   0]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07139600068330765
difference in average predicted and observed risk = -0.017805999316692356
number samples = 426
accuracy = 0.922535
precision class 0 = 0.921615
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.0
positive prediction rate = 0.011737
AUC of ROC = 0.872626
AUC of PRC = 0.466354
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10731899738311768
difference in average predicted and observed risk = -0.010328002616882326
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.9
AUC of PRC = 0.725505
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08885499835014343
difference in average predicted and observed risk = 0.00014499835014343543
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.896219
AUC of PRC = 0.391045
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12124799937009811
difference in average predicted and observed risk = -0.028358000629901875
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.846979
AUC of PRC = 0.527733
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13823899626731873
difference in average predicted and observed risk = 0.05929199626731872
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.885714
AUC of PRC = 0.538462
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 65  18]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08938899636268616
difference in average predicted and observed risk = -0.012202003637313844
number samples = 817
accuracy = 0.915545
precision class 0 = 0.918239
precision class 1 = 0.818182
recall class 0 = 0.99455
recall class 1 = 0.216867
false negative rate = 0.783133
false positive rate = 0.00545
positive prediction rate = 0.026928
AUC of ROC = 0.871344
AUC of PRC = 0.496917
min(+P, Se) = 0.481928

-------------------------------

Epoch 00078: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch78.state
Epoch 79/100
 - 273s - loss: 0.2501 - val_loss: 0.2324

==>predicting on train



confusion matrix:
[[2147    8]
 [ 210   45]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08594600111246109
difference in average predicted and observed risk = -0.01986299888753891
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.910904
precision class 1 = 0.849057
recall class 0 = 0.996288
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.003712
positive prediction rate = 0.021992
AUC of ROC = 0.874228
AUC of PRC = 0.530028
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1164   15]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0889509990811348
difference in average predicted and observed risk = -0.002028000918865208
number samples = 1297
accuracy = 0.920586
precision class 0 = 0.929712
precision class 1 = 0.666667
recall class 0 = 0.987277
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.012723
positive prediction rate = 0.034695
AUC of ROC = 0.879135
AUC of PRC = 0.486122
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[647   9]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10408399999141693
difference in average predicted and observed risk = 0.0027139999914169294
number samples = 730
accuracy = 0.908219
precision class 0 = 0.917731
precision class 1 = 0.64
recall class 0 = 0.986281
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.01372
positive prediction rate = 0.034247
AUC of ROC = 0.882272
AUC of PRC = 0.520972
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09322000294923782
difference in average predicted and observed risk = -0.032433997050762164
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.947355
AUC of PRC = 0.774607
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2453   21]
 [ 201   54]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08510400354862213
difference in average predicted and observed risk = -0.008336996451377865
number samples = 2729
accuracy = 0.918652
precision class 0 = 0.924265
precision class 1 = 0.72
recall class 0 = 0.991512
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.008488
positive prediction rate = 0.027483
AUC of ROC = 0.8813
AUC of PRC = 0.494933
min(+P, Se) = 0.496124

-------------------------------

confusion matrix:
[[1671   12]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09691400080919266
difference in average predicted and observed risk = -0.01682999919080734
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.907166
precision class 1 = 0.789474
recall class 0 = 0.99287
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.00713
positive prediction rate = 0.030016
AUC of ROC = 0.877831
AUC of PRC = 0.563661
min(+P, Se) = 0.523148

-------------------------------

confusion matrix:
[[543   6]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10177300125360489
difference in average predicted and observed risk = -0.021229998746395112
number samples = 626
accuracy = 0.888179
precision class 0 = 0.894563
precision class 1 = 0.684211
recall class 0 = 0.989071
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.010929
positive prediction rate = 0.030351
AUC of ROC = 0.893667
AUC of PRC = 0.543711
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2238   11]
 [ 175   33]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07618100196123123
difference in average predicted and observed risk = -0.008474998038768763
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.927476
precision class 1 = 0.75
recall class 0 = 0.995109
recall class 1 = 0.158654
false negative rate = 0.841346
false positive rate = 0.004891
positive prediction rate = 0.017908
AUC of ROC = 0.872706
AUC of PRC = 0.455417
min(+P, Se) = 0.429245

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09359800070524216
difference in average predicted and observed risk = -0.00720799929475785
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.814709
AUC of PRC = 0.323466
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12847499549388885
difference in average predicted and observed risk = -0.017173004506111145
number samples = 563
accuracy = 0.900533
precision class 0 = 0.909441
precision class 1 = 0.795455
recall class 0 = 0.981289
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.018711
positive prediction rate = 0.078153
AUC of ROC = 0.904036
AUC of PRC = 0.669711
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[651   4]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0951709970831871
difference in average predicted and observed risk = -0.0124580029168129
number samples = 734
accuracy = 0.910082
precision class 0 = 0.913043
precision class 1 = 0.809524
recall class 0 = 0.993893
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.006107
positive prediction rate = 0.02861
AUC of ROC = 0.872645
AUC of PRC = 0.559299
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[4124   33]
 [ 372   99]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08995000272989273
difference in average predicted and observed risk = -0.01182199727010727
number samples = 4628
accuracy = 0.912489
precision class 0 = 0.91726
precision class 1 = 0.75
recall class 0 = 0.992062
recall class 1 = 0.210191
false negative rate = 0.789809
false positive rate = 0.007938
positive prediction rate = 0.028522
AUC of ROC = 0.879844
AUC of PRC = 0.523766
min(+P, Se) = 0.510593

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08639100193977356
difference in average predicted and observed risk = 0.006222001939773555
number samples = 237
accuracy = 0.936709
precision class 0 = 0.943231
precision class 1 = 0.75
recall class 0 = 0.990826
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.009174
positive prediction rate = 0.033755
AUC of ROC = 0.881941
AUC of PRC = 0.471268
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08017200231552124
difference in average predicted and observed risk = -0.028623997684478764
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.853938
AUC of PRC = 0.545061
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13382700085639954
difference in average predicted and observed risk = 0.023658000856399533
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.849084
AUC of PRC = 0.447418
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10573700070381165
difference in average predicted and observed risk = -0.02759599929618836
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09570500254631042
difference in average predicted and observed risk = -0.01933899745368957
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.842308
AUC of PRC = 0.43562
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08708900213241577
difference in average predicted and observed risk = -0.004960997867584235
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.879242
AUC of PRC = 0.574551
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07138500362634659
difference in average predicted and observed risk = -0.017816996373653415
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.869438
AUC of PRC = 0.480624
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10919000208377838
difference in average predicted and observed risk = -0.00845699791622162
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.910185
AUC of PRC = 0.7319
min(+P, Se) = 0.714286

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09375199675559998
difference in average predicted and observed risk = 0.005041996755599978
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.875302
AUC of PRC = 0.357767
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1209459975361824
difference in average predicted and observed risk = -0.028660002463817585
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.814815
AUC of PRC = 0.502344
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14579300582408905
difference in average predicted and observed risk = 0.06684600582408905
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[729   5]
 [ 65  18]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09066399931907654
difference in average predicted and observed risk = -0.010927000680923463
number samples = 817
accuracy = 0.914321
precision class 0 = 0.918136
precision class 1 = 0.782609
recall class 0 = 0.993188
recall class 1 = 0.216867
false negative rate = 0.783133
false positive rate = 0.006812
positive prediction rate = 0.028152
AUC of ROC = 0.864171
AUC of PRC = 0.493987
min(+P, Se) = 0.488095

-------------------------------

Epoch 00079: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch79.state
Epoch 80/100
 - 271s - loss: 0.2493 - val_loss: 0.2351

==>predicting on train



confusion matrix:
[[2149    6]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07825200259685516
difference in average predicted and observed risk = -0.027556997403144837
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.9079
precision class 1 = 0.860465
recall class 0 = 0.997216
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.002784
positive prediction rate = 0.017842
AUC of ROC = 0.870645
AUC of PRC = 0.526573
min(+P, Se) = 0.496124

-------------------------------

confusion matrix:
[[1165   14]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08192799985408783
difference in average predicted and observed risk = -0.009051000145912175
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.92681
precision class 1 = 0.65
recall class 0 = 0.988126
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.011874
positive prediction rate = 0.03084
AUC of ROC = 0.881219
AUC of PRC = 0.494524
min(+P, Se) = 0.483051

-------------------------------

confusion matrix:
[[651   5]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09440799802541733
difference in average predicted and observed risk = -0.006962001974582674
number samples = 730
accuracy = 0.910959
precision class 0 = 0.915612
precision class 1 = 0.736842
recall class 0 = 0.992378
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.007622
positive prediction rate = 0.026027
AUC of ROC = 0.893169
AUC of PRC = 0.537839
min(+P, Se) = 0.546667

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08434099704027176
difference in average predicted and observed risk = -0.04131300295972823
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.948104
AUC of PRC = 0.783134
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2457   17]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07756999880075455
difference in average predicted and observed risk = -0.01587100119924545
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.92126
precision class 1 = 0.725806
recall class 0 = 0.993129
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.006871
positive prediction rate = 0.022719
AUC of ROC = 0.882107
AUC of PRC = 0.495833
min(+P, Se) = 0.478431

-------------------------------

confusion matrix:
[[1674    9]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08856599777936935
difference in average predicted and observed risk = -0.025178002220630644
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.903888
precision class 1 = 0.808511
recall class 0 = 0.994652
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.005348
positive prediction rate = 0.02475
AUC of ROC = 0.875789
AUC of PRC = 0.561629
min(+P, Se) = 0.527778

-------------------------------

confusion matrix:
[[546   3]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09236600250005722
difference in average predicted and observed risk = -0.03063699749994278
number samples = 626
accuracy = 0.883387
precision class 0 = 0.886364
precision class 1 = 0.7
recall class 0 = 0.994536
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.005464
positive prediction rate = 0.015974
AUC of ROC = 0.894685
AUC of PRC = 0.560941
min(+P, Se) = 0.580247

-------------------------------

confusion matrix:
[[2243    6]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06950800120830536
difference in average predicted and observed risk = -0.015147998791694636
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.92533
precision class 1 = 0.818182
recall class 0 = 0.997332
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.002668
positive prediction rate = 0.013431
AUC of ROC = 0.873559
AUC of PRC = 0.449803
min(+P, Se) = 0.427885

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0835380032658577
difference in average predicted and observed risk = -0.01726799673414231
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.811121
AUC of PRC = 0.326065
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 48  34]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1223910003900528
difference in average predicted and observed risk = -0.023256999609947204
number samples = 563
accuracy = 0.898757
precision class 0 = 0.907692
precision class 1 = 0.790698
recall class 0 = 0.981289
recall class 1 = 0.414634
false negative rate = 0.585366
false positive rate = 0.018711
positive prediction rate = 0.076377
AUC of ROC = 0.901222
AUC of PRC = 0.672231
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[650   5]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08399300277233124
difference in average predicted and observed risk = -0.023635997227668765
number samples = 734
accuracy = 0.904632
precision class 0 = 0.909091
precision class 1 = 0.736842
recall class 0 = 0.992366
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.007634
positive prediction rate = 0.025886
AUC of ROC = 0.871775
AUC of PRC = 0.554011
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4131   26]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08208200335502625
difference in average predicted and observed risk = -0.019689996644973756
number samples = 4628
accuracy = 0.910545
precision class 0 = 0.91414
precision class 1 = 0.761468
recall class 0 = 0.993746
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.006255
positive prediction rate = 0.023552
AUC of ROC = 0.879725
AUC of PRC = 0.523659
min(+P, Se) = 0.5

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07824499905109406
difference in average predicted and observed risk = -0.001924000948905949
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.872042
AUC of PRC = 0.422845
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.072503000497818
difference in average predicted and observed risk = -0.03629299950218201
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.863498
AUC of PRC = 0.555516
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1212640032172203
difference in average predicted and observed risk = 0.011095003217220303
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.843956
AUC of PRC = 0.43222
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0965770035982132
difference in average predicted and observed risk = -0.03675599640178681
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08555900305509567
difference in average predicted and observed risk = -0.02948499694490432
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.837607
AUC of PRC = 0.402422
min(+P, Se) = 0.44186

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0796390026807785
difference in average predicted and observed risk = -0.012410997319221503
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.886364
AUC of PRC = 0.583093
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06453300267457962
difference in average predicted and observed risk = -0.024668997325420383
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.871609
AUC of PRC = 0.465539
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10420200228691101
difference in average predicted and observed risk = -0.01344499771308899
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.916667
AUC of PRC = 0.748577
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08268900215625763
difference in average predicted and observed risk = -0.006020997843742368
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.876911
AUC of PRC = 0.351573
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11061900109052658
difference in average predicted and observed risk = -0.03898699890947341
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.812378
AUC of PRC = 0.485476
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12236999720335007
difference in average predicted and observed risk = 0.043422997203350064
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.55101
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08209499716758728
difference in average predicted and observed risk = -0.01949600283241272
number samples = 817
accuracy = 0.913097
precision class 0 = 0.915935
precision class 1 = 0.8
recall class 0 = 0.99455
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.00545
positive prediction rate = 0.02448
AUC of ROC = 0.866173
AUC of PRC = 0.48663
min(+P, Se) = 0.481928

-------------------------------

Epoch 00080: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch80.state
Epoch 81/100
 - 272s - loss: 0.2504 - val_loss: 0.2350

==>predicting on train



confusion matrix:
[[2149    6]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09382899850606918
difference in average predicted and observed risk = -0.011980001493930817
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.908668
precision class 1 = 0.866667
recall class 0 = 0.997216
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.002784
positive prediction rate = 0.018672
AUC of ROC = 0.870026
AUC of PRC = 0.531838
min(+P, Se) = 0.501946

-------------------------------

confusion matrix:
[[1165   14]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09665799885988235
difference in average predicted and observed risk = 0.00567899885988235
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.928287
precision class 1 = 0.666667
recall class 0 = 0.988126
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.011874
positive prediction rate = 0.032382
AUC of ROC = 0.87912
AUC of PRC = 0.48838
min(+P, Se) = 0.471545

-------------------------------

confusion matrix:
[[651   5]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11068099737167358
difference in average predicted and observed risk = 0.009310997371673582
number samples = 730
accuracy = 0.909589
precision class 0 = 0.914326
precision class 1 = 0.722222
recall class 0 = 0.992378
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.007622
positive prediction rate = 0.024658
AUC of ROC = 0.888205
AUC of PRC = 0.534573
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10154999792575836
difference in average predicted and observed risk = -0.024104002074241626
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.928892
AUC of PRC = 0.738413
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2458   16]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09250500053167343
difference in average predicted and observed risk = -0.0009359994683265649
number samples = 2729
accuracy = 0.917919
precision class 0 = 0.921981
precision class 1 = 0.746032
recall class 0 = 0.993533
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.006467
positive prediction rate = 0.023085
AUC of ROC = 0.877583
AUC of PRC = 0.497431
min(+P, Se) = 0.478927

-------------------------------

confusion matrix:
[[1673   10]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10491900146007538
difference in average predicted and observed risk = -0.00882499853992462
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.904813
precision class 1 = 0.8
recall class 0 = 0.994058
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.005942
positive prediction rate = 0.02633
AUC of ROC = 0.876147
AUC of PRC = 0.560183
min(+P, Se) = 0.523148

-------------------------------

confusion matrix:
[[546   3]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10833700001239777
difference in average predicted and observed risk = -0.014665999987602235
number samples = 626
accuracy = 0.884984
precision class 0 = 0.887805
precision class 1 = 0.727273
recall class 0 = 0.994536
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.005464
positive prediction rate = 0.017572
AUC of ROC = 0.890616
AUC of PRC = 0.569544
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2243    6]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08528900146484375
difference in average predicted and observed risk = 0.0006330014648437549
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.926094
precision class 1 = 0.828571
recall class 0 = 0.997332
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.002668
positive prediction rate = 0.014245
AUC of ROC = 0.871509
AUC of PRC = 0.446078
min(+P, Se) = 0.425837

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10133200138807297
difference in average predicted and observed risk = 0.0005260013880729608
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.822242
AUC of PRC = 0.341036
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[472   9]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13323600590229034
difference in average predicted and observed risk = -0.012411994097709655
number samples = 563
accuracy = 0.895204
precision class 0 = 0.904215
precision class 1 = 0.780488
recall class 0 = 0.981289
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.018711
positive prediction rate = 0.072824
AUC of ROC = 0.894909
AUC of PRC = 0.672318
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[650   5]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1010499969124794
difference in average predicted and observed risk = -0.006579003087520602
number samples = 734
accuracy = 0.908719
precision class 0 = 0.912921
precision class 1 = 0.772727
recall class 0 = 0.992366
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.007634
positive prediction rate = 0.029973
AUC of ROC = 0.871756
AUC of PRC = 0.559087
min(+P, Se) = 0.575

-------------------------------

confusion matrix:
[[4131   26]
 [ 384   87]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09759899973869324
difference in average predicted and observed risk = -0.004173000261306764
number samples = 4628
accuracy = 0.911409
precision class 0 = 0.91495
precision class 1 = 0.769912
recall class 0 = 0.993746
recall class 1 = 0.184713
false negative rate = 0.815287
false positive rate = 0.006255
positive prediction rate = 0.024417
AUC of ROC = 0.877265
AUC of PRC = 0.524605
min(+P, Se) = 0.504237

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09382399916648865
difference in average predicted and observed risk = 0.013654999166488643
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.864075
AUC of PRC = 0.441688
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08873900026082993
difference in average predicted and observed risk = -0.02005699973917008
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.859298
AUC of PRC = 0.555892
min(+P, Se) = 0.489796

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13926300406455994
difference in average predicted and observed risk = 0.029094004064559933
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.863736
AUC of PRC = 0.445926
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10716299712657928
difference in average predicted and observed risk = -0.026170002873420722
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10410699993371964
difference in average predicted and observed risk = -0.010937000066280358
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.857778
AUC of PRC = 0.425057
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[432   2]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09398999810218811
difference in average predicted and observed risk = 0.0019399981021881035
number samples = 478
accuracy = 0.924686
precision class 0 = 0.927039
precision class 1 = 0.833333
recall class 0 = 0.995392
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.004608
positive prediction rate = 0.025105
AUC of ROC = 0.866464
AUC of PRC = 0.572717
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08024299889802933
difference in average predicted and observed risk = -0.008959001101970676
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.856281
AUC of PRC = 0.471829
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11489900201559067
difference in average predicted and observed risk = -0.002747997984409334
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.937037
AUC of PRC = 0.742197
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.100382000207901
difference in average predicted and observed risk = 0.011672000207901004
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.891392
AUC of PRC = 0.360777
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12704800069332123
difference in average predicted and observed risk = -0.02255799930667876
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.819201
AUC of PRC = 0.506722
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15088599920272827
difference in average predicted and observed risk = 0.07193899920272827
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.544192
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09818799793720245
difference in average predicted and observed risk = -0.003403002062797547
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.863317
AUC of PRC = 0.491373
min(+P, Se) = 0.471264

-------------------------------

Epoch 00081: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch81.state
Epoch 82/100
 - 273s - loss: 0.2487 - val_loss: 0.2417

==>predicting on train



confusion matrix:
[[2146    9]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.11473099887371063
difference in average predicted and observed risk = 0.008921998873710632
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.910479
precision class 1 = 0.830189
recall class 0 = 0.995824
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.004176
positive prediction rate = 0.021992
AUC of ROC = 0.86736
AUC of PRC = 0.528584
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1167   12]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11565399914979935
difference in average predicted and observed risk = 0.024674999149799343
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.926926
precision class 1 = 0.684211
recall class 0 = 0.989822
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.010178
positive prediction rate = 0.029298
AUC of ROC = 0.880831
AUC of PRC = 0.499231
min(+P, Se) = 0.467213

-------------------------------

confusion matrix:
[[651   5]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.13269400596618652
difference in average predicted and observed risk = 0.03132400596618652
number samples = 730
accuracy = 0.912329
precision class 0 = 0.916901
precision class 1 = 0.75
recall class 0 = 0.992378
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.007622
positive prediction rate = 0.027397
AUC of ROC = 0.889029
AUC of PRC = 0.548737
min(+P, Se) = 0.546667

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.12007500231266022
difference in average predicted and observed risk = -0.005578997687339771
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.936627
AUC of PRC = 0.769435
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2456   18]
 [ 203   52]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.1114170029759407
difference in average predicted and observed risk = 0.017976002975940708
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.923656
precision class 1 = 0.742857
recall class 0 = 0.992724
recall class 1 = 0.203922
false negative rate = 0.796078
false positive rate = 0.007276
positive prediction rate = 0.02565
AUC of ROC = 0.879465
AUC of PRC = 0.514021
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1674    9]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.12756599485874176
difference in average predicted and observed risk = 0.013821994858741762
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.904376
precision class 1 = 0.8125
recall class 0 = 0.994652
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.005348
positive prediction rate = 0.025276
AUC of ROC = 0.872378
AUC of PRC = 0.550164
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[547   2]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.13050200045108795
difference in average predicted and observed risk = 0.0074990004510879504
number samples = 626
accuracy = 0.889776
precision class 0 = 0.890879
precision class 1 = 0.833333
recall class 0 = 0.996357
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.003643
positive prediction rate = 0.019169
AUC of ROC = 0.890521
AUC of PRC = 0.596021
min(+P, Se) = 0.623377

-------------------------------

confusion matrix:
[[2241    8]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.10450000315904617
difference in average predicted and observed risk = 0.019844003159046178
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.926416
precision class 1 = 0.789474
recall class 0 = 0.996443
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.003557
positive prediction rate = 0.015466
AUC of ROC = 0.869611
AUC of PRC = 0.452554
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.12227199971675873
difference in average predicted and observed risk = 0.02146599971675872
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.816682
AUC of PRC = 0.32832
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[471  10]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.15975099802017212
difference in average predicted and observed risk = 0.01410299802017212
number samples = 563
accuracy = 0.898757
precision class 0 = 0.909266
precision class 1 = 0.777778
recall class 0 = 0.97921
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.02079
positive prediction rate = 0.079929
AUC of ROC = 0.892653
AUC of PRC = 0.669321
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[651   4]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11933299899101257
difference in average predicted and observed risk = 0.01170399899101257
number samples = 734
accuracy = 0.907357
precision class 0 = 0.910489
precision class 1 = 0.789474
recall class 0 = 0.993893
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.006107
positive prediction rate = 0.025886
AUC of ROC = 0.875099
AUC of PRC = 0.557938
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4130   27]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11804399639368057
difference in average predicted and observed risk = 0.01627199639368057
number samples = 4628
accuracy = 0.912057
precision class 0 = 0.915743
precision class 1 = 0.771186
recall class 0 = 0.993505
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.006495
positive prediction rate = 0.025497
AUC of ROC = 0.876665
AUC of PRC = 0.529981
min(+P, Se) = 0.503185

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.11076900362968445
difference in average predicted and observed risk = 0.030600003629684444
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.853452
AUC of PRC = 0.430505
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10922200232744217
difference in average predicted and observed risk = 0.0004260023274421654
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.855374
AUC of PRC = 0.530512
min(+P, Se) = 0.479167

-------------------------------

confusion matrix:
[[102   3]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.16276299953460693
difference in average predicted and observed risk = 0.05259399953460693
number samples = 118
accuracy = 0.898305
precision class 0 = 0.918919
precision class 1 = 0.571429
recall class 0 = 0.971429
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.028571
positive prediction rate = 0.059322
AUC of ROC = 0.865201
AUC of PRC = 0.422661
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12653300166130066
difference in average predicted and observed risk = -0.006799998338699348
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.951923
AUC of PRC = 0.852431
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.12566399574279785
difference in average predicted and observed risk = 0.010619995742797858
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.847436
AUC of PRC = 0.401472
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11263199895620346
difference in average predicted and observed risk = 0.020581998956203454
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.866307
AUC of PRC = 0.565276
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09807900339365005
difference in average predicted and observed risk = 0.008877003393650051
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.856823
AUC of PRC = 0.440917
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13800999522209167
difference in average predicted and observed risk = 0.020362995222091673
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.930556
AUC of PRC = 0.702965
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.12460300326347351
difference in average predicted and observed risk = 0.035893003263473514
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.879324
AUC of PRC = 0.362471
min(+P, Se) = 0.388889

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.14676900207996368
difference in average predicted and observed risk = -0.002836997920036305
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.81384
AUC of PRC = 0.498516
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.17076300084590912
difference in average predicted and observed risk = 0.09181600084590912
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.847619
AUC of PRC = 0.465049
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[728   6]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11803899705410004
difference in average predicted and observed risk = 0.016447997054100036
number samples = 817
accuracy = 0.908201
precision class 0 = 0.913425
precision class 1 = 0.7
recall class 0 = 0.991826
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.008174
positive prediction rate = 0.02448
AUC of ROC = 0.859624
AUC of PRC = 0.478405
min(+P, Se) = 0.447059

-------------------------------

Epoch 00082: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch82.state
Epoch 83/100
 - 273s - loss: 0.2461 - val_loss: 0.2376

==>predicting on train



confusion matrix:
[[2144   11]
 [ 208   47]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09669499844312668
difference in average predicted and observed risk = -0.009114001556873322
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.911565
precision class 1 = 0.810345
recall class 0 = 0.994896
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.005104
positive prediction rate = 0.024066
AUC of ROC = 0.874388
AUC of PRC = 0.531053
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1164   15]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10003799945116043
difference in average predicted and observed risk = 0.009058999451160427
number samples = 1297
accuracy = 0.920586
precision class 0 = 0.929712
precision class 1 = 0.666667
recall class 0 = 0.987277
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.012723
positive prediction rate = 0.034695
AUC of ROC = 0.880903
AUC of PRC = 0.498638
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[645  11]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11763399839401245
difference in average predicted and observed risk = 0.01626399839401245
number samples = 730
accuracy = 0.906849
precision class 0 = 0.918803
precision class 1 = 0.607143
recall class 0 = 0.983232
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.016768
positive prediction rate = 0.038356
AUC of ROC = 0.884744
AUC of PRC = 0.554905
min(+P, Se) = 0.552632

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.1008400022983551
difference in average predicted and observed risk = -0.024813997701644885
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.936627
AUC of PRC = 0.753987
min(+P, Se) = 0.730769

-------------------------------

confusion matrix:
[[2449   25]
 [ 197   58]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09599299728870392
difference in average predicted and observed risk = 0.002551997288703922
number samples = 2729
accuracy = 0.918652
precision class 0 = 0.925548
precision class 1 = 0.698795
recall class 0 = 0.989895
recall class 1 = 0.227451
false negative rate = 0.772549
false positive rate = 0.010105
positive prediction rate = 0.030414
AUC of ROC = 0.879485
AUC of PRC = 0.506046
min(+P, Se) = 0.486381

-------------------------------

confusion matrix:
[[1670   13]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10845299810171127
difference in average predicted and observed risk = -0.005291001898288725
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.906623
precision class 1 = 0.77193
recall class 0 = 0.992276
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.007724
positive prediction rate = 0.030016
AUC of ROC = 0.880037
AUC of PRC = 0.564206
min(+P, Se) = 0.513889

-------------------------------

confusion matrix:
[[543   6]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11869200319051743
difference in average predicted and observed risk = -0.004310996809482576
number samples = 626
accuracy = 0.888179
precision class 0 = 0.894563
precision class 1 = 0.684211
recall class 0 = 0.989071
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.010929
positive prediction rate = 0.030351
AUC of ROC = 0.890971
AUC of PRC = 0.572157
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2238   11]
 [ 174   34]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08612299710512161
difference in average predicted and observed risk = 0.0014669971051216174
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.927861
precision class 1 = 0.755556
recall class 0 = 0.995109
recall class 1 = 0.163462
false negative rate = 0.836538
false positive rate = 0.004891
positive prediction rate = 0.018315
AUC of ROC = 0.874538
AUC of PRC = 0.462243
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10959000140428543
difference in average predicted and observed risk = 0.008784001404285424
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.823677
AUC of PRC = 0.332666
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[471  10]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1402900069952011
difference in average predicted and observed risk = -0.005357993004798889
number samples = 563
accuracy = 0.898757
precision class 0 = 0.909266
precision class 1 = 0.777778
recall class 0 = 0.97921
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.02079
positive prediction rate = 0.079929
AUC of ROC = 0.896379
AUC of PRC = 0.680125
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[648   7]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10333699733018875
difference in average predicted and observed risk = -0.004292002669811251
number samples = 734
accuracy = 0.907357
precision class 0 = 0.913963
precision class 1 = 0.72
recall class 0 = 0.989313
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.010687
positive prediction rate = 0.03406
AUC of ROC = 0.87421
AUC of PRC = 0.554955
min(+P, Se) = 0.5375

-------------------------------

confusion matrix:
[[4119   38]
 [ 369  102]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10110600292682648
difference in average predicted and observed risk = -0.0006659970731735243
number samples = 4628
accuracy = 0.912057
precision class 0 = 0.917781
precision class 1 = 0.728571
recall class 0 = 0.990859
recall class 1 = 0.216561
false negative rate = 0.78344
false positive rate = 0.009141
positive prediction rate = 0.030251
AUC of ROC = 0.879743
AUC of PRC = 0.530483
min(+P, Se) = 0.498947

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09538699686527252
difference in average predicted and observed risk = 0.015217996865272518
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.882424
AUC of PRC = 0.436216
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09127099812030792
difference in average predicted and observed risk = -0.01752500187969208
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.844874
AUC of PRC = 0.526101
min(+P, Se) = 0.517857

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1478949934244156
difference in average predicted and observed risk = 0.037725993424415585
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.827106
AUC of PRC = 0.422374
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11735499650239944
difference in average predicted and observed risk = -0.015978003497600562
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10718200355768204
difference in average predicted and observed risk = -0.007861996442317956
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.836154
AUC of PRC = 0.418484
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[431   3]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09764300286769867
difference in average predicted and observed risk = 0.005593002867698663
number samples = 478
accuracy = 0.926778
precision class 0 = 0.930886
precision class 1 = 0.8
recall class 0 = 0.993088
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.006912
positive prediction rate = 0.031381
AUC of ROC = 0.869554
AUC of PRC = 0.553637
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[386   2]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08077099919319153
difference in average predicted and observed risk = -0.008431000806808475
number samples = 426
accuracy = 0.915493
precision class 0 = 0.919048
precision class 1 = 0.666667
recall class 0 = 0.994845
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.005155
positive prediction rate = 0.014085
AUC of ROC = 0.8594
AUC of PRC = 0.450205
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12050999701023102
difference in average predicted and observed risk = 0.0028629970102310165
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.900926
AUC of PRC = 0.676988
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.106904998421669
difference in average predicted and observed risk = 0.01819499842166901
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.880933
AUC of PRC = 0.387497
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1336980015039444
difference in average predicted and observed risk = -0.015907998496055592
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.808967
AUC of PRC = 0.493648
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15978200733661652
difference in average predicted and observed risk = 0.08083500733661651
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.857143
AUC of PRC = 0.470779
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[728   6]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.1016009971499443
difference in average predicted and observed risk = 9.997149944304673e-06
number samples = 817
accuracy = 0.909425
precision class 0 = 0.914573
precision class 1 = 0.714286
recall class 0 = 0.991826
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.008174
positive prediction rate = 0.025704
AUC of ROC = 0.85621
AUC of PRC = 0.476832
min(+P, Se) = 0.506024

-------------------------------

Epoch 00083: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch83.state
Epoch 84/100
 - 273s - loss: 0.2468 - val_loss: 0.2369

==>predicting on train



confusion matrix:
[[2150    5]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07598099857568741
difference in average predicted and observed risk = -0.029828001424312592
number samples = 2410
accuracy = 0.908299
precision class 0 = 0.908707
precision class 1 = 0.886364
recall class 0 = 0.99768
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.00232
positive prediction rate = 0.018257
AUC of ROC = 0.870153
AUC of PRC = 0.528786
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1167   12]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07945899665355682
difference in average predicted and observed risk = -0.01152000334644318
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.925456
precision class 1 = 0.666667
recall class 0 = 0.989822
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.010178
positive prediction rate = 0.027756
AUC of ROC = 0.880903
AUC of PRC = 0.490122
min(+P, Se) = 0.483051

-------------------------------

confusion matrix:
[[648   8]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09170299768447876
difference in average predicted and observed risk = -0.009667002315521242
number samples = 730
accuracy = 0.908219
precision class 0 = 0.916549
precision class 1 = 0.652174
recall class 0 = 0.987805
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.012195
positive prediction rate = 0.031507
AUC of ROC = 0.896733
AUC of PRC = 0.555639
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08267299830913544
difference in average predicted and observed risk = -0.04298100169086455
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.933383
AUC of PRC = 0.741901
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2458   16]
 [ 207   48]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07538300007581711
difference in average predicted and observed risk = -0.018057999924182888
number samples = 2729
accuracy = 0.918285
precision class 0 = 0.922326
precision class 1 = 0.75
recall class 0 = 0.993533
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.006467
positive prediction rate = 0.023452
AUC of ROC = 0.880381
AUC of PRC = 0.499637
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1673   10]
 [ 180   36]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08593299984931946
difference in average predicted and observed risk = -0.02781100015068054
number samples = 1899
accuracy = 0.899947
precision class 0 = 0.90286
precision class 1 = 0.782609
recall class 0 = 0.994058
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005942
positive prediction rate = 0.024223
AUC of ROC = 0.877539
AUC of PRC = 0.564429
min(+P, Se) = 0.532407

-------------------------------

confusion matrix:
[[546   3]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0904809981584549
difference in average predicted and observed risk = -0.032522001841545106
number samples = 626
accuracy = 0.888179
precision class 0 = 0.890701
precision class 1 = 0.769231
recall class 0 = 0.994536
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.005464
positive prediction rate = 0.020767
AUC of ROC = 0.893383
AUC of PRC = 0.582048
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2242    7]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06678999960422516
difference in average predicted and observed risk = -0.017866000395774836
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.925299
precision class 1 = 0.794118
recall class 0 = 0.996888
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.003112
positive prediction rate = 0.013838
AUC of ROC = 0.873495
AUC of PRC = 0.449831
min(+P, Se) = 0.413462

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08162599802017212
difference in average predicted and observed risk = -0.019180001979827888
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.819013
AUC of PRC = 0.339301
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[473   8]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1196340024471283
difference in average predicted and observed risk = -0.026013997552871704
number samples = 563
accuracy = 0.895204
precision class 0 = 0.902672
precision class 1 = 0.794872
recall class 0 = 0.983368
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.016632
positive prediction rate = 0.069272
AUC of ROC = 0.901729
AUC of PRC = 0.676574
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08251400291919708
difference in average predicted and observed risk = -0.02511499708080292
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.870925
AUC of PRC = 0.554326
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4131   26]
 [ 387   84]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07971200346946716
difference in average predicted and observed risk = -0.02205999653053284
number samples = 4628
accuracy = 0.910761
precision class 0 = 0.914343
precision class 1 = 0.763636
recall class 0 = 0.993746
recall class 1 = 0.178344
false negative rate = 0.821656
false positive rate = 0.006255
positive prediction rate = 0.023768
AUC of ROC = 0.879296
AUC of PRC = 0.527422
min(+P, Se) = 0.503185

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07484299689531326
difference in average predicted and observed risk = -0.005326003104686741
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.865524
AUC of PRC = 0.427345
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07034099847078323
difference in average predicted and observed risk = -0.03845500152921677
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.857309
AUC of PRC = 0.555268
min(+P, Se) = 0.531915

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12042400240898132
difference in average predicted and observed risk = 0.01025500240898132
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.866667
AUC of PRC = 0.437433
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09594599902629852
difference in average predicted and observed risk = -0.037387000973701484
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08375799655914307
difference in average predicted and observed risk = -0.03128600344085693
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.846496
AUC of PRC = 0.413568
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[433   1]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07702799886465073
difference in average predicted and observed risk = -0.01502200113534928
number samples = 478
accuracy = 0.930962
precision class 0 = 0.931183
precision class 1 = 0.923077
recall class 0 = 0.997696
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.002304
positive prediction rate = 0.027197
AUC of ROC = 0.875052
AUC of PRC = 0.587043
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06272999942302704
difference in average predicted and observed risk = -0.026472000576972965
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.86035
AUC of PRC = 0.473144
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09690199792385101
difference in average predicted and observed risk = -0.02074500207614899
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.914815
AUC of PRC = 0.705757
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07947699725627899
difference in average predicted and observed risk = -0.009233002743721005
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.888174
AUC of PRC = 0.384044
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11151199787855148
difference in average predicted and observed risk = -0.038094002121448506
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.834308
AUC of PRC = 0.520458
min(+P, Se) = 0.52

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12077199667692184
difference in average predicted and observed risk = 0.04182499667692184
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.857143
AUC of PRC = 0.483578
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[731   3]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07982099801301956
difference in average predicted and observed risk = -0.02177000198698044
number samples = 817
accuracy = 0.913097
precision class 0 = 0.914894
precision class 1 = 0.833333
recall class 0 = 0.995913
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.004087
positive prediction rate = 0.022032
AUC of ROC = 0.864039
AUC of PRC = 0.493434
min(+P, Se) = 0.5

-------------------------------

Epoch 00084: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch84.state
Epoch 85/100
 - 268s - loss: 0.2482 - val_loss: 0.2307

==>predicting on train



confusion matrix:
[[2147    8]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08612000197172165
difference in average predicted and observed risk = -0.01968899802827835
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.910131
precision class 1 = 0.843137
recall class 0 = 0.996288
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.003712
positive prediction rate = 0.021162
AUC of ROC = 0.87586
AUC of PRC = 0.536175
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[1165   14]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08916199952363968
difference in average predicted and observed risk = -0.0018170004763603254
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.928287
precision class 1 = 0.666667
recall class 0 = 0.988126
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.011874
positive prediction rate = 0.032382
AUC of ROC = 0.888501
AUC of PRC = 0.50958
min(+P, Se) = 0.483051

-------------------------------

confusion matrix:
[[647   9]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10503300279378891
difference in average predicted and observed risk = 0.003663002793788908
number samples = 730
accuracy = 0.909589
precision class 0 = 0.919034
precision class 1 = 0.653846
recall class 0 = 0.986281
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.01372
positive prediction rate = 0.035616
AUC of ROC = 0.893354
AUC of PRC = 0.553193
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09497399628162384
difference in average predicted and observed risk = -0.030680003718376148
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.933882
AUC of PRC = 0.743084
min(+P, Se) = 0.703704

-------------------------------

confusion matrix:
[[2453   21]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08480300009250641
difference in average predicted and observed risk = -0.008637999907493588
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.923222
precision class 1 = 0.708333
recall class 0 = 0.991512
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.008488
positive prediction rate = 0.026383
AUC of ROC = 0.885189
AUC of PRC = 0.507588
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[1672   11]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09825100004673004
difference in average predicted and observed risk = -0.015492999953269956
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.906725
precision class 1 = 0.8
recall class 0 = 0.993464
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.006536
positive prediction rate = 0.028963
AUC of ROC = 0.881371
AUC of PRC = 0.572344
min(+P, Se) = 0.537037

-------------------------------

confusion matrix:
[[544   5]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.1041020005941391
difference in average predicted and observed risk = -0.018900999405860902
number samples = 626
accuracy = 0.886581
precision class 0 = 0.891803
precision class 1 = 0.6875
recall class 0 = 0.990893
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.009107
positive prediction rate = 0.025559
AUC of ROC = 0.895087
AUC of PRC = 0.584711
min(+P, Se) = 0.597403

-------------------------------

confusion matrix:
[[2240    9]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07625599950551987
difference in average predicted and observed risk = -0.008400000494480128
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.926769
precision class 1 = 0.775
recall class 0 = 0.995998
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.004002
positive prediction rate = 0.01628
AUC of ROC = 0.877343
AUC of PRC = 0.456952
min(+P, Se) = 0.421801

-------------------------------

confusion matrix:
[[220   3]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09432300180196762
difference in average predicted and observed risk = -0.006482998198032386
number samples = 248
accuracy = 0.895161
precision class 0 = 0.90535
precision class 1 = 0.4
recall class 0 = 0.986547
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.013453
positive prediction rate = 0.020161
AUC of ROC = 0.820807
AUC of PRC = 0.338333
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[473   8]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12956300377845764
difference in average predicted and observed risk = -0.016084996221542358
number samples = 563
accuracy = 0.898757
precision class 0 = 0.90613
precision class 1 = 0.804878
recall class 0 = 0.983368
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.016632
positive prediction rate = 0.072824
AUC of ROC = 0.903681
AUC of PRC = 0.685066
min(+P, Se) = 0.590361

-------------------------------

confusion matrix:
[[648   7]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09419699758291245
difference in average predicted and observed risk = -0.013432002417087557
number samples = 734
accuracy = 0.907357
precision class 0 = 0.913963
precision class 1 = 0.72
recall class 0 = 0.989313
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.010687
positive prediction rate = 0.03406
AUC of ROC = 0.881225
AUC of PRC = 0.579535
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4125   32]
 [ 376   95]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09032099694013596
difference in average predicted and observed risk = -0.011451003059864046
number samples = 4628
accuracy = 0.911841
precision class 0 = 0.916463
precision class 1 = 0.748031
recall class 0 = 0.992302
recall class 1 = 0.201699
false negative rate = 0.798301
false positive rate = 0.007698
positive prediction rate = 0.027442
AUC of ROC = 0.883722
AUC of PRC = 0.535832
min(+P, Se) = 0.509554

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08545099943876266
difference in average predicted and observed risk = 0.005281999438762661
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.872525
AUC of PRC = 0.447986
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08143900334835052
difference in average predicted and observed risk = -0.02735699665164948
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.860569
AUC of PRC = 0.553907
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13404099643230438
difference in average predicted and observed risk = 0.02387199643230438
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.851282
AUC of PRC = 0.497993
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10839500278234482
difference in average predicted and observed risk = -0.02493799721765519
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.951923
AUC of PRC = 0.852431
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09585399925708771
difference in average predicted and observed risk = -0.019190000742912286
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.848632
AUC of PRC = 0.413327
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08788199722766876
difference in average predicted and observed risk = -0.004168002772331245
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.876571
AUC of PRC = 0.584431
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07194499671459198
difference in average predicted and observed risk = -0.017257003285408024
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.862656
AUC of PRC = 0.455056
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1089320033788681
difference in average predicted and observed risk = -0.008714996621131899
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.914815
AUC of PRC = 0.707021
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0942239984869957
difference in average predicted and observed risk = 0.0055139984869957
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.906677
AUC of PRC = 0.416276
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12265799939632416
difference in average predicted and observed risk = -0.02694800060367583
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.829435
AUC of PRC = 0.573332
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14423799514770508
difference in average predicted and observed risk = 0.06529099514770507
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.594017
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09119000285863876
difference in average predicted and observed risk = -0.010400997141361237
number samples = 817
accuracy = 0.911873
precision class 0 = 0.915829
precision class 1 = 0.761905
recall class 0 = 0.993188
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.006812
positive prediction rate = 0.025704
AUC of ROC = 0.865533
AUC of PRC = 0.515723
min(+P, Se) = 0.482353

-------------------------------

Epoch 00085: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch85.state
Epoch 86/100
 - 272s - loss: 0.2452 - val_loss: 0.2421

==>predicting on train



confusion matrix:
[[2142   13]
 [ 205   50]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10978399962186813
difference in average predicted and observed risk = 0.003974999621868133
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.912654
precision class 1 = 0.793651
recall class 0 = 0.993968
recall class 1 = 0.196078
false negative rate = 0.803922
false positive rate = 0.006032
positive prediction rate = 0.026141
AUC of ROC = 0.866146
AUC of PRC = 0.521564
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1163   16]
 [  85   33]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.1130170002579689
difference in average predicted and observed risk = 0.0220380002579689
number samples = 1297
accuracy = 0.922128
precision class 0 = 0.931891
precision class 1 = 0.673469
recall class 0 = 0.986429
recall class 1 = 0.279661
false negative rate = 0.720339
false positive rate = 0.013571
positive prediction rate = 0.037779
AUC of ROC = 0.879875
AUC of PRC = 0.500519
min(+P, Se) = 0.491803

-------------------------------

confusion matrix:
[[644  12]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.13012200593948364
difference in average predicted and observed risk = 0.02875200593948364
number samples = 730
accuracy = 0.909589
precision class 0 = 0.922636
precision class 1 = 0.625
recall class 0 = 0.981707
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.018293
positive prediction rate = 0.043836
AUC of ROC = 0.90145
AUC of PRC = 0.564241
min(+P, Se) = 0.551282

-------------------------------

confusion matrix:
[[165   2]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11806599795818329
difference in average predicted and observed risk = -0.007588002041816699
number samples = 191
accuracy = 0.910995
precision class 0 = 0.916667
precision class 1 = 0.818182
recall class 0 = 0.988024
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.011976
positive prediction rate = 0.057592
AUC of ROC = 0.935878
AUC of PRC = 0.741898
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2444   30]
 [ 196   59]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10813199728727341
difference in average predicted and observed risk = 0.01469099728727341
number samples = 2729
accuracy = 0.917186
precision class 0 = 0.925758
precision class 1 = 0.662921
recall class 0 = 0.987874
recall class 1 = 0.231373
false negative rate = 0.768627
false positive rate = 0.012126
positive prediction rate = 0.032613
AUC of ROC = 0.8762
AUC of PRC = 0.495396
min(+P, Se) = 0.473282

-------------------------------

confusion matrix:
[[1670   13]
 [ 163   53]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.12301699817180634
difference in average predicted and observed risk = 0.009272998171806338
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.911075
precision class 1 = 0.80303
recall class 0 = 0.992276
recall class 1 = 0.24537
false negative rate = 0.75463
false positive rate = 0.007724
positive prediction rate = 0.034755
AUC of ROC = 0.879916
AUC of PRC = 0.57295
min(+P, Se) = 0.547945

-------------------------------

confusion matrix:
[[542   7]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.13577599823474884
difference in average predicted and observed risk = 0.012772998234748839
number samples = 626
accuracy = 0.889776
precision class 0 = 0.897351
precision class 1 = 0.681818
recall class 0 = 0.98725
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.01275
positive prediction rate = 0.035144
AUC of ROC = 0.886263
AUC of PRC = 0.558246
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2233   16]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09819599986076355
difference in average predicted and observed risk = 0.013539999860763555
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.928482
precision class 1 = 0.692308
recall class 0 = 0.992886
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.007114
positive prediction rate = 0.021164
AUC of ROC = 0.873074
AUC of PRC = 0.456768
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11869499832391739
difference in average predicted and observed risk = 0.017888998323917382
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.816143
AUC of PRC = 0.305159
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[473   8]
 [ 46  36]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1560939997434616
difference in average predicted and observed risk = 0.01044599974346161
number samples = 563
accuracy = 0.904085
precision class 0 = 0.911368
precision class 1 = 0.818182
recall class 0 = 0.983368
recall class 1 = 0.439024
false negative rate = 0.560976
false positive rate = 0.016632
positive prediction rate = 0.078153
AUC of ROC = 0.896582
AUC of PRC = 0.684116
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[647   8]
 [ 56  23]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11597000062465668
difference in average predicted and observed risk = 0.008341000624656675
number samples = 734
accuracy = 0.912807
precision class 0 = 0.920341
precision class 1 = 0.741935
recall class 0 = 0.987786
recall class 1 = 0.291139
false negative rate = 0.708861
false positive rate = 0.012214
positive prediction rate = 0.042234
AUC of ROC = 0.876394
AUC of PRC = 0.563725
min(+P, Se) = 0.547619

-------------------------------

confusion matrix:
[[4114   43]
 [ 359  112]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11423999816179276
difference in average predicted and observed risk = 0.012467998161792754
number samples = 4628
accuracy = 0.913137
precision class 0 = 0.919741
precision class 1 = 0.722581
recall class 0 = 0.989656
recall class 1 = 0.237792
false negative rate = 0.762208
false positive rate = 0.010344
positive prediction rate = 0.033492
AUC of ROC = 0.877921
AUC of PRC = 0.528756
min(+P, Se) = 0.505241

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.11056199669837952
difference in average predicted and observed risk = 0.030392996698379512
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.852245
AUC of PRC = 0.435642
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10630399733781815
difference in average predicted and observed risk = -0.002492002662181858
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.832495
AUC of PRC = 0.503999
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1598760038614273
difference in average predicted and observed risk = 0.049707003861427304
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.875458
AUC of PRC = 0.521587
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.13037799298763275
difference in average predicted and observed risk = -0.0029550070123672556
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.951923
AUC of PRC = 0.852431
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1246270015835762
difference in average predicted and observed risk = 0.009583001583576209
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.822051
AUC of PRC = 0.397171
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[429   5]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11015599966049194
difference in average predicted and observed risk = 0.018105999660491937
number samples = 478
accuracy = 0.924686
precision class 0 = 0.932609
precision class 1 = 0.722222
recall class 0 = 0.988479
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.011521
positive prediction rate = 0.037657
AUC of ROC = 0.864579
AUC of PRC = 0.554837
min(+P, Se) = 0.488889

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09459800273180008
difference in average predicted and observed risk = 0.005396002731800076
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.841563
AUC of PRC = 0.419687
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13694000244140625
difference in average predicted and observed risk = 0.01929300244140625
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.917593
AUC of PRC = 0.717471
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.12772299349308014
difference in average predicted and observed risk = 0.03901299349308014
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.851971
AUC of PRC = 0.358061
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[105   3]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.14634600281715393
difference in average predicted and observed risk = -0.0032599971828460583
number samples = 127
accuracy = 0.874016
precision class 0 = 0.889831
precision class 1 = 0.666667
recall class 0 = 0.972222
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.027778
positive prediction rate = 0.070866
AUC of ROC = 0.828947
AUC of PRC = 0.571673
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.16349700093269348
difference in average predicted and observed risk = 0.08455000093269348
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.866667
AUC of PRC = 0.529365
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[726   8]
 [ 65  18]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11615999788045883
difference in average predicted and observed risk = 0.014568997880458831
number samples = 817
accuracy = 0.910649
precision class 0 = 0.917826
precision class 1 = 0.692308
recall class 0 = 0.989101
recall class 1 = 0.216867
false negative rate = 0.783133
false positive rate = 0.010899
positive prediction rate = 0.031824
AUC of ROC = 0.847904
AUC of PRC = 0.491454
min(+P, Se) = 0.457831

-------------------------------

Epoch 00086: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch86.state
Epoch 87/100
 - 270s - loss: 0.2447 - val_loss: 0.2363

==>predicting on train



confusion matrix:
[[2140   15]
 [ 201   54]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09383299946784973
difference in average predicted and observed risk = -0.011976000532150269
number samples = 2410
accuracy = 0.910373
precision class 0 = 0.914139
precision class 1 = 0.782609
recall class 0 = 0.993039
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.006961
positive prediction rate = 0.028631
AUC of ROC = 0.868998
AUC of PRC = 0.524865
min(+P, Se) = 0.494208

-------------------------------

confusion matrix:
[[1161   18]
 [  84   34]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09429000318050385
difference in average predicted and observed risk = 0.003311003180503841
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.93253
precision class 1 = 0.653846
recall class 0 = 0.984733
recall class 1 = 0.288136
false negative rate = 0.711864
false positive rate = 0.015267
positive prediction rate = 0.040093
AUC of ROC = 0.880062
AUC of PRC = 0.504612
min(+P, Se) = 0.474576

-------------------------------

confusion matrix:
[[641  15]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11149899661540985
difference in average predicted and observed risk = 0.01012899661540985
number samples = 730
accuracy = 0.905479
precision class 0 = 0.922302
precision class 1 = 0.571429
recall class 0 = 0.977134
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.022866
positive prediction rate = 0.047945
AUC of ROC = 0.892139
AUC of PRC = 0.546349
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[165   2]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10107900202274323
difference in average predicted and observed risk = -0.024574997977256763
number samples = 191
accuracy = 0.910995
precision class 0 = 0.916667
precision class 1 = 0.818182
recall class 0 = 0.988024
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.011976
positive prediction rate = 0.057592
AUC of ROC = 0.952595
AUC of PRC = 0.823364
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[2442   32]
 [ 195   60]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09185999631881714
difference in average predicted and observed risk = -0.0015810036811828576
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.926052
precision class 1 = 0.652174
recall class 0 = 0.987065
recall class 1 = 0.235294
false negative rate = 0.764706
false positive rate = 0.012935
positive prediction rate = 0.033712
AUC of ROC = 0.877114
AUC of PRC = 0.503305
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1665   18]
 [ 159   57]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10450000315904617
difference in average predicted and observed risk = -0.009243996840953825
number samples = 1899
accuracy = 0.906793
precision class 0 = 0.912829
precision class 1 = 0.76
recall class 0 = 0.989305
recall class 1 = 0.263889
false negative rate = 0.736111
false positive rate = 0.010695
positive prediction rate = 0.039494
AUC of ROC = 0.881825
AUC of PRC = 0.570096
min(+P, Se) = 0.541667

-------------------------------

confusion matrix:
[[540   9]
 [ 58  19]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11533699929714203
difference in average predicted and observed risk = -0.007666000702857972
number samples = 626
accuracy = 0.892971
precision class 0 = 0.90301
precision class 1 = 0.678571
recall class 0 = 0.983607
recall class 1 = 0.246753
false negative rate = 0.753247
false positive rate = 0.016393
positive prediction rate = 0.044728
AUC of ROC = 0.887399
AUC of PRC = 0.580078
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2232   17]
 [ 171   37]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08278000354766846
difference in average predicted and observed risk = -0.0018759964523315381
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.928839
precision class 1 = 0.685185
recall class 0 = 0.992441
recall class 1 = 0.177885
false negative rate = 0.822115
false positive rate = 0.007559
positive prediction rate = 0.021978
AUC of ROC = 0.874126
AUC of PRC = 0.456134
min(+P, Se) = 0.427885

-------------------------------

confusion matrix:
[[220   3]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09941399842500687
difference in average predicted and observed risk = -0.0013920015749931403
number samples = 248
accuracy = 0.895161
precision class 0 = 0.90535
precision class 1 = 0.4
recall class 0 = 0.986547
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.013453
positive prediction rate = 0.020161
AUC of ROC = 0.808789
AUC of PRC = 0.286276
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[471  10]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13198700547218323
difference in average predicted and observed risk = -0.013660994527816772
number samples = 563
accuracy = 0.898757
precision class 0 = 0.909266
precision class 1 = 0.777778
recall class 0 = 0.97921
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.02079
positive prediction rate = 0.079929
AUC of ROC = 0.899625
AUC of PRC = 0.694722
min(+P, Se) = 0.634146

-------------------------------

confusion matrix:
[[644  11]
 [ 55  24]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10160399973392487
difference in average predicted and observed risk = -0.006025000266075137
number samples = 734
accuracy = 0.910082
precision class 0 = 0.921316
precision class 1 = 0.685714
recall class 0 = 0.983206
recall class 1 = 0.303797
false negative rate = 0.696203
false positive rate = 0.016794
positive prediction rate = 0.047684
AUC of ROC = 0.877302
AUC of PRC = 0.55975
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4107   50]
 [ 354  117]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09704700112342834
difference in average predicted and observed risk = -0.004724998876571657
number samples = 4628
accuracy = 0.912705
precision class 0 = 0.920646
precision class 1 = 0.700599
recall class 0 = 0.987972
recall class 1 = 0.248408
false negative rate = 0.751592
false positive rate = 0.012028
positive prediction rate = 0.036085
AUC of ROC = 0.879132
AUC of PRC = 0.531831
min(+P, Se) = 0.510504

-------------------------------

==>predicting on validation



confusion matrix:
[[212   6]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09076199680566788
difference in average predicted and observed risk = 0.010592996805667873
number samples = 237
accuracy = 0.915612
precision class 0 = 0.938053
precision class 1 = 0.454545
recall class 0 = 0.972477
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.027523
positive prediction rate = 0.046414
AUC of ROC = 0.856591
AUC of PRC = 0.450226
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[384   1]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08571600168943405
difference in average predicted and observed risk = -0.023079998310565952
number samples = 432
accuracy = 0.905093
precision class 0 = 0.90566
precision class 1 = 0.875
recall class 0 = 0.997403
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.002597
positive prediction rate = 0.018519
AUC of ROC = 0.848301
AUC of PRC = 0.505671
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13999000191688538
difference in average predicted and observed risk = 0.029821001916885373
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.87033
AUC of PRC = 0.509337
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11870499700307846
difference in average predicted and observed risk = -0.014628002996921546
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.942308
AUC of PRC = 0.841667
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10102000087499619
difference in average predicted and observed risk = -0.014023999125003808
number samples = 339
accuracy = 0.890855
precision class 0 = 0.899696
precision class 1 = 0.6
recall class 0 = 0.986667
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.013333
positive prediction rate = 0.029499
AUC of ROC = 0.839487
AUC of PRC = 0.40266
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[429   5]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09283299744129181
difference in average predicted and observed risk = 0.0007829974412918023
number samples = 478
accuracy = 0.926778
precision class 0 = 0.934641
precision class 1 = 0.736842
recall class 0 = 0.988479
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.011521
positive prediction rate = 0.039749
AUC of ROC = 0.866517
AUC of PRC = 0.554962
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[385   3]
 [ 31   7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07667499780654907
difference in average predicted and observed risk = -0.012527002193450931
number samples = 426
accuracy = 0.920188
precision class 0 = 0.925481
precision class 1 = 0.7
recall class 0 = 0.992268
recall class 1 = 0.184211
false negative rate = 0.815789
false positive rate = 0.007732
positive prediction rate = 0.023474
AUC of ROC = 0.849227
AUC of PRC = 0.424714
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11023099720478058
difference in average predicted and observed risk = -0.007416002795219423
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.909259
AUC of PRC = 0.677212
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10329599678516388
difference in average predicted and observed risk = 0.014585996785163882
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.877715
AUC of PRC = 0.355422
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1269810050725937
difference in average predicted and observed risk = -0.0226249949274063
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.826023
AUC of PRC = 0.572093
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15203699469566345
difference in average predicted and observed risk = 0.07308999469566345
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.857143
AUC of PRC = 0.483578
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[725   9]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09623000025749207
difference in average predicted and observed risk = -0.005360999742507935
number samples = 817
accuracy = 0.911873
precision class 0 = 0.920051
precision class 1 = 0.689655
recall class 0 = 0.987738
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.012262
positive prediction rate = 0.035496
AUC of ROC = 0.855405
AUC of PRC = 0.491771
min(+P, Se) = 0.482353

-------------------------------

Epoch 00087: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch87.state
Epoch 88/100
 - 270s - loss: 0.2401 - val_loss: 0.2341

==>predicting on train



confusion matrix:
[[2141   14]
 [ 201   54]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09178400039672852
difference in average predicted and observed risk = -0.014024999603271485
number samples = 2410
accuracy = 0.910788
precision class 0 = 0.914176
precision class 1 = 0.794118
recall class 0 = 0.993503
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.006497
positive prediction rate = 0.028216
AUC of ROC = 0.870031
AUC of PRC = 0.52804
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1163   16]
 [  84   34]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0928340032696724
difference in average predicted and observed risk = 0.0018550032696723895
number samples = 1297
accuracy = 0.922899
precision class 0 = 0.932638
precision class 1 = 0.68
recall class 0 = 0.986429
recall class 1 = 0.288136
false negative rate = 0.711864
false positive rate = 0.013571
positive prediction rate = 0.03855
AUC of ROC = 0.879581
AUC of PRC = 0.510239
min(+P, Se) = 0.491525

-------------------------------

confusion matrix:
[[644  12]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11078999936580658
difference in average predicted and observed risk = 0.009419999365806578
number samples = 730
accuracy = 0.910959
precision class 0 = 0.92396
precision class 1 = 0.636364
recall class 0 = 0.981707
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.018293
positive prediction rate = 0.045205
AUC of ROC = 0.896177
AUC of PRC = 0.555163
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[166   1]
 [ 14  10]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10074800252914429
difference in average predicted and observed risk = -0.0249059974708557
number samples = 191
accuracy = 0.921466
precision class 0 = 0.922222
precision class 1 = 0.909091
recall class 0 = 0.994012
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.005988
positive prediction rate = 0.057592
AUC of ROC = 0.948104
AUC of PRC = 0.82217
min(+P, Se) = 0.714286

-------------------------------

confusion matrix:
[[2446   28]
 [ 192   63]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09069299697875977
difference in average predicted and observed risk = -0.0027480030212402307
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.927218
precision class 1 = 0.692308
recall class 0 = 0.988682
recall class 1 = 0.247059
false negative rate = 0.752941
false positive rate = 0.011318
positive prediction rate = 0.033346
AUC of ROC = 0.880641
AUC of PRC = 0.511734
min(+P, Se) = 0.494163

-------------------------------

confusion matrix:
[[1668   15]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10227800160646439
difference in average predicted and observed risk = -0.011465998393535612
number samples = 1899
accuracy = 0.907846
precision class 0 = 0.912473
precision class 1 = 0.788732
recall class 0 = 0.991087
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.008913
positive prediction rate = 0.037388
AUC of ROC = 0.878782
AUC of PRC = 0.571956
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[542   7]
 [ 59  18]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11070799827575684
difference in average predicted and observed risk = -0.012295001724243165
number samples = 626
accuracy = 0.894569
precision class 0 = 0.90183
precision class 1 = 0.72
recall class 0 = 0.98725
recall class 1 = 0.233766
false negative rate = 0.766234
false positive rate = 0.01275
positive prediction rate = 0.039936
AUC of ROC = 0.891586
AUC of PRC = 0.582635
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2235   14]
 [ 169   39]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08175399899482727
difference in average predicted and observed risk = -0.0029020010051727246
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.9297
precision class 1 = 0.735849
recall class 0 = 0.993775
recall class 1 = 0.1875
false negative rate = 0.8125
false positive rate = 0.006225
positive prediction rate = 0.021571
AUC of ROC = 0.875336
AUC of PRC = 0.464825
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09785600006580353
difference in average predicted and observed risk = -0.002949999934196479
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.812735
AUC of PRC = 0.298708
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[472   9]
 [ 45  37]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1318189948797226
difference in average predicted and observed risk = -0.013829005120277404
number samples = 563
accuracy = 0.904085
precision class 0 = 0.912959
precision class 1 = 0.804348
recall class 0 = 0.981289
recall class 1 = 0.451219
false negative rate = 0.548781
false positive rate = 0.018711
positive prediction rate = 0.081705
AUC of ROC = 0.901628
AUC of PRC = 0.700381
min(+P, Se) = 0.647059

-------------------------------

confusion matrix:
[[646   9]
 [ 57  22]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09955000132322311
difference in average predicted and observed risk = -0.008078998676776888
number samples = 734
accuracy = 0.910082
precision class 0 = 0.918919
precision class 1 = 0.709677
recall class 0 = 0.98626
recall class 1 = 0.278481
false negative rate = 0.721519
false positive rate = 0.01374
positive prediction rate = 0.042234
AUC of ROC = 0.872722
AUC of PRC = 0.553217
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4114   43]
 [ 352  119]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09544599801301956
difference in average predicted and observed risk = -0.00632600198698044
number samples = 4628
accuracy = 0.91465
precision class 0 = 0.921182
precision class 1 = 0.734568
recall class 0 = 0.989656
recall class 1 = 0.252654
false negative rate = 0.747346
false positive rate = 0.010344
positive prediction rate = 0.035004
AUC of ROC = 0.879924
AUC of PRC = 0.537206
min(+P, Se) = 0.521186

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08814699947834015
difference in average predicted and observed risk = 0.007977999478340145
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.860695
AUC of PRC = 0.438129
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[384   1]
 [ 39   8]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08269999921321869
difference in average predicted and observed risk = -0.026096000786781315
number samples = 432
accuracy = 0.907407
precision class 0 = 0.907801
precision class 1 = 0.888889
recall class 0 = 0.997403
recall class 1 = 0.170213
false negative rate = 0.829787
false positive rate = 0.002597
positive prediction rate = 0.020833
AUC of ROC = 0.853385
AUC of PRC = 0.52162
min(+P, Se) = 0.520833

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13794100284576416
difference in average predicted and observed risk = 0.027772002845764157
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.872527
AUC of PRC = 0.518016
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11531399935483932
difference in average predicted and observed risk = -0.018019000645160682
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.951923
AUC of PRC = 0.852431
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09729500114917755
difference in average predicted and observed risk = -0.017748998850822442
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.845641
AUC of PRC = 0.404454
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[430   4]
 [ 29  15]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09073399752378464
difference in average predicted and observed risk = -0.0013160024762153694
number samples = 478
accuracy = 0.930962
precision class 0 = 0.936819
precision class 1 = 0.789474
recall class 0 = 0.990783
recall class 1 = 0.340909
false negative rate = 0.659091
false positive rate = 0.009217
positive prediction rate = 0.039749
AUC of ROC = 0.868454
AUC of PRC = 0.567631
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[386   2]
 [ 30   8]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07553999871015549
difference in average predicted and observed risk = -0.013662001289844516
number samples = 426
accuracy = 0.924883
precision class 0 = 0.927885
precision class 1 = 0.8
recall class 0 = 0.994845
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.005155
positive prediction rate = 0.023474
AUC of ROC = 0.856823
AUC of PRC = 0.447489
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[89  1]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10595399886369705
difference in average predicted and observed risk = -0.01169300113630295
number samples = 102
accuracy = 0.921569
precision class 0 = 0.927083
precision class 1 = 0.833333
recall class 0 = 0.988889
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.011111
positive prediction rate = 0.058824
AUC of ROC = 0.921296
AUC of PRC = 0.678367
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09735599905252457
difference in average predicted and observed risk = 0.00864599905252457
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.88576
AUC of PRC = 0.388801
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12425500154495239
difference in average predicted and observed risk = -0.025350998455047596
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.816277
AUC of PRC = 0.553585
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14510799944400787
difference in average predicted and observed risk = 0.06616099944400787
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.87619
AUC of PRC = 0.533578
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[727   7]
 [ 62  21]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09345600008964539
difference in average predicted and observed risk = -0.008134999910354615
number samples = 817
accuracy = 0.915545
precision class 0 = 0.92142
precision class 1 = 0.75
recall class 0 = 0.990463
recall class 1 = 0.253012
false negative rate = 0.746988
false positive rate = 0.009537
positive prediction rate = 0.034272
AUC of ROC = 0.859903
AUC of PRC = 0.500643
min(+P, Se) = 0.473118

-------------------------------

Epoch 00088: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch88.state
Epoch 89/100
 - 271s - loss: 0.2435 - val_loss: 0.2339

==>predicting on train



confusion matrix:
[[2147    8]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07740599662065506
difference in average predicted and observed risk = -0.02840300337934494
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.910517
precision class 1 = 0.846154
recall class 0 = 0.996288
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.003712
positive prediction rate = 0.021577
AUC of ROC = 0.875705
AUC of PRC = 0.539291
min(+P, Se) = 0.509804

-------------------------------

confusion matrix:
[[1167   12]
 [  89   29]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07885199785232544
difference in average predicted and observed risk = -0.012127002147674565
number samples = 1297
accuracy = 0.922128
precision class 0 = 0.92914
precision class 1 = 0.707317
recall class 0 = 0.989822
recall class 1 = 0.245763
false negative rate = 0.754237
false positive rate = 0.010178
positive prediction rate = 0.031611
AUC of ROC = 0.884267
AUC of PRC = 0.510034
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[648   8]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09382399916648865
difference in average predicted and observed risk = -0.007546000833511354
number samples = 730
accuracy = 0.910959
precision class 0 = 0.919149
precision class 1 = 0.68
recall class 0 = 0.987805
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.012195
positive prediction rate = 0.034247
AUC of ROC = 0.889111
AUC of PRC = 0.551657
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08584599941968918
difference in average predicted and observed risk = -0.03980800058031081
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.949351
AUC of PRC = 0.815542
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[2456   18]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07603500038385391
difference in average predicted and observed risk = -0.017405999616146084
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.924003
precision class 1 = 0.746479
recall class 0 = 0.992724
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.007276
positive prediction rate = 0.026017
AUC of ROC = 0.883176
AUC of PRC = 0.512038
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1672   11]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08752500265836716
difference in average predicted and observed risk = -0.02621899734163284
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.906725
precision class 1 = 0.8
recall class 0 = 0.993464
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.006536
positive prediction rate = 0.028963
AUC of ROC = 0.882273
AUC of PRC = 0.579916
min(+P, Se) = 0.550926

-------------------------------

confusion matrix:
[[544   5]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09470999985933304
difference in average predicted and observed risk = -0.028293000140666963
number samples = 626
accuracy = 0.888179
precision class 0 = 0.893268
precision class 1 = 0.705882
recall class 0 = 0.990893
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.009107
positive prediction rate = 0.027157
AUC of ROC = 0.893076
AUC of PRC = 0.583287
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[2239   10]
 [ 175   33]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06694599986076355
difference in average predicted and observed risk = -0.017710000139236445
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.927506
precision class 1 = 0.767442
recall class 0 = 0.995554
recall class 1 = 0.158654
false negative rate = 0.841346
false positive rate = 0.004446
positive prediction rate = 0.017501
AUC of ROC = 0.878337
AUC of PRC = 0.470464
min(+P, Se) = 0.449761

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08069399744272232
difference in average predicted and observed risk = -0.020112002557277686
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.819193
AUC of PRC = 0.313702
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[473   8]
 [ 46  36]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11866699904203415
difference in average predicted and observed risk = -0.02698100095796585
number samples = 563
accuracy = 0.904085
precision class 0 = 0.911368
precision class 1 = 0.818182
recall class 0 = 0.983368
recall class 1 = 0.439024
false negative rate = 0.560976
false positive rate = 0.016632
positive prediction rate = 0.078153
AUC of ROC = 0.906242
AUC of PRC = 0.700301
min(+P, Se) = 0.630952

-------------------------------

confusion matrix:
[[652   3]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08598200231790543
difference in average predicted and observed risk = -0.021646997682094576
number samples = 734
accuracy = 0.910082
precision class 0 = 0.911888
precision class 1 = 0.842105
recall class 0 = 0.99542
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.00458
positive prediction rate = 0.025886
AUC of ROC = 0.877399
AUC of PRC = 0.560893
min(+P, Se) = 0.582278

-------------------------------

confusion matrix:
[[4128   29]
 [ 374   97]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08074899762868881
difference in average predicted and observed risk = -0.02102300237131119
number samples = 4628
accuracy = 0.912921
precision class 0 = 0.916926
precision class 1 = 0.769841
recall class 0 = 0.993024
recall class 1 = 0.205945
false negative rate = 0.794055
false positive rate = 0.006976
positive prediction rate = 0.027226
AUC of ROC = 0.882941
AUC of PRC = 0.541853
min(+P, Se) = 0.511677

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07330500334501266
difference in average predicted and observed risk = -0.006863996654987339
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.87325
AUC of PRC = 0.432608
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0719899982213974
difference in average predicted and observed risk = -0.036806001778602604
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.853219
AUC of PRC = 0.546045
min(+P, Se) = 0.510204

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11901400238275528
difference in average predicted and observed risk = 0.008845002382755277
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.859341
AUC of PRC = 0.563173
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08769799768924713
difference in average predicted and observed risk = -0.045635002310752876
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08544100075960159
difference in average predicted and observed risk = -0.0296029992403984
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.846325
AUC of PRC = 0.439425
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[432   2]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07569699734449387
difference in average predicted and observed risk = -0.01635300265550614
number samples = 478
accuracy = 0.924686
precision class 0 = 0.927039
precision class 1 = 0.833333
recall class 0 = 0.995392
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.004608
positive prediction rate = 0.025105
AUC of ROC = 0.874476
AUC of PRC = 0.579664
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06006700173020363
difference in average predicted and observed risk = -0.029134998269796375
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.863606
AUC of PRC = 0.476933
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[89  1]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.100272998213768
difference in average predicted and observed risk = -0.017374001786231996
number samples = 102
accuracy = 0.931373
precision class 0 = 0.936842
precision class 1 = 0.857143
recall class 0 = 0.988889
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.011111
positive prediction rate = 0.068627
AUC of ROC = 0.932407
AUC of PRC = 0.735041
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08567100018262863
difference in average predicted and observed risk = -0.0030389998173713656
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.890587
AUC of PRC = 0.383897
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10819300264120102
difference in average predicted and observed risk = -0.04141299735879897
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.81384
AUC of PRC = 0.54725
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13073000311851501
difference in average predicted and observed risk = 0.05178300311851501
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0797400027513504
difference in average predicted and observed risk = -0.021850997248649598
number samples = 817
accuracy = 0.910649
precision class 0 = 0.91468
precision class 1 = 0.75
recall class 0 = 0.993188
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.006812
positive prediction rate = 0.02448
AUC of ROC = 0.864072
AUC of PRC = 0.516841
min(+P, Se) = 0.483516

-------------------------------

Epoch 00089: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch89.state
Epoch 90/100
 - 271s - loss: 0.2418 - val_loss: 0.2331

==>predicting on train



confusion matrix:
[[2145   10]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09838899970054626
difference in average predicted and observed risk = -0.007420000299453736
number samples = 2410
accuracy = 0.909958
precision class 0 = 0.91199
precision class 1 = 0.827586
recall class 0 = 0.99536
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.00464
positive prediction rate = 0.024066
AUC of ROC = 0.871655
AUC of PRC = 0.535137
min(+P, Se) = 0.488372

-------------------------------

confusion matrix:
[[1165   14]
 [  86   32]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09947499632835388
difference in average predicted and observed risk = 0.008495996328353878
number samples = 1297
accuracy = 0.922899
precision class 0 = 0.931255
precision class 1 = 0.695652
recall class 0 = 0.988126
recall class 1 = 0.271186
false negative rate = 0.728814
false positive rate = 0.011874
positive prediction rate = 0.035466
AUC of ROC = 0.87902
AUC of PRC = 0.501028
min(+P, Se) = 0.495798

-------------------------------

confusion matrix:
[[646  10]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11599099636077881
difference in average predicted and observed risk = 0.014620996360778807
number samples = 730
accuracy = 0.912329
precision class 0 = 0.922857
precision class 1 = 0.666667
recall class 0 = 0.984756
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.015244
positive prediction rate = 0.041096
AUC of ROC = 0.894611
AUC of PRC = 0.562822
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10739800333976746
difference in average predicted and observed risk = -0.018255996660232532
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.93987
AUC of PRC = 0.760223
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[2452   22]
 [ 199   56]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09627299755811691
difference in average predicted and observed risk = 0.0028319975581169166
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.924934
precision class 1 = 0.717949
recall class 0 = 0.991108
recall class 1 = 0.219608
false negative rate = 0.780392
false positive rate = 0.008892
positive prediction rate = 0.028582
AUC of ROC = 0.877371
AUC of PRC = 0.506575
min(+P, Se) = 0.476562

-------------------------------

confusion matrix:
[[1670   13]
 [ 163   53]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10984300076961517
difference in average predicted and observed risk = -0.0039009992303848245
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.911075
precision class 1 = 0.80303
recall class 0 = 0.992276
recall class 1 = 0.24537
false negative rate = 0.75463
false positive rate = 0.007724
positive prediction rate = 0.034755
AUC of ROC = 0.883126
AUC of PRC = 0.581431
min(+P, Se) = 0.532407

-------------------------------

confusion matrix:
[[545   4]
 [ 60  17]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12200099974870682
difference in average predicted and observed risk = -0.0010020002512931836
number samples = 626
accuracy = 0.897764
precision class 0 = 0.900826
precision class 1 = 0.809524
recall class 0 = 0.992714
recall class 1 = 0.220779
false negative rate = 0.779221
false positive rate = 0.007286
positive prediction rate = 0.033546
AUC of ROC = 0.890568
AUC of PRC = 0.592724
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2238   11]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0858910009264946
difference in average predicted and observed risk = 0.0012350009264946032
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.928631
precision class 1 = 0.765957
recall class 0 = 0.995109
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.004891
positive prediction rate = 0.019129
AUC of ROC = 0.876787
AUC of PRC = 0.472162
min(+P, Se) = 0.450237

-------------------------------

confusion matrix:
[[219   4]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10251100361347198
difference in average predicted and observed risk = 0.0017050036134719782
number samples = 248
accuracy = 0.883065
precision class 0 = 0.897541
precision class 1 = 0.0
recall class 0 = 0.982063
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.017937
positive prediction rate = 0.016129
AUC of ROC = 0.817937
AUC of PRC = 0.302312
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[471  10]
 [ 45  37]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1449970006942749
difference in average predicted and observed risk = -0.0006509993057250973
number samples = 563
accuracy = 0.902309
precision class 0 = 0.912791
precision class 1 = 0.787234
recall class 0 = 0.97921
recall class 1 = 0.451219
false negative rate = 0.548781
false positive rate = 0.02079
positive prediction rate = 0.083481
AUC of ROC = 0.898636
AUC of PRC = 0.693739
min(+P, Se) = 0.614458

-------------------------------

confusion matrix:
[[649   6]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10471200197935104
difference in average predicted and observed risk = -0.0029169980206489587
number samples = 734
accuracy = 0.910082
precision class 0 = 0.915374
precision class 1 = 0.76
recall class 0 = 0.99084
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.00916
positive prediction rate = 0.03406
AUC of ROC = 0.875312
AUC of PRC = 0.563345
min(+P, Se) = 0.531646

-------------------------------

confusion matrix:
[[4122   35]
 [ 362  109]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10184100270271301
difference in average predicted and observed risk = 6.900270271301134e-05
number samples = 4628
accuracy = 0.914218
precision class 0 = 0.919268
precision class 1 = 0.756944
recall class 0 = 0.99158
recall class 1 = 0.231422
false negative rate = 0.768578
false positive rate = 0.00842
positive prediction rate = 0.031115
AUC of ROC = 0.879954
AUC of PRC = 0.539552
min(+P, Se) = 0.504237

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0950310006737709
difference in average predicted and observed risk = 0.0148620006737709
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.860212
AUC of PRC = 0.426501
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[385   0]
 [ 39   8]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09359300136566162
difference in average predicted and observed risk = -0.015202998634338383
number samples = 432
accuracy = 0.909722
precision class 0 = 0.908019
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.170213
false negative rate = 0.829787
false positive rate = 0.0
positive prediction rate = 0.018519
AUC of ROC = 0.853385
AUC of PRC = 0.572654
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1414320021867752
difference in average predicted and observed risk = 0.031263002186775204
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.861538
AUC of PRC = 0.560273
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11947000026702881
difference in average predicted and observed risk = -0.013862999732971198
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10871600359678268
difference in average predicted and observed risk = -0.006327996403217309
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.846923
AUC of PRC = 0.435069
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[430   4]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09701400250196457
difference in average predicted and observed risk = 0.004964002501964562
number samples = 478
accuracy = 0.92887
precision class 0 = 0.934783
precision class 1 = 0.777778
recall class 0 = 0.990783
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.009217
positive prediction rate = 0.037657
AUC of ROC = 0.86704
AUC of PRC = 0.567331
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07936099916696548
difference in average predicted and observed risk = -0.009841000833034519
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.85723
AUC of PRC = 0.490381
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[87  3]
 [ 5  7]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12236300110816956
difference in average predicted and observed risk = 0.004716001108169554
number samples = 102
accuracy = 0.921569
precision class 0 = 0.945652
precision class 1 = 0.7
recall class 0 = 0.966667
recall class 1 = 0.583333
false negative rate = 0.416667
false positive rate = 0.033333
positive prediction rate = 0.098039
AUC of ROC = 0.917593
AUC of PRC = 0.658085
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11475100368261337
difference in average predicted and observed risk = 0.026041003682613376
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.892196
AUC of PRC = 0.348412
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12987899780273438
difference in average predicted and observed risk = -0.019727002197265614
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.824561
AUC of PRC = 0.588311
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.16355100274085999
difference in average predicted and observed risk = 0.08460400274085998
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.87619
AUC of PRC = 0.720139
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10187000036239624
difference in average predicted and observed risk = 0.0002790003623962395
number samples = 817
accuracy = 0.913097
precision class 0 = 0.91909
precision class 1 = 0.730769
recall class 0 = 0.990463
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.009537
positive prediction rate = 0.031824
AUC of ROC = 0.861003
AUC of PRC = 0.51347
min(+P, Se) = 0.46988

-------------------------------

Epoch 00090: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch90.state
Epoch 91/100
 - 275s - loss: 0.2450 - val_loss: 0.2303

==>predicting on train



confusion matrix:
[[2145   10]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09502899646759033
difference in average predicted and observed risk = -0.010780003532409668
number samples = 2410
accuracy = 0.909958
precision class 0 = 0.91199
precision class 1 = 0.827586
recall class 0 = 0.99536
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.00464
positive prediction rate = 0.024066
AUC of ROC = 0.881283
AUC of PRC = 0.555233
min(+P, Se) = 0.513725

-------------------------------

confusion matrix:
[[1165   14]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09753400087356567
difference in average predicted and observed risk = 0.0065550008735656695
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.929769
precision class 1 = 0.681818
recall class 0 = 0.988126
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.011874
positive prediction rate = 0.033924
AUC of ROC = 0.887703
AUC of PRC = 0.519955
min(+P, Se) = 0.533898

-------------------------------

confusion matrix:
[[647   9]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11533699929714203
difference in average predicted and observed risk = 0.013966999297142027
number samples = 730
accuracy = 0.909589
precision class 0 = 0.919034
precision class 1 = 0.653846
recall class 0 = 0.986281
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.01372
positive prediction rate = 0.035616
AUC of ROC = 0.9011
AUC of PRC = 0.565124
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10454899817705154
difference in average predicted and observed risk = -0.021105001822948444
number samples = 191
accuracy = 0.921466
precision class 0 = 0.917582
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.0
positive prediction rate = 0.04712
AUC of ROC = 0.949351
AUC of PRC = 0.792314
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2453   21]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09342999756336212
difference in average predicted and observed risk = -1.1002436637874702e-05
number samples = 2729
accuracy = 0.918285
precision class 0 = 0.923917
precision class 1 = 0.716216
recall class 0 = 0.991512
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.008488
positive prediction rate = 0.027116
AUC of ROC = 0.889586
AUC of PRC = 0.520829
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1671   12]
 [ 165   51]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10780200362205505
difference in average predicted and observed risk = -0.005941996377944944
number samples = 1899
accuracy = 0.906793
precision class 0 = 0.910131
precision class 1 = 0.809524
recall class 0 = 0.99287
recall class 1 = 0.236111
false negative rate = 0.763889
false positive rate = 0.00713
positive prediction rate = 0.033175
AUC of ROC = 0.887491
AUC of PRC = 0.599429
min(+P, Se) = 0.574074

-------------------------------

confusion matrix:
[[546   3]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.1127529963850975
difference in average predicted and observed risk = -0.010250003614902498
number samples = 626
accuracy = 0.896166
precision class 0 = 0.898026
precision class 1 = 0.833333
recall class 0 = 0.994536
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.005464
positive prediction rate = 0.028754
AUC of ROC = 0.903201
AUC of PRC = 0.60834
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2238   11]
 [ 174   34]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08594399690628052
difference in average predicted and observed risk = 0.0012879969062805224
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.927861
precision class 1 = 0.755556
recall class 0 = 0.995109
recall class 1 = 0.163462
false negative rate = 0.836538
false positive rate = 0.004891
positive prediction rate = 0.018315
AUC of ROC = 0.88223
AUC of PRC = 0.478576
min(+P, Se) = 0.462264

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.10162299871444702
difference in average predicted and observed risk = 0.0008169987144470148
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.831749
AUC of PRC = 0.311616
min(+P, Se) = 0.413793

-------------------------------

confusion matrix:
[[471  10]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1349709928035736
difference in average predicted and observed risk = -0.010677007196426391
number samples = 563
accuracy = 0.898757
precision class 0 = 0.909266
precision class 1 = 0.777778
recall class 0 = 0.97921
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.02079
positive prediction rate = 0.079929
AUC of ROC = 0.913595
AUC of PRC = 0.714944
min(+P, Se) = 0.646341

-------------------------------

confusion matrix:
[[648   7]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10456199944019318
difference in average predicted and observed risk = -0.003067000559806826
number samples = 734
accuracy = 0.910082
precision class 0 = 0.916549
precision class 1 = 0.740741
recall class 0 = 0.989313
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.010687
positive prediction rate = 0.036785
AUC of ROC = 0.883622
AUC of PRC = 0.58414
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4124   33]
 [ 367  104]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09932699799537659
difference in average predicted and observed risk = -0.0024450020046234144
number samples = 4628
accuracy = 0.91357
precision class 0 = 0.918281
precision class 1 = 0.759124
recall class 0 = 0.992062
recall class 1 = 0.220807
false negative rate = 0.779193
false positive rate = 0.007938
positive prediction rate = 0.029602
AUC of ROC = 0.888863
AUC of PRC = 0.554958
min(+P, Se) = 0.529661

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09352199733257294
difference in average predicted and observed risk = 0.013352997332572933
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.882424
AUC of PRC = 0.442634
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09183699637651443
difference in average predicted and observed risk = -0.01695900362348557
number samples = 432
accuracy = 0.907407
precision class 0 = 0.905882
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.0
positive prediction rate = 0.016204
AUC of ROC = 0.857309
AUC of PRC = 0.555141
min(+P, Se) = 0.479167

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14045000076293945
difference in average predicted and observed risk = 0.03028100076293945
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.85348
AUC of PRC = 0.531738
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10757800191640854
difference in average predicted and observed risk = -0.025754998083591468
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10770100355148315
difference in average predicted and observed risk = -0.007342996448516839
number samples = 339
accuracy = 0.896755
precision class 0 = 0.900302
precision class 1 = 0.75
recall class 0 = 0.993333
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.006667
positive prediction rate = 0.023599
AUC of ROC = 0.85
AUC of PRC = 0.423858
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[431   3]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0944100022315979
difference in average predicted and observed risk = 0.0023600022315978936
number samples = 478
accuracy = 0.930962
precision class 0 = 0.934924
precision class 1 = 0.823529
recall class 0 = 0.993088
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.006912
positive prediction rate = 0.035565
AUC of ROC = 0.878247
AUC of PRC = 0.559845
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08032400161027908
difference in average predicted and observed risk = -0.00887799838972092
number samples = 426
accuracy = 0.924883
precision class 0 = 0.92381
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.0
positive prediction rate = 0.014085
AUC of ROC = 0.867065
AUC of PRC = 0.507027
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[88  2]
 [ 5  7]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11788800358772278
difference in average predicted and observed risk = 0.00024100358772277675
number samples = 102
accuracy = 0.931373
precision class 0 = 0.946237
precision class 1 = 0.777778
recall class 0 = 0.977778
recall class 1 = 0.583333
false negative rate = 0.416667
false positive rate = 0.022222
positive prediction rate = 0.088235
AUC of ROC = 0.903704
AUC of PRC = 0.654499
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10375399887561798
difference in average predicted and observed risk = 0.015043998875617984
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.888174
AUC of PRC = 0.370885
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13102300465106964
difference in average predicted and observed risk = -0.018582995348930348
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.84308
AUC of PRC = 0.579132
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15501800179481506
difference in average predicted and observed risk = 0.07607100179481506
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.847619
AUC of PRC = 0.479365
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[729   5]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09992499649524689
difference in average predicted and observed risk = -0.0016660035047531135
number samples = 817
accuracy = 0.916769
precision class 0 = 0.920455
precision class 1 = 0.8
recall class 0 = 0.993188
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.006812
positive prediction rate = 0.0306
AUC of ROC = 0.867847
AUC of PRC = 0.510127
min(+P, Se) = 0.47619

-------------------------------

Epoch 00091: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch91.state
Epoch 92/100
 - 271s - loss: 0.2449 - val_loss: 0.2314

==>predicting on train



confusion matrix:
[[2147    8]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08188600093126297
difference in average predicted and observed risk = -0.02392299906873703
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.910131
precision class 1 = 0.843137
recall class 0 = 0.996288
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.003712
positive prediction rate = 0.021162
AUC of ROC = 0.875896
AUC of PRC = 0.54504
min(+P, Se) = 0.498099

-------------------------------

confusion matrix:
[[1168   11]
 [  89   29]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08497399836778641
difference in average predicted and observed risk = -0.006005001632213597
number samples = 1297
accuracy = 0.922899
precision class 0 = 0.929196
precision class 1 = 0.725
recall class 0 = 0.99067
recall class 1 = 0.245763
false negative rate = 0.754237
false positive rate = 0.00933
positive prediction rate = 0.03084
AUC of ROC = 0.882858
AUC of PRC = 0.517968
min(+P, Se) = 0.508475

-------------------------------

confusion matrix:
[[648   8]
 [ 56  18]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09925799816846848
difference in average predicted and observed risk = -0.0021120018315315264
number samples = 730
accuracy = 0.912329
precision class 0 = 0.920455
precision class 1 = 0.692308
recall class 0 = 0.987805
recall class 1 = 0.243243
false negative rate = 0.756757
false positive rate = 0.012195
positive prediction rate = 0.035616
AUC of ROC = 0.893602
AUC of PRC = 0.55675
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09259600192308426
difference in average predicted and observed risk = -0.03305799807691573
number samples = 191
accuracy = 0.921466
precision class 0 = 0.917582
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.0
positive prediction rate = 0.04712
AUC of ROC = 0.939621
AUC of PRC = 0.772269
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[2456   18]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08116500079631805
difference in average predicted and observed risk = -0.012275999203681942
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.924003
precision class 1 = 0.746479
recall class 0 = 0.992724
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.007276
positive prediction rate = 0.026017
AUC of ROC = 0.880265
AUC of PRC = 0.507006
min(+P, Se) = 0.478431

-------------------------------

confusion matrix:
[[1674    9]
 [ 170   46]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0927869975566864
difference in average predicted and observed risk = -0.020957002443313597
number samples = 1899
accuracy = 0.90574
precision class 0 = 0.907809
precision class 1 = 0.836364
recall class 0 = 0.994652
recall class 1 = 0.212963
false negative rate = 0.787037
false positive rate = 0.005348
positive prediction rate = 0.028963
AUC of ROC = 0.886691
AUC of PRC = 0.597727
min(+P, Se) = 0.560185

-------------------------------

confusion matrix:
[[547   2]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0992640033364296
difference in average predicted and observed risk = -0.023738996663570405
number samples = 626
accuracy = 0.891374
precision class 0 = 0.892333
precision class 1 = 0.846154
recall class 0 = 0.996357
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.003643
positive prediction rate = 0.020767
AUC of ROC = 0.899061
AUC of PRC = 0.59901
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2239   10]
 [ 174   34]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07253099977970123
difference in average predicted and observed risk = -0.012125000220298762
number samples = 2457
accuracy = 0.925112
precision class 0 = 0.927891
precision class 1 = 0.772727
recall class 0 = 0.995554
recall class 1 = 0.163462
false negative rate = 0.836538
false positive rate = 0.004446
positive prediction rate = 0.017908
AUC of ROC = 0.878369
AUC of PRC = 0.47175
min(+P, Se) = 0.457143

-------------------------------

confusion matrix:
[[222   1]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0859069973230362
difference in average predicted and observed risk = -0.014899002676963813
number samples = 248
accuracy = 0.895161
precision class 0 = 0.898785
precision class 1 = 0.0
recall class 0 = 0.995516
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.004484
positive prediction rate = 0.004032
AUC of ROC = 0.826906
AUC of PRC = 0.330637
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[473   8]
 [ 48  34]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1217849999666214
difference in average predicted and observed risk = -0.0238630000333786
number samples = 563
accuracy = 0.900533
precision class 0 = 0.907869
precision class 1 = 0.809524
recall class 0 = 0.983368
recall class 1 = 0.414634
false negative rate = 0.585366
false positive rate = 0.016632
positive prediction rate = 0.0746
AUC of ROC = 0.907915
AUC of PRC = 0.709416
min(+P, Se) = 0.646341

-------------------------------

confusion matrix:
[[649   6]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0919400006532669
difference in average predicted and observed risk = -0.015688999346733096
number samples = 734
accuracy = 0.911444
precision class 0 = 0.916667
precision class 1 = 0.769231
recall class 0 = 0.99084
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.00916
positive prediction rate = 0.035422
AUC of ROC = 0.87162
AUC of PRC = 0.5651
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4130   27]
 [ 372   99]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08593399822711945
difference in average predicted and observed risk = -0.015838001772880556
number samples = 4628
accuracy = 0.913786
precision class 0 = 0.91737
precision class 1 = 0.785714
recall class 0 = 0.993505
recall class 1 = 0.210191
false negative rate = 0.789809
false positive rate = 0.006495
positive prediction rate = 0.027226
AUC of ROC = 0.883093
AUC of PRC = 0.546348
min(+P, Se) = 0.509554

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0815650001168251
difference in average predicted and observed risk = 0.0013960001168250996
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.879285
AUC of PRC = 0.450662
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[385   0]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07818400114774704
difference in average predicted and observed risk = -0.030611998852252964
number samples = 432
accuracy = 0.905093
precision class 0 = 0.903756
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.0
positive prediction rate = 0.013889
AUC of ROC = 0.851561
AUC of PRC = 0.551536
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12444700300693512
difference in average predicted and observed risk = 0.014278003006935117
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.866667
AUC of PRC = 0.54739
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10533300042152405
difference in average predicted and observed risk = -0.02799999957847596
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09208200126886368
difference in average predicted and observed risk = -0.022961998731136316
number samples = 339
accuracy = 0.896755
precision class 0 = 0.900302
precision class 1 = 0.75
recall class 0 = 0.993333
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.006667
positive prediction rate = 0.023599
AUC of ROC = 0.853077
AUC of PRC = 0.427363
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[431   3]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08312799781560898
difference in average predicted and observed risk = -0.008922002184391029
number samples = 478
accuracy = 0.92887
precision class 0 = 0.9329
precision class 1 = 0.8125
recall class 0 = 0.993088
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.006912
positive prediction rate = 0.033473
AUC of ROC = 0.872696
AUC of PRC = 0.580418
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06611400097608566
difference in average predicted and observed risk = -0.02308799902391434
number samples = 426
accuracy = 0.922535
precision class 0 = 0.921615
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.0
positive prediction rate = 0.011737
AUC of ROC = 0.860147
AUC of PRC = 0.515609
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[88  2]
 [ 5  7]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10524599999189377
difference in average predicted and observed risk = -0.012401000008106233
number samples = 102
accuracy = 0.931373
precision class 0 = 0.946237
precision class 1 = 0.777778
recall class 0 = 0.977778
recall class 1 = 0.583333
false negative rate = 0.416667
false positive rate = 0.022222
positive prediction rate = 0.088235
AUC of ROC = 0.927778
AUC of PRC = 0.689318
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09185799956321716
difference in average predicted and observed risk = 0.003147999563217166
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.897023
AUC of PRC = 0.350087
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11991400271654129
difference in average predicted and observed risk = -0.0296919972834587
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.834308
AUC of PRC = 0.591196
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14294299483299255
difference in average predicted and observed risk = 0.06399599483299255
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.847619
AUC of PRC = 0.495139
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[729   5]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08684299886226654
difference in average predicted and observed risk = -0.01474800113773346
number samples = 817
accuracy = 0.915545
precision class 0 = 0.919294
precision class 1 = 0.791667
recall class 0 = 0.993188
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.006812
positive prediction rate = 0.029376
AUC of ROC = 0.865664
AUC of PRC = 0.522279
min(+P, Se) = 0.481928

-------------------------------

Epoch 00092: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch92.state
Epoch 93/100
 - 272s - loss: 0.2421 - val_loss: 0.2338

==>predicting on train



confusion matrix:
[[2145   10]
 [ 205   50]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08664900064468384
difference in average predicted and observed risk = -0.019159999355316162
number samples = 2410
accuracy = 0.910788
precision class 0 = 0.912766
precision class 1 = 0.833333
recall class 0 = 0.99536
recall class 1 = 0.196078
false negative rate = 0.803922
false positive rate = 0.00464
positive prediction rate = 0.024896
AUC of ROC = 0.878126
AUC of PRC = 0.54554
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[1164   15]
 [  87   31]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0898509994149208
difference in average predicted and observed risk = -0.0011280005850791974
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.930456
precision class 1 = 0.673913
recall class 0 = 0.987277
recall class 1 = 0.262712
false negative rate = 0.737288
false positive rate = 0.012723
positive prediction rate = 0.035466
AUC of ROC = 0.887645
AUC of PRC = 0.514862
min(+P, Se) = 0.488

-------------------------------

confusion matrix:
[[647   9]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.106454998254776
difference in average predicted and observed risk = 0.005084998254775999
number samples = 730
accuracy = 0.913699
precision class 0 = 0.922967
precision class 1 = 0.689655
recall class 0 = 0.986281
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.01372
positive prediction rate = 0.039726
AUC of ROC = 0.896465
AUC of PRC = 0.572343
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[167   0]
 [ 14  10]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09765300154685974
difference in average predicted and observed risk = -0.028000998453140247
number samples = 191
accuracy = 0.926702
precision class 0 = 0.922652
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.0
positive prediction rate = 0.052356
AUC of ROC = 0.947605
AUC of PRC = 0.797878
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2452   22]
 [ 198   57]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08607999980449677
difference in average predicted and observed risk = -0.007361000195503231
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.925283
precision class 1 = 0.721519
recall class 0 = 0.991108
recall class 1 = 0.223529
false negative rate = 0.776471
false positive rate = 0.008892
positive prediction rate = 0.028948
AUC of ROC = 0.883234
AUC of PRC = 0.512297
min(+P, Se) = 0.477444

-------------------------------

confusion matrix:
[[1671   12]
 [ 162   54]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09837400168180466
difference in average predicted and observed risk = -0.015369998318195341
number samples = 1899
accuracy = 0.908373
precision class 0 = 0.91162
precision class 1 = 0.818182
recall class 0 = 0.99287
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.00713
positive prediction rate = 0.034755
AUC of ROC = 0.890212
AUC of PRC = 0.59778
min(+P, Se) = 0.56682

-------------------------------

confusion matrix:
[[546   3]
 [ 59  18]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10791700333356857
difference in average predicted and observed risk = -0.015085996666431428
number samples = 626
accuracy = 0.900958
precision class 0 = 0.902479
precision class 1 = 0.857143
recall class 0 = 0.994536
recall class 1 = 0.233766
false negative rate = 0.766234
false positive rate = 0.005464
positive prediction rate = 0.033546
AUC of ROC = 0.898659
AUC of PRC = 0.611783
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2237   12]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07536900043487549
difference in average predicted and observed risk = -0.009286999565124507
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.928216
precision class 1 = 0.744681
recall class 0 = 0.994664
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.005336
positive prediction rate = 0.019129
AUC of ROC = 0.882183
AUC of PRC = 0.475089
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08802399784326553
difference in average predicted and observed risk = -0.012782002156734473
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.824395
AUC of PRC = 0.310893
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[471  10]
 [ 45  37]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1357470005750656
difference in average predicted and observed risk = -0.009900999424934387
number samples = 563
accuracy = 0.902309
precision class 0 = 0.912791
precision class 1 = 0.787234
recall class 0 = 0.97921
recall class 1 = 0.451219
false negative rate = 0.548781
false positive rate = 0.02079
positive prediction rate = 0.083481
AUC of ROC = 0.910856
AUC of PRC = 0.710342
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[648   7]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09636499732732773
difference in average predicted and observed risk = -0.011264002672672274
number samples = 734
accuracy = 0.911444
precision class 0 = 0.917847
precision class 1 = 0.75
recall class 0 = 0.989313
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.010687
positive prediction rate = 0.038147
AUC of ROC = 0.877012
AUC of PRC = 0.584388
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4123   34]
 [ 360  111]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0911249965429306
difference in average predicted and observed risk = -0.010647003457069398
number samples = 4628
accuracy = 0.914866
precision class 0 = 0.919697
precision class 1 = 0.765517
recall class 0 = 0.991821
recall class 1 = 0.235669
false negative rate = 0.764331
false positive rate = 0.008179
positive prediction rate = 0.031331
AUC of ROC = 0.886253
AUC of PRC = 0.54973
min(+P, Se) = 0.519068

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08655799925327301
difference in average predicted and observed risk = 0.006388999253273006
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.868421
AUC of PRC = 0.431754
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 40   7]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08177699893712997
difference in average predicted and observed risk = -0.02701900106287003
number samples = 432
accuracy = 0.907407
precision class 0 = 0.905882
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.148936
false negative rate = 0.851064
false positive rate = 0.0
positive prediction rate = 0.016204
AUC of ROC = 0.849848
AUC of PRC = 0.552146
min(+P, Se) = 0.459016

-------------------------------

confusion matrix:
[[101   4]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13346999883651733
difference in average predicted and observed risk = 0.02330099883651733
number samples = 118
accuracy = 0.898305
precision class 0 = 0.926606
precision class 1 = 0.555556
recall class 0 = 0.961905
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.038095
positive prediction rate = 0.076271
AUC of ROC = 0.85348
AUC of PRC = 0.494896
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11204899847507477
difference in average predicted and observed risk = -0.02128400152492524
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 32   7]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09686700254678726
difference in average predicted and observed risk = -0.01817699745321273
number samples = 339
accuracy = 0.899705
precision class 0 = 0.90303
precision class 1 = 0.777778
recall class 0 = 0.993333
recall class 1 = 0.179487
false negative rate = 0.820513
false positive rate = 0.006667
positive prediction rate = 0.026549
AUC of ROC = 0.846581
AUC of PRC = 0.417652
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08810599893331528
difference in average predicted and observed risk = -0.00394400106668473
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.866778
AUC of PRC = 0.560393
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0697920024394989
difference in average predicted and observed risk = -0.019409997560501102
number samples = 426
accuracy = 0.922535
precision class 0 = 0.921615
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.0
positive prediction rate = 0.011737
AUC of ROC = 0.858044
AUC of PRC = 0.500219
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[88  2]
 [ 5  7]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11287599802017212
difference in average predicted and observed risk = -0.004771001979827882
number samples = 102
accuracy = 0.931373
precision class 0 = 0.946237
precision class 1 = 0.777778
recall class 0 = 0.977778
recall class 1 = 0.583333
false negative rate = 0.416667
false positive rate = 0.022222
positive prediction rate = 0.088235
AUC of ROC = 0.906481
AUC of PRC = 0.654112
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0970579981803894
difference in average predicted and observed risk = 0.008347998180389407
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.883347
AUC of PRC = 0.332985
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12602099776268005
difference in average predicted and observed risk = -0.023585002237319935
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.826511
AUC of PRC = 0.571892
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.149167001247406
difference in average predicted and observed risk = 0.070220001247406
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.866667
AUC of PRC = 0.4807
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[728   6]
 [ 63  20]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09174100309610367
difference in average predicted and observed risk = -0.009849996903896333
number samples = 817
accuracy = 0.915545
precision class 0 = 0.920354
precision class 1 = 0.769231
recall class 0 = 0.991826
recall class 1 = 0.240964
false negative rate = 0.759036
false positive rate = 0.008174
positive prediction rate = 0.031824
AUC of ROC = 0.859509
AUC of PRC = 0.505817
min(+P, Se) = 0.481928

-------------------------------

Epoch 00093: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch93.state
Epoch 94/100
 - 273s - loss: 0.2418 - val_loss: 0.2346

==>predicting on train



confusion matrix:
[[2144   11]
 [ 205   50]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0874669998884201
difference in average predicted and observed risk = -0.018342000111579895
number samples = 2410
accuracy = 0.910373
precision class 0 = 0.912729
precision class 1 = 0.819672
recall class 0 = 0.994896
recall class 1 = 0.196078
false negative rate = 0.803922
false positive rate = 0.005104
positive prediction rate = 0.025311
AUC of ROC = 0.87449
AUC of PRC = 0.533991
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1161   18]
 [  84   34]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09081300348043442
difference in average predicted and observed risk = -0.0001659965195655866
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.93253
precision class 1 = 0.653846
recall class 0 = 0.984733
recall class 1 = 0.288136
false negative rate = 0.711864
false positive rate = 0.015267
positive prediction rate = 0.040093
AUC of ROC = 0.881931
AUC of PRC = 0.502561
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[646  10]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1065019965171814
difference in average predicted and observed risk = 0.005131996517181395
number samples = 730
accuracy = 0.913699
precision class 0 = 0.924177
precision class 1 = 0.677419
recall class 0 = 0.984756
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.015244
positive prediction rate = 0.042466
AUC of ROC = 0.897516
AUC of PRC = 0.569264
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09792900085449219
difference in average predicted and observed risk = -0.0277249991455078
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.942116
AUC of PRC = 0.770369
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2447   27]
 [ 197   58]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08620200306177139
difference in average predicted and observed risk = -0.0072389969382286035
number samples = 2729
accuracy = 0.917919
precision class 0 = 0.925492
precision class 1 = 0.682353
recall class 0 = 0.989087
recall class 1 = 0.227451
false negative rate = 0.772549
false positive rate = 0.010914
positive prediction rate = 0.031147
AUC of ROC = 0.8794
AUC of PRC = 0.504816
min(+P, Se) = 0.475096

-------------------------------

confusion matrix:
[[1670   13]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09994000196456909
difference in average predicted and observed risk = -0.013803998035430906
number samples = 1899
accuracy = 0.908899
precision class 0 = 0.912568
precision class 1 = 0.811594
recall class 0 = 0.992276
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.007724
positive prediction rate = 0.036335
AUC of ROC = 0.88684
AUC of PRC = 0.583064
min(+P, Se) = 0.534562

-------------------------------

confusion matrix:
[[543   6]
 [ 58  19]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11026500165462494
difference in average predicted and observed risk = -0.012737998345375062
number samples = 626
accuracy = 0.897764
precision class 0 = 0.903494
precision class 1 = 0.76
recall class 0 = 0.989071
recall class 1 = 0.246753
false negative rate = 0.753247
false positive rate = 0.010929
positive prediction rate = 0.039936
AUC of ROC = 0.896577
AUC of PRC = 0.592411
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[2236   13]
 [ 171   37]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07597599923610687
difference in average predicted and observed risk = -0.008680000763893123
number samples = 2457
accuracy = 0.925112
precision class 0 = 0.928957
precision class 1 = 0.74
recall class 0 = 0.99422
recall class 1 = 0.177885
false negative rate = 0.822115
false positive rate = 0.00578
positive prediction rate = 0.02035
AUC of ROC = 0.877589
AUC of PRC = 0.468011
min(+P, Se) = 0.434579

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08971399813890457
difference in average predicted and observed risk = -0.011092001861095435
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.82278
AUC of PRC = 0.315526
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[471  10]
 [ 46  36]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13211500644683838
difference in average predicted and observed risk = -0.01353299355316162
number samples = 563
accuracy = 0.900533
precision class 0 = 0.911025
precision class 1 = 0.782609
recall class 0 = 0.97921
recall class 1 = 0.439024
false negative rate = 0.560976
false positive rate = 0.02079
positive prediction rate = 0.081705
AUC of ROC = 0.903377
AUC of PRC = 0.700522
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[647   8]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09904800355434418
difference in average predicted and observed risk = -0.008580996445655825
number samples = 734
accuracy = 0.910082
precision class 0 = 0.917731
precision class 1 = 0.724138
recall class 0 = 0.987786
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.012214
positive prediction rate = 0.03951
AUC of ROC = 0.878442
AUC of PRC = 0.565503
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4117   40]
 [ 357  114]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09183900058269501
difference in average predicted and observed risk = -0.009932999417304994
number samples = 4628
accuracy = 0.914218
precision class 0 = 0.920206
precision class 1 = 0.74026
recall class 0 = 0.990378
recall class 1 = 0.242038
false negative rate = 0.757962
false positive rate = 0.009622
positive prediction rate = 0.033276
AUC of ROC = 0.882735
AUC of PRC = 0.539554
min(+P, Se) = 0.504237

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08759599924087524
difference in average predicted and observed risk = 0.00742699924087524
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.860212
AUC of PRC = 0.394815
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08222699910402298
difference in average predicted and observed risk = -0.026569000895977024
number samples = 432
accuracy = 0.905093
precision class 0 = 0.903756
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.0
positive prediction rate = 0.013889
AUC of ROC = 0.846587
AUC of PRC = 0.542889
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[101   4]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13553500175476074
difference in average predicted and observed risk = 0.02536600175476074
number samples = 118
accuracy = 0.898305
precision class 0 = 0.926606
precision class 1 = 0.555556
recall class 0 = 0.961905
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.038095
positive prediction rate = 0.076271
AUC of ROC = 0.865201
AUC of PRC = 0.554355
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11555299907922745
difference in average predicted and observed risk = -0.01778000092077256
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09839499741792679
difference in average predicted and observed risk = -0.016649002582073205
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.842137
AUC of PRC = 0.400852
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[430   4]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08867300301790237
difference in average predicted and observed risk = -0.0033769969820976325
number samples = 478
accuracy = 0.926778
precision class 0 = 0.932755
precision class 1 = 0.764706
recall class 0 = 0.990783
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.009217
positive prediction rate = 0.035565
AUC of ROC = 0.867773
AUC of PRC = 0.560302
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07067400217056274
difference in average predicted and observed risk = -0.01852799782943726
number samples = 426
accuracy = 0.924883
precision class 0 = 0.92381
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.0
positive prediction rate = 0.014085
AUC of ROC = 0.852821
AUC of PRC = 0.483357
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[87  3]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11033099889755249
difference in average predicted and observed risk = -0.007316001102447511
number samples = 102
accuracy = 0.901961
precision class 0 = 0.925532
precision class 1 = 0.625
recall class 0 = 0.966667
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.033333
positive prediction rate = 0.078431
AUC of ROC = 0.925926
AUC of PRC = 0.651486
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.10302499681711197
difference in average predicted and observed risk = 0.014314996817111972
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.899437
AUC of PRC = 0.347262
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1238820031285286
difference in average predicted and observed risk = -0.025723996871471394
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.822125
AUC of PRC = 0.585216
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15454399585723877
difference in average predicted and observed risk = 0.07559699585723877
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.885714
AUC of PRC = 0.72381
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09270700067281723
difference in average predicted and observed risk = -0.00888399932718277
number samples = 817
accuracy = 0.913097
precision class 0 = 0.91909
precision class 1 = 0.730769
recall class 0 = 0.990463
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.009537
positive prediction rate = 0.031824
AUC of ROC = 0.858754
AUC of PRC = 0.501888
min(+P, Se) = 0.470588

-------------------------------

Epoch 00094: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch94.state
Epoch 95/100
 - 275s - loss: 0.2415 - val_loss: 0.2329

==>predicting on train



confusion matrix:
[[2151    4]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08064600080251694
difference in average predicted and observed risk = -0.025162999197483063
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.908745
precision class 1 = 0.906977
recall class 0 = 0.998144
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.001856
positive prediction rate = 0.017842
AUC of ROC = 0.879427
AUC of PRC = 0.553371
min(+P, Se) = 0.513725

-------------------------------

confusion matrix:
[[1169   10]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08384600281715393
difference in average predicted and observed risk = -0.007132997182846074
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.927042
precision class 1 = 0.722222
recall class 0 = 0.991518
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.008482
positive prediction rate = 0.027756
AUC of ROC = 0.888335
AUC of PRC = 0.520547
min(+P, Se) = 0.516949

-------------------------------

confusion matrix:
[[651   5]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0985030010342598
difference in average predicted and observed risk = -0.0028669989657402056
number samples = 730
accuracy = 0.910959
precision class 0 = 0.915612
precision class 1 = 0.736842
recall class 0 = 0.992378
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.007622
positive prediction rate = 0.026027
AUC of ROC = 0.89801
AUC of PRC = 0.578567
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08887699991464615
difference in average predicted and observed risk = -0.03677700008535384
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.949601
AUC of PRC = 0.790025
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[2462   12]
 [ 209   46]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07953199744224548
difference in average predicted and observed risk = -0.013909002557754513
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.921752
precision class 1 = 0.793103
recall class 0 = 0.99515
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.00485
positive prediction rate = 0.021253
AUC of ROC = 0.884821
AUC of PRC = 0.515385
min(+P, Se) = 0.498141

-------------------------------

confusion matrix:
[[1676    7]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09212599694728851
difference in average predicted and observed risk = -0.021618003052711485
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.903991
precision class 1 = 0.844444
recall class 0 = 0.995841
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.004159
positive prediction rate = 0.023697
AUC of ROC = 0.890011
AUC of PRC = 0.605281
min(+P, Se) = 0.59447

-------------------------------

confusion matrix:
[[547   2]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10055699944496155
difference in average predicted and observed risk = -0.022446000555038453
number samples = 626
accuracy = 0.891374
precision class 0 = 0.892333
precision class 1 = 0.846154
recall class 0 = 0.996357
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.003643
positive prediction rate = 0.020767
AUC of ROC = 0.902964
AUC of PRC = 0.63005
min(+P, Se) = 0.594937

-------------------------------

confusion matrix:
[[2243    6]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07085999846458435
difference in average predicted and observed risk = -0.013796001535415645
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.92533
precision class 1 = 0.818182
recall class 0 = 0.997332
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.002668
positive prediction rate = 0.013431
AUC of ROC = 0.882424
AUC of PRC = 0.479706
min(+P, Se) = 0.4689

-------------------------------

confusion matrix:
[[223   0]
 [ 25   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08312500268220901
difference in average predicted and observed risk = -0.017680997317790992
number samples = 248
accuracy = 0.899194
precision class 0 = 0.899194
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.8287
AUC of PRC = 0.357348
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[474   7]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12051399797201157
difference in average predicted and observed risk = -0.025134002027988434
number samples = 563
accuracy = 0.898757
precision class 0 = 0.90458
precision class 1 = 0.820513
recall class 0 = 0.985447
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.014553
positive prediction rate = 0.069272
AUC of ROC = 0.908397
AUC of PRC = 0.700999
min(+P, Se) = 0.627907

-------------------------------

confusion matrix:
[[651   4]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09056200087070465
difference in average predicted and observed risk = -0.01706699912929535
number samples = 734
accuracy = 0.905995
precision class 0 = 0.909218
precision class 1 = 0.777778
recall class 0 = 0.993893
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.006107
positive prediction rate = 0.024523
AUC of ROC = 0.881051
AUC of PRC = 0.592652
min(+P, Se) = 0.594937

-------------------------------

confusion matrix:
[[4138   19]
 [ 387   84]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08469899743795395
difference in average predicted and observed risk = -0.017073002562046052
number samples = 4628
accuracy = 0.912273
precision class 0 = 0.914475
precision class 1 = 0.815534
recall class 0 = 0.995429
recall class 1 = 0.178344
false negative rate = 0.821656
false positive rate = 0.004571
positive prediction rate = 0.022256
AUC of ROC = 0.887157
AUC of PRC = 0.554585
min(+P, Se) = 0.541152

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07903800159692764
difference in average predicted and observed risk = -0.0011309984030723613
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.877354
AUC of PRC = 0.417631
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07693500071763992
difference in average predicted and observed risk = -0.03186099928236008
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.857364
AUC of PRC = 0.540741
min(+P, Se) = 0.489796

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12198899686336517
difference in average predicted and observed risk = 0.01181999686336517
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.854212
AUC of PRC = 0.532853
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10231699794530869
difference in average predicted and observed risk = -0.031016002054691322
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09090600162744522
difference in average predicted and observed risk = -0.024137998372554773
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.851538
AUC of PRC = 0.41475
min(+P, Se) = 0.478261

-------------------------------

confusion matrix:
[[432   2]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08078499883413315
difference in average predicted and observed risk = -0.011265001165866859
number samples = 478
accuracy = 0.926778
precision class 0 = 0.929032
precision class 1 = 0.846154
recall class 0 = 0.995392
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.004608
positive prediction rate = 0.027197
AUC of ROC = 0.874529
AUC of PRC = 0.560118
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0651329979300499
difference in average predicted and observed risk = -0.024069002069950107
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.862249
AUC of PRC = 0.4943
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10169800370931625
difference in average predicted and observed risk = -0.015948996290683748
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.916667
AUC of PRC = 0.689803
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09097199887037277
difference in average predicted and observed risk = 0.002261998870372775
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.899437
AUC of PRC = 0.349338
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11507300287485123
difference in average predicted and observed risk = -0.03453299712514876
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.833821
AUC of PRC = 0.590844
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14256900548934937
difference in average predicted and observed risk = 0.06362200548934936
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.87619
AUC of PRC = 0.533578
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08498399704694748
difference in average predicted and observed risk = -0.01660700295305252
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.866518
AUC of PRC = 0.506435
min(+P, Se) = 0.5

-------------------------------

Epoch 00095: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch95.state
Epoch 96/100
 - 273s - loss: 0.2424 - val_loss: 0.2310

==>predicting on train



confusion matrix:
[[2144   11]
 [ 207   48]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08690600097179413
difference in average predicted and observed risk = -0.018902999028205872
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.911952
precision class 1 = 0.813559
recall class 0 = 0.994896
recall class 1 = 0.188235
false negative rate = 0.811765
false positive rate = 0.005104
positive prediction rate = 0.024481
AUC of ROC = 0.879747
AUC of PRC = 0.544623
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1164   15]
 [  86   32]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08983799815177917
difference in average predicted and observed risk = -0.0011410018482208295
number samples = 1297
accuracy = 0.922128
precision class 0 = 0.9312
precision class 1 = 0.680851
recall class 0 = 0.987277
recall class 1 = 0.271186
false negative rate = 0.728814
false positive rate = 0.012723
positive prediction rate = 0.036237
AUC of ROC = 0.888371
AUC of PRC = 0.514089
min(+P, Se) = 0.491803

-------------------------------

confusion matrix:
[[648   8]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10280899703502655
difference in average predicted and observed risk = 0.0014389970350265485
number samples = 730
accuracy = 0.909589
precision class 0 = 0.917847
precision class 1 = 0.666667
recall class 0 = 0.987805
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.012195
positive prediction rate = 0.032877
AUC of ROC = 0.901347
AUC of PRC = 0.563382
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09730900079011917
difference in average predicted and observed risk = -0.028344999209880817
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.948353
AUC of PRC = 0.78774
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2452   22]
 [ 199   56]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08589600026607513
difference in average predicted and observed risk = -0.007544999733924862
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.924934
precision class 1 = 0.717949
recall class 0 = 0.991108
recall class 1 = 0.219608
false negative rate = 0.780392
false positive rate = 0.008892
positive prediction rate = 0.028582
AUC of ROC = 0.887164
AUC of PRC = 0.513278
min(+P, Se) = 0.509804

-------------------------------

confusion matrix:
[[1670   13]
 [ 167   49]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09751900285482407
difference in average predicted and observed risk = -0.01622499714517593
number samples = 1899
accuracy = 0.905213
precision class 0 = 0.909091
precision class 1 = 0.790323
recall class 0 = 0.992276
recall class 1 = 0.226852
false negative rate = 0.773148
false positive rate = 0.007724
positive prediction rate = 0.032649
AUC of ROC = 0.88876
AUC of PRC = 0.588982
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[545   4]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09910000115633011
difference in average predicted and observed risk = -0.023902998843669893
number samples = 626
accuracy = 0.894569
precision class 0 = 0.897858
precision class 1 = 0.789474
recall class 0 = 0.992714
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.007286
positive prediction rate = 0.030351
AUC of ROC = 0.902562
AUC of PRC = 0.61614
min(+P, Se) = 0.564103

-------------------------------

confusion matrix:
[[2237   12]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07819800078868866
difference in average predicted and observed risk = -0.0064579992113113355
number samples = 2457
accuracy = 0.925112
precision class 0 = 0.928601
precision class 1 = 0.75
recall class 0 = 0.994664
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.005336
positive prediction rate = 0.019536
AUC of ROC = 0.883029
AUC of PRC = 0.475234
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0889820009469986
difference in average predicted and observed risk = -0.01182399905300141
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.823857
AUC of PRC = 0.334023
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[471  10]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12818500399589539
difference in average predicted and observed risk = -0.017462996004104614
number samples = 563
accuracy = 0.895204
precision class 0 = 0.905769
precision class 1 = 0.767442
recall class 0 = 0.97921
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.02079
positive prediction rate = 0.076377
AUC of ROC = 0.910628
AUC of PRC = 0.69196
min(+P, Se) = 0.646341

-------------------------------

confusion matrix:
[[649   6]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0969960018992424
difference in average predicted and observed risk = -0.010632998100757601
number samples = 734
accuracy = 0.911444
precision class 0 = 0.916667
precision class 1 = 0.769231
recall class 0 = 0.99084
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.00916
positive prediction rate = 0.035422
AUC of ROC = 0.880626
AUC of PRC = 0.580508
min(+P, Se) = 0.575

-------------------------------

confusion matrix:
[[4122   35]
 [ 366  105]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09066600352525711
difference in average predicted and observed risk = -0.01110599647474289
number samples = 4628
accuracy = 0.913354
precision class 0 = 0.918449
precision class 1 = 0.75
recall class 0 = 0.99158
recall class 1 = 0.22293
false negative rate = 0.77707
false positive rate = 0.00842
positive prediction rate = 0.030251
AUC of ROC = 0.888062
AUC of PRC = 0.54683
min(+P, Se) = 0.528662

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08785399794578552
difference in average predicted and observed risk = 0.007684997945785518
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.874698
AUC of PRC = 0.429893
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.082955002784729
difference in average predicted and observed risk = -0.025840997215271
number samples = 432
accuracy = 0.902778
precision class 0 = 0.901639
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.0
positive prediction rate = 0.011574
AUC of ROC = 0.85659
AUC of PRC = 0.524793
min(+P, Se) = 0.480769

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12937000393867493
difference in average predicted and observed risk = 0.019201003938674924
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.859341
AUC of PRC = 0.564114
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10418199747800827
difference in average predicted and observed risk = -0.029151002521991737
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09833300113677979
difference in average predicted and observed risk = -0.01671099886322021
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.851453
AUC of PRC = 0.44921
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[431   3]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08726800233125687
difference in average predicted and observed risk = -0.00478199766874314
number samples = 478
accuracy = 0.926778
precision class 0 = 0.930886
precision class 1 = 0.8
recall class 0 = 0.993088
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.006912
positive prediction rate = 0.031381
AUC of ROC = 0.876728
AUC of PRC = 0.569661
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07477600127458572
difference in average predicted and observed risk = -0.01442599872541428
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.862724
AUC of PRC = 0.507615
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10650400072336197
difference in average predicted and observed risk = -0.011142999276638033
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.924074
AUC of PRC = 0.681456
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08973400294780731
difference in average predicted and observed risk = 0.0010240029478073148
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.87852
AUC of PRC = 0.32431
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12105599790811539
difference in average predicted and observed risk = -0.028550002091884602
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.837719
AUC of PRC = 0.619032
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15342600643634796
difference in average predicted and observed risk = 0.07447900643634796
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.520455
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[729   5]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09185899794101715
difference in average predicted and observed risk = -0.00973200205898285
number samples = 817
accuracy = 0.911873
precision class 0 = 0.915829
precision class 1 = 0.761905
recall class 0 = 0.993188
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.006812
positive prediction rate = 0.025704
AUC of ROC = 0.86678
AUC of PRC = 0.512702
min(+P, Se) = 0.47619

-------------------------------

Epoch 00096: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch96.state
Epoch 97/100
 - 276s - loss: 0.2406 - val_loss: 0.2321

==>predicting on train



confusion matrix:
[[2148    7]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08643300086259842
difference in average predicted and observed risk = -0.01937599913740158
number samples = 2410
accuracy = 0.908299
precision class 0 = 0.909399
precision class 1 = 0.854167
recall class 0 = 0.996752
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.003248
positive prediction rate = 0.019917
AUC of ROC = 0.878592
AUC of PRC = 0.54284
min(+P, Se) = 0.511719

-------------------------------

confusion matrix:
[[1167   12]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08821500092744827
difference in average predicted and observed risk = -0.0027639990725517316
number samples = 1297
accuracy = 0.922899
precision class 0 = 0.92988
precision class 1 = 0.714286
recall class 0 = 0.989822
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.010178
positive prediction rate = 0.032382
AUC of ROC = 0.891498
AUC of PRC = 0.528941
min(+P, Se) = 0.520661

-------------------------------

confusion matrix:
[[653   3]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10157199949026108
difference in average predicted and observed risk = 0.0002019994902610761
number samples = 730
accuracy = 0.913699
precision class 0 = 0.915849
precision class 1 = 0.823529
recall class 0 = 0.995427
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.004573
positive prediction rate = 0.023288
AUC of ROC = 0.899699
AUC of PRC = 0.568792
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09328199923038483
difference in average predicted and observed risk = -0.03237200076961516
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.954092
AUC of PRC = 0.79418
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2459   15]
 [ 206   49]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08429200202226639
difference in average predicted and observed risk = -0.009148997977733608
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.922702
precision class 1 = 0.765625
recall class 0 = 0.993937
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.006063
positive prediction rate = 0.023452
AUC of ROC = 0.889965
AUC of PRC = 0.518164
min(+P, Se) = 0.494624

-------------------------------

confusion matrix:
[[1676    7]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09723600000143051
difference in average predicted and observed risk = -0.016507999998569486
number samples = 1899
accuracy = 0.904687
precision class 0 = 0.905946
precision class 1 = 0.857143
recall class 0 = 0.995841
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.004159
positive prediction rate = 0.025803
AUC of ROC = 0.885497
AUC of PRC = 0.594299
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[548   1]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10391300171613693
difference in average predicted and observed risk = -0.01908999828386307
number samples = 626
accuracy = 0.897764
precision class 0 = 0.89689
precision class 1 = 0.933333
recall class 0 = 0.998178
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.001821
positive prediction rate = 0.023962
AUC of ROC = 0.905424
AUC of PRC = 0.623902
min(+P, Se) = 0.589744

-------------------------------

confusion matrix:
[[2242    7]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07659299671649933
difference in average predicted and observed risk = -0.008063003283500667
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.925299
precision class 1 = 0.794118
recall class 0 = 0.996888
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.003112
positive prediction rate = 0.013838
AUC of ROC = 0.881762
AUC of PRC = 0.478887
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09174200147390366
difference in average predicted and observed risk = -0.00906399852609635
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.820628
AUC of PRC = 0.339885
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[472   9]
 [ 48  34]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1254969984292984
difference in average predicted and observed risk = -0.0201510015707016
number samples = 563
accuracy = 0.898757
precision class 0 = 0.907692
precision class 1 = 0.790698
recall class 0 = 0.981289
recall class 1 = 0.414634
false negative rate = 0.585366
false positive rate = 0.018711
positive prediction rate = 0.076377
AUC of ROC = 0.907637
AUC of PRC = 0.687008
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[651   4]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0926939994096756
difference in average predicted and observed risk = -0.014935000590324404
number samples = 734
accuracy = 0.907357
precision class 0 = 0.910489
precision class 1 = 0.789474
recall class 0 = 0.993893
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.006107
positive prediction rate = 0.025886
AUC of ROC = 0.8854
AUC of PRC = 0.594643
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[4135   22]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0896029993891716
difference in average predicted and observed risk = -0.012169000610828401
number samples = 4628
accuracy = 0.913137
precision class 0 = 0.915836
precision class 1 = 0.80531
recall class 0 = 0.994708
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.005292
positive prediction rate = 0.024417
AUC of ROC = 0.888325
AUC of PRC = 0.551475
min(+P, Se) = 0.529536

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08399300277233124
difference in average predicted and observed risk = 0.0038240027723312336
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.881217
AUC of PRC = 0.421199
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08157899975776672
difference in average predicted and observed risk = -0.02721700024223328
number samples = 432
accuracy = 0.902778
precision class 0 = 0.901639
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.0
positive prediction rate = 0.011574
AUC of ROC = 0.854877
AUC of PRC = 0.552441
min(+P, Se) = 0.471698

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12773500382900238
difference in average predicted and observed risk = 0.017566003829002377
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.85641
AUC of PRC = 0.536391
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11219500005245209
difference in average predicted and observed risk = -0.02113799994754792
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.961538
AUC of PRC = 0.866071
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09518399834632874
difference in average predicted and observed risk = -0.019860001653671258
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.839402
AUC of PRC = 0.431423
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08644299954175949
difference in average predicted and observed risk = -0.005607000458240516
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.881441
AUC of PRC = 0.576005
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07055400311946869
difference in average predicted and observed risk = -0.018647996880531315
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.865233
AUC of PRC = 0.517194
min(+P, Se) = 0.488889

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10529299825429916
difference in average predicted and observed risk = -0.012354001745700838
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.906481
AUC of PRC = 0.666603
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09432300180196762
difference in average predicted and observed risk = 0.005613001801967624
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.852776
AUC of PRC = 0.337678
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12370900064706802
difference in average predicted and observed risk = -0.025896999352931965
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.851852
AUC of PRC = 0.607858
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14168499410152435
difference in average predicted and observed risk = 0.06273799410152435
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.87619
AUC of PRC = 0.533578
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[729   5]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09007000178098679
difference in average predicted and observed risk = -0.011520998219013215
number samples = 817
accuracy = 0.910649
precision class 0 = 0.91468
precision class 1 = 0.75
recall class 0 = 0.993188
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.006812
positive prediction rate = 0.02448
AUC of ROC = 0.865352
AUC of PRC = 0.517312
min(+P, Se) = 0.46988

-------------------------------

Epoch 00097: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch97.state
Epoch 98/100
 - 275s - loss: 0.2384 - val_loss: 0.2298

==>predicting on train



confusion matrix:
[[2145   10]
 [ 202   53]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08749499917030334
difference in average predicted and observed risk = -0.018314000829696656
number samples = 2410
accuracy = 0.912033
precision class 0 = 0.913933
precision class 1 = 0.84127
recall class 0 = 0.99536
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.00464
positive prediction rate = 0.026141
AUC of ROC = 0.879658
AUC of PRC = 0.551093
min(+P, Se) = 0.496241

-------------------------------

confusion matrix:
[[1165   14]
 [  87   31]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08975800126791
difference in average predicted and observed risk = -0.0012209987320900006
number samples = 1297
accuracy = 0.922128
precision class 0 = 0.930511
precision class 1 = 0.688889
recall class 0 = 0.988126
recall class 1 = 0.262712
false negative rate = 0.737288
false positive rate = 0.011874
positive prediction rate = 0.034695
AUC of ROC = 0.892641
AUC of PRC = 0.527832
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[646  10]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10491199791431427
difference in average predicted and observed risk = 0.0035419979143142682
number samples = 730
accuracy = 0.908219
precision class 0 = 0.918919
precision class 1 = 0.62963
recall class 0 = 0.984756
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.015244
positive prediction rate = 0.036986
AUC of ROC = 0.903139
AUC of PRC = 0.575982
min(+P, Se) = 0.586667

-------------------------------

confusion matrix:
[[166   1]
 [ 13  11]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09822800010442734
difference in average predicted and observed risk = -0.02742599989557265
number samples = 191
accuracy = 0.926702
precision class 0 = 0.927374
precision class 1 = 0.916667
recall class 0 = 0.994012
recall class 1 = 0.458333
false negative rate = 0.541667
false positive rate = 0.005988
positive prediction rate = 0.062827
AUC of ROC = 0.951597
AUC of PRC = 0.792283
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2451   23]
 [ 198   57]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0858680009841919
difference in average predicted and observed risk = -0.007572999015808102
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.925255
precision class 1 = 0.7125
recall class 0 = 0.990703
recall class 1 = 0.223529
false negative rate = 0.776471
false positive rate = 0.009297
positive prediction rate = 0.029315
AUC of ROC = 0.890806
AUC of PRC = 0.530816
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1671   12]
 [ 161   55]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09915299713611603
difference in average predicted and observed risk = -0.01459100286388397
number samples = 1899
accuracy = 0.908899
precision class 0 = 0.912118
precision class 1 = 0.820895
recall class 0 = 0.99287
recall class 1 = 0.25463
false negative rate = 0.74537
false positive rate = 0.00713
positive prediction rate = 0.035282
AUC of ROC = 0.887844
AUC of PRC = 0.591591
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[545   4]
 [ 58  19]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10265800356864929
difference in average predicted and observed risk = -0.02034499643135071
number samples = 626
accuracy = 0.900958
precision class 0 = 0.903814
precision class 1 = 0.826087
recall class 0 = 0.992714
recall class 1 = 0.246753
false negative rate = 0.753247
false positive rate = 0.007286
positive prediction rate = 0.036741
AUC of ROC = 0.903272
AUC of PRC = 0.627082
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[2237   12]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07750099897384644
difference in average predicted and observed risk = -0.00715500102615356
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.928216
precision class 1 = 0.744681
recall class 0 = 0.994664
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.005336
positive prediction rate = 0.019129
AUC of ROC = 0.882858
AUC of PRC = 0.479311
min(+P, Se) = 0.462617

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09201999753713608
difference in average predicted and observed risk = -0.008786002462863929
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.833184
AUC of PRC = 0.355819
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[470  11]
 [ 47  35]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13330699503421783
difference in average predicted and observed risk = -0.012341004965782165
number samples = 563
accuracy = 0.89698
precision class 0 = 0.909091
precision class 1 = 0.76087
recall class 0 = 0.977131
recall class 1 = 0.426829
false negative rate = 0.573171
false positive rate = 0.022869
positive prediction rate = 0.081705
AUC of ROC = 0.909285
AUC of PRC = 0.699594
min(+P, Se) = 0.634146

-------------------------------

confusion matrix:
[[650   5]
 [ 57  22]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0954660028219223
difference in average predicted and observed risk = -0.0121629971780777
number samples = 734
accuracy = 0.915531
precision class 0 = 0.919378
precision class 1 = 0.814815
recall class 0 = 0.992366
recall class 1 = 0.278481
false negative rate = 0.721519
false positive rate = 0.007634
positive prediction rate = 0.036785
AUC of ROC = 0.885187
AUC of PRC = 0.591545
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[4122   35]
 [ 359  112]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09132000058889389
difference in average predicted and observed risk = -0.010451999411106111
number samples = 4628
accuracy = 0.914866
precision class 0 = 0.919884
precision class 1 = 0.761905
recall class 0 = 0.99158
recall class 1 = 0.237792
false negative rate = 0.762208
false positive rate = 0.00842
positive prediction rate = 0.031763
AUC of ROC = 0.889534
AUC of PRC = 0.557272
min(+P, Se) = 0.524416

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08580899983644485
difference in average predicted and observed risk = 0.005639999836444851
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.869628
AUC of PRC = 0.435838
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[384   1]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08263500034809113
difference in average predicted and observed risk = -0.02616099965190888
number samples = 432
accuracy = 0.902778
precision class 0 = 0.903529
precision class 1 = 0.857143
recall class 0 = 0.997403
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.002597
positive prediction rate = 0.016204
AUC of ROC = 0.859132
AUC of PRC = 0.539227
min(+P, Se) = 0.489796

-------------------------------

confusion matrix:
[[102   3]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1319189965724945
difference in average predicted and observed risk = 0.021749996572494504
number samples = 118
accuracy = 0.90678
precision class 0 = 0.927273
precision class 1 = 0.625
recall class 0 = 0.971429
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.028571
positive prediction rate = 0.067797
AUC of ROC = 0.865934
AUC of PRC = 0.57102
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11020399630069733
difference in average predicted and observed risk = -0.02312900369930268
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.883929
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09794899821281433
difference in average predicted and observed risk = -0.017095001787185662
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.850342
AUC of PRC = 0.462395
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[431   3]
 [ 31  13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08724500238895416
difference in average predicted and observed risk = -0.004804997611045844
number samples = 478
accuracy = 0.92887
precision class 0 = 0.9329
precision class 1 = 0.8125
recall class 0 = 0.993088
recall class 1 = 0.295455
false negative rate = 0.704545
false positive rate = 0.006912
positive prediction rate = 0.033473
AUC of ROC = 0.875628
AUC of PRC = 0.568174
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07078299671411514
difference in average predicted and observed risk = -0.01841900328588486
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.865437
AUC of PRC = 0.512467
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[88  2]
 [ 7  5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11015100032091141
difference in average predicted and observed risk = -0.007495999679088594
number samples = 102
accuracy = 0.911765
precision class 0 = 0.926316
precision class 1 = 0.714286
recall class 0 = 0.977778
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.022222
positive prediction rate = 0.068627
AUC of ROC = 0.905556
AUC of PRC = 0.669547
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09500200301408768
difference in average predicted and observed risk = 0.00629200301408768
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.88576
AUC of PRC = 0.35105
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12627899646759033
difference in average predicted and observed risk = -0.023327003532409657
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.837232
AUC of PRC = 0.617742
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1500300019979477
difference in average predicted and observed risk = 0.07108300199794769
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.904762
AUC of PRC = 0.732906
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09168600291013718
difference in average predicted and observed risk = -0.009904997089862824
number samples = 817
accuracy = 0.914321
precision class 0 = 0.919192
precision class 1 = 0.76
recall class 0 = 0.991826
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.008174
positive prediction rate = 0.0306
AUC of ROC = 0.86637
AUC of PRC = 0.524195
min(+P, Se) = 0.481928

-------------------------------

Epoch 00098: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch98.state
Epoch 99/100
 - 271s - loss: 0.2425 - val_loss: 0.2316

==>predicting on train



confusion matrix:
[[2146    9]
 [ 202   53]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.10490400344133377
difference in average predicted and observed risk = -0.0009049965586662295
number samples = 2410
accuracy = 0.912448
precision class 0 = 0.913969
precision class 1 = 0.854839
recall class 0 = 0.995824
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.004176
positive prediction rate = 0.025726
AUC of ROC = 0.880315
AUC of PRC = 0.554383
min(+P, Se) = 0.509728

-------------------------------

confusion matrix:
[[1164   15]
 [  86   32]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10642199963331223
difference in average predicted and observed risk = 0.015442999633312221
number samples = 1297
accuracy = 0.922128
precision class 0 = 0.9312
precision class 1 = 0.680851
recall class 0 = 0.987277
recall class 1 = 0.271186
false negative rate = 0.728814
false positive rate = 0.012723
positive prediction rate = 0.036237
AUC of ROC = 0.892095
AUC of PRC = 0.538397
min(+P, Se) = 0.496124

-------------------------------

confusion matrix:
[[646  10]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.12390600144863129
difference in average predicted and observed risk = 0.022536001448631285
number samples = 730
accuracy = 0.913699
precision class 0 = 0.924177
precision class 1 = 0.677419
recall class 0 = 0.984756
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.015244
positive prediction rate = 0.042466
AUC of ROC = 0.904375
AUC of PRC = 0.576852
min(+P, Se) = 0.564103

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.11559499800205231
difference in average predicted and observed risk = -0.01005900199794768
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.951098
AUC of PRC = 0.792867
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[2449   25]
 [ 196   59]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.10260199755430222
difference in average predicted and observed risk = 0.00916099755430222
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.925898
precision class 1 = 0.702381
recall class 0 = 0.989895
recall class 1 = 0.231373
false negative rate = 0.768627
false positive rate = 0.010105
positive prediction rate = 0.030781
AUC of ROC = 0.889835
AUC of PRC = 0.526228
min(+P, Se) = 0.501946

-------------------------------

confusion matrix:
[[1673   10]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.11762899905443192
difference in average predicted and observed risk = 0.0038849990544319174
number samples = 1899
accuracy = 0.910479
precision class 0 = 0.912711
precision class 1 = 0.848485
recall class 0 = 0.994058
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.005942
positive prediction rate = 0.034755
AUC of ROC = 0.890462
AUC of PRC = 0.608622
min(+P, Se) = 0.564815

-------------------------------

confusion matrix:
[[544   5]
 [ 57  20]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12210900336503983
difference in average predicted and observed risk = -0.0008939966349601758
number samples = 626
accuracy = 0.900958
precision class 0 = 0.905158
precision class 1 = 0.8
recall class 0 = 0.990893
recall class 1 = 0.25974
false negative rate = 0.74026
false positive rate = 0.009107
positive prediction rate = 0.039936
AUC of ROC = 0.904265
AUC of PRC = 0.622961
min(+P, Se) = 0.589744

-------------------------------

confusion matrix:
[[2238   11]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.09403199702501297
difference in average predicted and observed risk = 0.009375997025012975
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.928631
precision class 1 = 0.765957
recall class 0 = 0.995109
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.004891
positive prediction rate = 0.019129
AUC of ROC = 0.884092
AUC of PRC = 0.486938
min(+P, Se) = 0.473934

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11055400222539902
difference in average predicted and observed risk = 0.00974800222539901
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.828879
AUC of PRC = 0.352922
min(+P, Se) = 0.424242

-------------------------------

confusion matrix:
[[470  11]
 [ 44  38]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1509850025177002
difference in average predicted and observed risk = 0.005337002517700196
number samples = 563
accuracy = 0.902309
precision class 0 = 0.914397
precision class 1 = 0.77551
recall class 0 = 0.977131
recall class 1 = 0.463415
false negative rate = 0.536585
false positive rate = 0.022869
positive prediction rate = 0.087034
AUC of ROC = 0.915623
AUC of PRC = 0.714243
min(+P, Se) = 0.646341

-------------------------------

confusion matrix:
[[650   5]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1137320026755333
difference in average predicted and observed risk = 0.006103002675533292
number samples = 734
accuracy = 0.912807
precision class 0 = 0.916784
precision class 1 = 0.8
recall class 0 = 0.992366
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.007634
positive prediction rate = 0.03406
AUC of ROC = 0.878887
AUC of PRC = 0.584404
min(+P, Se) = 0.56962

-------------------------------

confusion matrix:
[[4122   35]
 [ 356  115]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.10876800119876862
difference in average predicted and observed risk = 0.006996001198768614
number samples = 4628
accuracy = 0.915514
precision class 0 = 0.9205
precision class 1 = 0.766667
recall class 0 = 0.99158
recall class 1 = 0.244161
false negative rate = 0.755839
false positive rate = 0.00842
positive prediction rate = 0.032411
AUC of ROC = 0.890228
AUC of PRC = 0.561758
min(+P, Se) = 0.532909

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.1032480001449585
difference in average predicted and observed risk = 0.023079000144958492
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.867938
AUC of PRC = 0.434375
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[384   1]
 [ 39   8]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.10158699750900269
difference in average predicted and observed risk = -0.007209002490997318
number samples = 432
accuracy = 0.907407
precision class 0 = 0.907801
precision class 1 = 0.888889
recall class 0 = 0.997403
recall class 1 = 0.170213
false negative rate = 0.829787
false positive rate = 0.002597
positive prediction rate = 0.020833
AUC of ROC = 0.857474
AUC of PRC = 0.528832
min(+P, Se) = 0.482143

-------------------------------

confusion matrix:
[[101   4]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1503939926624298
difference in average predicted and observed risk = 0.04022499266242981
number samples = 118
accuracy = 0.898305
precision class 0 = 0.926606
precision class 1 = 0.555556
recall class 0 = 0.961905
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.038095
positive prediction rate = 0.076271
AUC of ROC = 0.877656
AUC of PRC = 0.547596
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12361299991607666
difference in average predicted and observed risk = -0.009720000083923347
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 32   7]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11817599833011627
difference in average predicted and observed risk = 0.0031319983301162785
number samples = 339
accuracy = 0.893805
precision class 0 = 0.902439
precision class 1 = 0.636364
recall class 0 = 0.986667
recall class 1 = 0.179487
false negative rate = 0.820513
false positive rate = 0.013333
positive prediction rate = 0.032448
AUC of ROC = 0.845726
AUC of PRC = 0.417544
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[430   4]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.10407699644565582
difference in average predicted and observed risk = 0.012026996445655816
number samples = 478
accuracy = 0.92887
precision class 0 = 0.934783
precision class 1 = 0.777778
recall class 0 = 0.990783
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.009217
positive prediction rate = 0.037657
AUC of ROC = 0.881179
AUC of PRC = 0.56893
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08826000243425369
difference in average predicted and observed risk = -0.0009419975657463109
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.863402
AUC of PRC = 0.48708
min(+P, Se) = 0.525

-------------------------------

confusion matrix:
[[87  3]
 [ 5  7]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12963099777698517
difference in average predicted and observed risk = 0.011983997776985167
number samples = 102
accuracy = 0.921569
precision class 0 = 0.945652
precision class 1 = 0.7
recall class 0 = 0.966667
recall class 1 = 0.583333
false negative rate = 0.416667
false positive rate = 0.033333
positive prediction rate = 0.098039
AUC of ROC = 0.90463
AUC of PRC = 0.653499
min(+P, Se) = 0.588235

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11656700074672699
difference in average predicted and observed risk = 0.027857000746726993
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.877715
AUC of PRC = 0.339869
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.14308799803256989
difference in average predicted and observed risk = -0.006518001967430104
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.845029
AUC of PRC = 0.603728
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.16743800044059753
difference in average predicted and observed risk = 0.08849100044059753
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.745455
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[726   8]
 [ 62  21]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10992699861526489
difference in average predicted and observed risk = 0.008335998615264892
number samples = 817
accuracy = 0.914321
precision class 0 = 0.92132
precision class 1 = 0.724138
recall class 0 = 0.989101
recall class 1 = 0.253012
false negative rate = 0.746988
false positive rate = 0.010899
positive prediction rate = 0.035496
AUC of ROC = 0.866666
AUC of PRC = 0.51351
min(+P, Se) = 0.482759

-------------------------------

Epoch 00099: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch99.state
Epoch 100/100
 - 270s - loss: 0.2414 - val_loss: 0.2284

==>predicting on train



confusion matrix:
[[2146    9]
 [ 204   51]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08923300355672836
difference in average predicted and observed risk = -0.016575996443271637
number samples = 2410
accuracy = 0.911618
precision class 0 = 0.913191
precision class 1 = 0.85
recall class 0 = 0.995824
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.004176
positive prediction rate = 0.024896
AUC of ROC = 0.881896
AUC of PRC = 0.551491
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1166   13]
 [  85   33]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09182900190353394
difference in average predicted and observed risk = 0.0008500019035339312
number samples = 1297
accuracy = 0.924441
precision class 0 = 0.932054
precision class 1 = 0.717391
recall class 0 = 0.988974
recall class 1 = 0.279661
false negative rate = 0.720339
false positive rate = 0.011026
positive prediction rate = 0.035466
AUC of ROC = 0.892131
AUC of PRC = 0.53497
min(+P, Se) = 0.515873

-------------------------------

confusion matrix:
[[648   8]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1065249964594841
difference in average predicted and observed risk = 0.005154996459484099
number samples = 730
accuracy = 0.909589
precision class 0 = 0.917847
precision class 1 = 0.666667
recall class 0 = 0.987805
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.012195
positive prediction rate = 0.032877
AUC of ROC = 0.900667
AUC of PRC = 0.568213
min(+P, Se) = 0.586667

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10000099986791611
difference in average predicted and observed risk = -0.02565300013208388
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.953593
AUC of PRC = 0.811001
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2455   19]
 [ 198   57]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08770699799060822
difference in average predicted and observed risk = -0.005734002009391781
number samples = 2729
accuracy = 0.920484
precision class 0 = 0.925368
precision class 1 = 0.75
recall class 0 = 0.99232
recall class 1 = 0.223529
false negative rate = 0.776471
false positive rate = 0.00768
positive prediction rate = 0.027849
AUC of ROC = 0.888727
AUC of PRC = 0.521829
min(+P, Se) = 0.503876

-------------------------------

confusion matrix:
[[1672   11]
 [ 165   51]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10092800110578537
difference in average predicted and observed risk = -0.012815998894214628
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.91018
precision class 1 = 0.822581
recall class 0 = 0.993464
recall class 1 = 0.236111
false negative rate = 0.763889
false positive rate = 0.006536
positive prediction rate = 0.032649
AUC of ROC = 0.892019
AUC of PRC = 0.60608
min(+P, Se) = 0.574074

-------------------------------

confusion matrix:
[[546   3]
 [ 60  17]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10565699636936188
difference in average predicted and observed risk = -0.017346003630638124
number samples = 626
accuracy = 0.899361
precision class 0 = 0.90099
precision class 1 = 0.85
recall class 0 = 0.994536
recall class 1 = 0.220779
false negative rate = 0.779221
false positive rate = 0.005464
positive prediction rate = 0.031949
AUC of ROC = 0.90074
AUC of PRC = 0.62012
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2238   11]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0786300003528595
difference in average predicted and observed risk = -0.006025999647140498
number samples = 2457
accuracy = 0.925112
precision class 0 = 0.928246
precision class 1 = 0.76087
recall class 0 = 0.995109
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.004891
positive prediction rate = 0.018722
AUC of ROC = 0.885684
AUC of PRC = 0.4825
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09075000137090683
difference in average predicted and observed risk = -0.010055998629093177
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.837668
AUC of PRC = 0.341516
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[472   9]
 [ 45  37]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.13828900456428528
difference in average predicted and observed risk = -0.007358995435714721
number samples = 563
accuracy = 0.904085
precision class 0 = 0.912959
precision class 1 = 0.804348
recall class 0 = 0.981289
recall class 1 = 0.451219
false negative rate = 0.548781
false positive rate = 0.018711
positive prediction rate = 0.081705
AUC of ROC = 0.911744
AUC of PRC = 0.706041
min(+P, Se) = 0.658537

-------------------------------

confusion matrix:
[[650   5]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09716299921274185
difference in average predicted and observed risk = -0.01046600078725815
number samples = 734
accuracy = 0.910082
precision class 0 = 0.914205
precision class 1 = 0.782609
recall class 0 = 0.992366
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.007634
positive prediction rate = 0.031335
AUC of ROC = 0.880452
AUC of PRC = 0.582624
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[4127   30]
 [ 363  108]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09313199669122696
difference in average predicted and observed risk = -0.008640003308773042
number samples = 4628
accuracy = 0.915082
precision class 0 = 0.919154
precision class 1 = 0.782609
recall class 0 = 0.992783
recall class 1 = 0.229299
false negative rate = 0.770701
false positive rate = 0.007217
positive prediction rate = 0.029818
AUC of ROC = 0.890234
AUC of PRC = 0.558478
min(+P, Se) = 0.535032

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08817899972200394
difference in average predicted and observed risk = 0.008009999722003933
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.879527
AUC of PRC = 0.453654
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[384   1]
 [ 39   8]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0858440026640892
difference in average predicted and observed risk = -0.0229519973359108
number samples = 432
accuracy = 0.907407
precision class 0 = 0.907801
precision class 1 = 0.888889
recall class 0 = 0.997403
recall class 1 = 0.170213
false negative rate = 0.829787
false positive rate = 0.002597
positive prediction rate = 0.020833
AUC of ROC = 0.854435
AUC of PRC = 0.551721
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[101   4]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1337369978427887
difference in average predicted and observed risk = 0.023567997842788693
number samples = 118
accuracy = 0.898305
precision class 0 = 0.926606
precision class 1 = 0.555556
recall class 0 = 0.961905
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.038095
positive prediction rate = 0.076271
AUC of ROC = 0.888645
AUC of PRC = 0.564414
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 1  3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11452800035476685
difference in average predicted and observed risk = -0.01880499964523316
number samples = 30
accuracy = 0.966667
precision class 0 = 0.962963
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.75
false negative rate = 0.25
false positive rate = 0.0
positive prediction rate = 0.1
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 32   7]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10041999816894531
difference in average predicted and observed risk = -0.014624001831054681
number samples = 339
accuracy = 0.896755
precision class 0 = 0.902736
precision class 1 = 0.7
recall class 0 = 0.99
recall class 1 = 0.179487
false negative rate = 0.820513
false positive rate = 0.01
positive prediction rate = 0.029499
AUC of ROC = 0.850684
AUC of PRC = 0.4518
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[430   4]
 [ 30  14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09028799831867218
difference in average predicted and observed risk = -0.0017620016813278266
number samples = 478
accuracy = 0.92887
precision class 0 = 0.934783
precision class 1 = 0.777778
recall class 0 = 0.990783
recall class 1 = 0.318182
false negative rate = 0.681818
false positive rate = 0.009217
positive prediction rate = 0.037657
AUC of ROC = 0.883222
AUC of PRC = 0.587026
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 31   7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07371299713850021
difference in average predicted and observed risk = -0.01548900286149979
number samples = 426
accuracy = 0.924883
precision class 0 = 0.925837
precision class 1 = 0.875
recall class 0 = 0.997423
recall class 1 = 0.184211
false negative rate = 0.815789
false positive rate = 0.002577
positive prediction rate = 0.018779
AUC of ROC = 0.863809
AUC of PRC = 0.503457
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[88  2]
 [ 6  6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11929800361394882
difference in average predicted and observed risk = 0.0016510036139488204
number samples = 102
accuracy = 0.921569
precision class 0 = 0.93617
precision class 1 = 0.75
recall class 0 = 0.977778
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.022222
positive prediction rate = 0.078431
AUC of ROC = 0.919444
AUC of PRC = 0.689575
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09690199792385101
difference in average predicted and observed risk = 0.008191997923851016
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.890587
AUC of PRC = 0.363672
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[105   3]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1252630054950714
difference in average predicted and observed risk = -0.024342994504928578
number samples = 127
accuracy = 0.88189
precision class 0 = 0.897436
precision class 1 = 0.7
recall class 0 = 0.972222
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.027778
positive prediction rate = 0.07874
AUC of ROC = 0.839669
AUC of PRC = 0.617625
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15014100074768066
difference in average predicted and observed risk = 0.07119400074768066
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.885714
AUC of PRC = 0.513636
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[727   7]
 [ 62  21]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09449200332164764
difference in average predicted and observed risk = -0.007098996678352357
number samples = 817
accuracy = 0.915545
precision class 0 = 0.92142
precision class 1 = 0.75
recall class 0 = 0.990463
recall class 1 = 0.253012
false negative rate = 0.746988
false positive rate = 0.009537
positive prediction rate = 0.034272
AUC of ROC = 0.869702
AUC of PRC = 0.528291
min(+P, Se) = 0.493976

-------------------------------

Epoch 00100: saving model to models/outputs/starr/keras_states/2020-06-02_12-37/k_clstms.ETH.epoch100.state

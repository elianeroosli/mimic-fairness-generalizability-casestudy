TRAINING THE CHANNEL-WISE LSTM with additional data on gender
/share/pi/boussard/eroosli_work/benchmarking/mimic3models/in_hospital_mortality/main_aug.py:7: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
  import imp
Using TensorFlow backend.
2020-04-02 01:42:26.065986: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer.so.6'; dlerror: libnvinfer.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-04-02 01:42:26.072583: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer_plugin.so.6'; dlerror: libnvinfer_plugin.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-04-02 01:42:26.072603: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:30] Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly.
==> using model mimic3models/keras_models/channel_wise_lstms_aug.py
==> not used params in network class: dict_keys(['batch_size', 'beta_1', 'data', 'epochs', 'imputation', 'l1', 'l2', 'load_state', 'lr', 'mode', 'network', 'normalizer_state', 'optimizer', 'output_dir', 'prefix', 'save_every', 'small_part', 'target_repl_coef', 'timestep', 'verbose'])
==> excluded demographics: ['Ethnicity', 'Insurance']
==> found 18 channels: ['Capillary refill rate', 'Diastolic blood pressure', 'Fraction inspired oxygen', 'Gender', 'Glascow coma scale eye opening', 'Glascow coma scale motor response', 'Glascow coma scale total', 'Glascow coma scale verbal response', 'Glucose', 'Heart Rate', 'Height', 'Mean blood pressure', 'Oxygen saturation', 'Respiratory rate', 'Systolic blood pressure', 'Temperature', 'Weight', 'pH']
2020-04-02 01:42:34.615555: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-04-02 01:42:34.615589: E tensorflow/stream_executor/cuda/cuda_driver.cc:351] failed call to cuInit: UNKNOWN ERROR (303)
2020-04-02 01:42:34.615613: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (slurm-compute-z5cf9): /proc/driver/nvidia/version does not exist
2020-04-02 01:42:34.615788: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA
2020-04-02 01:42:34.641560: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100000000 Hz
2020-04-02 01:42:34.641820: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5642f542b4c0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-04-02 01:42:34.641845: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
==> model.final_name: 2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0
==> compiling the model
Model: "network_1"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
X (InputLayer)                  (None, None, 81)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, None, 81)     0           X[0][0]                          
__________________________________________________________________________________________________
slice_1 (Slice)                 (None, None, 3)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_2 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_3 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_4 (Slice)                 (None, None, 5)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_5 (Slice)                 (None, None, 9)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_6 (Slice)                 (None, None, 13)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_7 (Slice)                 (None, None, 14)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_8 (Slice)                 (None, None, 13)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_9 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_10 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_11 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_12 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_13 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_14 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_15 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_16 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_17 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_18 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
bidirectional_1 (Bidirectional) (None, None, 8)      256         slice_1[0][0]                    
__________________________________________________________________________________________________
bidirectional_2 (Bidirectional) (None, None, 8)      224         slice_2[0][0]                    
__________________________________________________________________________________________________
bidirectional_3 (Bidirectional) (None, None, 8)      224         slice_3[0][0]                    
__________________________________________________________________________________________________
bidirectional_4 (Bidirectional) (None, None, 8)      320         slice_4[0][0]                    
__________________________________________________________________________________________________
bidirectional_5 (Bidirectional) (None, None, 8)      448         slice_5[0][0]                    
__________________________________________________________________________________________________
bidirectional_6 (Bidirectional) (None, None, 8)      576         slice_6[0][0]                    
__________________________________________________________________________________________________
bidirectional_7 (Bidirectional) (None, None, 8)      608         slice_7[0][0]                    
__________________________________________________________________________________________________
bidirectional_8 (Bidirectional) (None, None, 8)      576         slice_8[0][0]                    
__________________________________________________________________________________________________
bidirectional_9 (Bidirectional) (None, None, 8)      224         slice_9[0][0]                    
__________________________________________________________________________________________________
bidirectional_10 (Bidirectional (None, None, 8)      224         slice_10[0][0]                   
__________________________________________________________________________________________________
bidirectional_11 (Bidirectional (None, None, 8)      224         slice_11[0][0]                   
__________________________________________________________________________________________________
bidirectional_12 (Bidirectional (None, None, 8)      224         slice_12[0][0]                   
__________________________________________________________________________________________________
bidirectional_13 (Bidirectional (None, None, 8)      224         slice_13[0][0]                   
__________________________________________________________________________________________________
bidirectional_14 (Bidirectional (None, None, 8)      224         slice_14[0][0]                   
__________________________________________________________________________________________________
bidirectional_15 (Bidirectional (None, None, 8)      224         slice_15[0][0]                   
__________________________________________________________________________________________________
bidirectional_16 (Bidirectional (None, None, 8)      224         slice_16[0][0]                   
__________________________________________________________________________________________________
bidirectional_17 (Bidirectional (None, None, 8)      224         slice_17[0][0]                   
__________________________________________________________________________________________________
bidirectional_18 (Bidirectional (None, None, 8)      224         slice_18[0][0]                   
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, None, 144)    0           bidirectional_1[0][0]            
                                                                 bidirectional_2[0][0]            
                                                                 bidirectional_3[0][0]            
                                                                 bidirectional_4[0][0]            
                                                                 bidirectional_5[0][0]            
                                                                 bidirectional_6[0][0]            
                                                                 bidirectional_7[0][0]            
                                                                 bidirectional_8[0][0]            
                                                                 bidirectional_9[0][0]            
                                                                 bidirectional_10[0][0]           
                                                                 bidirectional_11[0][0]           
                                                                 bidirectional_12[0][0]           
                                                                 bidirectional_13[0][0]           
                                                                 bidirectional_14[0][0]           
                                                                 bidirectional_15[0][0]           
                                                                 bidirectional_16[0][0]           
                                                                 bidirectional_17[0][0]           
                                                                 bidirectional_18[0][0]           
__________________________________________________________________________________________________
lstm_19 (LSTM)                  (None, 32)           22656       concatenate_1[0][0]              
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 32)           0           lstm_19[0][0]                    
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 1)            33          dropout_1[0][0]                  
==================================================================================================
Total params: 28,161
Trainable params: 28,161
Non-trainable params: 0
__________________________________________________________________________________________________
==> training
Train on 14681 samples, validate on 3222 samples
Epoch 1/100
 - 858s - loss: 0.3508 - val_loss: 0.3193

==>predicting on train


confusion matrix:
[[6874  112]
 [ 866  207]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8786450028419495
precision class 0 = 0.8881139755249023
precision class 1 = 0.6489030122756958
recall class 0 = 0.9839680194854736
recall class 1 = 0.19291700422763824
AUC of ROC = 0.804411
AUC of PRC = 0.458243
min(+P, Se) = 0.466728
confusion matrix:
[[5605  103]
 [ 725  189]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8749619722366333
precision class 0 = 0.8854659795761108
precision class 1 = 0.6472600102424622
recall class 0 = 0.9819549918174744
recall class 1 = 0.2067829966545105
AUC of ROC = 0.814351
AUC of PRC = 0.467153
min(+P, Se) = 0.471616
confusion matrix:
[[12479   215]
 [ 1591   396]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8769840002059937
precision class 0 = 0.8869230151176453
precision class 1 = 0.6481180191040039
recall class 0 = 0.9830629825592041
recall class 1 = 0.19929499924182892
AUC of ROC = 0.808481
AUC of PRC = 0.46163
min(+P, Se) = 0.46988

==>predicting on validation


confusion matrix:
[[1501   28]
 [ 192   52]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8759170174598694
precision class 0 = 0.8865919709205627
precision class 1 = 0.6499999761581421
recall class 0 = 0.9816870093345642
recall class 1 = 0.21311500668525696
AUC of ROC = 0.813003
AUC of PRC = 0.481219
min(+P, Se) = 0.479508
confusion matrix:
[[1228   29]
 [ 152   40]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8750860095024109
precision class 0 = 0.8898550271987915
precision class 1 = 0.5797100067138672
recall class 0 = 0.9769290089607239
recall class 1 = 0.20833300054073334
AUC of ROC = 0.821023
AUC of PRC = 0.444451
min(+P, Se) = 0.432292
confusion matrix:
[[2729   57]
 [ 344   92]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8755429983139038
precision class 0 = 0.8880569934844971
precision class 1 = 0.6174499988555908
recall class 0 = 0.979541003704071
recall class 1 = 0.21100899577140808
AUC of ROC = 0.815543
AUC of PRC = 0.45764
min(+P, Se) = 0.459954

Epoch 00001: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch1.test0.319333558299762.state
Epoch 2/100
 - 848s - loss: 0.3331 - val_loss: 0.3143

==>predicting on train


confusion matrix:
[[6898   88]
 [ 872  201]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8808779716491699
precision class 0 = 0.8877739906311035
precision class 1 = 0.695501983165741
recall class 0 = 0.9874029755592346
recall class 1 = 0.18732500076293945
AUC of ROC = 0.814598
AUC of PRC = 0.477273
min(+P, Se) = 0.480663
confusion matrix:
[[5649   59]
 [ 769  145]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8749619722366333
precision class 0 = 0.8801810145378113
precision class 1 = 0.7107840180397034
recall class 0 = 0.9896640181541443
recall class 1 = 0.15864300727844238
AUC of ROC = 0.824014
AUC of PRC = 0.484329
min(+P, Se) = 0.479212
confusion matrix:
[[12547   147]
 [ 1641   346]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8782100081443787
precision class 0 = 0.8843389749526978
precision class 1 = 0.7018259763717651
recall class 0 = 0.9884200096130371
recall class 1 = 0.17413200438022614
AUC of ROC = 0.818034
AUC of PRC = 0.47983
min(+P, Se) = 0.482394

==>predicting on validation


confusion matrix:
[[1508   21]
 [ 193   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.8865370154380798
precision class 1 = 0.7083330154418945
recall class 0 = 0.986266016960144
recall class 1 = 0.20901599526405334
AUC of ROC = 0.816
AUC of PRC = 0.488538
min(+P, Se) = 0.47541
confusion matrix:
[[1243   14]
 [ 163   29]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8778470158576965
precision class 0 = 0.8840680122375488
precision class 1 = 0.6744189858436584
recall class 0 = 0.9888619780540466
recall class 1 = 0.15104199945926666
AUC of ROC = 0.834042
AUC of PRC = 0.459147
min(+P, Se) = 0.454082
confusion matrix:
[[2751   35]
 [ 356   80]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8786470293998718
precision class 0 = 0.885420024394989
precision class 1 = 0.6956520080566406
recall class 0 = 0.9874370098114014
recall class 1 = 0.1834859997034073
AUC of ROC = 0.822673
AUC of PRC = 0.476228
min(+P, Se) = 0.460352

Epoch 00002: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch2.test0.3142766066769648.state
Epoch 3/100
 - 859s - loss: 0.3297 - val_loss: 0.3204

==>predicting on train


confusion matrix:
[[6983    3]
 [1028   45]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8720679879188538
precision class 0 = 0.8716760277748108
precision class 1 = 0.9375
recall class 0 = 0.9995710253715515
recall class 1 = 0.04193799942731857
AUC of ROC = 0.824505
AUC of PRC = 0.495179
min(+P, Se) = 0.490376
confusion matrix:
[[5705    3]
 [ 868   46]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8684689998626709
precision class 0 = 0.8679450154304504
precision class 1 = 0.9387760162353516
recall class 0 = 0.9994739890098572
recall class 1 = 0.050328001379966736
AUC of ROC = 0.82971
AUC of PRC = 0.499806
min(+P, Se) = 0.478118
confusion matrix:
[[12688     6]
 [ 1896    91]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8704450130462646
precision class 0 = 0.8699939846992493
precision class 1 = 0.9381440281867981
recall class 0 = 0.9995269775390625
recall class 1 = 0.04579799994826317
AUC of ROC = 0.826543
AUC of PRC = 0.496921
min(+P, Se) = 0.486663

==>predicting on validation


confusion matrix:
[[1528    1]
 [ 233   11]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8680199980735779
precision class 0 = 0.8676890134811401
precision class 1 = 0.9166669845581055
recall class 0 = 0.9993460178375244
recall class 1 = 0.04508199915289879
AUC of ROC = 0.822792
AUC of PRC = 0.498489
min(+P, Se) = 0.479839
confusion matrix:
[[1253    4]
 [ 182   10]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8716359734535217
precision class 0 = 0.8731709718704224
precision class 1 = 0.7142860293388367
recall class 0 = 0.9968180060386658
recall class 1 = 0.05208300054073334
AUC of ROC = 0.840481
AUC of PRC = 0.490134
min(+P, Se) = 0.482234
confusion matrix:
[[2781    5]
 [ 415   21]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8696460127830505
precision class 0 = 0.8701500296592712
precision class 1 = 0.8076919913291931
recall class 0 = 0.9982050061225891
recall class 1 = 0.04816500097513199
AUC of ROC = 0.82992
AUC of PRC = 0.493111
min(+P, Se) = 0.478261

Epoch 00003: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch3.test0.32038671751336084.state
Epoch 4/100
 - 852s - loss: 0.3250 - val_loss: 0.3185

==>predicting on train


confusion matrix:
[[6921   65]
 [ 875  198]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8833600282669067
precision class 0 = 0.8877630233764648
precision class 1 = 0.7528520226478577
recall class 0 = 0.9906960129737854
recall class 1 = 0.18452900648117065
AUC of ROC = 0.823637
AUC of PRC = 0.495205
min(+P, Se) = 0.483486
confusion matrix:
[[5655   53]
 [ 763  151]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.87677401304245
precision class 0 = 0.8811159729957581
precision class 1 = 0.7401959896087646
recall class 0 = 0.9907150268554688
recall class 1 = 0.16520799696445465
AUC of ROC = 0.826603
AUC of PRC = 0.494372
min(+P, Se) = 0.493048
confusion matrix:
[[12576   118]
 [ 1638   349]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8803899884223938
precision class 0 = 0.8847619891166687
precision class 1 = 0.7473229765892029
recall class 0 = 0.9907039999961853
recall class 1 = 0.1756419986486435
AUC of ROC = 0.824788
AUC of PRC = 0.494531
min(+P, Se) = 0.486056

==>predicting on validation


confusion matrix:
[[1509   20]
 [ 200   44]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8759170174598694
precision class 0 = 0.882972002029419
precision class 1 = 0.6875
recall class 0 = 0.9869199991226196
recall class 1 = 0.18032799661159515
AUC of ROC = 0.822661
AUC of PRC = 0.502308
min(+P, Se) = 0.491935
confusion matrix:
[[1242   15]
 [ 163   29]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8771569728851318
precision class 0 = 0.8839859962463379
precision class 1 = 0.6590909957885742
recall class 0 = 0.9880669713020325
recall class 1 = 0.15104199945926666
AUC of ROC = 0.834067
AUC of PRC = 0.469662
min(+P, Se) = 0.46875
confusion matrix:
[[2751   35]
 [ 363   73]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8764740228652954
precision class 0 = 0.883430004119873
precision class 1 = 0.6759260296821594
recall class 0 = 0.9874370098114014
recall class 1 = 0.16743099689483643
AUC of ROC = 0.827711
AUC of PRC = 0.488045
min(+P, Se) = 0.481651

Epoch 00004: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch4.test0.31850074511888526.state
Epoch 5/100
 - 857s - loss: 0.3211 - val_loss: 0.3198

==>predicting on train


confusion matrix:
[[6956   30]
 [ 949  124]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8785210251808167
precision class 0 = 0.8799489736557007
precision class 1 = 0.8051949739456177
recall class 0 = 0.9957060217857361
recall class 1 = 0.1155640035867691
AUC of ROC = 0.820069
AUC of PRC = 0.490445
min(+P, Se) = 0.487418
confusion matrix:
[[5680   28]
 [ 804  110]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8743579983711243
precision class 0 = 0.8760020136833191
precision class 1 = 0.7971010208129883
recall class 0 = 0.9950950145721436
recall class 1 = 0.12035000324249268
AUC of ROC = 0.826904
AUC of PRC = 0.493664
min(+P, Se) = 0.489059
confusion matrix:
[[12636    58]
 [ 1753   234]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8766430020332336
precision class 0 = 0.8781710267066956
precision class 1 = 0.8013700246810913
recall class 0 = 0.9954310059547424
recall class 1 = 0.11776500195264816
AUC of ROC = 0.823027
AUC of PRC = 0.491659
min(+P, Se) = 0.490689

==>predicting on validation


confusion matrix:
[[1525    4]
 [ 213   31]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8776090145111084
precision class 0 = 0.8774449825286865
precision class 1 = 0.8857139945030212
recall class 0 = 0.9973840117454529
recall class 1 = 0.12704899907112122
AUC of ROC = 0.821699
AUC of PRC = 0.509195
min(+P, Se) = 0.483607
confusion matrix:
[[1248    9]
 [ 171   21]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8757759928703308
precision class 0 = 0.879492998123169
precision class 1 = 0.699999988079071
recall class 0 = 0.9928399920463562
recall class 1 = 0.109375
AUC of ROC = 0.835202
AUC of PRC = 0.47589
min(+P, Se) = 0.466667
confusion matrix:
[[2773   13]
 [ 384   52]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8767849802970886
precision class 0 = 0.8783659934997559
precision class 1 = 0.800000011920929
recall class 0 = 0.9953340291976929
recall class 1 = 0.11926600337028503
AUC of ROC = 0.827317
AUC of PRC = 0.491609
min(+P, Se) = 0.472477

Epoch 00005: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch5.test0.3198149686853831.state
Epoch 6/100
 - 851s - loss: 0.3211 - val_loss: 0.3102

==>predicting on train


confusion matrix:
[[6960   26]
 [ 966  107]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.876908004283905
precision class 0 = 0.8781229853630066
precision class 1 = 0.8045110106468201
recall class 0 = 0.9962779879570007
recall class 1 = 0.09972000122070312
AUC of ROC = 0.823364
AUC of PRC = 0.498513
min(+P, Se) = 0.488827
confusion matrix:
[[5692   16]
 [ 828   86]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8725460171699524
precision class 0 = 0.8730059862136841
precision class 1 = 0.8431370258331299
recall class 0 = 0.9971969723701477
recall class 1 = 0.09409199655056
AUC of ROC = 0.826882
AUC of PRC = 0.49867
min(+P, Se) = 0.491247
confusion matrix:
[[12652    42]
 [ 1794   193]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8749399781227112
precision class 0 = 0.8758130073547363
precision class 1 = 0.8212770223617554
recall class 0 = 0.9966909885406494
recall class 1 = 0.09713099896907806
AUC of ROC = 0.824867
AUC of PRC = 0.498598
min(+P, Se) = 0.489693

==>predicting on validation


confusion matrix:
[[1527    2]
 [ 219   25]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8753520250320435
precision class 0 = 0.8745700120925903
precision class 1 = 0.9259260296821594
recall class 0 = 0.998691976070404
recall class 1 = 0.10245899856090546
AUC of ROC = 0.82759
AUC of PRC = 0.520355
min(+P, Se) = 0.492
confusion matrix:
[[1249    8]
 [ 174   18]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.874396026134491
precision class 0 = 0.877722978591919
precision class 1 = 0.6923080086708069
recall class 0 = 0.9936360120773315
recall class 1 = 0.09375
AUC of ROC = 0.835956
AUC of PRC = 0.484831
min(+P, Se) = 0.494845
confusion matrix:
[[2776   10]
 [ 393   43]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.874921977519989
precision class 0 = 0.8759859800338745
precision class 1 = 0.8113210201263428
recall class 0 = 0.9964110255241394
recall class 1 = 0.09862399846315384
AUC of ROC = 0.831073
AUC of PRC = 0.503466
min(+P, Se) = 0.495434

Epoch 00006: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch6.test0.31024899140860557.state
Epoch 7/100
 - 854s - loss: 0.3213 - val_loss: 0.3073

==>predicting on train


confusion matrix:
[[6954   32]
 [ 935  138]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8800100088119507
precision class 0 = 0.8814799785614014
precision class 1 = 0.8117650151252747
recall class 0 = 0.9954190254211426
recall class 1 = 0.1286109983921051
AUC of ROC = 0.821098
AUC of PRC = 0.500698
min(+P, Se) = 0.494884
confusion matrix:
[[5673   35]
 [ 791  123]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8752639889717102
precision class 0 = 0.8776299953460693
precision class 1 = 0.7784810066223145
recall class 0 = 0.9938679933547974
recall class 1 = 0.13457299768924713
AUC of ROC = 0.82495
AUC of PRC = 0.500659
min(+P, Se) = 0.481441
confusion matrix:
[[12627    67]
 [ 1726   261]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8778690099716187
precision class 0 = 0.8797460198402405
precision class 1 = 0.7957320213317871
recall class 0 = 0.9947220087051392
recall class 1 = 0.13135400414466858
AUC of ROC = 0.822748
AUC of PRC = 0.500341
min(+P, Se) = 0.488173

==>predicting on validation


confusion matrix:
[[1524    5]
 [ 210   34]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8787369728088379
precision class 0 = 0.8788930177688599
precision class 1 = 0.8717949986457825
recall class 0 = 0.9967300295829773
recall class 1 = 0.1393440067768097
AUC of ROC = 0.822479
AUC of PRC = 0.518759
min(+P, Se) = 0.502041
confusion matrix:
[[1248    9]
 [ 168   24]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8778470158576965
precision class 0 = 0.8813560009002686
precision class 1 = 0.7272729873657227
recall class 0 = 0.9928399920463562
recall class 1 = 0.125
AUC of ROC = 0.833599
AUC of PRC = 0.487319
min(+P, Se) = 0.489583
confusion matrix:
[[2772   14]
 [ 378   58]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8783360123634338
precision class 0 = 0.8799999952316284
precision class 1 = 0.8055559992790222
recall class 0 = 0.9949749708175659
recall class 1 = 0.13302800059318542
AUC of ROC = 0.827197
AUC of PRC = 0.503957
min(+P, Se) = 0.490868

Epoch 00007: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch7.test0.30729706902669723.state
Epoch 8/100
 - 860s - loss: 0.3221 - val_loss: 0.3064

==>predicting on train


confusion matrix:
[[6810  176]
 [ 759  314]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8839809894561768
precision class 0 = 0.8997229933738708
precision class 1 = 0.6408159732818604
recall class 0 = 0.9748070240020752
recall class 1 = 0.2926369905471802
AUC of ROC = 0.823732
AUC of PRC = 0.503282
min(+P, Se) = 0.481175
confusion matrix:
[[5581  127]
 [ 678  236]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8784360289573669
precision class 0 = 0.8916760087013245
precision class 1 = 0.6501380205154419
recall class 0 = 0.9777510166168213
recall class 1 = 0.25820600986480713
AUC of ROC = 0.825234
AUC of PRC = 0.502398
min(+P, Se) = 0.49453
confusion matrix:
[[12391   303]
 [ 1437   550]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.881479024887085
precision class 0 = 0.8960800170898438
precision class 1 = 0.6447830200195312
recall class 0 = 0.9761300086975098
recall class 1 = 0.2767989933490753
AUC of ROC = 0.824378
AUC of PRC = 0.502303
min(+P, Se) = 0.486567

==>predicting on validation


confusion matrix:
[[1479   50]
 [ 168   76]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8770449757575989
precision class 0 = 0.8979960083961487
precision class 1 = 0.6031749844551086
recall class 0 = 0.9672989845275879
recall class 1 = 0.31147500872612
AUC of ROC = 0.824108
AUC of PRC = 0.524055
min(+P, Se) = 0.485714
confusion matrix:
[[1226   31]
 [ 147   45]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8771569728851318
precision class 0 = 0.8929349780082703
precision class 1 = 0.592104971408844
recall class 0 = 0.9753379821777344
recall class 1 = 0.234375
AUC of ROC = 0.831108
AUC of PRC = 0.479703
min(+P, Se) = 0.476684
confusion matrix:
[[2705   81]
 [ 315  121]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8770949840545654
precision class 0 = 0.8956949710845947
precision class 1 = 0.5990099906921387
recall class 0 = 0.9709259867668152
recall class 1 = 0.277523010969162
AUC of ROC = 0.827191
AUC of PRC = 0.502977
min(+P, Se) = 0.479358

Epoch 00008: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch8.test0.3064274749331856.state
Epoch 9/100
 - 857s - loss: 0.3191 - val_loss: 0.3133

==>predicting on train


confusion matrix:
[[6919   67]
 [ 852  221]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8859660029411316
precision class 0 = 0.890362024307251
precision class 1 = 0.7673609852790833
recall class 0 = 0.9904090166091919
recall class 1 = 0.20596499741077423
AUC of ROC = 0.828314
AUC of PRC = 0.517158
min(+P, Se) = 0.501398
confusion matrix:
[[5653   55]
 [ 746  168]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.879040002822876
precision class 0 = 0.8834189772605896
precision class 1 = 0.7533630132675171
recall class 0 = 0.9903640151023865
recall class 1 = 0.18380700051784515
AUC of ROC = 0.831045
AUC of PRC = 0.511169
min(+P, Se) = 0.49453
confusion matrix:
[[12572   122]
 [ 1598   389]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8828420042991638
precision class 0 = 0.8872259855270386
precision class 1 = 0.7612519860267639
recall class 0 = 0.9903889894485474
recall class 1 = 0.19577300548553467
AUC of ROC = 0.829489
AUC of PRC = 0.514173
min(+P, Se) = 0.498239

==>predicting on validation


confusion matrix:
[[1506   23]
 [ 194   50]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8776090145111084
precision class 0 = 0.8858820199966431
precision class 1 = 0.6849319934844971
recall class 0 = 0.9849579930305481
recall class 1 = 0.2049179971218109
AUC of ROC = 0.822178
AUC of PRC = 0.522236
min(+P, Se) = 0.493878
confusion matrix:
[[1242   15]
 [ 162   30]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8778470158576965
precision class 0 = 0.8846150040626526
precision class 1 = 0.6666669845581055
recall class 0 = 0.9880669713020325
recall class 1 = 0.15625
AUC of ROC = 0.837547
AUC of PRC = 0.493045
min(+P, Se) = 0.484375
confusion matrix:
[[2748   38]
 [ 356   80]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8777160048484802
precision class 0 = 0.8853089809417725
precision class 1 = 0.6779659986495972
recall class 0 = 0.9863600134849548
recall class 1 = 0.1834859997034073
AUC of ROC = 0.828814
AUC of PRC = 0.50684
min(+P, Se) = 0.491991

Epoch 00009: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch9.test0.3133453317564663.state
Epoch 10/100
 - 856s - loss: 0.3144 - val_loss: 0.3046

==>predicting on train


confusion matrix:
[[6902   84]
 [ 847  226]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8844770193099976
precision class 0 = 0.8906959891319275
precision class 1 = 0.7290319800376892
recall class 0 = 0.9879760146141052
recall class 1 = 0.21062399446964264
AUC of ROC = 0.83236
AUC of PRC = 0.515888
min(+P, Se) = 0.497674
confusion matrix:
[[5641   67]
 [ 736  178]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8787379860877991
precision class 0 = 0.8845850229263306
precision class 1 = 0.7265310287475586
recall class 0 = 0.9882619976997375
recall class 1 = 0.19474799931049347
AUC of ROC = 0.833381
AUC of PRC = 0.514542
min(+P, Se) = 0.497268
confusion matrix:
[[12543   151]
 [ 1583   404]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8818879723548889
precision class 0 = 0.8879370093345642
precision class 1 = 0.7279279828071594
recall class 0 = 0.9881049990653992
recall class 1 = 0.20332199335098267
AUC of ROC = 0.832731
AUC of PRC = 0.51493
min(+P, Se) = 0.496982

==>predicting on validation


confusion matrix:
[[1500   29]
 [ 188   56]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8776090145111084
precision class 0 = 0.888625979423523
precision class 1 = 0.6588240265846252
recall class 0 = 0.9810330271720886
recall class 1 = 0.22950799763202667
AUC of ROC = 0.826566
AUC of PRC = 0.511447
min(+P, Se) = 0.489796
confusion matrix:
[[1240   17]
 [ 157   35]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8799170255661011
precision class 0 = 0.887615978717804
precision class 1 = 0.6730769872665405
recall class 0 = 0.9864760041236877
recall class 1 = 0.18229199945926666
AUC of ROC = 0.839449
AUC of PRC = 0.495172
min(+P, Se) = 0.473958
confusion matrix:
[[2740   46]
 [ 345   91]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8786470293998718
precision class 0 = 0.88816899061203
precision class 1 = 0.6642339825630188
recall class 0 = 0.9834889769554138
recall class 1 = 0.2087160050868988
AUC of ROC = 0.831966
AUC of PRC = 0.502816
min(+P, Se) = 0.481651

Epoch 00010: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch10.test0.3046324096393467.state
Epoch 11/100
 - 852s - loss: 0.3140 - val_loss: 0.3023

==>predicting on train


confusion matrix:
[[6826  160]
 [ 766  307]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8850970268249512
precision class 0 = 0.8991039991378784
precision class 1 = 0.6573879718780518
recall class 0 = 0.9770969748497009
recall class 1 = 0.28611400723457336
AUC of ROC = 0.826431
AUC of PRC = 0.513325
min(+P, Se) = 0.499069
confusion matrix:
[[5587  121]
 [ 674  240]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8799459934234619
precision class 0 = 0.8923500180244446
precision class 1 = 0.6648200154304504
recall class 0 = 0.9788020253181458
recall class 1 = 0.262582004070282
AUC of ROC = 0.830315
AUC of PRC = 0.513282
min(+P, Se) = 0.504376
confusion matrix:
[[12413   281]
 [ 1440   547]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8827739953994751
precision class 0 = 0.8960509896278381
precision class 1 = 0.6606280207633972
recall class 0 = 0.9778640270233154
recall class 1 = 0.27528899908065796
AUC of ROC = 0.828094
AUC of PRC = 0.513085
min(+P, Se) = 0.500251

==>predicting on validation


confusion matrix:
[[1482   47]
 [ 169   75]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8781729936599731
precision class 0 = 0.8976380228996277
precision class 1 = 0.6147540211677551
recall class 0 = 0.9692609906196594
recall class 1 = 0.30737701058387756
AUC of ROC = 0.825566
AUC of PRC = 0.522384
min(+P, Se) = 0.491803
confusion matrix:
[[1226   31]
 [ 145   47]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8785369992256165
precision class 0 = 0.8942379951477051
precision class 1 = 0.6025639772415161
recall class 0 = 0.9753379821777344
recall class 1 = 0.24479199945926666
AUC of ROC = 0.838939
AUC of PRC = 0.484503
min(+P, Se) = 0.494949
confusion matrix:
[[2708   78]
 [ 314  122]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8783360123634338
precision class 0 = 0.8960949778556824
precision class 1 = 0.6100000143051147
recall class 0 = 0.9720029830932617
recall class 1 = 0.27981600165367126
AUC of ROC = 0.831302
AUC of PRC = 0.503967
min(+P, Se) = 0.487069

Epoch 00011: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch11.test0.302332324892153.state
Epoch 12/100
 - 853s - loss: 0.3121 - val_loss: 0.2998

==>predicting on train


confusion matrix:
[[6902   84]
 [ 834  239]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8860899806022644
precision class 0 = 0.892192006111145
precision class 1 = 0.7399380207061768
recall class 0 = 0.9879760146141052
recall class 1 = 0.22273999452590942
AUC of ROC = 0.836026
AUC of PRC = 0.522784
min(+P, Se) = 0.501398
confusion matrix:
[[5636   72]
 [ 714  200]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8813049793243408
precision class 0 = 0.8875589966773987
precision class 1 = 0.735293984413147
recall class 0 = 0.9873859882354736
recall class 1 = 0.21881799399852753
AUC of ROC = 0.836027
AUC of PRC = 0.524724
min(+P, Se) = 0.502188
confusion matrix:
[[12538   156]
 [ 1548   439]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8839319944381714
precision class 0 = 0.8901039958000183
precision class 1 = 0.7378150224685669
recall class 0 = 0.9877110123634338
recall class 1 = 0.22093600034713745
AUC of ROC = 0.835946
AUC of PRC = 0.523662
min(+P, Se) = 0.501508

==>predicting on validation


confusion matrix:
[[1507   22]
 [ 186   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8826850056648254
precision class 0 = 0.8901360034942627
precision class 1 = 0.7250000238418579
recall class 0 = 0.9856119751930237
recall class 1 = 0.23770500719547272
AUC of ROC = 0.832616
AUC of PRC = 0.519979
min(+P, Se) = 0.487805
confusion matrix:
[[1241   16]
 [ 151   41]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.891523003578186
precision class 1 = 0.7192980051040649
recall class 0 = 0.9872710108757019
recall class 1 = 0.21354199945926666
AUC of ROC = 0.840659
AUC of PRC = 0.50323
min(+P, Se) = 0.5
confusion matrix:
[[2748   38]
 [ 337   99]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8836129903793335
precision class 0 = 0.8907619714736938
precision class 1 = 0.7226279973983765
recall class 0 = 0.9863600134849548
recall class 1 = 0.22706399857997894
AUC of ROC = 0.836101
AUC of PRC = 0.512472
min(+P, Se) = 0.495413

Epoch 00012: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch12.test0.29983420769928554.state
Epoch 13/100
 - 849s - loss: 0.3122 - val_loss: 0.3079

==>predicting on train


confusion matrix:
[[6791  195]
 [ 721  352]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8863379955291748
precision class 0 = 0.9040200114250183
precision class 1 = 0.6435099840164185
recall class 0 = 0.972087025642395
recall class 1 = 0.32805201411247253
AUC of ROC = 0.833199
AUC of PRC = 0.517774
min(+P, Se) = 0.49162
confusion matrix:
[[5555  153]
 [ 625  289]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8825129866600037
precision class 0 = 0.8988670110702515
precision class 1 = 0.653846025466919
recall class 0 = 0.9731960296630859
recall class 1 = 0.31619301438331604
AUC of ROC = 0.832622
AUC of PRC = 0.519731
min(+P, Se) = 0.49345
confusion matrix:
[[12346   348]
 [ 1346   641]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8846129775047302
precision class 0 = 0.9016939997673035
precision class 1 = 0.6481289863586426
recall class 0 = 0.9725859761238098
recall class 1 = 0.3225969970226288
AUC of ROC = 0.832923
AUC of PRC = 0.518537
min(+P, Se) = 0.491713

==>predicting on validation


confusion matrix:
[[1467   62]
 [ 157   87]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.876479983329773
precision class 0 = 0.9033250212669373
precision class 1 = 0.5838930010795593
recall class 0 = 0.9594510197639465
recall class 1 = 0.3565570116043091
AUC of ROC = 0.829391
AUC of PRC = 0.521664
min(+P, Se) = 0.496032
confusion matrix:
[[1219   38]
 [ 136   56]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8799170255661011
precision class 0 = 0.8996310234069824
precision class 1 = 0.5957450270652771
recall class 0 = 0.9697690010070801
recall class 1 = 0.29166701436042786
AUC of ROC = 0.834804
AUC of PRC = 0.489127
min(+P, Se) = 0.479167
confusion matrix:
[[2686  100]
 [ 293  143]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.878026008605957
precision class 0 = 0.9016450047492981
precision class 1 = 0.5884770154953003
recall class 0 = 0.964106023311615
recall class 1 = 0.32798200845718384
AUC of ROC = 0.831713
AUC of PRC = 0.50503
min(+P, Se) = 0.493119

Epoch 00013: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch13.test0.30792110202190004.state
Epoch 14/100
 - 858s - loss: 0.3110 - val_loss: 0.3018

==>predicting on train


confusion matrix:
[[6865  121]
 [ 800  273]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8857179880142212
precision class 0 = 0.8956289887428284
precision class 1 = 0.6928930282592773
recall class 0 = 0.9826800227165222
recall class 1 = 0.2544269859790802
AUC of ROC = 0.832776
AUC of PRC = 0.521575
min(+P, Se) = 0.501862
confusion matrix:
[[5612   96]
 [ 679  235]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8829659819602966
precision class 0 = 0.8920680284500122
precision class 1 = 0.7099699974060059
recall class 0 = 0.9831820130348206
recall class 1 = 0.2571119964122772
AUC of ROC = 0.834224
AUC of PRC = 0.522706
min(+P, Se) = 0.498906
confusion matrix:
[[12477   217]
 [ 1479   508]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8844770193099976
precision class 0 = 0.8940240144729614
precision class 1 = 0.700689971446991
recall class 0 = 0.9829049706459045
recall class 1 = 0.2556619942188263
AUC of ROC = 0.833351
AUC of PRC = 0.52194
min(+P, Se) = 0.500755

==>predicting on validation


confusion matrix:
[[1489   40]
 [ 179   65]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.876479983329773
precision class 0 = 0.8926860094070435
precision class 1 = 0.619047999382019
recall class 0 = 0.9738389849662781
recall class 1 = 0.2663930058479309
AUC of ROC = 0.828678
AUC of PRC = 0.518384
min(+P, Se) = 0.49187
confusion matrix:
[[1234   23]
 [ 143   49]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8854380249977112
precision class 0 = 0.8961510062217712
precision class 1 = 0.6805559992790222
recall class 0 = 0.9817020297050476
recall class 1 = 0.25520798563957214
AUC of ROC = 0.840618
AUC of PRC = 0.506526
min(+P, Se) = 0.489691
confusion matrix:
[[2723   63]
 [ 322  114]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8805090188980103
precision class 0 = 0.8942530155181885
precision class 1 = 0.6440680027008057
recall class 0 = 0.977387011051178
recall class 1 = 0.26146799325942993
AUC of ROC = 0.83375
AUC of PRC = 0.51237
min(+P, Se) = 0.489703

Epoch 00014: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch14.test0.30182209261765325.state
Epoch 15/100
 - 852s - loss: 0.3101 - val_loss: 0.2946

==>predicting on train


confusion matrix:
[[6851  135]
 [ 772  301]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8874549865722656
precision class 0 = 0.8987280130386353
precision class 1 = 0.6903669834136963
recall class 0 = 0.980675995349884
recall class 1 = 0.2805219888687134
AUC of ROC = 0.84374
AUC of PRC = 0.533387
min(+P, Se) = 0.515829
confusion matrix:
[[5598  110]
 [ 668  246]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8825129866600037
precision class 0 = 0.8933929800987244
precision class 1 = 0.6910110116004944
recall class 0 = 0.9807289838790894
recall class 1 = 0.26914700865745544
AUC of ROC = 0.839684
AUC of PRC = 0.52962
min(+P, Se) = 0.503275
confusion matrix:
[[12449   245]
 [ 1440   547]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8852260112762451
precision class 0 = 0.8963209986686707
precision class 1 = 0.6906570196151733
recall class 0 = 0.9807000160217285
recall class 1 = 0.27528899908065796
AUC of ROC = 0.841854
AUC of PRC = 0.531643
min(+P, Se) = 0.512575

==>predicting on validation


confusion matrix:
[[1486   43]
 [ 174   70]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8776090145111084
precision class 0 = 0.8951810002326965
precision class 1 = 0.6194689869880676
recall class 0 = 0.9718769788742065
recall class 1 = 0.28688499331474304
AUC of ROC = 0.837904
AUC of PRC = 0.530452
min(+P, Se) = 0.497959
confusion matrix:
[[1227   30]
 [ 137   55]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.8995599746704102
precision class 1 = 0.6470590233802795
recall class 0 = 0.9761340022087097
recall class 1 = 0.28645798563957214
AUC of ROC = 0.846787
AUC of PRC = 0.509046
min(+P, Se) = 0.497462
confusion matrix:
[[2713   73]
 [ 311  125]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8808190226554871
precision class 0 = 0.8971560001373291
precision class 1 = 0.6313130259513855
recall class 0 = 0.9737979769706726
recall class 1 = 0.28669700026512146
AUC of ROC = 0.84164
AUC of PRC = 0.520247
min(+P, Se) = 0.497706

Epoch 00015: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch15.test0.2945848584017866.state
Epoch 16/100
 - 850s - loss: 0.3109 - val_loss: 0.3000

==>predicting on train


confusion matrix:
[[6939   47]
 [ 899  174]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8826159834861755
precision class 0 = 0.8853020071983337
precision class 1 = 0.7873299717903137
recall class 0 = 0.9932720065116882
recall class 1 = 0.16216200590133667
AUC of ROC = 0.840629
AUC of PRC = 0.532633
min(+P, Se) = 0.509786
confusion matrix:
[[5664   44]
 [ 764  150]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8779820203781128
precision class 0 = 0.8811450004577637
precision class 1 = 0.7731959819793701
recall class 0 = 0.9922919869422913
recall class 1 = 0.16411399841308594
AUC of ROC = 0.837425
AUC of PRC = 0.526263
min(+P, Se) = 0.508753
confusion matrix:
[[12603    91]
 [ 1663   324]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8805260062217712
precision class 0 = 0.8834289908409119
precision class 1 = 0.780722975730896
recall class 0 = 0.9928309917449951
recall class 1 = 0.1630599945783615
AUC of ROC = 0.839224
AUC of PRC = 0.529674
min(+P, Se) = 0.509557

==>predicting on validation


confusion matrix:
[[1516   13]
 [ 194   50]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8832489848136902
precision class 0 = 0.8865500092506409
precision class 1 = 0.7936509847640991
recall class 0 = 0.9914979934692383
recall class 1 = 0.2049179971218109
AUC of ROC = 0.835009
AUC of PRC = 0.527108
min(+P, Se) = 0.492481
confusion matrix:
[[1246   11]
 [ 161   31]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8812980055809021
precision class 0 = 0.8855720162391663
precision class 1 = 0.7380949854850769
recall class 0 = 0.9912490248680115
recall class 1 = 0.16145800054073334
AUC of ROC = 0.840062
AUC of PRC = 0.503337
min(+P, Se) = 0.473958
confusion matrix:
[[2762   24]
 [ 355   81]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8823710083961487
precision class 0 = 0.8861079812049866
precision class 1 = 0.7714290022850037
recall class 0 = 0.9913859963417053
recall class 1 = 0.18578000366687775
AUC of ROC = 0.837124
AUC of PRC = 0.516302
min(+P, Se) = 0.481651

Epoch 00016: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch16.test0.3000491032137551.state
Epoch 17/100
 - 848s - loss: 0.3091 - val_loss: 0.3024

==>predicting on train


confusion matrix:
[[6885  101]
 [ 833  240]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8841050267219543
precision class 0 = 0.8920699954032898
precision class 1 = 0.7038120031356812
recall class 0 = 0.9855430126190186
recall class 1 = 0.22367200255393982
AUC of ROC = 0.832598
AUC of PRC = 0.520631
min(+P, Se) = 0.504638
confusion matrix:
[[5644   64]
 [ 714  200]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8825129866600037
precision class 0 = 0.8877009749412537
precision class 1 = 0.7575759887695312
recall class 0 = 0.9887880086898804
recall class 1 = 0.21881799399852753
AUC of ROC = 0.835548
AUC of PRC = 0.52804
min(+P, Se) = 0.492341
confusion matrix:
[[12529   165]
 [ 1547   440]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.88338702917099
precision class 0 = 0.8900970220565796
precision class 1 = 0.7272729873657227
recall class 0 = 0.9870020151138306
recall class 1 = 0.22143900394439697
AUC of ROC = 0.834008
AUC of PRC = 0.523851
min(+P, Se) = 0.5

==>predicting on validation


confusion matrix:
[[1497   32]
 [ 187   57]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.876479983329773
precision class 0 = 0.8889549970626831
precision class 1 = 0.6404489874839783
recall class 0 = 0.9790710210800171
recall class 1 = 0.2336069941520691
AUC of ROC = 0.831268
AUC of PRC = 0.521289
min(+P, Se) = 0.5
confusion matrix:
[[1239   18]
 [ 152   40]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8826779723167419
precision class 0 = 0.8907259702682495
precision class 1 = 0.6896550059318542
recall class 0 = 0.9856799840927124
recall class 1 = 0.20833300054073334
AUC of ROC = 0.836499
AUC of PRC = 0.493109
min(+P, Se) = 0.471795
confusion matrix:
[[2736   50]
 [ 339   97]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8792679905891418
precision class 0 = 0.8897560238838196
precision class 1 = 0.6598640084266663
recall class 0 = 0.9820529818534851
recall class 1 = 0.2224770039319992
AUC of ROC = 0.833371
AUC of PRC = 0.50797
min(+P, Se) = 0.485261

Epoch 00017: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch17.test0.3023705903988755.state
Epoch 18/100
 - 850s - loss: 0.3132 - val_loss: 0.3069

==>predicting on train


confusion matrix:
[[6793  193]
 [ 731  342]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.885345995426178
precision class 0 = 0.9028440117835999
precision class 1 = 0.6392520070075989
recall class 0 = 0.9723730087280273
recall class 1 = 0.31873300671577454
AUC of ROC = 0.834157
AUC of PRC = 0.518779
min(+P, Se) = 0.495829
confusion matrix:
[[5555  153]
 [ 631  283]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8816069960594177
precision class 0 = 0.8979960083961487
precision class 1 = 0.6490830183029175
recall class 0 = 0.9731960296630859
recall class 1 = 0.3096280097961426
AUC of ROC = 0.831866
AUC of PRC = 0.520814
min(+P, Se) = 0.496192
confusion matrix:
[[12348   346]
 [ 1362   625]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8836590051651001
precision class 0 = 0.90065598487854
precision class 1 = 0.6436660289764404
recall class 0 = 0.9727429747581482
recall class 1 = 0.31454500555992126
AUC of ROC = 0.833117
AUC of PRC = 0.5194
min(+P, Se) = 0.495996

==>predicting on validation


confusion matrix:
[[1475   54]
 [ 161   83]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8787369728088379
precision class 0 = 0.9015889763832092
precision class 1 = 0.6058390140533447
recall class 0 = 0.9646829962730408
recall class 1 = 0.3401640057563782
AUC of ROC = 0.831552
AUC of PRC = 0.530476
min(+P, Se) = 0.504098
confusion matrix:
[[1220   37]
 [ 138   54]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8792269825935364
precision class 0 = 0.8983799815177917
precision class 1 = 0.5934069752693176
recall class 0 = 0.9705650210380554
recall class 1 = 0.28125
AUC of ROC = 0.827044
AUC of PRC = 0.472451
min(+P, Se) = 0.459596
confusion matrix:
[[2695   91]
 [ 299  137]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8789569735527039
precision class 0 = 0.9001340270042419
precision class 1 = 0.6008769869804382
recall class 0 = 0.9673370122909546
recall class 1 = 0.31422001123428345
AUC of ROC = 0.829394
AUC of PRC = 0.502186
min(+P, Se) = 0.479358

Epoch 00018: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch18.test0.3068972111885996.state
Epoch 19/100
 - 845s - loss: 0.3095 - val_loss: 0.3033

==>predicting on train


confusion matrix:
[[6854  132]
 [ 796  277]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8848490118980408
precision class 0 = 0.8959479928016663
precision class 1 = 0.677262008190155
recall class 0 = 0.9811050295829773
recall class 1 = 0.2581549882888794
AUC of ROC = 0.831164
AUC of PRC = 0.518645
min(+P, Se) = 0.495845
confusion matrix:
[[5608  100]
 [ 691  223]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8805500268936157
precision class 0 = 0.8902999758720398
precision class 1 = 0.6904019713401794
recall class 0 = 0.9824810028076172
recall class 1 = 0.2439820021390915
AUC of ROC = 0.829877
AUC of PRC = 0.51871
min(+P, Se) = 0.498911
confusion matrix:
[[12462   232]
 [ 1487   500]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8829100131988525
precision class 0 = 0.8933969736099243
precision class 1 = 0.6830599904060364
recall class 0 = 0.9817240238189697
recall class 1 = 0.25163599848747253
AUC of ROC = 0.830544
AUC of PRC = 0.518608
min(+P, Se) = 0.494716

==>predicting on validation


confusion matrix:
[[1498   31]
 [ 173   71]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8849409818649292
precision class 0 = 0.896468997001648
precision class 1 = 0.6960780024528503
recall class 0 = 0.9797250032424927
recall class 1 = 0.29098400473594666
AUC of ROC = 0.830485
AUC of PRC = 0.53245
min(+P, Se) = 0.485944
confusion matrix:
[[1233   24]
 [ 149   43]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.880607008934021
precision class 0 = 0.8921849727630615
precision class 1 = 0.6417909860610962
recall class 0 = 0.9809070229530334
recall class 1 = 0.22395800054073334
AUC of ROC = 0.829617
AUC of PRC = 0.472087
min(+P, Se) = 0.453125
confusion matrix:
[[2731   55]
 [ 322  114]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8829920291900635
precision class 0 = 0.8945299983024597
precision class 1 = 0.6745560169219971
recall class 0 = 0.9802579879760742
recall class 1 = 0.26146799325942993
AUC of ROC = 0.829911
AUC of PRC = 0.505084
min(+P, Se) = 0.472603

Epoch 00019: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch19.test0.30331432339310427.state
Epoch 20/100
 - 853s - loss: 0.3120 - val_loss: 0.3011

==>predicting on train


confusion matrix:
[[6876  110]
 [ 804  269]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8865860104560852
precision class 0 = 0.8953120112419128
precision class 1 = 0.7097619771957397
recall class 0 = 0.984254002571106
recall class 1 = 0.2506990134716034
AUC of ROC = 0.837985
AUC of PRC = 0.523464
min(+P, Se) = 0.49301
confusion matrix:
[[5625   83]
 [ 696  218]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8823620080947876
precision class 0 = 0.8898910284042358
precision class 1 = 0.7242519855499268
recall class 0 = 0.98545902967453
recall class 1 = 0.23851199448108673
AUC of ROC = 0.832154
AUC of PRC = 0.525181
min(+P, Se) = 0.501094
confusion matrix:
[[12501   193]
 [ 1500   487]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.884680986404419
precision class 0 = 0.892865002155304
precision class 1 = 0.7161759734153748
recall class 0 = 0.9847959876060486
recall class 1 = 0.24509300291538239
AUC of ROC = 0.835295
AUC of PRC = 0.524069
min(+P, Se) = 0.497485

==>predicting on validation


confusion matrix:
[[1500   29]
 [ 178   66]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8832489848136902
precision class 0 = 0.8939210176467896
precision class 1 = 0.6947370171546936
recall class 0 = 0.9810330271720886
recall class 1 = 0.27049198746681213
AUC of ROC = 0.83636
AUC of PRC = 0.534701
min(+P, Se) = 0.495968
confusion matrix:
[[1237   20]
 [ 149   43]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8833680152893066
precision class 0 = 0.8924959897994995
precision class 1 = 0.6825399994850159
recall class 0 = 0.9840890169143677
recall class 1 = 0.22395800054073334
AUC of ROC = 0.834933
AUC of PRC = 0.488895
min(+P, Se) = 0.454545
confusion matrix:
[[2737   49]
 [ 327  109]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8833019733428955
precision class 0 = 0.8932769894599915
precision class 1 = 0.6898729801177979
recall class 0 = 0.9824119806289673
recall class 1 = 0.25
AUC of ROC = 0.83528
AUC of PRC = 0.514063
min(+P, Se) = 0.477064

Epoch 00020: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch20.test0.3011225571614256.state
Epoch 21/100
 - 854s - loss: 0.3098 - val_loss: 0.2945

==>predicting on train


confusion matrix:
[[6884  102]
 [ 814  259]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8863379955291748
precision class 0 = 0.8942580223083496
precision class 1 = 0.7174519896507263
recall class 0 = 0.9853990077972412
recall class 1 = 0.2413789927959442
AUC of ROC = 0.847964
AUC of PRC = 0.534186
min(+P, Se) = 0.51165
confusion matrix:
[[5634   74]
 [ 706  208]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8822110295295715
precision class 0 = 0.8886439800262451
precision class 1 = 0.7375890016555786
recall class 0 = 0.9870359897613525
recall class 1 = 0.22757099568843842
AUC of ROC = 0.835459
AUC of PRC = 0.530058
min(+P, Se) = 0.504376
confusion matrix:
[[12518   176]
 [ 1520   467]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8844770193099976
precision class 0 = 0.8917220234870911
precision class 1 = 0.7262830138206482
recall class 0 = 0.9861350059509277
recall class 1 = 0.2350279986858368
AUC of ROC = 0.84234
AUC of PRC = 0.532002
min(+P, Se) = 0.50753

==>predicting on validation


confusion matrix:
[[1501   28]
 [ 184   60]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.8908010125160217
precision class 1 = 0.6818180084228516
recall class 0 = 0.9816870093345642
recall class 1 = 0.24590200185775757
AUC of ROC = 0.841555
AUC of PRC = 0.539972
min(+P, Se) = 0.52459
confusion matrix:
[[1236   21]
 [ 151   41]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8812980055809021
precision class 0 = 0.8911319971084595
precision class 1 = 0.6612899899482727
recall class 0 = 0.9832940101623535
recall class 1 = 0.21354199945926666
AUC of ROC = 0.837709
AUC of PRC = 0.505797
min(+P, Se) = 0.481865
confusion matrix:
[[2737   49]
 [ 335  101]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8808190226554871
precision class 0 = 0.8909500241279602
precision class 1 = 0.6733329892158508
recall class 0 = 0.9824119806289673
recall class 1 = 0.23165099322795868
AUC of ROC = 0.839912
AUC of PRC = 0.524615
min(+P, Se) = 0.5

Epoch 00021: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch21.test0.29446265488067525.state
Epoch 22/100
 - 851s - loss: 0.3058 - val_loss: 0.2923

==>predicting on train


confusion matrix:
[[6870  116]
 [ 800  273]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8863379955291748
precision class 0 = 0.8956980109214783
precision class 1 = 0.7017999887466431
recall class 0 = 0.983394980430603
recall class 1 = 0.2544269859790802
AUC of ROC = 0.846204
AUC of PRC = 0.535212
min(+P, Se) = 0.517691
confusion matrix:
[[5617   91]
 [ 683  231]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8831170201301575
precision class 0 = 0.8915870189666748
precision class 1 = 0.7173910140991211
recall class 0 = 0.9840580224990845
recall class 1 = 0.2527349889278412
AUC of ROC = 0.837874
AUC of PRC = 0.531294
min(+P, Se) = 0.506565
confusion matrix:
[[12487   207]
 [ 1483   504]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8848850131034851
precision class 0 = 0.8938440084457397
precision class 1 = 0.7088609933853149
recall class 0 = 0.98369300365448
recall class 1 = 0.2536489963531494
AUC of ROC = 0.842454
AUC of PRC = 0.533527
min(+P, Se) = 0.512072

==>predicting on validation


confusion matrix:
[[1499   30]
 [ 177   67]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8832489848136902
precision class 0 = 0.8943910002708435
precision class 1 = 0.6907219886779785
recall class 0 = 0.9803789854049683
recall class 1 = 0.27458998560905457
AUC of ROC = 0.843236
AUC of PRC = 0.545519
min(+P, Se) = 0.516393
confusion matrix:
[[1232   25]
 [ 149   43]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8799170255661011
precision class 0 = 0.8921070098876953
precision class 1 = 0.6323530077934265
recall class 0 = 0.9801110029220581
recall class 1 = 0.22395800054073334
AUC of ROC = 0.843949
AUC of PRC = 0.512593
min(+P, Se) = 0.5
confusion matrix:
[[2731   55]
 [ 326  110]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8817499876022339
precision class 0 = 0.8933600187301636
precision class 1 = 0.6666669845581055
recall class 0 = 0.9802579879760742
recall class 1 = 0.25229400396347046
AUC of ROC = 0.843374
AUC of PRC = 0.528795
min(+P, Se) = 0.509174

Epoch 00022: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch22.test0.2923060850344927.state
Epoch 23/100
 - 841s - loss: 0.3091 - val_loss: 0.2906

==>predicting on train


confusion matrix:
[[6910   76]
 [ 860  213]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.883857011795044
precision class 0 = 0.8893179893493652
precision class 1 = 0.7370240092277527
recall class 0 = 0.9891210198402405
recall class 1 = 0.19850899279117584
AUC of ROC = 0.848977
AUC of PRC = 0.536257
min(+P, Se) = 0.514445
confusion matrix:
[[5651   57]
 [ 720  194]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8826640248298645
precision class 0 = 0.8869879841804504
precision class 1 = 0.7729079723358154
recall class 0 = 0.9900140166282654
recall class 1 = 0.21225400269031525
AUC of ROC = 0.841697
AUC of PRC = 0.54053
min(+P, Se) = 0.514223
confusion matrix:
[[12561   133]
 [ 1580   407]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8833190202713013
precision class 0 = 0.888267993927002
precision class 1 = 0.7537040114402771
recall class 0 = 0.9895229935646057
recall class 1 = 0.20483100414276123
AUC of ROC = 0.845712
AUC of PRC = 0.538349
min(+P, Se) = 0.51384

==>predicting on validation


confusion matrix:
[[1509   20]
 [ 190   54]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.8881700038909912
precision class 1 = 0.7297300100326538
recall class 0 = 0.9869199991226196
recall class 1 = 0.22131100296974182
AUC of ROC = 0.847307
AUC of PRC = 0.549209
min(+P, Se) = 0.514286
confusion matrix:
[[1241   16]
 [ 153   39]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8833680152893066
precision class 0 = 0.8902440071105957
precision class 1 = 0.7090910077095032
recall class 0 = 0.9872710108757019
recall class 1 = 0.203125
AUC of ROC = 0.845482
AUC of PRC = 0.516631
min(+P, Se) = 0.5
confusion matrix:
[[2750   36]
 [ 343   93]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8823710083961487
precision class 0 = 0.8891040086746216
precision class 1 = 0.7209299802780151
recall class 0 = 0.9870780110359192
recall class 1 = 0.21330299973487854
AUC of ROC = 0.846558
AUC of PRC = 0.53461
min(+P, Se) = 0.508009

Epoch 00023: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch23.test0.29057120810211406.state
Epoch 24/100
 - 849s - loss: 0.3059 - val_loss: 0.2905

==>predicting on train


confusion matrix:
[[6851  135]
 [ 769  304]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8878269791603088
precision class 0 = 0.8990809917449951
precision class 1 = 0.6924830079078674
recall class 0 = 0.980675995349884
recall class 1 = 0.28331801295280457
AUC of ROC = 0.85118
AUC of PRC = 0.546403
min(+P, Se) = 0.516309
confusion matrix:
[[5605  103]
 [ 672  242]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8829659819602966
precision class 0 = 0.8929420113563538
precision class 1 = 0.7014489769935608
recall class 0 = 0.9819549918174744
recall class 1 = 0.2647700011730194
AUC of ROC = 0.841614
AUC of PRC = 0.540358
min(+P, Se) = 0.516411
confusion matrix:
[[12456   238]
 [ 1441   546]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8856340050697327
precision class 0 = 0.8963090181350708
precision class 1 = 0.6964290142059326
recall class 0 = 0.9812510013580322
recall class 1 = 0.27478599548339844
AUC of ROC = 0.8469
AUC of PRC = 0.543728
min(+P, Se) = 0.516356

==>predicting on validation


confusion matrix:
[[1491   38]
 [ 169   75]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8832489848136902
precision class 0 = 0.8981930017471313
precision class 1 = 0.6637169718742371
recall class 0 = 0.975147008895874
recall class 1 = 0.30737701058387756
AUC of ROC = 0.84631
AUC of PRC = 0.550178
min(+P, Se) = 0.51626
confusion matrix:
[[1232   25]
 [ 141   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8854380249977112
precision class 0 = 0.8973050117492676
precision class 1 = 0.6710529923439026
recall class 0 = 0.9801110029220581
recall class 1 = 0.265625
AUC of ROC = 0.84641
AUC of PRC = 0.512488
min(+P, Se) = 0.5
confusion matrix:
[[2723   63]
 [ 310  126]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.8977910280227661
precision class 1 = 0.6666669845581055
recall class 0 = 0.977387011051178
recall class 1 = 0.2889910042285919
AUC of ROC = 0.846297
AUC of PRC = 0.532799
min(+P, Se) = 0.508009

Epoch 00024: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch24.test0.29047832665774187.state
Epoch 25/100
 - 849s - loss: 0.3029 - val_loss: 0.2968

==>predicting on train


confusion matrix:
[[6791  195]
 [ 720  353]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8864619731903076
precision class 0 = 0.9041410088539124
precision class 1 = 0.6441609859466553
recall class 0 = 0.972087025642395
recall class 1 = 0.32898399233818054
AUC of ROC = 0.846764
AUC of PRC = 0.535833
min(+P, Se) = 0.512582
confusion matrix:
[[5557  151]
 [ 637  277]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8810030221939087
precision class 0 = 0.8971589803695679
precision class 1 = 0.6471959948539734
recall class 0 = 0.973546028137207
recall class 1 = 0.3030630052089691
AUC of ROC = 0.839596
AUC of PRC = 0.534662
min(+P, Se) = 0.504376
confusion matrix:
[[12348   346]
 [ 1357   630]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8840000033378601
precision class 0 = 0.9009850025177002
precision class 1 = 0.6454920172691345
recall class 0 = 0.9727429747581482
recall class 1 = 0.31706100702285767
AUC of ROC = 0.84356
AUC of PRC = 0.535447
min(+P, Se) = 0.509045

==>predicting on validation


confusion matrix:
[[1471   58]
 [ 159   85]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8776090145111084
precision class 0 = 0.9024540185928345
precision class 1 = 0.594406008720398
recall class 0 = 0.9620670080184937
recall class 1 = 0.34836098551750183
AUC of ROC = 0.842257
AUC of PRC = 0.539637
min(+P, Se) = 0.507634
confusion matrix:
[[1221   36]
 [ 135   57]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.881987988948822
precision class 0 = 0.9004420042037964
precision class 1 = 0.6129029989242554
recall class 0 = 0.9713600277900696
recall class 1 = 0.296875
AUC of ROC = 0.840187
AUC of PRC = 0.498274
min(+P, Se) = 0.494898
confusion matrix:
[[2692   94]
 [ 294  142]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8795779943466187
precision class 0 = 0.9015399813652039
precision class 1 = 0.6016950011253357
recall class 0 = 0.9662600159645081
recall class 1 = 0.3256880044937134
AUC of ROC = 0.841585
AUC of PRC = 0.521281
min(+P, Se) = 0.502294

Epoch 00025: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch25.test0.29680227110894253.state
Epoch 26/100
 - 854s - loss: 0.3045 - val_loss: 0.2886

==>predicting on train


confusion matrix:
[[6866  120]
 [ 778  295]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8885719776153564
precision class 0 = 0.8982210159301758
precision class 1 = 0.710843026638031
recall class 0 = 0.9828230142593384
recall class 1 = 0.2749300003051758
AUC of ROC = 0.855506
AUC of PRC = 0.55274
min(+P, Se) = 0.524697
confusion matrix:
[[5621   87]
 [ 674  240]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8850799798965454
precision class 0 = 0.8929309844970703
precision class 1 = 0.7339450120925903
recall class 0 = 0.9847580194473267
recall class 1 = 0.262582004070282
AUC of ROC = 0.844775
AUC of PRC = 0.543125
min(+P, Se) = 0.513129
confusion matrix:
[[12487   207]
 [ 1452   535]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8869969844818115
precision class 0 = 0.8958320021629333
precision class 1 = 0.7210239768028259
recall class 0 = 0.98369300365448
recall class 1 = 0.2692500054836273
AUC of ROC = 0.850699
AUC of PRC = 0.54846
min(+P, Se) = 0.517866

==>predicting on validation


confusion matrix:
[[1492   37]
 [ 173   71]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.8960959911346436
precision class 1 = 0.6574069857597351
recall class 0 = 0.9758009910583496
recall class 1 = 0.29098400473594666
AUC of ROC = 0.848602
AUC of PRC = 0.543014
min(+P, Se) = 0.508197
confusion matrix:
[[1236   21]
 [ 142   50]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.8969519734382629
precision class 1 = 0.7042250037193298
recall class 0 = 0.9832940101623535
recall class 1 = 0.26041701436042786
AUC of ROC = 0.851987
AUC of PRC = 0.519813
min(+P, Se) = 0.505208
confusion matrix:
[[2728   58]
 [ 315  121]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.8964840173721313
precision class 1 = 0.6759780049324036
recall class 0 = 0.9791820049285889
recall class 1 = 0.277523010969162
AUC of ROC = 0.850171
AUC of PRC = 0.532774
min(+P, Se) = 0.506881

Epoch 00026: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch26.test0.28857620000321255.state
Epoch 27/100
 - 855s - loss: 0.3039 - val_loss: 0.2901

==>predicting on train


confusion matrix:
[[6858  128]
 [ 767  306]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8889439702033997
precision class 0 = 0.8994100093841553
precision class 1 = 0.7050690054893494
recall class 0 = 0.9816780090332031
recall class 1 = 0.28518199920654297
AUC of ROC = 0.855483
AUC of PRC = 0.552654
min(+P, Se) = 0.526561
confusion matrix:
[[5622   86]
 [ 681  233]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8841739892959595
precision class 0 = 0.8919559717178345
precision class 1 = 0.7304080128669739
recall class 0 = 0.9849330186843872
recall class 1 = 0.2549229860305786
AUC of ROC = 0.846222
AUC of PRC = 0.542224
min(+P, Se) = 0.503282
confusion matrix:
[[12480   214]
 [ 1448   539]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.886792004108429
precision class 0 = 0.8960369825363159
precision class 1 = 0.7158030271530151
recall class 0 = 0.9831420183181763
recall class 1 = 0.2712630033493042
AUC of ROC = 0.851356
AUC of PRC = 0.54802
min(+P, Se) = 0.515531

==>predicting on validation


confusion matrix:
[[1489   40]
 [ 171   73]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8809930086135864
precision class 0 = 0.8969879746437073
precision class 1 = 0.6460180282592773
recall class 0 = 0.9738389849662781
recall class 1 = 0.2991800010204315
AUC of ROC = 0.845978
AUC of PRC = 0.535586
min(+P, Se) = 0.5
confusion matrix:
[[1232   25]
 [ 143   49]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8840579986572266
precision class 0 = 0.8960000276565552
precision class 1 = 0.6621620059013367
recall class 0 = 0.9801110029220581
recall class 1 = 0.25520798563957214
AUC of ROC = 0.850989
AUC of PRC = 0.519068
min(+P, Se) = 0.505208
confusion matrix:
[[2721   65]
 [ 314  122]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8823710083961487
precision class 0 = 0.8965399861335754
precision class 1 = 0.6524059772491455
recall class 0 = 0.9766690135002136
recall class 1 = 0.27981600165367126
AUC of ROC = 0.848204
AUC of PRC = 0.527598
min(+P, Se) = 0.502273

Epoch 00027: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch27.test0.2900952335786997.state
Epoch 28/100
 - 851s - loss: 0.3044 - val_loss: 0.2902

==>predicting on train


confusion matrix:
[[6829  157]
 [ 732  341]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.889689028263092
precision class 0 = 0.9031869769096375
precision class 1 = 0.6847389936447144
recall class 0 = 0.9775260090827942
recall class 1 = 0.31780099868774414
AUC of ROC = 0.854381
AUC of PRC = 0.547678
min(+P, Se) = 0.530289
confusion matrix:
[[5591  117]
 [ 660  254]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8826640248298645
precision class 0 = 0.8944169878959656
precision class 1 = 0.6846359968185425
recall class 0 = 0.9795020222663879
recall class 1 = 0.27789899706840515
AUC of ROC = 0.846445
AUC of PRC = 0.543012
min(+P, Se) = 0.520219
confusion matrix:
[[12420   274]
 [ 1392   595]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8865200281143188
precision class 0 = 0.8992180228233337
precision class 1 = 0.6846950054168701
recall class 0 = 0.9784150123596191
recall class 1 = 0.2994459867477417
AUC of ROC = 0.850804
AUC of PRC = 0.546082
min(+P, Se) = 0.525151

==>predicting on validation


confusion matrix:
[[1483   46]
 [ 171   73]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8776090145111084
precision class 0 = 0.8966140151023865
precision class 1 = 0.613444983959198
recall class 0 = 0.969914972782135
recall class 1 = 0.2991800010204315
AUC of ROC = 0.846232
AUC of PRC = 0.533004
min(+P, Se) = 0.503906
confusion matrix:
[[1232   25]
 [ 131   61]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8923400044441223
precision class 0 = 0.9038879871368408
precision class 1 = 0.7093020081520081
recall class 0 = 0.9801110029220581
recall class 1 = 0.31770798563957214
AUC of ROC = 0.850251
AUC of PRC = 0.521445
min(+P, Se) = 0.502591
confusion matrix:
[[2715   71]
 [ 302  134]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.8999009728431702
precision class 1 = 0.6536579728126526
recall class 0 = 0.9745150208473206
recall class 1 = 0.30733901262283325
AUC of ROC = 0.84791
AUC of PRC = 0.526345
min(+P, Se) = 0.503356

Epoch 00028: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch28.test0.290201249302895.state
Epoch 29/100
 - 845s - loss: 0.3021 - val_loss: 0.2907

==>predicting on train


confusion matrix:
[[6879  107]
 [ 806  267]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.886709988117218
precision class 0 = 0.8951200246810913
precision class 1 = 0.7139040231704712
recall class 0 = 0.9846839904785156
recall class 1 = 0.2488349974155426
AUC of ROC = 0.850857
AUC of PRC = 0.54737
min(+P, Se) = 0.528425
confusion matrix:
[[5630   78]
 [ 698  216]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8828150033950806
precision class 0 = 0.8896970152854919
precision class 1 = 0.7346940040588379
recall class 0 = 0.9863349795341492
recall class 1 = 0.2363239973783493
AUC of ROC = 0.839282
AUC of PRC = 0.540244
min(+P, Se) = 0.511475
confusion matrix:
[[12509   185]
 [ 1504   483]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8849530220031738
precision class 0 = 0.8926709890365601
precision class 1 = 0.7230539917945862
recall class 0 = 0.9854260087013245
recall class 1 = 0.2430800050497055
AUC of ROC = 0.845656
AUC of PRC = 0.544202
min(+P, Se) = 0.519376

==>predicting on validation


confusion matrix:
[[1499   30]
 [ 183   61]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8912010192871094
precision class 1 = 0.6703299880027771
recall class 0 = 0.9803789854049683
recall class 1 = 0.25
AUC of ROC = 0.846849
AUC of PRC = 0.545305
min(+P, Se) = 0.507874
confusion matrix:
[[1239   18]
 [ 149   43]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.8926510214805603
precision class 1 = 0.7049180269241333
recall class 0 = 0.9856799840927124
recall class 1 = 0.22395800054073334
AUC of ROC = 0.846199
AUC of PRC = 0.523709
min(+P, Se) = 0.484375
confusion matrix:
[[2738   48]
 [ 332  104]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8820610046386719
precision class 0 = 0.8918570280075073
precision class 1 = 0.684211015701294
recall class 0 = 0.9827709794044495
recall class 1 = 0.23853200674057007
AUC of ROC = 0.846801
AUC of PRC = 0.534538
min(+P, Se) = 0.5

Epoch 00029: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch29.test0.29068002546429267.state
Epoch 30/100
 - 850s - loss: 0.3018 - val_loss: 0.2905

==>predicting on train


confusion matrix:
[[6914   72]
 [ 833  240]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.887703001499176
precision class 0 = 0.8924750089645386
precision class 1 = 0.7692310214042664
recall class 0 = 0.9896939992904663
recall class 1 = 0.22367200255393982
AUC of ROC = 0.851589
AUC of PRC = 0.546575
min(+P, Se) = 0.514445
confusion matrix:
[[5650   58]
 [ 716  198]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8831170201301575
precision class 0 = 0.8875269889831543
precision class 1 = 0.7734379768371582
recall class 0 = 0.9898390173912048
recall class 1 = 0.2166299968957901
AUC of ROC = 0.843456
AUC of PRC = 0.539161
min(+P, Se) = 0.509847
confusion matrix:
[[12564   130]
 [ 1549   438]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8856340050697327
precision class 0 = 0.8902429938316345
precision class 1 = 0.7711269855499268
recall class 0 = 0.9897590279579163
recall class 1 = 0.22043299674987793
AUC of ROC = 0.847939
AUC of PRC = 0.543147
min(+P, Se) = 0.51233

==>predicting on validation


confusion matrix:
[[1512   17]
 [ 186   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8855050206184387
precision class 0 = 0.8904590010643005
precision class 1 = 0.7733330130577087
recall class 0 = 0.9888820052146912
recall class 1 = 0.23770500719547272
AUC of ROC = 0.847114
AUC of PRC = 0.546437
min(+P, Se) = 0.512295
confusion matrix:
[[1240   17]
 [ 152   40]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8833680152893066
precision class 0 = 0.8908050060272217
precision class 1 = 0.7017539739608765
recall class 0 = 0.9864760041236877
recall class 1 = 0.20833300054073334
AUC of ROC = 0.848569
AUC of PRC = 0.513415
min(+P, Se) = 0.484375
confusion matrix:
[[2752   34]
 [ 338   98]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8845440149307251
precision class 0 = 0.8906149864196777
precision class 1 = 0.7424240112304688
recall class 0 = 0.9877960085868835
recall class 1 = 0.22477099299430847
AUC of ROC = 0.84781
AUC of PRC = 0.531625
min(+P, Se) = 0.5

Epoch 00030: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch30.test0.29051502751941494.state
Epoch 31/100
 - 849s - loss: 0.3048 - val_loss: 0.2889

==>predicting on train


confusion matrix:
[[6929   57]
 [ 856  217]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.886709988117218
precision class 0 = 0.8900449872016907
precision class 1 = 0.7919710278511047
recall class 0 = 0.9918410181999207
recall class 1 = 0.20223699510097504
AUC of ROC = 0.85268
AUC of PRC = 0.549683
min(+P, Se) = 0.521415
confusion matrix:
[[5661   47]
 [ 727  187]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8831170201301575
precision class 0 = 0.8861929774284363
precision class 1 = 0.799144983291626
recall class 0 = 0.9917659759521484
recall class 1 = 0.20459499955177307
AUC of ROC = 0.844322
AUC of PRC = 0.547026
min(+P, Se) = 0.512035
confusion matrix:
[[12590   104]
 [ 1583   404]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8850899934768677
precision class 0 = 0.8883090019226074
precision class 1 = 0.7952759861946106
recall class 0 = 0.9918069839477539
recall class 1 = 0.20332199335098267
AUC of ROC = 0.848867
AUC of PRC = 0.548627
min(+P, Se) = 0.517606

==>predicting on validation


confusion matrix:
[[1518   11]
 [ 193   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8849409818649292
precision class 0 = 0.8871999979019165
precision class 1 = 0.8225809931755066
recall class 0 = 0.9928060173988342
recall class 1 = 0.20901599526405334
AUC of ROC = 0.849942
AUC of PRC = 0.548933
min(+P, Se) = 0.516393
confusion matrix:
[[1243   14]
 [ 156   36]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8826779723167419
precision class 0 = 0.8884919881820679
precision class 1 = 0.7200000286102295
recall class 0 = 0.9888619780540466
recall class 1 = 0.1875
AUC of ROC = 0.851117
AUC of PRC = 0.523952
min(+P, Se) = 0.481865
confusion matrix:
[[2761   25]
 [ 349   87]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.887781023979187
precision class 1 = 0.7767860293388367
recall class 0 = 0.9910269975662231
recall class 1 = 0.19954100251197815
AUC of ROC = 0.850586
AUC of PRC = 0.537573
min(+P, Se) = 0.504587

Epoch 00031: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch31.test0.2888952001679543.state
Epoch 32/100
 - 852s - loss: 0.2998 - val_loss: 0.2881

==>predicting on train


confusion matrix:
[[6932   54]
 [ 866  207]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8858420252799988
precision class 0 = 0.888945996761322
precision class 1 = 0.7931029796600342
recall class 0 = 0.9922699928283691
recall class 1 = 0.19291700422763824
AUC of ROC = 0.855669
AUC of PRC = 0.558157
min(+P, Se) = 0.531221
confusion matrix:
[[5664   44]
 [ 747  167]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8805500268936157
precision class 0 = 0.8834819793701172
precision class 1 = 0.7914689779281616
recall class 0 = 0.9922919869422913
recall class 1 = 0.18271300196647644
AUC of ROC = 0.846823
AUC of PRC = 0.554555
min(+P, Se) = 0.512035
confusion matrix:
[[12596    98]
 [ 1613   374]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8834549784660339
precision class 0 = 0.8864799737930298
precision class 1 = 0.79237300157547
recall class 0 = 0.9922800064086914
recall class 1 = 0.1882230043411255
AUC of ROC = 0.851646
AUC of PRC = 0.556468
min(+P, Se) = 0.521892

==>predicting on validation


confusion matrix:
[[1516   13]
 [ 195   49]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8826850056648254
precision class 0 = 0.886031985282898
precision class 1 = 0.79032301902771
recall class 0 = 0.9914979934692383
recall class 1 = 0.20081999897956848
AUC of ROC = 0.855198
AUC of PRC = 0.557047
min(+P, Se) = 0.521912
confusion matrix:
[[1247   10]
 [ 160   32]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8826779723167419
precision class 0 = 0.8862829804420471
precision class 1 = 0.7619050145149231
recall class 0 = 0.992044985294342
recall class 1 = 0.16666699945926666
AUC of ROC = 0.85277
AUC of PRC = 0.536346
min(+P, Se) = 0.510417
confusion matrix:
[[2763   23]
 [ 355   81]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8826820254325867
precision class 0 = 0.8861449956893921
precision class 1 = 0.778846025466919
recall class 0 = 0.9917439818382263
recall class 1 = 0.18578000366687775
AUC of ROC = 0.854359
AUC of PRC = 0.548298
min(+P, Se) = 0.515766

Epoch 00032: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch32.test0.28809133856508173.state
Epoch 33/100
 - 855s - loss: 0.3007 - val_loss: 0.2869

==>predicting on train


confusion matrix:
[[6885  101]
 [ 789  284]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8895639777183533
precision class 0 = 0.8971850275993347
precision class 1 = 0.7376620173454285
recall class 0 = 0.9855430126190186
recall class 1 = 0.2646780014038086
AUC of ROC = 0.855703
AUC of PRC = 0.559297
min(+P, Se) = 0.530289
confusion matrix:
[[5629   79]
 [ 690  224]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8838719725608826
precision class 0 = 0.8908060193061829
precision class 1 = 0.7392740249633789
recall class 0 = 0.9861599802970886
recall class 1 = 0.2450769990682602
AUC of ROC = 0.847131
AUC of PRC = 0.553548
min(+P, Se) = 0.513129
confusion matrix:
[[12514   180]
 [ 1479   508]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8869969844818115
precision class 0 = 0.8943039774894714
precision class 1 = 0.7383720278739929
recall class 0 = 0.9858199954032898
recall class 1 = 0.2556619942188263
AUC of ROC = 0.851824
AUC of PRC = 0.556631
min(+P, Se) = 0.52259

==>predicting on validation


confusion matrix:
[[1497   32]
 [ 178   66]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.8937309980392456
precision class 1 = 0.6734690070152283
recall class 0 = 0.9790710210800171
recall class 1 = 0.27049198746681213
AUC of ROC = 0.852928
AUC of PRC = 0.551457
min(+P, Se) = 0.51938
confusion matrix:
[[1242   15]
 [ 146   46]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.8948130011558533
precision class 1 = 0.7540979981422424
recall class 0 = 0.9880669713020325
recall class 1 = 0.23958300054073334
AUC of ROC = 0.851229
AUC of PRC = 0.533752
min(+P, Se) = 0.494792
confusion matrix:
[[2739   47]
 [ 324  112]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8848540186882019
precision class 0 = 0.8942210078239441
precision class 1 = 0.7044020295143127
recall class 0 = 0.9831299781799316
recall class 1 = 0.2568809986114502
AUC of ROC = 0.852468
AUC of PRC = 0.543793
min(+P, Se) = 0.513453

Epoch 00033: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch33.test0.2869391141310195.state
Epoch 34/100
 - 853s - loss: 0.2993 - val_loss: 0.2896

==>predicting on train


confusion matrix:
[[6911   75]
 [ 824  249]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8884479999542236
precision class 0 = 0.8934710025787354
precision class 1 = 0.7685179710388184
recall class 0 = 0.9892640113830566
recall class 1 = 0.2320600003004074
AUC of ROC = 0.862413
AUC of PRC = 0.570927
min(+P, Se) = 0.536111
confusion matrix:
[[5650   58]
 [ 715  199]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8832679986953735
precision class 0 = 0.8876670002937317
precision class 1 = 0.7743189930915833
recall class 0 = 0.9898390173912048
recall class 1 = 0.2177239954471588
AUC of ROC = 0.850272
AUC of PRC = 0.558499
min(+P, Se) = 0.520219
confusion matrix:
[[12561   133]
 [ 1539   448]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8861110210418701
precision class 0 = 0.8908510208129883
precision class 1 = 0.7710840106010437
recall class 0 = 0.9895229935646057
recall class 1 = 0.22546599805355072
AUC of ROC = 0.856934
AUC of PRC = 0.565085
min(+P, Se) = 0.530653

==>predicting on validation


confusion matrix:
[[1506   23]
 [ 185   59]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8826850056648254
precision class 0 = 0.8905969858169556
precision class 1 = 0.7195119857788086
recall class 0 = 0.9849579930305481
recall class 1 = 0.24180300533771515
AUC of ROC = 0.854145
AUC of PRC = 0.549826
min(+P, Se) = 0.512295
confusion matrix:
[[1243   14]
 [ 152   40]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8854380249977112
precision class 0 = 0.8910390138626099
precision class 1 = 0.7407410144805908
recall class 0 = 0.9888619780540466
recall class 1 = 0.20833300054073334
AUC of ROC = 0.854817
AUC of PRC = 0.540345
min(+P, Se) = 0.502564
confusion matrix:
[[2749   37]
 [ 337   99]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.8907970190048218
precision class 1 = 0.7279409766197205
recall class 0 = 0.986719012260437
recall class 1 = 0.22706399857997894
AUC of ROC = 0.854406
AUC of PRC = 0.544964
min(+P, Se) = 0.504587

Epoch 00034: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch34.test0.28958469763869904.state
Epoch 35/100
 - 851s - loss: 0.2975 - val_loss: 0.2859

==>predicting on train


confusion matrix:
[[6913   73]
 [ 818  255]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8894400000572205
precision class 0 = 0.8941919803619385
precision class 1 = 0.7774389982223511
recall class 0 = 0.989549994468689
recall class 1 = 0.2376510053873062
AUC of ROC = 0.860374
AUC of PRC = 0.57502
min(+P, Se) = 0.534949
confusion matrix:
[[5647   61]
 [ 712  202]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8832679986953735
precision class 0 = 0.8880329728126526
precision class 1 = 0.7680609822273254
recall class 0 = 0.989313006401062
recall class 1 = 0.22100700438022614
AUC of ROC = 0.850029
AUC of PRC = 0.560032
min(+P, Se) = 0.520788
confusion matrix:
[[12560   134]
 [ 1530   457]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8866559863090515
precision class 0 = 0.8914120197296143
precision class 1 = 0.7732660174369812
recall class 0 = 0.9894440174102783
recall class 1 = 0.229994997382164
AUC of ROC = 0.855734
AUC of PRC = 0.568149
min(+P, Se) = 0.527583

==>predicting on validation


confusion matrix:
[[1501   28]
 [ 186   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.8897449970245361
precision class 1 = 0.6744189858436584
recall class 0 = 0.9816870093345642
recall class 1 = 0.23770500719547272
AUC of ROC = 0.849079
AUC of PRC = 0.545555
min(+P, Se) = 0.504098
confusion matrix:
[[1241   16]
 [ 145   47]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.8953819870948792
precision class 1 = 0.7460319995880127
recall class 0 = 0.9872710108757019
recall class 1 = 0.24479199945926666
AUC of ROC = 0.858211
AUC of PRC = 0.560109
min(+P, Se) = 0.526042
confusion matrix:
[[2742   44]
 [ 331  105]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8836129903793335
precision class 0 = 0.8922880291938782
precision class 1 = 0.7046980261802673
recall class 0 = 0.9842069745063782
recall class 1 = 0.24082599580287933
AUC of ROC = 0.852947
AUC of PRC = 0.549921
min(+P, Se) = 0.512586

Epoch 00035: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch35.test0.2858618887581861.state
Epoch 36/100
 - 849s - loss: 0.2999 - val_loss: 0.2897

==>predicting on train


confusion matrix:
[[6882  104]
 [ 793  280]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.888696014881134
precision class 0 = 0.8966779708862305
precision class 1 = 0.7291669845581055
recall class 0 = 0.9851130247116089
recall class 1 = 0.2609510123729706
AUC of ROC = 0.860752
AUC of PRC = 0.565266
min(+P, Se) = 0.531163
confusion matrix:
[[5636   72]
 [ 682  232]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8861370086669922
precision class 0 = 0.89205402135849
precision class 1 = 0.7631580233573914
recall class 0 = 0.9873859882354736
recall class 1 = 0.2538290023803711
AUC of ROC = 0.847854
AUC of PRC = 0.552882
min(+P, Se) = 0.514722
confusion matrix:
[[12518   176]
 [ 1475   512]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8875420093536377
precision class 0 = 0.8945900201797485
precision class 1 = 0.7441859841346741
recall class 0 = 0.9861350059509277
recall class 1 = 0.2576749920845032
AUC of ROC = 0.854887
AUC of PRC = 0.559647
min(+P, Se) = 0.522396

==>predicting on validation


confusion matrix:
[[1493   36]
 [ 178   66]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.8934770226478577
precision class 1 = 0.6470590233802795
recall class 0 = 0.9764549732208252
recall class 1 = 0.27049198746681213
AUC of ROC = 0.847535
AUC of PRC = 0.538807
min(+P, Se) = 0.48996
confusion matrix:
[[1237   20]
 [ 148   44]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8840579986572266
precision class 0 = 0.893140971660614
precision class 1 = 0.6875
recall class 0 = 0.9840890169143677
recall class 1 = 0.22916699945926666
AUC of ROC = 0.849161
AUC of PRC = 0.527228
min(+P, Se) = 0.505208
confusion matrix:
[[2730   56]
 [ 326  110]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8814399838447571
precision class 0 = 0.8933249711990356
precision class 1 = 0.662651002407074
recall class 0 = 0.9799000024795532
recall class 1 = 0.25229400396347046
AUC of ROC = 0.847944
AUC of PRC = 0.533364
min(+P, Se) = 0.5

Epoch 00036: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch36.test0.2897425233846048.state
Epoch 37/100
 - 853s - loss: 0.2967 - val_loss: 0.2884

==>predicting on train


confusion matrix:
[[6906   80]
 [ 797  276]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8911780118942261
precision class 0 = 0.8965340256690979
precision class 1 = 0.7752810120582581
recall class 0 = 0.9885479807853699
recall class 1 = 0.2572230100631714
AUC of ROC = 0.859221
AUC of PRC = 0.563639
min(+P, Se) = 0.534949
confusion matrix:
[[5632   76]
 [ 696  218]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8834189772605896
precision class 0 = 0.8900129795074463
precision class 1 = 0.7414969801902771
recall class 0 = 0.9866849780082703
recall class 1 = 0.23851199448108673
AUC of ROC = 0.850434
AUC of PRC = 0.551247
min(+P, Se) = 0.512568
confusion matrix:
[[12538   156]
 [ 1493   494]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8876780271530151
precision class 0 = 0.8935930132865906
precision class 1 = 0.7599999904632568
recall class 0 = 0.9877110123634338
recall class 1 = 0.24861599504947662
AUC of ROC = 0.855253
AUC of PRC = 0.557882
min(+P, Se) = 0.523332

==>predicting on validation


confusion matrix:
[[1499   30]
 [ 180   64]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.8927929997444153
precision class 1 = 0.6808509826660156
recall class 0 = 0.9803789854049683
recall class 1 = 0.2622950077056885
AUC of ROC = 0.845964
AUC of PRC = 0.536248
min(+P, Se) = 0.497976
confusion matrix:
[[1241   16]
 [ 145   47]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.8953819870948792
precision class 1 = 0.7460319995880127
recall class 0 = 0.9872710108757019
recall class 1 = 0.24479199945926666
AUC of ROC = 0.855928
AUC of PRC = 0.533115
min(+P, Se) = 0.497696
confusion matrix:
[[2740   46]
 [ 325  111]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8848540186882019
precision class 0 = 0.8939639925956726
precision class 1 = 0.7070059776306152
recall class 0 = 0.9834889769554138
recall class 1 = 0.25458699464797974
AUC of ROC = 0.850105
AUC of PRC = 0.535173
min(+P, Se) = 0.496568

Epoch 00037: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch37.test0.2883717365410297.state
Epoch 38/100
 - 856s - loss: 0.2977 - val_loss: 0.2855

==>predicting on train


confusion matrix:
[[6866  120]
 [ 765  308]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8901849985122681
precision class 0 = 0.8997510075569153
precision class 1 = 0.7196260094642639
recall class 0 = 0.9828230142593384
recall class 1 = 0.28704598546028137
AUC of ROC = 0.858575
AUC of PRC = 0.565699
min(+P, Se) = 0.526561
confusion matrix:
[[5610   98]
 [ 665  249]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8847780227661133
precision class 0 = 0.8940240144729614
precision class 1 = 0.7175790071487427
recall class 0 = 0.9828310012817383
recall class 1 = 0.2724289894104004
AUC of ROC = 0.851657
AUC of PRC = 0.557897
min(+P, Se) = 0.513129
confusion matrix:
[[12476   218]
 [ 1430   557]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8877459764480591
precision class 0 = 0.8971670269966125
precision class 1 = 0.7187100052833557
recall class 0 = 0.9828259944915771
recall class 1 = 0.28032198548316956
AUC of ROC = 0.855413
AUC of PRC = 0.56209
min(+P, Se) = 0.520886

==>predicting on validation


confusion matrix:
[[1497   32]
 [ 176   68]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8826850056648254
precision class 0 = 0.8948000073432922
precision class 1 = 0.6800000071525574
recall class 0 = 0.9790710210800171
recall class 1 = 0.2786889970302582
AUC of ROC = 0.851111
AUC of PRC = 0.550673
min(+P, Se) = 0.51626
confusion matrix:
[[1234   23]
 [ 140   52]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.8981080055236816
precision class 1 = 0.6933330297470093
recall class 0 = 0.9817020297050476
recall class 1 = 0.27083298563957214
AUC of ROC = 0.853976
AUC of PRC = 0.532145
min(+P, Se) = 0.510417
confusion matrix:
[[2731   55]
 [ 316  120]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8848540186882019
precision class 0 = 0.8962910175323486
precision class 1 = 0.6857140064239502
recall class 0 = 0.9802579879760742
recall class 1 = 0.27522900700569153
AUC of ROC = 0.852324
AUC of PRC = 0.541271
min(+P, Se) = 0.505721

Epoch 00038: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch38.test0.28551339112282315.state
Epoch 39/100
 - 862s - loss: 0.2998 - val_loss: 0.2850

==>predicting on train


confusion matrix:
[[6879  107]
 [ 793  280]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8883240222930908
precision class 0 = 0.8966370224952698
precision class 1 = 0.7235140204429626
recall class 0 = 0.9846839904785156
recall class 1 = 0.2609510123729706
AUC of ROC = 0.858245
AUC of PRC = 0.562555
min(+P, Se) = 0.527493
confusion matrix:
[[5623   85]
 [ 675  239]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8852310180664062
precision class 0 = 0.8928229808807373
precision class 1 = 0.7376539707183838
recall class 0 = 0.9851089715957642
recall class 1 = 0.2614879906177521
AUC of ROC = 0.84838
AUC of PRC = 0.554068
min(+P, Se) = 0.51683
confusion matrix:
[[12502   192]
 [ 1468   519]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8869289755821228
precision class 0 = 0.8949180245399475
precision class 1 = 0.7299579977989197
recall class 0 = 0.9848750233650208
recall class 1 = 0.2611980140209198
AUC of ROC = 0.853749
AUC of PRC = 0.558747
min(+P, Se) = 0.522899

==>predicting on validation


confusion matrix:
[[1503   26]
 [ 180   64]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8838130235671997
precision class 0 = 0.8930479884147644
precision class 1 = 0.7111110091209412
recall class 0 = 0.9829949736595154
recall class 1 = 0.2622950077056885
AUC of ROC = 0.854298
AUC of PRC = 0.556453
min(+P, Se) = 0.520492
confusion matrix:
[[1236   21]
 [ 141   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.8976039886474609
precision class 1 = 0.7083330154418945
recall class 0 = 0.9832940101623535
recall class 1 = 0.265625
AUC of ROC = 0.853508
AUC of PRC = 0.528932
min(+P, Se) = 0.510417
confusion matrix:
[[2739   47]
 [ 321  115]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8857849836349487
precision class 0 = 0.8950979709625244
precision class 1 = 0.7098770141601562
recall class 0 = 0.9831299781799316
recall class 1 = 0.2637610137462616
AUC of ROC = 0.854186
AUC of PRC = 0.543178
min(+P, Se) = 0.513761

Epoch 00039: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch39.test0.2850200739578754.state
Epoch 40/100
 - 850s - loss: 0.2953 - val_loss: 0.2901

==>predicting on train


confusion matrix:
[[6853  133]
 [ 752  321]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8901849985122681
precision class 0 = 0.9011179804801941
precision class 1 = 0.7070479989051819
recall class 0 = 0.9809619784355164
recall class 1 = 0.29916098713874817
AUC of ROC = 0.859081
AUC of PRC = 0.551565
min(+P, Se) = 0.519105
confusion matrix:
[[5566  142]
 [ 635  279]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8826640248298645
precision class 0 = 0.8975970149040222
precision class 1 = 0.6627079844474792
recall class 0 = 0.9751229882240295
recall class 1 = 0.30525198578834534
AUC of ROC = 0.8486
AUC of PRC = 0.543436
min(+P, Se) = 0.515317
confusion matrix:
[[12419   275]
 [ 1387   600]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.886792004108429
precision class 0 = 0.8995360136032104
precision class 1 = 0.6857140064239502
recall class 0 = 0.978335976600647
recall class 1 = 0.3019630014896393
AUC of ROC = 0.854312
AUC of PRC = 0.547616
min(+P, Se) = 0.51686

==>predicting on validation


confusion matrix:
[[1489   40]
 [ 172   72]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.896448016166687
precision class 1 = 0.642857015132904
recall class 0 = 0.9738389849662781
recall class 1 = 0.2950820028781891
AUC of ROC = 0.851443
AUC of PRC = 0.544136
min(+P, Se) = 0.516393
confusion matrix:
[[1228   29]
 [ 125   67]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8937199711799622
precision class 0 = 0.9076129794120789
precision class 1 = 0.6979169845581055
recall class 0 = 0.9769290089607239
recall class 1 = 0.34895798563957214
AUC of ROC = 0.852219
AUC of PRC = 0.517536
min(+P, Se) = 0.494792
confusion matrix:
[[2717   69]
 [ 297  139]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8864060044288635
precision class 0 = 0.9014599919319153
precision class 1 = 0.6682689785957336
recall class 0 = 0.9752330183982849
recall class 1 = 0.3188070058822632
AUC of ROC = 0.851653
AUC of PRC = 0.529346
min(+P, Se) = 0.504587

Epoch 00040: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch40.test0.2901150613287863.state
Epoch 41/100
 - 853s - loss: 0.2967 - val_loss: 0.2870

==>predicting on train


confusion matrix:
[[6861  125]
 [ 760  313]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8901849985122681
precision class 0 = 0.9002760052680969
precision class 1 = 0.7146120071411133
recall class 0 = 0.9821069836616516
recall class 1 = 0.29170599579811096
AUC of ROC = 0.857968
AUC of PRC = 0.563998
min(+P, Se) = 0.530289
confusion matrix:
[[5598  110]
 [ 651  263]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8850799798965454
precision class 0 = 0.8958230018615723
precision class 1 = 0.7050939798355103
recall class 0 = 0.9807289838790894
recall class 1 = 0.28774601221084595
AUC of ROC = 0.850123
AUC of PRC = 0.557266
min(+P, Se) = 0.516411
confusion matrix:
[[12459   235]
 [ 1411   576]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8878819942474365
precision class 0 = 0.8982700109481812
precision class 1 = 0.7102339863777161
recall class 0 = 0.981486976146698
recall class 1 = 0.2898840010166168
AUC of ROC = 0.854429
AUC of PRC = 0.560903
min(+P, Se) = 0.522373

==>predicting on validation


confusion matrix:
[[1491   38]
 [ 174   70]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.8954960107803345
precision class 1 = 0.6481480002403259
recall class 0 = 0.975147008895874
recall class 1 = 0.28688499331474304
AUC of ROC = 0.850567
AUC of PRC = 0.54862
min(+P, Se) = 0.506122
confusion matrix:
[[1230   27]
 [ 135   57]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.9010990262031555
precision class 1 = 0.6785709857940674
recall class 0 = 0.9785199761390686
recall class 1 = 0.296875
AUC of ROC = 0.854034
AUC of PRC = 0.532909
min(+P, Se) = 0.505208
confusion matrix:
[[2721   65]
 [ 309  127]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.8980200290679932
precision class 1 = 0.6614580154418945
recall class 0 = 0.9766690135002136
recall class 1 = 0.2912839949131012
AUC of ROC = 0.851888
AUC of PRC = 0.54085
min(+P, Se) = 0.504587

Epoch 00041: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch41.test0.28697960489862534.state
Epoch 42/100
 - 843s - loss: 0.2986 - val_loss: 0.2869

==>predicting on train


confusion matrix:
[[6871  115]
 [ 761  312]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8913019895553589
precision class 0 = 0.9002879858016968
precision class 1 = 0.7306789755821228
recall class 0 = 0.9835379719734192
recall class 1 = 0.29077398777008057
AUC of ROC = 0.862407
AUC of PRC = 0.569354
min(+P, Se) = 0.539609
confusion matrix:
[[5619   89]
 [ 661  253]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8867409825325012
precision class 0 = 0.8947449922561646
precision class 1 = 0.739766001701355
recall class 0 = 0.9844080209732056
recall class 1 = 0.27680501341819763
AUC of ROC = 0.851235
AUC of PRC = 0.564924
min(+P, Se) = 0.521882
confusion matrix:
[[12490   204]
 [ 1422   565]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8892449736595154
precision class 0 = 0.897786021232605
precision class 1 = 0.73471999168396
recall class 0 = 0.9839289784431458
recall class 1 = 0.2843480110168457
AUC of ROC = 0.857373
AUC of PRC = 0.56763
min(+P, Se) = 0.531454

==>predicting on validation


confusion matrix:
[[1492   37]
 [ 170   74]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8832489848136902
precision class 0 = 0.8977140188217163
precision class 1 = 0.6666669845581055
recall class 0 = 0.9758009910583496
recall class 1 = 0.30327901244163513
AUC of ROC = 0.849996
AUC of PRC = 0.543443
min(+P, Se) = 0.496
confusion matrix:
[[1235   22]
 [ 140   52]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.8981819748878479
precision class 1 = 0.7027029991149902
recall class 0 = 0.9824979901313782
recall class 1 = 0.27083298563957214
AUC of ROC = 0.853036
AUC of PRC = 0.535167
min(+P, Se) = 0.505208
confusion matrix:
[[2727   59]
 [ 310  126]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8854749798774719
precision class 0 = 0.8979259729385376
precision class 1 = 0.6810809969902039
recall class 0 = 0.9788230061531067
recall class 1 = 0.2889910042285919
AUC of ROC = 0.850664
AUC of PRC = 0.538307
min(+P, Se) = 0.504587

Epoch 00042: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch42.test0.28690374427325305.state
Epoch 43/100
 - 852s - loss: 0.2928 - val_loss: 0.2889

==>predicting on train


confusion matrix:
[[6870  116]
 [ 774  299]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8895639777183533
precision class 0 = 0.8987439870834351
precision class 1 = 0.7204819917678833
recall class 0 = 0.983394980430603
recall class 1 = 0.278658002614975
AUC of ROC = 0.860475
AUC of PRC = 0.560886
min(+P, Se) = 0.529357
confusion matrix:
[[5625   83]
 [ 680  234]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8847780227661133
precision class 0 = 0.8921489715576172
precision class 1 = 0.7381700277328491
recall class 0 = 0.98545902967453
recall class 1 = 0.2560180127620697
AUC of ROC = 0.848831
AUC of PRC = 0.558834
min(+P, Se) = 0.527352
confusion matrix:
[[12495   199]
 [ 1454   533]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8874059915542603
precision class 0 = 0.8957629799842834
precision class 1 = 0.7281420230865479
recall class 0 = 0.9843230247497559
recall class 1 = 0.2682439982891083
AUC of ROC = 0.85504
AUC of PRC = 0.560225
min(+P, Se) = 0.528169

==>predicting on validation


confusion matrix:
[[1495   34]
 [ 170   74]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8849409818649292
precision class 0 = 0.8978980183601379
precision class 1 = 0.6851850152015686
recall class 0 = 0.9777629971504211
recall class 1 = 0.30327901244163513
AUC of ROC = 0.848326
AUC of PRC = 0.53818
min(+P, Se) = 0.512295
confusion matrix:
[[1234   23]
 [ 143   49]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8854380249977112
precision class 0 = 0.8961510062217712
precision class 1 = 0.6805559992790222
recall class 0 = 0.9817020297050476
recall class 1 = 0.25520798563957214
AUC of ROC = 0.853545
AUC of PRC = 0.534116
min(+P, Se) = 0.5
confusion matrix:
[[2729   57]
 [ 313  123]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8851640224456787
precision class 0 = 0.8971070051193237
precision class 1 = 0.6833329796791077
recall class 0 = 0.979541003704071
recall class 1 = 0.2821100056171417
AUC of ROC = 0.850717
AUC of PRC = 0.535385
min(+P, Se) = 0.511468

Epoch 00043: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch43.test0.2889143640278364.state
Epoch 44/100
 - 855s - loss: 0.2970 - val_loss: 0.2868

==>predicting on train


confusion matrix:
[[6880  106]
 [ 788  285]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8890680074691772
precision class 0 = 0.8972349762916565
precision class 1 = 0.7289000153541565
recall class 0 = 0.9848269820213318
recall class 1 = 0.265610009431839
AUC of ROC = 0.862099
AUC of PRC = 0.565553
min(+P, Se) = 0.532348
confusion matrix:
[[5625   83]
 [ 680  234]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8847780227661133
precision class 0 = 0.8921489715576172
precision class 1 = 0.7381700277328491
recall class 0 = 0.98545902967453
recall class 1 = 0.2560180127620697
AUC of ROC = 0.847715
AUC of PRC = 0.555241
min(+P, Se) = 0.51469
confusion matrix:
[[12505   189]
 [ 1468   519]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.887133002281189
precision class 0 = 0.8949400186538696
precision class 1 = 0.7330510020256042
recall class 0 = 0.9851109981536865
recall class 1 = 0.2611980140209198
AUC of ROC = 0.855637
AUC of PRC = 0.560891
min(+P, Se) = 0.52539

==>predicting on validation


confusion matrix:
[[1501   28]
 [ 182   62]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.8918600082397461
precision class 1 = 0.6888890266418457
recall class 0 = 0.9816870093345642
recall class 1 = 0.25409799814224243
AUC of ROC = 0.850114
AUC of PRC = 0.538428
min(+P, Se) = 0.494465
confusion matrix:
[[1236   21]
 [ 141   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.8976039886474609
precision class 1 = 0.7083330154418945
recall class 0 = 0.9832940101623535
recall class 1 = 0.265625
AUC of ROC = 0.855513
AUC of PRC = 0.543957
min(+P, Se) = 0.510417
confusion matrix:
[[2737   49]
 [ 323  113]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8845440149307251
precision class 0 = 0.8944439888000488
precision class 1 = 0.69753098487854
recall class 0 = 0.9824119806289673
recall class 1 = 0.2591739892959595
AUC of ROC = 0.852452
AUC of PRC = 0.540466
min(+P, Se) = 0.502294

Epoch 00044: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch44.test0.286830930630107.state
Epoch 45/100
 - 852s - loss: 0.2953 - val_loss: 0.2849

==>predicting on train


confusion matrix:
[[6888   98]
 [ 768  305]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8925420045852661
precision class 0 = 0.8996859788894653
precision class 1 = 0.7568240165710449
recall class 0 = 0.985971987247467
recall class 1 = 0.2842499911785126
AUC of ROC = 0.863763
AUC of PRC = 0.573416
min(+P, Se) = 0.542247
confusion matrix:
[[5617   91]
 [ 656  258]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8871939778327942
precision class 0 = 0.895425021648407
precision class 1 = 0.7392550110816956
recall class 0 = 0.9840580224990845
recall class 1 = 0.2822760045528412
AUC of ROC = 0.852583
AUC of PRC = 0.564881
min(+P, Se) = 0.52407
confusion matrix:
[[12505   189]
 [ 1424   563]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8901299834251404
precision class 0 = 0.8977670073509216
precision class 1 = 0.7486699819564819
recall class 0 = 0.9851109981536865
recall class 1 = 0.28334200382232666
AUC of ROC = 0.858724
AUC of PRC = 0.569551
min(+P, Se) = 0.531894

==>predicting on validation


confusion matrix:
[[1493   36]
 [ 173   71]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8821210265159607
precision class 0 = 0.89615797996521
precision class 1 = 0.6635509729385376
recall class 0 = 0.9764549732208252
recall class 1 = 0.29098400473594666
AUC of ROC = 0.850481
AUC of PRC = 0.540755
min(+P, Se) = 0.48374
confusion matrix:
[[1233   24]
 [ 139   53]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.898688018321991
precision class 1 = 0.6883119940757751
recall class 0 = 0.9809070229530334
recall class 1 = 0.27604201436042786
AUC of ROC = 0.858281
AUC of PRC = 0.545794
min(+P, Se) = 0.510417
confusion matrix:
[[2726   60]
 [ 312  124]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8845440149307251
precision class 0 = 0.8973010182380676
precision class 1 = 0.6739130020141602
recall class 0 = 0.9784640073776245
recall class 1 = 0.2844040095806122
AUC of ROC = 0.853833
AUC of PRC = 0.54253
min(+P, Se) = 0.5

Epoch 00045: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch45.test0.2848940555799422.state
Epoch 46/100
 - 851s - loss: 0.2895 - val_loss: 0.2848

==>predicting on train


confusion matrix:
[[6840  146]
 [ 737  336]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8904330134391785
precision class 0 = 0.9027320146560669
precision class 1 = 0.6970949769020081
recall class 0 = 0.9791010022163391
recall class 1 = 0.31314098834991455
AUC of ROC = 0.866765
AUC of PRC = 0.575592
min(+P, Se) = 0.536813
confusion matrix:
[[5583  125]
 [ 632  282]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8856840133666992
precision class 0 = 0.8983110189437866
precision class 1 = 0.6928750276565552
recall class 0 = 0.9781010150909424
recall class 1 = 0.30853399634361267
AUC of ROC = 0.854522
AUC of PRC = 0.563468
min(+P, Se) = 0.531729
confusion matrix:
[[12423   271]
 [ 1369   618]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8882910013198853
precision class 0 = 0.9007400274276733
precision class 1 = 0.6951630115509033
recall class 0 = 0.9786509871482849
recall class 1 = 0.311022013425827
AUC of ROC = 0.86126
AUC of PRC = 0.57008
min(+P, Se) = 0.535481

==>predicting on validation


confusion matrix:
[[1482   47]
 [ 167   77]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.8987259864807129
precision class 1 = 0.6209679841995239
recall class 0 = 0.9692609906196594
recall class 1 = 0.3155739903450012
AUC of ROC = 0.852188
AUC of PRC = 0.538303
min(+P, Se) = 0.509579
confusion matrix:
[[1227   30]
 [ 129   63]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8902689814567566
precision class 0 = 0.9048669934272766
precision class 1 = 0.6774190068244934
recall class 0 = 0.9761340022087097
recall class 1 = 0.328125
AUC of ROC = 0.860299
AUC of PRC = 0.547856
min(+P, Se) = 0.526042
confusion matrix:
[[2709   77]
 [ 296  140]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.901498019695282
precision class 1 = 0.645160973072052
recall class 0 = 0.9723619818687439
recall class 1 = 0.32110100984573364
AUC of ROC = 0.855789
AUC of PRC = 0.541789
min(+P, Se) = 0.511468

Epoch 00046: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch46.test0.28484777409252654.state
Epoch 47/100
 - 854s - loss: 0.2924 - val_loss: 0.2837

==>predicting on train


confusion matrix:
[[6875  111]
 [ 741  332]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8942800164222717
precision class 0 = 0.9027050137519836
precision class 1 = 0.7494360208511353
recall class 0 = 0.9841110110282898
recall class 1 = 0.30941298604011536
AUC of ROC = 0.864812
AUC of PRC = 0.578422
min(+P, Se) = 0.53352
confusion matrix:
[[5612   96]
 [ 654  260]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8867409825325012
precision class 0 = 0.8956270217895508
precision class 1 = 0.7303370237350464
recall class 0 = 0.9831820130348206
recall class 1 = 0.2844640016555786
AUC of ROC = 0.855251
AUC of PRC = 0.571506
min(+P, Se) = 0.537199
confusion matrix:
[[12487   207]
 [ 1395   592]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8908789753913879
precision class 0 = 0.8995100259780884
precision class 1 = 0.7409260272979736
recall class 0 = 0.98369300365448
recall class 1 = 0.2979370057582855
AUC of ROC = 0.860499
AUC of PRC = 0.575273
min(+P, Se) = 0.534977

==>predicting on validation


confusion matrix:
[[1490   39]
 [ 170   74]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8821210265159607
precision class 0 = 0.8975899815559387
precision class 1 = 0.6548669934272766
recall class 0 = 0.9744930267333984
recall class 1 = 0.30327901244163513
AUC of ROC = 0.854124
AUC of PRC = 0.548748
min(+P, Se) = 0.509881
confusion matrix:
[[1235   22]
 [ 143   49]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8861280083656311
precision class 0 = 0.8962259888648987
precision class 1 = 0.6901410222053528
recall class 0 = 0.9824979901313782
recall class 1 = 0.25520798563957214
AUC of ROC = 0.858795
AUC of PRC = 0.535969
min(+P, Se) = 0.515625
confusion matrix:
[[2725   61]
 [ 313  123]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.8969720005989075
precision class 1 = 0.6684780120849609
recall class 0 = 0.9781050086021423
recall class 1 = 0.2821100056171417
AUC of ROC = 0.85605
AUC of PRC = 0.54239
min(+P, Se) = 0.511261

Epoch 00047: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch47.test0.28368144085102387.state
Epoch 48/100
 - 850s - loss: 0.2932 - val_loss: 0.2865

==>predicting on train


confusion matrix:
[[6905   81]
 [ 822  251]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8879510164260864
precision class 0 = 0.8936200141906738
precision class 1 = 0.7560240030288696
recall class 0 = 0.9884049892425537
recall class 1 = 0.233924001455307
AUC of ROC = 0.862881
AUC of PRC = 0.570622
min(+P, Se) = 0.536813
confusion matrix:
[[5645   63]
 [ 694  220]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8856840133666992
precision class 0 = 0.8905190229415894
precision class 1 = 0.7773849964141846
recall class 0 = 0.9889630079269409
recall class 1 = 0.24070000648498535
AUC of ROC = 0.851407
AUC of PRC = 0.568747
min(+P, Se) = 0.526258
confusion matrix:
[[12550   144]
 [ 1516   471]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8869289755821228
precision class 0 = 0.892221987247467
precision class 1 = 0.765854001045227
recall class 0 = 0.9886559844017029
recall class 1 = 0.23704099655151367
AUC of ROC = 0.857679
AUC of PRC = 0.569821
min(+P, Se) = 0.531958

==>predicting on validation


confusion matrix:
[[1501   28]
 [ 184   60]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.8908010125160217
precision class 1 = 0.6818180084228516
recall class 0 = 0.9816870093345642
recall class 1 = 0.24590200185775757
AUC of ROC = 0.850953
AUC of PRC = 0.545163
min(+P, Se) = 0.514056
confusion matrix:
[[1243   14]
 [ 151   41]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8861280083656311
precision class 0 = 0.8916789889335632
precision class 1 = 0.7454550266265869
recall class 0 = 0.9888619780540466
recall class 1 = 0.21354199945926666
AUC of ROC = 0.857038
AUC of PRC = 0.548516
min(+P, Se) = 0.544041
confusion matrix:
[[2744   42]
 [ 335  101]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8829920291900635
precision class 0 = 0.8911979794502258
precision class 1 = 0.7062940001487732
recall class 0 = 0.9849249720573425
recall class 1 = 0.23165099322795868
AUC of ROC = 0.853758
AUC of PRC = 0.545552
min(+P, Se) = 0.525843

Epoch 00048: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch48.test0.2864582919689678.state
Epoch 49/100
 - 857s - loss: 0.2927 - val_loss: 0.2885

==>predicting on train


confusion matrix:
[[6924   62]
 [ 824  249]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8900610208511353
precision class 0 = 0.8936499953269958
precision class 1 = 0.8006430268287659
recall class 0 = 0.9911249876022339
recall class 1 = 0.2320600003004074
AUC of ROC = 0.864223
AUC of PRC = 0.578863
min(+P, Se) = 0.530289
confusion matrix:
[[5658   50]
 [ 713  201]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8847780227661133
precision class 0 = 0.8880869746208191
precision class 1 = 0.8007969856262207
recall class 0 = 0.9912400245666504
recall class 1 = 0.21991199254989624
AUC of ROC = 0.851118
AUC of PRC = 0.569121
min(+P, Se) = 0.535011
confusion matrix:
[[12582   112]
 [ 1537   450]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8876780271530151
precision class 0 = 0.8911399841308594
precision class 1 = 0.800711989402771
recall class 0 = 0.9911770224571228
recall class 1 = 0.22647200524806976
AUC of ROC = 0.858044
AUC of PRC = 0.574114
min(+P, Se) = 0.532461

==>predicting on validation


confusion matrix:
[[1505   24]
 [ 189   55]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8884299993515015
precision class 1 = 0.6962019801139832
recall class 0 = 0.9843040108680725
recall class 1 = 0.22540999948978424
AUC of ROC = 0.849419
AUC of PRC = 0.544484
min(+P, Se) = 0.518072
confusion matrix:
[[1247   10]
 [ 157   35]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.8881769776344299
precision class 1 = 0.7777780294418335
recall class 0 = 0.992044985294342
recall class 1 = 0.18229199945926666
AUC of ROC = 0.85606
AUC of PRC = 0.543104
min(+P, Se) = 0.526042
confusion matrix:
[[2752   34]
 [ 346   90]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8820610046386719
precision class 0 = 0.8883150219917297
precision class 1 = 0.7258059978485107
recall class 0 = 0.9877960085868835
recall class 1 = 0.20642200112342834
AUC of ROC = 0.852343
AUC of PRC = 0.542718
min(+P, Se) = 0.522727

Epoch 00049: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch49.test0.2884609297398896.state
Epoch 50/100
 - 856s - loss: 0.2958 - val_loss: 0.2855

==>predicting on train


confusion matrix:
[[6875  111]
 [ 754  319]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8926669955253601
precision class 0 = 0.9011669754981995
precision class 1 = 0.7418599724769592
recall class 0 = 0.9841110110282898
recall class 1 = 0.29729700088500977
AUC of ROC = 0.861688
AUC of PRC = 0.575944
min(+P, Se) = 0.542404
confusion matrix:
[[5626   82]
 [ 662  252]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8876469731330872
precision class 0 = 0.8947200179100037
precision class 1 = 0.7544909715652466
recall class 0 = 0.9856340289115906
recall class 1 = 0.2757109999656677
AUC of ROC = 0.85298
AUC of PRC = 0.57025
min(+P, Se) = 0.52459
confusion matrix:
[[12501   193]
 [ 1416   571]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8904029726982117
precision class 0 = 0.8982539772987366
precision class 1 = 0.7473819851875305
recall class 0 = 0.9847959876060486
recall class 1 = 0.2873679995536804
AUC of ROC = 0.857681
AUC of PRC = 0.573407
min(+P, Se) = 0.533971

==>predicting on validation


confusion matrix:
[[1490   39]
 [ 174   70]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8954330086708069
precision class 1 = 0.6422020196914673
recall class 0 = 0.9744930267333984
recall class 1 = 0.28688499331474304
AUC of ROC = 0.849151
AUC of PRC = 0.546291
min(+P, Se) = 0.512295
confusion matrix:
[[1235   22]
 [ 144   48]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8854380249977112
precision class 0 = 0.895576000213623
precision class 1 = 0.6857140064239502
recall class 0 = 0.9824979901313782
recall class 1 = 0.25
AUC of ROC = 0.858285
AUC of PRC = 0.54018
min(+P, Se) = 0.518135
confusion matrix:
[[2725   61]
 [ 318  118]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8823710083961487
precision class 0 = 0.8954979777336121
precision class 1 = 0.6592180132865906
recall class 0 = 0.9781050086021423
recall class 1 = 0.2706420123577118
AUC of ROC = 0.853038
AUC of PRC = 0.542146
min(+P, Se) = 0.513636

Epoch 00050: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch50.test0.2854972798157597.state
Epoch 51/100
 - 855s - loss: 0.2900 - val_loss: 0.2840

==>predicting on train


confusion matrix:
[[6898   88]
 [ 796  277]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8903089761734009
precision class 0 = 0.896543025970459
precision class 1 = 0.758903980255127
recall class 0 = 0.9874029755592346
recall class 1 = 0.2581549882888794
AUC of ROC = 0.868784
AUC of PRC = 0.580102
min(+P, Se) = 0.543519
confusion matrix:
[[5635   73]
 [ 687  227]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8852310180664062
precision class 0 = 0.8913319706916809
precision class 1 = 0.7566670179367065
recall class 0 = 0.9872109889984131
recall class 1 = 0.24835899472236633
AUC of ROC = 0.856408
AUC of PRC = 0.572832
min(+P, Se) = 0.535011
confusion matrix:
[[12533   161]
 [ 1483   504]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8880190253257751
precision class 0 = 0.8941919803619385
precision class 1 = 0.7578949928283691
recall class 0 = 0.9873170256614685
recall class 1 = 0.2536489963531494
AUC of ROC = 0.863127
AUC of PRC = 0.576865
min(+P, Se) = 0.540663

==>predicting on validation


confusion matrix:
[[1496   33]
 [ 181   63]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.8920689821243286
precision class 1 = 0.65625
recall class 0 = 0.9784169793128967
recall class 1 = 0.25819700956344604
AUC of ROC = 0.852448
AUC of PRC = 0.544959
min(+P, Se) = 0.504098
confusion matrix:
[[1235   22]
 [ 147   45]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8833680152893066
precision class 0 = 0.8936319947242737
precision class 1 = 0.671642005443573
recall class 0 = 0.9824979901313782
recall class 1 = 0.234375
AUC of ROC = 0.860013
AUC of PRC = 0.54016
min(+P, Se) = 0.526042
confusion matrix:
[[2731   55]
 [ 328  108]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8811299800872803
precision class 0 = 0.8927749991416931
precision class 1 = 0.6625769734382629
recall class 0 = 0.9802579879760742
recall class 1 = 0.24770599603652954
AUC of ROC = 0.855872
AUC of PRC = 0.542488
min(+P, Se) = 0.518349

Epoch 00051: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch51.test0.28404156365596606.state
Epoch 52/100
 - 850s - loss: 0.2924 - val_loss: 0.2891

==>predicting on train


confusion matrix:
[[6826  160]
 [ 697  376]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8936589956283569
precision class 0 = 0.907351016998291
precision class 1 = 0.7014930248260498
recall class 0 = 0.9770969748497009
recall class 1 = 0.3504190146923065
AUC of ROC = 0.862614
AUC of PRC = 0.576576
min(+P, Se) = 0.531657
confusion matrix:
[[5582  126]
 [ 632  282]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8855329751968384
precision class 0 = 0.8982939720153809
precision class 1 = 0.6911759972572327
recall class 0 = 0.9779260158538818
recall class 1 = 0.30853399634361267
AUC of ROC = 0.852174
AUC of PRC = 0.564667
min(+P, Se) = 0.526659
confusion matrix:
[[12408   286]
 [ 1329   658]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8899940252304077
precision class 0 = 0.903253972530365
precision class 1 = 0.6970340013504028
recall class 0 = 0.9774699807167053
recall class 1 = 0.3311519920825958
AUC of ROC = 0.857839
AUC of PRC = 0.571053
min(+P, Se) = 0.527373

==>predicting on validation


confusion matrix:
[[1473   56]
 [ 155   89]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8809930086135864
precision class 0 = 0.904790997505188
precision class 1 = 0.6137930154800415
recall class 0 = 0.9633749723434448
recall class 1 = 0.36475399136543274
AUC of ROC = 0.847221
AUC of PRC = 0.544051
min(+P, Se) = 0.508
confusion matrix:
[[1227   30]
 [ 128   64]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8909590244293213
precision class 0 = 0.9055349826812744
precision class 1 = 0.6808509826660156
recall class 0 = 0.9761340022087097
recall class 1 = 0.33333298563957214
AUC of ROC = 0.851768
AUC of PRC = 0.525593
min(+P, Se) = 0.510417
confusion matrix:
[[2700   86]
 [ 283  153]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8854749798774719
precision class 0 = 0.9051290154457092
precision class 1 = 0.6401669979095459
recall class 0 = 0.9691309928894043
recall class 1 = 0.3509170114994049
AUC of ROC = 0.849082
AUC of PRC = 0.535171
min(+P, Se) = 0.509174

Epoch 00052: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch52.test0.28912991293648765.state
Epoch 53/100
 - 852s - loss: 0.2896 - val_loss: 0.2868

==>predicting on train


confusion matrix:
[[6855  131]
 [ 739  334]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8920459747314453
precision class 0 = 0.9026859998703003
precision class 1 = 0.718280017375946
recall class 0 = 0.9812480211257935
recall class 1 = 0.31127700209617615
AUC of ROC = 0.864421
AUC of PRC = 0.576919
min(+P, Se) = 0.539609
confusion matrix:
[[5606  102]
 [ 643  271]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8874959945678711
precision class 0 = 0.897104024887085
precision class 1 = 0.7265419960021973
recall class 0 = 0.9821299910545349
recall class 1 = 0.29649901390075684
AUC of ROC = 0.852871
AUC of PRC = 0.57287
min(+P, Se) = 0.530635
confusion matrix:
[[12461   233]
 [ 1382   605]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8899940252304077
precision class 0 = 0.9001659750938416
precision class 1 = 0.7219570279121399
recall class 0 = 0.9816449880599976
recall class 1 = 0.3044790029525757
AUC of ROC = 0.859194
AUC of PRC = 0.57498
min(+P, Se) = 0.536487

==>predicting on validation


confusion matrix:
[[1483   46]
 [ 164   80]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.9004250168800354
precision class 1 = 0.6349210143089294
recall class 0 = 0.969914972782135
recall class 1 = 0.3278689980506897
AUC of ROC = 0.849998
AUC of PRC = 0.54772
min(+P, Se) = 0.504065
confusion matrix:
[[1230   27]
 [ 136   56]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.9004390239715576
precision class 1 = 0.6746990084648132
recall class 0 = 0.9785199761390686
recall class 1 = 0.29166701436042786
AUC of ROC = 0.853181
AUC of PRC = 0.533519
min(+P, Se) = 0.520833
confusion matrix:
[[2713   73]
 [ 300  136]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.9004309773445129
precision class 1 = 0.6507179737091064
recall class 0 = 0.9737979769706726
recall class 1 = 0.3119269907474518
AUC of ROC = 0.851655
AUC of PRC = 0.540823
min(+P, Se) = 0.514874

Epoch 00053: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch53.test0.2867757789929375.state
Epoch 54/100
 - 848s - loss: 0.2893 - val_loss: 0.2885

==>predicting on train


confusion matrix:
[[6813  173]
 [ 693  380]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8925420045852661
precision class 0 = 0.9076740145683289
precision class 1 = 0.6871610283851624
recall class 0 = 0.9752359986305237
recall class 1 = 0.3541469871997833
AUC of ROC = 0.864289
AUC of PRC = 0.571101
min(+P, Se) = 0.542831
confusion matrix:
[[5572  136]
 [ 614  300]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8867409825325012
precision class 0 = 0.9007440209388733
precision class 1 = 0.6880729794502258
recall class 0 = 0.976173996925354
recall class 1 = 0.3282279968261719
AUC of ROC = 0.854454
AUC of PRC = 0.570007
min(+P, Se) = 0.536105
confusion matrix:
[[12385   309]
 [ 1307   680]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.889926016330719
precision class 0 = 0.9045429825782776
precision class 1 = 0.6875630021095276
recall class 0 = 0.9756579995155334
recall class 1 = 0.34222400188446045
AUC of ROC = 0.859841
AUC of PRC = 0.570784
min(+P, Se) = 0.539738

==>predicting on validation


confusion matrix:
[[1470   59]
 [ 156   88]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8787369728088379
precision class 0 = 0.9040589928627014
precision class 1 = 0.5986390113830566
recall class 0 = 0.9614130258560181
recall class 1 = 0.3606559932231903
AUC of ROC = 0.848757
AUC of PRC = 0.546311
min(+P, Se) = 0.508197
confusion matrix:
[[1219   38]
 [ 120   72]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8909590244293213
precision class 0 = 0.910381019115448
precision class 1 = 0.6545450091362
recall class 0 = 0.9697690010070801
recall class 1 = 0.375
AUC of ROC = 0.855091
AUC of PRC = 0.539345
min(+P, Se) = 0.533679
confusion matrix:
[[2689   97]
 [ 276  160]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.9069139957427979
precision class 1 = 0.6225680112838745
recall class 0 = 0.9651830196380615
recall class 1 = 0.3669719994068146
AUC of ROC = 0.851849
AUC of PRC = 0.540991
min(+P, Se) = 0.519451

Epoch 00054: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch54.test0.2885432869223687.state
Epoch 55/100
 - 857s - loss: 0.2908 - val_loss: 0.2868

==>predicting on train


confusion matrix:
[[6838  148]
 [ 723  350]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8919219970703125
precision class 0 = 0.9043779969215393
precision class 1 = 0.7028110027313232
recall class 0 = 0.9788150191307068
recall class 1 = 0.32618799805641174
AUC of ROC = 0.870824
AUC of PRC = 0.58482
min(+P, Se) = 0.545287
confusion matrix:
[[5605  103]
 [ 650  264]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8862879872322083
precision class 0 = 0.8960829973220825
precision class 1 = 0.7193459868431091
recall class 0 = 0.9819549918174744
recall class 1 = 0.28883999586105347
AUC of ROC = 0.8609
AUC of PRC = 0.579255
min(+P, Se) = 0.543764
confusion matrix:
[[12443   251]
 [ 1373   614]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8893809914588928
precision class 0 = 0.9006220102310181
precision class 1 = 0.7098270058631897
recall class 0 = 0.980226993560791
recall class 1 = 0.30900898575782776
AUC of ROC = 0.866328
AUC of PRC = 0.582243
min(+P, Se) = 0.546049

==>predicting on validation


confusion matrix:
[[1481   48]
 [ 165   79]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8997570276260376
precision class 1 = 0.6220470070838928
recall class 0 = 0.9686070084571838
recall class 1 = 0.3237699866294861
AUC of ROC = 0.85296
AUC of PRC = 0.546434
min(+P, Se) = 0.504098
confusion matrix:
[[1231   26]
 [ 137   55]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.8998540043830872
precision class 1 = 0.6790120005607605
recall class 0 = 0.979315996170044
recall class 1 = 0.28645798563957214
AUC of ROC = 0.859943
AUC of PRC = 0.548321
min(+P, Se) = 0.53125
confusion matrix:
[[2712   74]
 [ 302  134]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8833019733428955
precision class 0 = 0.8998010158538818
precision class 1 = 0.6442310214042664
recall class 0 = 0.9734389781951904
recall class 1 = 0.30733901262283325
AUC of ROC = 0.856033
AUC of PRC = 0.544959
min(+P, Se) = 0.517007

Epoch 00055: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch55.test0.28684004676464103.state
Epoch 56/100
 - 850s - loss: 0.2905 - val_loss: 0.2900

==>predicting on train


confusion matrix:
[[6839  147]
 [ 713  360]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8932870030403137
precision class 0 = 0.9055879712104797
precision class 1 = 0.7100589871406555
recall class 0 = 0.978958010673523
recall class 1 = 0.33550798892974854
AUC of ROC = 0.86798
AUC of PRC = 0.589733
min(+P, Se) = 0.548928
confusion matrix:
[[5602  106]
 [ 631  283]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8887040019035339
precision class 0 = 0.8987650275230408
precision class 1 = 0.7275059819221497
recall class 0 = 0.9814299941062927
recall class 1 = 0.3096280097961426
AUC of ROC = 0.854609
AUC of PRC = 0.579413
min(+P, Se) = 0.530635
confusion matrix:
[[12441   253]
 [ 1344   643]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.891219973564148
precision class 0 = 0.9025030136108398
precision class 1 = 0.7176340222358704
recall class 0 = 0.9800689816474915
recall class 1 = 0.3236030042171478
AUC of ROC = 0.861948
AUC of PRC = 0.585093
min(+P, Se) = 0.542211

==>predicting on validation


confusion matrix:
[[1477   52]
 [ 160   84]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.9022600054740906
precision class 1 = 0.6176469922065735
recall class 0 = 0.9659910202026367
recall class 1 = 0.3442620038986206
AUC of ROC = 0.847632
AUC of PRC = 0.540969
min(+P, Se) = 0.520492
confusion matrix:
[[1233   24]
 [ 133   59]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8916490077972412
precision class 0 = 0.9026349782943726
precision class 1 = 0.710843026638031
recall class 0 = 0.9809070229530334
recall class 1 = 0.30729201436042786
AUC of ROC = 0.850636
AUC of PRC = 0.540191
min(+P, Se) = 0.526042
confusion matrix:
[[2710   76]
 [ 293  143]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8854749798774719
precision class 0 = 0.9024310111999512
precision class 1 = 0.6529679894447327
recall class 0 = 0.9727209806442261
recall class 1 = 0.32798200845718384
AUC of ROC = 0.848979
AUC of PRC = 0.538456
min(+P, Se) = 0.520642

Epoch 00056: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch56.test0.28995974310561046.state
Epoch 57/100
 - 850s - loss: 0.2899 - val_loss: 0.2997

==>predicting on train


confusion matrix:
[[6718  268]
 [ 613  460]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8906810283660889
precision class 0 = 0.9163820147514343
precision class 1 = 0.6318680047988892
recall class 0 = 0.9616379737854004
recall class 1 = 0.42870500683784485
AUC of ROC = 0.867389
AUC of PRC = 0.574229
min(+P, Se) = 0.535316
confusion matrix:
[[5526  182]
 [ 574  340]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8858349919319153
precision class 0 = 0.9059020280838013
precision class 1 = 0.6513410210609436
recall class 0 = 0.968114972114563
recall class 1 = 0.37199100852012634
AUC of ROC = 0.853637
AUC of PRC = 0.566107
min(+P, Se) = 0.543169
confusion matrix:
[[12244   450]
 [ 1187   800]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8884950280189514
precision class 0 = 0.9116219878196716
precision class 1 = 0.6399999856948853
recall class 0 = 0.9645500183105469
recall class 1 = 0.4026170074939728
AUC of ROC = 0.860881
AUC of PRC = 0.570381
min(+P, Se) = 0.541017

==>predicting on validation


confusion matrix:
[[1446   83]
 [ 146   98]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8708400130271912
precision class 0 = 0.9082909822463989
precision class 1 = 0.5414360165596008
recall class 0 = 0.9457160234451294
recall class 1 = 0.40163901448249817
AUC of ROC = 0.845913
AUC of PRC = 0.528067
min(+P, Se) = 0.504098
confusion matrix:
[[1210   47]
 [ 115   77]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.9132080078125
precision class 1 = 0.6209679841995239
recall class 0 = 0.9626089930534363
recall class 1 = 0.40104201436042786
AUC of ROC = 0.853442
AUC of PRC = 0.530679
min(+P, Se) = 0.526042
confusion matrix:
[[2656  130]
 [ 261  175]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8786470293998718
precision class 0 = 0.9105240106582642
precision class 1 = 0.5737699866294861
recall class 0 = 0.9533380270004272
recall class 1 = 0.40137600898742676
AUC of ROC = 0.849445
AUC of PRC = 0.528362
min(+P, Se) = 0.502294

Epoch 00057: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch57.test0.2997405718963461.state
Epoch 58/100
 - 854s - loss: 0.2917 - val_loss: 0.2830

==>predicting on train


confusion matrix:
[[6855  131]
 [ 717  356]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8947759866714478
precision class 0 = 0.9053090214729309
precision class 1 = 0.7310060262680054
recall class 0 = 0.9812480211257935
recall class 1 = 0.33177998661994934
AUC of ROC = 0.870778
AUC of PRC = 0.592745
min(+P, Se) = 0.554217
confusion matrix:
[[5618   90]
 [ 644  270]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8891569972038269
precision class 0 = 0.8971570134162903
precision class 1 = 0.75
recall class 0 = 0.984233021736145
recall class 1 = 0.29540500044822693
AUC of ROC = 0.858053
AUC of PRC = 0.585846
min(+P, Se) = 0.54267
confusion matrix:
[[12473   221]
 [ 1361   626]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8922420144081116
precision class 0 = 0.901619017124176
precision class 1 = 0.7390789985656738
recall class 0 = 0.9825900197029114
recall class 1 = 0.3150480091571808
AUC of ROC = 0.865047
AUC of PRC = 0.589814
min(+P, Se) = 0.550579

==>predicting on validation


confusion matrix:
[[1484   45]
 [ 167   77]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.8988490104675293
precision class 1 = 0.6311479806900024
recall class 0 = 0.9705690145492554
recall class 1 = 0.3155739903450012
AUC of ROC = 0.853515
AUC of PRC = 0.554993
min(+P, Se) = 0.508197
confusion matrix:
[[1231   26]
 [ 129   63]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8930299878120422
precision class 0 = 0.9051470160484314
precision class 1 = 0.7078649997711182
recall class 0 = 0.979315996170044
recall class 1 = 0.328125
AUC of ROC = 0.857568
AUC of PRC = 0.547649
min(+P, Se) = 0.516908
confusion matrix:
[[2715   71]
 [ 296  140]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8860960006713867
precision class 0 = 0.9016939997673035
precision class 1 = 0.6635069847106934
recall class 0 = 0.9745150208473206
recall class 1 = 0.32110100984573364
AUC of ROC = 0.855183
AUC of PRC = 0.550047
min(+P, Se) = 0.513761

Epoch 00058: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch58.test0.2830003632023274.state
Epoch 59/100
 - 851s - loss: 0.2893 - val_loss: 0.2868

==>predicting on train


confusion matrix:
[[6842  144]
 [ 724  349]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8922939896583557
precision class 0 = 0.9043089747428894
precision class 1 = 0.7079110145568848
recall class 0 = 0.9793869853019714
recall class 1 = 0.32525599002838135
AUC of ROC = 0.869021
AUC of PRC = 0.583772
min(+P, Se) = 0.547398
confusion matrix:
[[5594  114]
 [ 625  289]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.888401985168457
precision class 0 = 0.8995019793510437
precision class 1 = 0.7171220183372498
recall class 0 = 0.980027973651886
recall class 1 = 0.31619301438331604
AUC of ROC = 0.856514
AUC of PRC = 0.577073
min(+P, Se) = 0.542077
confusion matrix:
[[12436   258]
 [ 1349   638]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8905389904975891
precision class 0 = 0.9021400213241577
precision class 1 = 0.7120540142059326
recall class 0 = 0.9796749949455261
recall class 1 = 0.3210870027542114
AUC of ROC = 0.863341
AUC of PRC = 0.580871
min(+P, Se) = 0.543544

==>predicting on validation


confusion matrix:
[[1488   41]
 [ 170   74]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8809930086135864
precision class 0 = 0.8974670171737671
precision class 1 = 0.6434779763221741
recall class 0 = 0.9731850028038025
recall class 1 = 0.30327901244163513
AUC of ROC = 0.849259
AUC of PRC = 0.549731
min(+P, Se) = 0.512195
confusion matrix:
[[1229   28]
 [ 130   62]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8909590244293213
precision class 0 = 0.9043409824371338
precision class 1 = 0.6888890266418457
recall class 0 = 0.9777250289916992
recall class 1 = 0.32291701436042786
AUC of ROC = 0.853984
AUC of PRC = 0.549217
min(+P, Se) = 0.53125
confusion matrix:
[[2717   69]
 [ 300  136]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8854749798774719
precision class 0 = 0.9005640149116516
precision class 1 = 0.6634150147438049
recall class 0 = 0.9752330183982849
recall class 1 = 0.3119269907474518
AUC of ROC = 0.851458
AUC of PRC = 0.549065
min(+P, Se) = 0.519362

Epoch 00059: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch59.test0.28683111220968205.state
Epoch 60/100
 - 850s - loss: 0.2894 - val_loss: 0.2863

==>predicting on train


confusion matrix:
[[6842  144]
 [ 721  352]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8926669955253601
precision class 0 = 0.9046670198440552
precision class 1 = 0.70967698097229
recall class 0 = 0.9793869853019714
recall class 1 = 0.32805201411247253
AUC of ROC = 0.867396
AUC of PRC = 0.586402
min(+P, Se) = 0.549348
confusion matrix:
[[5609   99]
 [ 653  261]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8864390254020691
precision class 0 = 0.8957200050354004
precision class 1 = 0.7250000238418579
recall class 0 = 0.9826560020446777
recall class 1 = 0.28555798530578613
AUC of ROC = 0.85508
AUC of PRC = 0.575853
min(+P, Se) = 0.535519
confusion matrix:
[[12451   243]
 [ 1374   613]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8898580074310303
precision class 0 = 0.9006149768829346
precision class 1 = 0.7161219716072083
recall class 0 = 0.9808570146560669
recall class 1 = 0.30850499868392944
AUC of ROC = 0.861855
AUC of PRC = 0.581532
min(+P, Se) = 0.542526

==>predicting on validation


confusion matrix:
[[1485   44]
 [ 165   79]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8821210265159607
precision class 0 = 0.8999999761581421
precision class 1 = 0.6422759890556335
recall class 0 = 0.971222996711731
recall class 1 = 0.3237699866294861
AUC of ROC = 0.84832
AUC of PRC = 0.551199
min(+P, Se) = 0.507752
confusion matrix:
[[1231   26]
 [ 131   61]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8916490077972412
precision class 0 = 0.9038180112838745
precision class 1 = 0.7011489868164062
recall class 0 = 0.979315996170044
recall class 1 = 0.31770798563957214
AUC of ROC = 0.855865
AUC of PRC = 0.549052
min(+P, Se) = 0.526042
confusion matrix:
[[2716   70]
 [ 296  140]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8864060044288635
precision class 0 = 0.9017260074615479
precision class 1 = 0.6666669845581055
recall class 0 = 0.9748740196228027
recall class 1 = 0.32110100984573364
AUC of ROC = 0.851468
AUC of PRC = 0.548036
min(+P, Se) = 0.518182

Epoch 00060: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch60.test0.2863281045356461.state
Epoch 61/100
 - 862s - loss: 0.2908 - val_loss: 0.2843

==>predicting on train


confusion matrix:
[[6861  125]
 [ 728  345]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8941559791564941
precision class 0 = 0.9040719866752625
precision class 1 = 0.7340419888496399
recall class 0 = 0.9821069836616516
recall class 1 = 0.32152798771858215
AUC of ROC = 0.868893
AUC of PRC = 0.590665
min(+P, Se) = 0.54986
confusion matrix:
[[5610   98]
 [ 645  269]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.887798011302948
precision class 0 = 0.8968819975852966
precision class 1 = 0.7329699993133545
recall class 0 = 0.9828310012817383
recall class 1 = 0.294310986995697
AUC of ROC = 0.857568
AUC of PRC = 0.58455
min(+P, Se) = 0.536374
confusion matrix:
[[12471   223]
 [ 1373   614]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8912879824638367
precision class 0 = 0.9008240103721619
precision class 1 = 0.7335720062255859
recall class 0 = 0.982433021068573
recall class 1 = 0.30900898575782776
AUC of ROC = 0.863746
AUC of PRC = 0.588086
min(+P, Se) = 0.543992

==>predicting on validation


confusion matrix:
[[1487   42]
 [ 171   73]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8968639969825745
precision class 1 = 0.6347830295562744
recall class 0 = 0.9725310206413269
recall class 1 = 0.2991800010204315
AUC of ROC = 0.853212
AUC of PRC = 0.554887
min(+P, Se) = 0.516393
confusion matrix:
[[1233   24]
 [ 133   59]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8916490077972412
precision class 0 = 0.9026349782943726
precision class 1 = 0.710843026638031
recall class 0 = 0.9809070229530334
recall class 1 = 0.30729201436042786
AUC of ROC = 0.859404
AUC of PRC = 0.561701
min(+P, Se) = 0.515625
confusion matrix:
[[2720   66]
 [ 304  132]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8851640224456787
precision class 0 = 0.8994709849357605
precision class 1 = 0.6666669845581055
recall class 0 = 0.9763100147247314
recall class 1 = 0.30275198817253113
AUC of ROC = 0.856153
AUC of PRC = 0.556312
min(+P, Se) = 0.516055

Epoch 00061: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch61.test0.28433492591501686.state
Epoch 62/100
 - 858s - loss: 0.2875 - val_loss: 0.2896

==>predicting on train


confusion matrix:
[[6770  216]
 [ 665  408]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8906810283660889
precision class 0 = 0.9105579853057861
precision class 1 = 0.653846025466919
recall class 0 = 0.9690809845924377
recall class 1 = 0.3802419900894165
AUC of ROC = 0.867715
AUC of PRC = 0.585499
min(+P, Se) = 0.5452
confusion matrix:
[[5550  158]
 [ 590  324]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8870429992675781
precision class 0 = 0.9039090275764465
precision class 1 = 0.672199010848999
recall class 0 = 0.972320020198822
recall class 1 = 0.35448598861694336
AUC of ROC = 0.855392
AUC of PRC = 0.580603
min(+P, Se) = 0.534128
confusion matrix:
[[12320   374]
 [ 1255   732]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8890399932861328
precision class 0 = 0.9075509905815125
precision class 1 = 0.66184401512146
recall class 0 = 0.970537006855011
recall class 1 = 0.36839500069618225
AUC of ROC = 0.861894
AUC of PRC = 0.583004
min(+P, Se) = 0.537726

==>predicting on validation


confusion matrix:
[[1462   67]
 [ 151   93]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8770449757575989
precision class 0 = 0.9063860177993774
precision class 1 = 0.581250011920929
recall class 0 = 0.9561799764633179
recall class 1 = 0.38114801049232483
AUC of ROC = 0.851036
AUC of PRC = 0.549002
min(+P, Se) = 0.504098
confusion matrix:
[[1213   44]
 [ 120   72]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.886817991733551
precision class 0 = 0.9099779725074768
precision class 1 = 0.6206899881362915
recall class 0 = 0.9649959802627563
recall class 1 = 0.375
AUC of ROC = 0.852565
AUC of PRC = 0.544527
min(+P, Se) = 0.523316
confusion matrix:
[[2675  111]
 [ 271  165]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8814399838447571
precision class 0 = 0.9080110192298889
precision class 1 = 0.5978260040283203
recall class 0 = 0.9601579904556274
recall class 1 = 0.3784399926662445
AUC of ROC = 0.85184
AUC of PRC = 0.545244
min(+P, Se) = 0.507973

Epoch 00062: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch62.test0.28956583391558227.state
Epoch 63/100
 - 853s - loss: 0.2901 - val_loss: 0.2867

==>predicting on train


confusion matrix:
[[6815  171]
 [ 721  352]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8893160223960876
precision class 0 = 0.9043260216712952
precision class 1 = 0.673039972782135
recall class 0 = 0.975521981716156
recall class 1 = 0.32805201411247253
AUC of ROC = 0.866761
AUC of PRC = 0.578609
min(+P, Se) = 0.54368
confusion matrix:
[[5583  125]
 [ 622  292]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8871939778327942
precision class 0 = 0.899757981300354
precision class 1 = 0.7002400159835815
recall class 0 = 0.9781010150909424
recall class 1 = 0.319474995136261
AUC of ROC = 0.85636
AUC of PRC = 0.576312
min(+P, Se) = 0.531659
confusion matrix:
[[12398   296]
 [ 1343   644]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.888359010219574
precision class 0 = 0.9022629857063293
precision class 1 = 0.6851059794425964
recall class 0 = 0.9766820073127747
recall class 1 = 0.32410699129104614
AUC of ROC = 0.861944
AUC of PRC = 0.577596
min(+P, Se) = 0.537997

==>predicting on validation


confusion matrix:
[[1479   50]
 [ 164   80]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.9001830220222473
precision class 1 = 0.6153849959373474
recall class 0 = 0.9672989845275879
recall class 1 = 0.3278689980506897
AUC of ROC = 0.85077
AUC of PRC = 0.540002
min(+P, Se) = 0.5
confusion matrix:
[[1227   30]
 [ 131   61]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.903535008430481
precision class 1 = 0.6703299880027771
recall class 0 = 0.9761340022087097
recall class 1 = 0.31770798563957214
AUC of ROC = 0.85345
AUC of PRC = 0.540796
min(+P, Se) = 0.520833
confusion matrix:
[[2706   80]
 [ 295  141]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8836129903793335
precision class 0 = 0.9016990065574646
precision class 1 = 0.6380090117454529
recall class 0 = 0.9712849855422974
recall class 1 = 0.3233940005302429
AUC of ROC = 0.852133
AUC of PRC = 0.539641
min(+P, Se) = 0.509174

Epoch 00063: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch63.test0.2867365530041676.state
Epoch 64/100
 - 848s - loss: 0.2887 - val_loss: 0.2959

==>predicting on train


confusion matrix:
[[6736  250]
 [ 655  418]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.887703001499176
precision class 0 = 0.9113789796829224
precision class 1 = 0.6257479786872864
recall class 0 = 0.964214026927948
recall class 1 = 0.3895620107650757
AUC of ROC = 0.864525
AUC of PRC = 0.563165
min(+P, Se) = 0.53352
confusion matrix:
[[5510  198]
 [ 562  352]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8852310180664062
precision class 0 = 0.9074440002441406
precision class 1 = 0.6399999856948853
recall class 0 = 0.9653120040893555
recall class 1 = 0.3851200044155121
AUC of ROC = 0.852024
AUC of PRC = 0.554588
min(+P, Se) = 0.5186
confusion matrix:
[[12246   448]
 [ 1217   770]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8865879774093628
precision class 0 = 0.909604012966156
precision class 1 = 0.6321840286254883
recall class 0 = 0.9647079706192017
recall class 1 = 0.3875190019607544
AUC of ROC = 0.858613
AUC of PRC = 0.55878
min(+P, Se) = 0.527136

==>predicting on validation


confusion matrix:
[[1459   70]
 [ 151   93]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8753520250320435
precision class 0 = 0.9062110185623169
precision class 1 = 0.5705519914627075
recall class 0 = 0.9542179703712463
recall class 1 = 0.38114801049232483
AUC of ROC = 0.844265
AUC of PRC = 0.530751
min(+P, Se) = 0.497976
confusion matrix:
[[1206   51]
 [ 116   76]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.9122539758682251
precision class 1 = 0.5984249711036682
recall class 0 = 0.959426999092102
recall class 1 = 0.39583298563957214
AUC of ROC = 0.850922
AUC of PRC = 0.523955
min(+P, Se) = 0.52551
confusion matrix:
[[2665  121]
 [ 267  169]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8795779943466187
precision class 0 = 0.9089360237121582
precision class 1 = 0.5827590227127075
recall class 0 = 0.9565690159797668
recall class 1 = 0.38761499524116516
AUC of ROC = 0.847601
AUC of PRC = 0.525472
min(+P, Se) = 0.506881

Epoch 00064: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch64.test0.2959160301290929.state
Epoch 65/100
 - 851s - loss: 0.2920 - val_loss: 0.2896

==>predicting on train


confusion matrix:
[[6855  131]
 [ 739  334]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8920459747314453
precision class 0 = 0.9026859998703003
precision class 1 = 0.718280017375946
recall class 0 = 0.9812480211257935
recall class 1 = 0.31127700209617615
AUC of ROC = 0.860207
AUC of PRC = 0.578998
min(+P, Se) = 0.544268
confusion matrix:
[[5600  108]
 [ 643  271]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8865900039672852
precision class 0 = 0.897005021572113
precision class 1 = 0.7150400280952454
recall class 0 = 0.9810789823532104
recall class 1 = 0.29649901390075684
AUC of ROC = 0.851208
AUC of PRC = 0.570959
min(+P, Se) = 0.526718
confusion matrix:
[[12455   239]
 [ 1382   605]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.889585018157959
precision class 0 = 0.9001230001449585
precision class 1 = 0.716825008392334
recall class 0 = 0.9811720252037048
recall class 1 = 0.3044790029525757
AUC of ROC = 0.856089
AUC of PRC = 0.575446
min(+P, Se) = 0.538732

==>predicting on validation


confusion matrix:
[[1483   46]
 [ 168   76]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.8982440233230591
precision class 1 = 0.6229509711265564
recall class 0 = 0.969914972782135
recall class 1 = 0.31147500872612
AUC of ROC = 0.844386
AUC of PRC = 0.531321
min(+P, Se) = 0.5
confusion matrix:
[[1234   23]
 [ 137   55]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8895789980888367
precision class 0 = 0.9000729918479919
precision class 1 = 0.705128014087677
recall class 0 = 0.9817020297050476
recall class 1 = 0.28645798563957214
AUC of ROC = 0.850031
AUC of PRC = 0.5381
min(+P, Se) = 0.53125
confusion matrix:
[[2717   69]
 [ 305  131]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.8990740180015564
precision class 1 = 0.6549999713897705
recall class 0 = 0.9752330183982849
recall class 1 = 0.30045899748802185
AUC of ROC = 0.84706
AUC of PRC = 0.533526
min(+P, Se) = 0.512586

Epoch 00065: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch65.test0.28957907069754263.state
Epoch 66/100
 - 854s - loss: 0.2859 - val_loss: 0.2867

==>predicting on train


confusion matrix:
[[6852  134]
 [ 738  335]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8917980194091797
precision class 0 = 0.90276700258255
precision class 1 = 0.7142860293388367
recall class 0 = 0.9808189868927002
recall class 1 = 0.31220901012420654
AUC of ROC = 0.870264
AUC of PRC = 0.584996
min(+P, Se) = 0.547064
confusion matrix:
[[5598  110]
 [ 638  276]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8870429992675781
precision class 0 = 0.897691011428833
precision class 1 = 0.7150260210037231
recall class 0 = 0.9807289838790894
recall class 1 = 0.3019689917564392
AUC of ROC = 0.8566
AUC of PRC = 0.578331
min(+P, Se) = 0.538293
confusion matrix:
[[12450   244]
 [ 1376   611]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8896530270576477
precision class 0 = 0.9004769921302795
precision class 1 = 0.7146199941635132
recall class 0 = 0.9807779788970947
recall class 1 = 0.3074989914894104
AUC of ROC = 0.864025
AUC of PRC = 0.582012
min(+P, Se) = 0.543675

==>predicting on validation


confusion matrix:
[[1485   44]
 [ 169   75]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8978229761123657
precision class 1 = 0.6302520036697388
recall class 0 = 0.971222996711731
recall class 1 = 0.30737701058387756
AUC of ROC = 0.851802
AUC of PRC = 0.539554
min(+P, Se) = 0.5
confusion matrix:
[[1229   28]
 [ 135   57]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.9010260105133057
precision class 1 = 0.6705880165100098
recall class 0 = 0.9777250289916992
recall class 1 = 0.296875
AUC of ROC = 0.850127
AUC of PRC = 0.541499
min(+P, Se) = 0.526042
confusion matrix:
[[2714   72]
 [ 304  132]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8833019733428955
precision class 0 = 0.8992710113525391
precision class 1 = 0.6470590233802795
recall class 0 = 0.9741560220718384
recall class 1 = 0.30275198817253113
AUC of ROC = 0.851088
AUC of PRC = 0.539977
min(+P, Se) = 0.513761

Epoch 00066: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch66.test0.2866773582708199.state
Epoch 67/100
 - 852s - loss: 0.2869 - val_loss: 0.2863

==>predicting on train


confusion matrix:
[[6848  138]
 [ 728  345]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8925420045852661
precision class 0 = 0.9039070010185242
precision class 1 = 0.7142860293388367
recall class 0 = 0.9802460074424744
recall class 1 = 0.32152798771858215
AUC of ROC = 0.871364
AUC of PRC = 0.59059
min(+P, Se) = 0.555452
confusion matrix:
[[5611   97]
 [ 639  275]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.88885498046875
precision class 0 = 0.8977599740028381
precision class 1 = 0.7392470240592957
recall class 0 = 0.9830060005187988
recall class 1 = 0.3008750081062317
AUC of ROC = 0.859632
AUC of PRC = 0.582531
min(+P, Se) = 0.538293
confusion matrix:
[[12459   235]
 [ 1367   620]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8908789753913879
precision class 0 = 0.9011279940605164
precision class 1 = 0.7251459956169128
recall class 0 = 0.981486976146698
recall class 1 = 0.3120279908180237
AUC of ROC = 0.865998
AUC of PRC = 0.58703
min(+P, Se) = 0.549572

==>predicting on validation


confusion matrix:
[[1484   45]
 [ 164   80]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8821210265159607
precision class 0 = 0.9004849791526794
precision class 1 = 0.6399999856948853
recall class 0 = 0.9705690145492554
recall class 1 = 0.3278689980506897
AUC of ROC = 0.847731
AUC of PRC = 0.543066
min(+P, Se) = 0.489796
confusion matrix:
[[1230   27]
 [ 134   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.9017599821090698
precision class 1 = 0.6823530197143555
recall class 0 = 0.9785199761390686
recall class 1 = 0.30208298563957214
AUC of ROC = 0.854353
AUC of PRC = 0.548823
min(+P, Se) = 0.53125
confusion matrix:
[[2714   72]
 [ 298  138]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8851640224456787
precision class 0 = 0.90106201171875
precision class 1 = 0.6571429967880249
recall class 0 = 0.9741560220718384
recall class 1 = 0.3165139853954315
AUC of ROC = 0.850771
AUC of PRC = 0.544387
min(+P, Se) = 0.506849

Epoch 00067: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch67.test0.2863203412364685.state
Epoch 68/100
 - 855s - loss: 0.2867 - val_loss: 0.2907

==>predicting on train


confusion matrix:
[[6848  138]
 [ 732  341]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8920459747314453
precision class 0 = 0.9034299850463867
precision class 1 = 0.711899995803833
recall class 0 = 0.9802460074424744
recall class 1 = 0.31780099868774414
AUC of ROC = 0.868728
AUC of PRC = 0.583996
min(+P, Se) = 0.542672
confusion matrix:
[[5609   99]
 [ 650  264]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8868920207023621
precision class 0 = 0.8961499929428101
precision class 1 = 0.7272729873657227
recall class 0 = 0.9826560020446777
recall class 1 = 0.28883999586105347
AUC of ROC = 0.859196
AUC of PRC = 0.581454
min(+P, Se) = 0.539387
confusion matrix:
[[12457   237]
 [ 1382   605]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8897209763526917
precision class 0 = 0.9001370072364807
precision class 1 = 0.7185270190238953
recall class 0 = 0.9813299775123596
recall class 1 = 0.3044790029525757
AUC of ROC = 0.864262
AUC of PRC = 0.58297
min(+P, Se) = 0.539004

==>predicting on validation


confusion matrix:
[[1487   42]
 [ 172   72]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8793010115623474
precision class 0 = 0.896323025226593
precision class 1 = 0.6315789818763733
recall class 0 = 0.9725310206413269
recall class 1 = 0.2950820028781891
AUC of ROC = 0.844814
AUC of PRC = 0.53173
min(+P, Se) = 0.483607
confusion matrix:
[[1231   26]
 [ 137   55]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.8998540043830872
precision class 1 = 0.6790120005607605
recall class 0 = 0.979315996170044
recall class 1 = 0.28645798563957214
AUC of ROC = 0.851403
AUC of PRC = 0.533308
min(+P, Se) = 0.512953
confusion matrix:
[[2718   68]
 [ 309  127]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8829920291900635
precision class 0 = 0.8979189991950989
precision class 1 = 0.651282012462616
recall class 0 = 0.9755920171737671
recall class 1 = 0.2912839949131012
AUC of ROC = 0.847858
AUC of PRC = 0.530921
min(+P, Se) = 0.497706

Epoch 00068: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch68.test0.2906955685824951.state
Epoch 69/100
 - 850s - loss: 0.2854 - val_loss: 0.2860

==>predicting on train


confusion matrix:
[[6863  123]
 [ 735  338]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8935350179672241
precision class 0 = 0.9032639861106873
precision class 1 = 0.7331889867782593
recall class 0 = 0.9823930263519287
recall class 1 = 0.31500500440597534
AUC of ROC = 0.872121
AUC of PRC = 0.595156
min(+P, Se) = 0.558248
confusion matrix:
[[5600  108]
 [ 642  272]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8867409825325012
precision class 0 = 0.8971480131149292
precision class 1 = 0.7157899737358093
recall class 0 = 0.9810789823532104
recall class 1 = 0.29759299755096436
AUC of ROC = 0.861125
AUC of PRC = 0.586562
min(+P, Se) = 0.546347
confusion matrix:
[[12463   231]
 [ 1377   610]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8904709815979004
precision class 0 = 0.9005060195922852
precision class 1 = 0.7253270149230957
recall class 0 = 0.9818019866943359
recall class 1 = 0.3069950044155121
AUC of ROC = 0.867133
AUC of PRC = 0.59119
min(+P, Se) = 0.551308

==>predicting on validation


confusion matrix:
[[1494   35]
 [ 171   73]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8838130235671997
precision class 0 = 0.8972970247268677
precision class 1 = 0.6759260296821594
recall class 0 = 0.9771090149879456
recall class 1 = 0.2991800010204315
AUC of ROC = 0.847141
AUC of PRC = 0.546334
min(+P, Se) = 0.495968
confusion matrix:
[[1233   24]
 [ 134   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8909590244293213
precision class 0 = 0.9019749760627747
precision class 1 = 0.7073169946670532
recall class 0 = 0.9809070229530334
recall class 1 = 0.30208298563957214
AUC of ROC = 0.85744
AUC of PRC = 0.546446
min(+P, Se) = 0.515625
confusion matrix:
[[2727   59]
 [ 305  131]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8870270252227783
precision class 0 = 0.8994060158729553
precision class 1 = 0.6894739866256714
recall class 0 = 0.9788230061531067
recall class 1 = 0.30045899748802185
AUC of ROC = 0.851345
AUC of PRC = 0.544993
min(+P, Se) = 0.506849

Epoch 00069: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch69.test0.28597707822595153.state
Epoch 70/100
 - 850s - loss: 0.2852 - val_loss: 0.2939

==>predicting on train


confusion matrix:
[[6813  173]
 [ 687  386]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8932870030403137
precision class 0 = 0.9083999991416931
precision class 1 = 0.6905189752578735
recall class 0 = 0.9752359986305237
recall class 1 = 0.3597390055656433
AUC of ROC = 0.873803
AUC of PRC = 0.5916
min(+P, Se) = 0.547996
confusion matrix:
[[5573  135]
 [ 612  302]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8871939778327942
precision class 0 = 0.9010509848594666
precision class 1 = 0.6910759806632996
recall class 0 = 0.9763489961624146
recall class 1 = 0.3304159939289093
AUC of ROC = 0.860491
AUC of PRC = 0.584261
min(+P, Se) = 0.54267
confusion matrix:
[[12386   308]
 [ 1299   688]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8905389904975891
precision class 0 = 0.9050779938697815
precision class 1 = 0.690762996673584
recall class 0 = 0.9757369756698608
recall class 1 = 0.3462510108947754
AUC of ROC = 0.867634
AUC of PRC = 0.588291
min(+P, Se) = 0.547966

==>predicting on validation


confusion matrix:
[[1485   44]
 [ 159   85]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8855050206184387
precision class 0 = 0.903285026550293
precision class 1 = 0.6589149832725525
recall class 0 = 0.971222996711731
recall class 1 = 0.34836098551750183
AUC of ROC = 0.847283
AUC of PRC = 0.544545
min(+P, Se) = 0.512295
confusion matrix:
[[1220   37]
 [ 128   64]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8861280083656311
precision class 0 = 0.9050440192222595
precision class 1 = 0.6336629986763
recall class 0 = 0.9705650210380554
recall class 1 = 0.33333298563957214
AUC of ROC = 0.852215
AUC of PRC = 0.538268
min(+P, Se) = 0.526042
confusion matrix:
[[2705   81]
 [ 287  149]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8857849836349487
precision class 0 = 0.9040780067443848
precision class 1 = 0.6478260159492493
recall class 0 = 0.9709259867668152
recall class 1 = 0.34174299240112305
AUC of ROC = 0.849614
AUC of PRC = 0.540918
min(+P, Se) = 0.516055

Epoch 00070: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch70.test0.29387070808830207.state
Epoch 71/100
 - 848s - loss: 0.2887 - val_loss: 0.2920

==>predicting on train


confusion matrix:
[[6777  209]
 [ 663  410]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8917980194091797
precision class 0 = 0.9108870029449463
precision class 1 = 0.6623589992523193
recall class 0 = 0.9700829982757568
recall class 1 = 0.3821060061454773
AUC of ROC = 0.873422
AUC of PRC = 0.590437
min(+P, Se) = 0.551724
confusion matrix:
[[5560  148]
 [ 590  324]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8885530233383179
precision class 0 = 0.9040650129318237
precision class 1 = 0.6864410042762756
recall class 0 = 0.9740719795227051
recall class 1 = 0.35448598861694336
AUC of ROC = 0.861277
AUC of PRC = 0.583589
min(+P, Se) = 0.545852
confusion matrix:
[[12337   357]
 [ 1253   734]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8903340101242065
precision class 0 = 0.907800018787384
precision class 1 = 0.672776997089386
recall class 0 = 0.9718760251998901
recall class 1 = 0.3694010078907013
AUC of ROC = 0.867928
AUC of PRC = 0.587495
min(+P, Se) = 0.549296

==>predicting on validation


confusion matrix:
[[1463   66]
 [ 155   89]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8753520250320435
precision class 0 = 0.9042029976844788
precision class 1 = 0.5741940140724182
recall class 0 = 0.9568349719047546
recall class 1 = 0.36475399136543274
AUC of ROC = 0.843541
AUC of PRC = 0.533705
min(+P, Se) = 0.492063
confusion matrix:
[[1214   43]
 [ 126   66]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8833680152893066
precision class 0 = 0.9059699773788452
precision class 1 = 0.6055049896240234
recall class 0 = 0.9657920002937317
recall class 1 = 0.34375
AUC of ROC = 0.853897
AUC of PRC = 0.536275
min(+P, Se) = 0.515625
confusion matrix:
[[2677  109]
 [ 281  155]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8789569735527039
precision class 0 = 0.905003011226654
precision class 1 = 0.5871210098266602
recall class 0 = 0.9608759880065918
recall class 1 = 0.35550498962402344
AUC of ROC = 0.848342
AUC of PRC = 0.533396
min(+P, Se) = 0.503386

Epoch 00071: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch71.test0.2919678181909316.state
Epoch 72/100
 - 851s - loss: 0.2862 - val_loss: 0.2912

==>predicting on train


confusion matrix:
[[6807  179]
 [ 690  383]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8921700119972229
precision class 0 = 0.9079629778862
precision class 1 = 0.6814950108528137
recall class 0 = 0.9743769764900208
recall class 1 = 0.3569430112838745
AUC of ROC = 0.869376
AUC of PRC = 0.59086
min(+P, Se) = 0.551724
confusion matrix:
[[5570  138]
 [ 601  313]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.888401985168457
precision class 0 = 0.9026089906692505
precision class 1 = 0.6940129995346069
recall class 0 = 0.9758229851722717
recall class 1 = 0.3424510061740875
AUC of ROC = 0.857876
AUC of PRC = 0.582718
min(+P, Se) = 0.535011
confusion matrix:
[[12377   317]
 [ 1291   696]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8904709815979004
precision class 0 = 0.9055460095405579
precision class 1 = 0.687067985534668
recall class 0 = 0.9750279784202576
recall class 1 = 0.35027700662612915
AUC of ROC = 0.864051
AUC of PRC = 0.587283
min(+P, Se) = 0.544036

==>predicting on validation


confusion matrix:
[[1474   55]
 [ 157   87]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8804290294647217
precision class 0 = 0.9037399888038635
precision class 1 = 0.6126760244369507
recall class 0 = 0.9640290141105652
recall class 1 = 0.3565570116043091
AUC of ROC = 0.84237
AUC of PRC = 0.540499
min(+P, Se) = 0.495902
confusion matrix:
[[1219   38]
 [ 121   71]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8902689814567566
precision class 0 = 0.9097009897232056
precision class 1 = 0.6513760089874268
recall class 0 = 0.9697690010070801
recall class 1 = 0.36979201436042786
AUC of ROC = 0.851676
AUC of PRC = 0.529249
min(+P, Se) = 0.520833
confusion matrix:
[[2693   93]
 [ 278  158]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8848540186882019
precision class 0 = 0.9064289927482605
precision class 1 = 0.6294819712638855
recall class 0 = 0.9666190147399902
recall class 1 = 0.36238500475883484
AUC of ROC = 0.846897
AUC of PRC = 0.535143
min(+P, Se) = 0.506881

Epoch 00072: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch72.test0.29115508352929503.state
Epoch 73/100
 - 855s - loss: 0.2868 - val_loss: 0.2892

==>predicting on train


confusion matrix:
[[6857  129]
 [ 734  339]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8929150104522705
precision class 0 = 0.9033070206642151
precision class 1 = 0.7243589758872986
recall class 0 = 0.9815340042114258
recall class 1 = 0.31593701243400574
AUC of ROC = 0.86906
AUC of PRC = 0.588217
min(+P, Se) = 0.551724
confusion matrix:
[[5605  103]
 [ 647  267]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8867409825325012
precision class 0 = 0.8965129852294922
precision class 1 = 0.7216219902038574
recall class 0 = 0.9819549918174744
recall class 1 = 0.2921229898929596
AUC of ROC = 0.859692
AUC of PRC = 0.581557
min(+P, Se) = 0.544858
confusion matrix:
[[12462   232]
 [ 1381   606]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8901299834251404
precision class 0 = 0.9002379775047302
precision class 1 = 0.7231500148773193
recall class 0 = 0.9817240238189697
recall class 1 = 0.3049820065498352
AUC of ROC = 0.864741
AUC of PRC = 0.585152
min(+P, Se) = 0.546553

==>predicting on validation


confusion matrix:
[[1487   42]
 [ 164   80]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8838130235671997
precision class 0 = 0.9006659984588623
precision class 1 = 0.6557379961013794
recall class 0 = 0.9725310206413269
recall class 1 = 0.3278689980506897
AUC of ROC = 0.8456
AUC of PRC = 0.54093
min(+P, Se) = 0.514286
confusion matrix:
[[1233   24]
 [ 136   56]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8895789980888367
precision class 0 = 0.9006569981575012
precision class 1 = 0.699999988079071
recall class 0 = 0.9809070229530334
recall class 1 = 0.29166701436042786
AUC of ROC = 0.850657
AUC of PRC = 0.534075
min(+P, Se) = 0.522843
confusion matrix:
[[2720   66]
 [ 300  136]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8864060044288635
precision class 0 = 0.9006620049476624
precision class 1 = 0.6732670068740845
recall class 0 = 0.9763100147247314
recall class 1 = 0.3119269907474518
AUC of ROC = 0.847918
AUC of PRC = 0.536922
min(+P, Se) = 0.518182

Epoch 00073: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch73.test0.28923360657231323.state
Epoch 74/100
 - 860s - loss: 0.2891 - val_loss: 0.2899

==>predicting on train


confusion matrix:
[[6871  115]
 [ 739  334]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8940320014953613
precision class 0 = 0.9028909802436829
precision class 1 = 0.7438750267028809
recall class 0 = 0.9835379719734192
recall class 1 = 0.31127700209617615
AUC of ROC = 0.865969
AUC of PRC = 0.587702
min(+P, Se) = 0.547486
confusion matrix:
[[5615   93]
 [ 650  264]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.887798011302948
precision class 0 = 0.896248996257782
precision class 1 = 0.7394959926605225
recall class 0 = 0.9837070107460022
recall class 1 = 0.28883999586105347
AUC of ROC = 0.858511
AUC of PRC = 0.583346
min(+P, Se) = 0.540984
confusion matrix:
[[12486   208]
 [ 1389   598]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.891219973564148
precision class 0 = 0.8998919725418091
precision class 1 = 0.7419360280036926
recall class 0 = 0.9836140275001526
recall class 1 = 0.30095601081848145
AUC of ROC = 0.862458
AUC of PRC = 0.585768
min(+P, Se) = 0.545775

==>predicting on validation


confusion matrix:
[[1489   40]
 [ 168   76]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8826850056648254
precision class 0 = 0.8986120223999023
precision class 1 = 0.6551719903945923
recall class 0 = 0.9738389849662781
recall class 1 = 0.31147500872612
AUC of ROC = 0.846139
AUC of PRC = 0.544122
min(+P, Se) = 0.512295
confusion matrix:
[[1236   21]
 [ 140   52]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.8982560038566589
precision class 1 = 0.7123289704322815
recall class 0 = 0.9832940101623535
recall class 1 = 0.27083298563957214
AUC of ROC = 0.847844
AUC of PRC = 0.532834
min(+P, Se) = 0.515625
confusion matrix:
[[2725   61]
 [ 308  128]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8854749798774719
precision class 0 = 0.8984500169754028
precision class 1 = 0.677249014377594
recall class 0 = 0.9781050086021423
recall class 1 = 0.29357799887657166
AUC of ROC = 0.847392
AUC of PRC = 0.538048
min(+P, Se) = 0.513761

Epoch 00074: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch74.test0.2899161176946798.state
Epoch 75/100
 - 850s - loss: 0.2846 - val_loss: 0.2918

==>predicting on train


confusion matrix:
[[6834  152]
 [ 718  355]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8920459747314453
precision class 0 = 0.9049260020256042
precision class 1 = 0.7001969814300537
recall class 0 = 0.9782419800758362
recall class 1 = 0.33084800839424133
AUC of ROC = 0.866269
AUC of PRC = 0.579014
min(+P, Se) = 0.541473
confusion matrix:
[[5580  128]
 [ 611  303]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.888401985168457
precision class 0 = 0.901308000087738
precision class 1 = 0.7030159831047058
recall class 0 = 0.9775750041007996
recall class 1 = 0.3315100073814392
AUC of ROC = 0.857771
AUC of PRC = 0.576559
min(+P, Se) = 0.543764
confusion matrix:
[[12414   280]
 [ 1329   658]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8904029726982117
precision class 0 = 0.9032959938049316
precision class 1 = 0.7014930248260498
recall class 0 = 0.9779419898986816
recall class 1 = 0.3311519920825958
AUC of ROC = 0.862425
AUC of PRC = 0.577899
min(+P, Se) = 0.542023

==>predicting on validation


confusion matrix:
[[1483   46]
 [ 160   84]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8838130235671997
precision class 0 = 0.9026169776916504
precision class 1 = 0.64615398645401
recall class 0 = 0.969914972782135
recall class 1 = 0.3442620038986206
AUC of ROC = 0.845873
AUC of PRC = 0.546905
min(+P, Se) = 0.502024
confusion matrix:
[[1225   32]
 [ 129   63]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.9047269821166992
precision class 1 = 0.6631579995155334
recall class 0 = 0.9745429754257202
recall class 1 = 0.328125
AUC of ROC = 0.849033
AUC of PRC = 0.521435
min(+P, Se) = 0.520833
confusion matrix:
[[2708   78]
 [ 289  147]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8860960006713867
precision class 0 = 0.9035699963569641
precision class 1 = 0.6533330082893372
recall class 0 = 0.9720029830932617
recall class 1 = 0.3371559977531433
AUC of ROC = 0.846717
AUC of PRC = 0.533726
min(+P, Se) = 0.504587

Epoch 00075: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch75.test0.2917978809366013.state
Epoch 76/100
 - 850s - loss: 0.2858 - val_loss: 0.2867

==>predicting on train


confusion matrix:
[[6905   81]
 [ 799  274]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8908050060272217
precision class 0 = 0.8962879776954651
precision class 1 = 0.7718309760093689
recall class 0 = 0.9884049892425537
recall class 1 = 0.2553589940071106
AUC of ROC = 0.869861
AUC of PRC = 0.589665
min(+P, Se) = 0.554004
confusion matrix:
[[5645   63]
 [ 683  231]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.887345016002655
precision class 0 = 0.892067015171051
precision class 1 = 0.7857139706611633
recall class 0 = 0.9889630079269409
recall class 1 = 0.2527349889278412
AUC of ROC = 0.859169
AUC of PRC = 0.585203
min(+P, Se) = 0.544858
confusion matrix:
[[12550   144]
 [ 1482   505]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8892449736595154
precision class 0 = 0.8943840265274048
precision class 1 = 0.7781199812889099
recall class 0 = 0.9886559844017029
recall class 1 = 0.25415199995040894
AUC of ROC = 0.864951
AUC of PRC = 0.587682
min(+P, Se) = 0.550805

==>predicting on validation


confusion matrix:
[[1503   26]
 [ 178   66]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8849409818649292
precision class 0 = 0.8941109776496887
precision class 1 = 0.7173910140991211
recall class 0 = 0.9829949736595154
recall class 1 = 0.27049198746681213
AUC of ROC = 0.84787
AUC of PRC = 0.546325
min(+P, Se) = 0.516393
confusion matrix:
[[1242   15]
 [ 148   44]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.8935250043869019
precision class 1 = 0.7457630038261414
recall class 0 = 0.9880669713020325
recall class 1 = 0.22916699945926666
AUC of ROC = 0.852882
AUC of PRC = 0.5498
min(+P, Se) = 0.515625
confusion matrix:
[[2745   41]
 [ 326  110]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8860960006713867
precision class 0 = 0.8938459753990173
precision class 1 = 0.7284770011901855
recall class 0 = 0.9852839708328247
recall class 1 = 0.25229400396347046
AUC of ROC = 0.849981
AUC of PRC = 0.54652
min(+P, Se) = 0.520642

Epoch 00076: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch76.test0.2867453201615537.state
Epoch 77/100
 - 845s - loss: 0.2837 - val_loss: 0.2927

==>predicting on train


confusion matrix:
[[6834  152]
 [ 718  355]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8920459747314453
precision class 0 = 0.9049260020256042
precision class 1 = 0.7001969814300537
recall class 0 = 0.9782419800758362
recall class 1 = 0.33084800839424133
AUC of ROC = 0.863238
AUC of PRC = 0.584306
min(+P, Se) = 0.546132
confusion matrix:
[[5593  115]
 [ 621  293]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.88885498046875
precision class 0 = 0.9000639915466309
precision class 1 = 0.7181370258331299
recall class 0 = 0.9798529744148254
recall class 1 = 0.3205690085887909
AUC of ROC = 0.854767
AUC of PRC = 0.576668
min(+P, Se) = 0.531729
confusion matrix:
[[12427   267]
 [ 1339   648]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8906069993972778
precision class 0 = 0.9027310013771057
precision class 1 = 0.7081969976425171
recall class 0 = 0.9789659976959229
recall class 1 = 0.326119989156723
AUC of ROC = 0.859309
AUC of PRC = 0.580757
min(+P, Se) = 0.541017

==>predicting on validation


confusion matrix:
[[1483   46]
 [ 164   80]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.9004250168800354
precision class 1 = 0.6349210143089294
recall class 0 = 0.969914972782135
recall class 1 = 0.3278689980506897
AUC of ROC = 0.842745
AUC of PRC = 0.541308
min(+P, Se) = 0.508197
confusion matrix:
[[1225   32]
 [ 132   60]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.886817991733551
precision class 0 = 0.9027270078659058
precision class 1 = 0.6521739959716797
recall class 0 = 0.9745429754257202
recall class 1 = 0.3125
AUC of ROC = 0.846837
AUC of PRC = 0.528708
min(+P, Se) = 0.520833
confusion matrix:
[[2708   78]
 [ 296  140]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.9014649987220764
precision class 1 = 0.6422020196914673
recall class 0 = 0.9720029830932617
recall class 1 = 0.32110100984573364
AUC of ROC = 0.844823
AUC of PRC = 0.534424
min(+P, Se) = 0.506881

Epoch 00077: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch77.test0.2927457248152671.state
Epoch 78/100
 - 853s - loss: 0.2841 - val_loss: 0.2957

==>predicting on train


confusion matrix:
[[6837  149]
 [ 717  356]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8925420045852661
precision class 0 = 0.9050830006599426
precision class 1 = 0.7049499750137329
recall class 0 = 0.9786720275878906
recall class 1 = 0.33177998661994934
AUC of ROC = 0.86935
AUC of PRC = 0.587762
min(+P, Se) = 0.553588
confusion matrix:
[[5594  114]
 [ 613  301]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8902140259742737
precision class 0 = 0.9012399911880493
precision class 1 = 0.7253010272979736
recall class 0 = 0.980027973651886
recall class 1 = 0.3293220102787018
AUC of ROC = 0.86073
AUC of PRC = 0.587254
min(+P, Se) = 0.538798
confusion matrix:
[[12431   263]
 [ 1330   657]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8914920091629028
precision class 0 = 0.9033499956130981
precision class 1 = 0.7141299843788147
recall class 0 = 0.979282021522522
recall class 1 = 0.3306489884853363
AUC of ROC = 0.865407
AUC of PRC = 0.587686
min(+P, Se) = 0.547009

==>predicting on validation


confusion matrix:
[[1474   55]
 [ 161   83]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8781729936599731
precision class 0 = 0.9015290141105652
precision class 1 = 0.6014490127563477
recall class 0 = 0.9640290141105652
recall class 1 = 0.3401640057563782
AUC of ROC = 0.844225
AUC of PRC = 0.542353
min(+P, Se) = 0.502041
confusion matrix:
[[1225   32]
 [ 129   63]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.9047269821166992
precision class 1 = 0.6631579995155334
recall class 0 = 0.9745429754257202
recall class 1 = 0.328125
AUC of ROC = 0.849534
AUC of PRC = 0.519323
min(+P, Se) = 0.5
confusion matrix:
[[2699   87]
 [ 290  146]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8829920291900635
precision class 0 = 0.9029780030250549
precision class 1 = 0.6266090273857117
recall class 0 = 0.9687719941139221
recall class 1 = 0.33486199378967285
AUC of ROC = 0.846694
AUC of PRC = 0.529888
min(+P, Se) = 0.502294

Epoch 00078: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch78.test0.2957285092270648.state
Epoch 79/100
 - 859s - loss: 0.2834 - val_loss: 0.2892

==>predicting on train


confusion matrix:
[[6880  106]
 [ 789  284]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8889439702033997
precision class 0 = 0.8971179723739624
precision class 1 = 0.7282050251960754
recall class 0 = 0.9848269820213318
recall class 1 = 0.2646780014038086
AUC of ROC = 0.872372
AUC of PRC = 0.58793
min(+P, Se) = 0.557316
confusion matrix:
[[5627   81]
 [ 671  243]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8864390254020691
precision class 0 = 0.8934580087661743
precision class 1 = 0.75
recall class 0 = 0.9858090281486511
recall class 1 = 0.2658640146255493
AUC of ROC = 0.860867
AUC of PRC = 0.582185
min(+P, Se) = 0.54267
confusion matrix:
[[12507   187]
 [ 1460   527]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8878139853477478
precision class 0 = 0.89546799659729
precision class 1 = 0.7380949854850769
recall class 0 = 0.9852690100669861
recall class 1 = 0.26522400975227356
AUC of ROC = 0.86726
AUC of PRC = 0.585661
min(+P, Se) = 0.550302

==>predicting on validation


confusion matrix:
[[1497   32]
 [ 179   65]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8809930086135864
precision class 0 = 0.8931980133056641
precision class 1 = 0.6701030135154724
recall class 0 = 0.9790710210800171
recall class 1 = 0.2663930058479309
AUC of ROC = 0.844804
AUC of PRC = 0.531612
min(+P, Se) = 0.495902
confusion matrix:
[[1239   18]
 [ 145   47]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8875089883804321
precision class 0 = 0.8952310085296631
precision class 1 = 0.7230769991874695
recall class 0 = 0.9856799840927124
recall class 1 = 0.24479199945926666
AUC of ROC = 0.853172
AUC of PRC = 0.543299
min(+P, Se) = 0.520833
confusion matrix:
[[2736   50]
 [ 324  112]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.8941180109977722
precision class 1 = 0.6913579702377319
recall class 0 = 0.9820529818534851
recall class 1 = 0.2568809986114502
AUC of ROC = 0.848363
AUC of PRC = 0.535091
min(+P, Se) = 0.510297

Epoch 00079: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch79.test0.28921121735331584.state
Epoch 80/100
 - 853s - loss: 0.2847 - val_loss: 0.2927

==>predicting on train


confusion matrix:
[[6852  134]
 [ 757  316]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8894400000572205
precision class 0 = 0.9005129933357239
precision class 1 = 0.7022219896316528
recall class 0 = 0.9808189868927002
recall class 1 = 0.29450100660324097
AUC of ROC = 0.865473
AUC of PRC = 0.578467
min(+P, Se) = 0.558248
confusion matrix:
[[5589  119]
 [ 636  278]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8859859704971313
precision class 0 = 0.8978310227394104
precision class 1 = 0.7002519965171814
recall class 0 = 0.9791520237922668
recall class 1 = 0.3041580021381378
AUC of ROC = 0.85586
AUC of PRC = 0.572909
min(+P, Se) = 0.53268
confusion matrix:
[[12441   253]
 [ 1393   594]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8878819942474365
precision class 0 = 0.8993059992790222
precision class 1 = 0.7012990117073059
recall class 0 = 0.9800689816474915
recall class 1 = 0.29894301295280457
AUC of ROC = 0.861199
AUC of PRC = 0.576335
min(+P, Se) = 0.54454

==>predicting on validation


confusion matrix:
[[1488   41]
 [ 172   72]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8963860273361206
precision class 1 = 0.6371679902076721
recall class 0 = 0.9731850028038025
recall class 1 = 0.2950820028781891
AUC of ROC = 0.838877
AUC of PRC = 0.528338
min(+P, Se) = 0.491803
confusion matrix:
[[1230   27]
 [ 140   52]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.8978099822998047
precision class 1 = 0.6582279801368713
recall class 0 = 0.9785199761390686
recall class 1 = 0.27083298563957214
AUC of ROC = 0.849257
AUC of PRC = 0.531644
min(+P, Se) = 0.494792
confusion matrix:
[[2718   68]
 [ 312  124]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8820610046386719
precision class 0 = 0.8970299959182739
precision class 1 = 0.6458330154418945
recall class 0 = 0.9755920171737671
recall class 1 = 0.2844040095806122
AUC of ROC = 0.843553
AUC of PRC = 0.528156
min(+P, Se) = 0.490826

Epoch 00080: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch80.test0.2927466203648803.state
Epoch 81/100
 - 853s - loss: 0.2827 - val_loss: 0.2948

==>predicting on train


confusion matrix:
[[6770  216]
 [ 662  411]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8910539746284485
precision class 0 = 0.9109259843826294
precision class 1 = 0.6555020213127136
recall class 0 = 0.9690809845924377
recall class 1 = 0.3830380141735077
AUC of ROC = 0.871306
AUC of PRC = 0.5845
min(+P, Se) = 0.555452
confusion matrix:
[[5545  163]
 [ 566  348]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8899120092391968
precision class 0 = 0.9073799848556519
precision class 1 = 0.6810179948806763
recall class 0 = 0.9714440107345581
recall class 1 = 0.38074401021003723
AUC of ROC = 0.860057
AUC of PRC = 0.578843
min(+P, Se) = 0.537199
confusion matrix:
[[12315   379]
 [ 1228   759]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8905389904975891
precision class 0 = 0.9093260169029236
precision class 1 = 0.6669600009918213
recall class 0 = 0.9701430201530457
recall class 1 = 0.3819830119609833
AUC of ROC = 0.866214
AUC of PRC = 0.582075
min(+P, Se) = 0.547787

==>predicting on validation


confusion matrix:
[[1461   68]
 [ 154   90]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8747879862785339
precision class 0 = 0.9046440124511719
precision class 1 = 0.5696200132369995
recall class 0 = 0.9555259943008423
recall class 1 = 0.36885198950767517
AUC of ROC = 0.8427
AUC of PRC = 0.530396
min(+P, Se) = 0.495902
confusion matrix:
[[1214   43]
 [ 118   74]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.9114109873771667
precision class 1 = 0.6324790120124817
recall class 0 = 0.9657920002937317
recall class 1 = 0.38541701436042786
AUC of ROC = 0.850852
AUC of PRC = 0.531016
min(+P, Se) = 0.520833
confusion matrix:
[[2675  111]
 [ 272  164]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8811299800872803
precision class 0 = 0.9077029824256897
precision class 1 = 0.5963640213012695
recall class 0 = 0.9601579904556274
recall class 1 = 0.37614700198173523
AUC of ROC = 0.84639
AUC of PRC = 0.529831
min(+P, Se) = 0.506881

Epoch 00081: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch81.test0.2948384734805995.state
Epoch 82/100
 - 847s - loss: 0.2823 - val_loss: 0.2893

==>predicting on train


confusion matrix:
[[6887   99]
 [ 743  330]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8955199718475342
precision class 0 = 0.9026209712028503
precision class 1 = 0.7692310214042664
recall class 0 = 0.9858289957046509
recall class 1 = 0.30754899978637695
AUC of ROC = 0.875894
AUC of PRC = 0.605586
min(+P, Se) = 0.557316
confusion matrix:
[[5627   81]
 [ 649  265]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8897609710693359
precision class 0 = 0.896589994430542
precision class 1 = 0.7658960223197937
recall class 0 = 0.9858090281486511
recall class 1 = 0.2899340093135834
AUC of ROC = 0.863535
AUC of PRC = 0.592506
min(+P, Se) = 0.548422
confusion matrix:
[[12514   180]
 [ 1392   595]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8929229974746704
precision class 0 = 0.8998990058898926
precision class 1 = 0.7677419781684875
recall class 0 = 0.9858199954032898
recall class 1 = 0.2994459867477417
AUC of ROC = 0.870257
AUC of PRC = 0.59959
min(+P, Se) = 0.553598

==>predicting on validation


confusion matrix:
[[1492   37]
 [ 165   79]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8860689997673035
precision class 0 = 0.9004219770431519
precision class 1 = 0.6810340285301208
recall class 0 = 0.9758009910583496
recall class 1 = 0.3237699866294861
AUC of ROC = 0.843346
AUC of PRC = 0.541674
min(+P, Se) = 0.506073
confusion matrix:
[[1237   20]
 [ 144   48]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.886817991733551
precision class 0 = 0.8957279920578003
precision class 1 = 0.7058820128440857
recall class 0 = 0.9840890169143677
recall class 1 = 0.25
AUC of ROC = 0.851813
AUC of PRC = 0.53512
min(+P, Se) = 0.515625
confusion matrix:
[[2729   57]
 [ 309  127]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8864060044288635
precision class 0 = 0.8982880115509033
precision class 1 = 0.6902170181274414
recall class 0 = 0.979541003704071
recall class 1 = 0.2912839949131012
AUC of ROC = 0.846874
AUC of PRC = 0.53698
min(+P, Se) = 0.509174

Epoch 00082: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch82.test0.2893154912441506.state
Epoch 83/100
 - 854s - loss: 0.2860 - val_loss: 0.2928

==>predicting on train


confusion matrix:
[[6774  212]
 [ 648  425]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8932870030403137
precision class 0 = 0.9126920104026794
precision class 1 = 0.6671900153160095
recall class 0 = 0.9696540236473083
recall class 1 = 0.3960860073566437
AUC of ROC = 0.875432
AUC of PRC = 0.599987
min(+P, Se) = 0.554935
confusion matrix:
[[5556  152]
 [ 565  349]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8917239904403687
precision class 0 = 0.9076949954032898
precision class 1 = 0.6966069936752319
recall class 0 = 0.9733710289001465
recall class 1 = 0.38183799386024475
AUC of ROC = 0.86494
AUC of PRC = 0.595264
min(+P, Se) = 0.547826
confusion matrix:
[[12330   364]
 [ 1213   774]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8925819993019104
precision class 0 = 0.9104329943656921
precision class 1 = 0.6801409721374512
recall class 0 = 0.9713249802589417
recall class 1 = 0.3895319998264313
AUC of ROC = 0.870628
AUC of PRC = 0.597663
min(+P, Se) = 0.548793

==>predicting on validation


confusion matrix:
[[1465   64]
 [ 152   92]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8781729936599731
precision class 0 = 0.9059990048408508
precision class 1 = 0.589743971824646
recall class 0 = 0.9581429958343506
recall class 1 = 0.3770489990711212
AUC of ROC = 0.843442
AUC of PRC = 0.541851
min(+P, Se) = 0.504098
confusion matrix:
[[1220   37]
 [ 120   72]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8916490077972412
precision class 0 = 0.9104480147361755
precision class 1 = 0.6605499982833862
recall class 0 = 0.9705650210380554
recall class 1 = 0.375
AUC of ROC = 0.855488
AUC of PRC = 0.544326
min(+P, Se) = 0.505208
confusion matrix:
[[2685  101]
 [ 272  164]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.9080150127410889
precision class 1 = 0.6188679933547974
recall class 0 = 0.9637470245361328
recall class 1 = 0.37614700198173523
AUC of ROC = 0.848842
AUC of PRC = 0.540836
min(+P, Se) = 0.511468

Epoch 00083: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch83.test0.2927735853433831.state
Epoch 84/100
 - 853s - loss: 0.2812 - val_loss: 0.2897

==>predicting on train


confusion matrix:
[[6837  149]
 [ 709  364]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8935350179672241
precision class 0 = 0.9060429930686951
precision class 1 = 0.709551990032196
recall class 0 = 0.9786720275878906
recall class 1 = 0.33923599123954773
AUC of ROC = 0.874346
AUC of PRC = 0.593981
min(+P, Se) = 0.550279
confusion matrix:
[[5597  111]
 [ 640  274]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8865900039672852
precision class 0 = 0.8973870277404785
precision class 1 = 0.7116879820823669
recall class 0 = 0.9805539846420288
recall class 1 = 0.2997809946537018
AUC of ROC = 0.862036
AUC of PRC = 0.586841
min(+P, Se) = 0.536105
confusion matrix:
[[12434   260]
 [ 1349   638]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8904029726982117
precision class 0 = 0.9021260142326355
precision class 1 = 0.7104679942131042
recall class 0 = 0.9795179963111877
recall class 1 = 0.3210870027542114
AUC of ROC = 0.868684
AUC of PRC = 0.590683
min(+P, Se) = 0.543992

==>predicting on validation


confusion matrix:
[[1486   43]
 [ 167   77]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8815569877624512
precision class 0 = 0.8989719748497009
precision class 1 = 0.6416670083999634
recall class 0 = 0.9718769788742065
recall class 1 = 0.3155739903450012
AUC of ROC = 0.843528
AUC of PRC = 0.536523
min(+P, Se) = 0.506122
confusion matrix:
[[1232   25]
 [ 133   59]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8909590244293213
precision class 0 = 0.9025639891624451
precision class 1 = 0.7023810148239136
recall class 0 = 0.9801110029220581
recall class 1 = 0.30729201436042786
AUC of ROC = 0.853023
AUC of PRC = 0.542917
min(+P, Se) = 0.520833
confusion matrix:
[[2718   68]
 [ 300  136]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8857849836349487
precision class 0 = 0.900596022605896
precision class 1 = 0.6666669845581055
recall class 0 = 0.9755920171737671
recall class 1 = 0.3119269907474518
AUC of ROC = 0.84783
AUC of PRC = 0.538187
min(+P, Se) = 0.511468

Epoch 00084: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch84.test0.2897106487902886.state
Epoch 85/100
 - 855s - loss: 0.2834 - val_loss: 0.2879

==>predicting on train


confusion matrix:
[[6854  132]
 [ 723  350]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8939070105552673
precision class 0 = 0.9045799970626831
precision class 1 = 0.7261409759521484
recall class 0 = 0.9811050295829773
recall class 1 = 0.32618799805641174
AUC of ROC = 0.874231
AUC of PRC = 0.599721
min(+P, Se) = 0.557728
confusion matrix:
[[5614   94]
 [ 643  271]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8887040019035339
precision class 0 = 0.8972349762916565
precision class 1 = 0.7424659729003906
recall class 0 = 0.9835320115089417
recall class 1 = 0.29649901390075684
AUC of ROC = 0.864315
AUC of PRC = 0.595515
min(+P, Se) = 0.546347
confusion matrix:
[[12468   226]
 [ 1366   621]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8915600180625916
precision class 0 = 0.9012579917907715
precision class 1 = 0.7331759929656982
recall class 0 = 0.9821959733963013
recall class 1 = 0.3125309944152832
AUC of ROC = 0.869675
AUC of PRC = 0.597781
min(+P, Se) = 0.551082

==>predicting on validation


confusion matrix:
[[1486   43]
 [ 170   74]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.8973429799079895
precision class 1 = 0.6324790120124817
recall class 0 = 0.9718769788742065
recall class 1 = 0.30327901244163513
AUC of ROC = 0.84445
AUC of PRC = 0.536726
min(+P, Se) = 0.495935
confusion matrix:
[[1236   21]
 [ 138   54]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8902689814567566
precision class 0 = 0.8995630145072937
precision class 1 = 0.7200000286102295
recall class 0 = 0.9832940101623535
recall class 1 = 0.28125
AUC of ROC = 0.855658
AUC of PRC = 0.549053
min(+P, Se) = 0.515625
confusion matrix:
[[2722   64]
 [ 308  128]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8845440149307251
precision class 0 = 0.8983500003814697
precision class 1 = 0.6666669845581055
recall class 0 = 0.9770280122756958
recall class 1 = 0.29357799887657166
AUC of ROC = 0.849504
AUC of PRC = 0.53906
min(+P, Se) = 0.506881

Epoch 00085: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch85.test0.28793208509184126.state
Epoch 86/100
 - 852s - loss: 0.2818 - val_loss: 0.2881

==>predicting on train


confusion matrix:
[[6877  109]
 [ 734  339]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8953959941864014
precision class 0 = 0.903560996055603
precision class 1 = 0.7566959857940674
recall class 0 = 0.9843969941139221
recall class 1 = 0.31593701243400574
AUC of ROC = 0.879461
AUC of PRC = 0.606371
min(+P, Se) = 0.56
confusion matrix:
[[5638   70]
 [ 657  257]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8902140259742737
precision class 0 = 0.8956310153007507
precision class 1 = 0.7859330177307129
recall class 0 = 0.9877359867095947
recall class 1 = 0.2811819911003113
AUC of ROC = 0.870864
AUC of PRC = 0.611366
min(+P, Se) = 0.560175
confusion matrix:
[[12515   179]
 [ 1391   596]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8930590152740479
precision class 0 = 0.8999710083007812
precision class 1 = 0.7690320014953613
recall class 0 = 0.9858989715576172
recall class 1 = 0.2999500036239624
AUC of ROC = 0.875376
AUC of PRC = 0.608454
min(+P, Se) = 0.560865

==>predicting on validation


confusion matrix:
[[1491   38]
 [ 171   73]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8821210265159607
precision class 0 = 0.8971120119094849
precision class 1 = 0.6576579809188843
recall class 0 = 0.975147008895874
recall class 1 = 0.2991800010204315
AUC of ROC = 0.844919
AUC of PRC = 0.540652
min(+P, Se) = 0.487805
confusion matrix:
[[1237   20]
 [ 144   48]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.886817991733551
precision class 0 = 0.8957279920578003
precision class 1 = 0.7058820128440857
recall class 0 = 0.9840890169143677
recall class 1 = 0.25
AUC of ROC = 0.855252
AUC of PRC = 0.553756
min(+P, Se) = 0.53125
confusion matrix:
[[2728   58]
 [ 315  121]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8842329978942871
precision class 0 = 0.8964840173721313
precision class 1 = 0.6759780049324036
recall class 0 = 0.9791820049285889
recall class 1 = 0.277523010969162
AUC of ROC = 0.849445
AUC of PRC = 0.543118
min(+P, Se) = 0.511468

Epoch 00086: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch86.test0.28808379543495427.state
Epoch 87/100
 - 849s - loss: 0.2840 - val_loss: 0.2896

==>predicting on train


confusion matrix:
[[6867  119]
 [ 727  346]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8950240015983582
precision class 0 = 0.9042670130729675
precision class 1 = 0.7440860271453857
recall class 0 = 0.9829660058021545
recall class 1 = 0.32245999574661255
AUC of ROC = 0.873505
AUC of PRC = 0.598979
min(+P, Se) = 0.560112
confusion matrix:
[[5596  112]
 [ 622  292]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8891569972038269
precision class 0 = 0.8999680280685425
precision class 1 = 0.7227720022201538
recall class 0 = 0.9803779721260071
recall class 1 = 0.319474995136261
AUC of ROC = 0.863765
AUC of PRC = 0.593157
min(+P, Se) = 0.538798
confusion matrix:
[[12463   231]
 [ 1349   638]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8923779726028442
precision class 0 = 0.9023309946060181
precision class 1 = 0.7341769933700562
recall class 0 = 0.9818019866943359
recall class 1 = 0.3210870027542114
AUC of ROC = 0.868957
AUC of PRC = 0.596059
min(+P, Se) = 0.552156

==>predicting on validation


confusion matrix:
[[1494   35]
 [ 169   75]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8849409818649292
precision class 0 = 0.8983759880065918
precision class 1 = 0.6818180084228516
recall class 0 = 0.9771090149879456
recall class 1 = 0.30737701058387756
AUC of ROC = 0.842641
AUC of PRC = 0.540601
min(+P, Se) = 0.5
confusion matrix:
[[1230   27]
 [ 133   59]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8895789980888367
precision class 0 = 0.9024209976196289
precision class 1 = 0.6860470175743103
recall class 0 = 0.9785199761390686
recall class 1 = 0.30729201436042786
AUC of ROC = 0.852468
AUC of PRC = 0.53933
min(+P, Se) = 0.515625
confusion matrix:
[[2724   62]
 [ 302  134]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8870270252227783
precision class 0 = 0.9001979827880859
precision class 1 = 0.6836730241775513
recall class 0 = 0.9777460098266602
recall class 1 = 0.30733901262283325
AUC of ROC = 0.847148
AUC of PRC = 0.538171
min(+P, Se) = 0.506881

Epoch 00087: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch87.test0.2896140195605068.state
Epoch 88/100
 - 852s - loss: 0.2814 - val_loss: 0.2859

==>predicting on train


confusion matrix:
[[6866  120]
 [ 718  355]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8960170149803162
precision class 0 = 0.9053270220756531
precision class 1 = 0.7473679780960083
recall class 0 = 0.9828230142593384
recall class 1 = 0.33084800839424133
AUC of ROC = 0.880332
AUC of PRC = 0.617509
min(+P, Se) = 0.570363
confusion matrix:
[[5620   88]
 [ 634  280]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.89096999168396
precision class 0 = 0.8986250162124634
precision class 1 = 0.7608699798583984
recall class 0 = 0.9845830202102661
recall class 1 = 0.30634599924087524
AUC of ROC = 0.86819
AUC of PRC = 0.605768
min(+P, Se) = 0.557987
confusion matrix:
[[12486   208]
 [ 1352   635]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8937399983406067
precision class 0 = 0.9022979736328125
precision class 1 = 0.7532619833946228
recall class 0 = 0.9836140275001526
recall class 1 = 0.31957700848579407
AUC of ROC = 0.87491
AUC of PRC = 0.612333
min(+P, Se) = 0.564889

==>predicting on validation


confusion matrix:
[[1486   43]
 [ 163   81]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8838130235671997
precision class 0 = 0.9011520147323608
precision class 1 = 0.6532260179519653
recall class 0 = 0.9718769788742065
recall class 1 = 0.33196699619293213
AUC of ROC = 0.847618
AUC of PRC = 0.55097
min(+P, Se) = 0.487705
confusion matrix:
[[1231   26]
 [ 136   56]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.9005119800567627
precision class 1 = 0.6829270124435425
recall class 0 = 0.979315996170044
recall class 1 = 0.29166701436042786
AUC of ROC = 0.858642
AUC of PRC = 0.546763
min(+P, Se) = 0.520833
confusion matrix:
[[2717   69]
 [ 299  137]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8857849836349487
precision class 0 = 0.9008619785308838
precision class 1 = 0.6650490164756775
recall class 0 = 0.9752330183982849
recall class 1 = 0.31422001123428345
AUC of ROC = 0.852323
AUC of PRC = 0.545757
min(+P, Se) = 0.504587

Epoch 00088: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch88.test0.28585674351949564.state
Epoch 89/100
 - 847s - loss: 0.2790 - val_loss: 0.2920

==>predicting on train


confusion matrix:
[[6814  172]
 [ 681  392]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8941559791564941
precision class 0 = 0.9091389775276184
precision class 1 = 0.6950349807739258
recall class 0 = 0.9753789901733398
recall class 1 = 0.3653309941291809
AUC of ROC = 0.875748
AUC of PRC = 0.604623
min(+P, Se) = 0.558248
confusion matrix:
[[5586  122]
 [ 610  304]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8894590139389038
precision class 0 = 0.9015489816665649
precision class 1 = 0.7136150002479553
recall class 0 = 0.978626012802124
recall class 1 = 0.33260399103164673
AUC of ROC = 0.865529
AUC of PRC = 0.598634
min(+P, Se) = 0.553611
confusion matrix:
[[12400   294]
 [ 1291   696]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8920369744300842
precision class 0 = 0.9057040214538574
precision class 1 = 0.703029990196228
recall class 0 = 0.976839005947113
recall class 1 = 0.35027700662612915
AUC of ROC = 0.870931
AUC of PRC = 0.60151
min(+P, Se) = 0.554664

==>predicting on validation


confusion matrix:
[[1470   59]
 [ 156   88]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8787369728088379
precision class 0 = 0.9040589928627014
precision class 1 = 0.5986390113830566
recall class 0 = 0.9614130258560181
recall class 1 = 0.3606559932231903
AUC of ROC = 0.844841
AUC of PRC = 0.542982
min(+P, Se) = 0.493878
confusion matrix:
[[1229   28]
 [ 137   55]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8861280083656311
precision class 0 = 0.899707019329071
precision class 1 = 0.662651002407074
recall class 0 = 0.9777250289916992
recall class 1 = 0.28645798563957214
AUC of ROC = 0.85333
AUC of PRC = 0.532981
min(+P, Se) = 0.520833
confusion matrix:
[[2699   87]
 [ 293  143]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8820610046386719
precision class 0 = 0.902072012424469
precision class 1 = 0.6217389702796936
recall class 0 = 0.9687719941139221
recall class 1 = 0.32798200845718384
AUC of ROC = 0.848482
AUC of PRC = 0.535644
min(+P, Se) = 0.508009

Epoch 00089: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch89.test0.29199259629684676.state
Epoch 90/100
 - 853s - loss: 0.2826 - val_loss: 0.2881

==>predicting on train


confusion matrix:
[[6871  115]
 [ 731  342]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8950240015983582
precision class 0 = 0.9038410186767578
precision class 1 = 0.7483590245246887
recall class 0 = 0.9835379719734192
recall class 1 = 0.31873300671577454
AUC of ROC = 0.874379
AUC of PRC = 0.60726
min(+P, Se) = 0.566636
confusion matrix:
[[5622   86]
 [ 643  271]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8899120092391968
precision class 0 = 0.8973659873008728
precision class 1 = 0.7591040134429932
recall class 0 = 0.9849330186843872
recall class 1 = 0.29649901390075684
AUC of ROC = 0.863473
AUC of PRC = 0.592636
min(+P, Se) = 0.550379
confusion matrix:
[[12493   201]
 [ 1374   613]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8927180171012878
precision class 0 = 0.9009159803390503
precision class 1 = 0.7530710101127625
recall class 0 = 0.9841660261154175
recall class 1 = 0.30850499868392944
AUC of ROC = 0.869356
AUC of PRC = 0.600294
min(+P, Se) = 0.559134

==>predicting on validation


confusion matrix:
[[1493   36]
 [ 169   75]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8843770027160645
precision class 0 = 0.8983150124549866
precision class 1 = 0.6756759881973267
recall class 0 = 0.9764549732208252
recall class 1 = 0.30737701058387756
AUC of ROC = 0.844177
AUC of PRC = 0.54128
min(+P, Se) = 0.504098
confusion matrix:
[[1236   21]
 [ 134   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8930299878120422
precision class 0 = 0.9021900296211243
precision class 1 = 0.7341769933700562
recall class 0 = 0.9832940101623535
recall class 1 = 0.30208298563957214
AUC of ROC = 0.855397
AUC of PRC = 0.549216
min(+P, Se) = 0.520833
confusion matrix:
[[2729   57]
 [ 303  133]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.888267993927002
precision class 0 = 0.9000660181045532
precision class 1 = 0.699999988079071
recall class 0 = 0.979541003704071
recall class 1 = 0.3050459921360016
AUC of ROC = 0.849149
AUC of PRC = 0.543064
min(+P, Se) = 0.507865

Epoch 00090: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch90.test0.28809674122341294.state
Epoch 91/100
 - 858s - loss: 0.2838 - val_loss: 0.2870

==>predicting on train


confusion matrix:
[[6911   75]
 [ 801  272]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8913019895553589
precision class 0 = 0.8961359858512878
precision class 1 = 0.7838619947433472
recall class 0 = 0.9892640113830566
recall class 1 = 0.2534950077533722
AUC of ROC = 0.873676
AUC of PRC = 0.600806
min(+P, Se) = 0.55918
confusion matrix:
[[5667   41]
 [ 692  222]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.889307975769043
precision class 0 = 0.8911780118942261
precision class 1 = 0.8441060185432434
recall class 0 = 0.9928169846534729
recall class 1 = 0.24288800358772278
AUC of ROC = 0.863708
AUC of PRC = 0.599888
min(+P, Se) = 0.553005
confusion matrix:
[[12578   116]
 [ 1493   494]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8904029726982117
precision class 0 = 0.8938949704170227
precision class 1 = 0.8098359704017639
recall class 0 = 0.9908620119094849
recall class 1 = 0.24861599504947662
AUC of ROC = 0.869115
AUC of PRC = 0.600357
min(+P, Se) = 0.556115

==>predicting on validation


confusion matrix:
[[1511   18]
 [ 182   62]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8871970176696777
precision class 0 = 0.8924990296363831
precision class 1 = 0.7749999761581421
recall class 0 = 0.9882280230522156
recall class 1 = 0.25409799814224243
AUC of ROC = 0.845704
AUC of PRC = 0.543432
min(+P, Se) = 0.510204
confusion matrix:
[[1240   17]
 [ 154   38]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.881987988948822
precision class 0 = 0.8895270228385925
precision class 1 = 0.6909090280532837
recall class 0 = 0.9864760041236877
recall class 1 = 0.19791699945926666
AUC of ROC = 0.855049
AUC of PRC = 0.546508
min(+P, Se) = 0.53125
confusion matrix:
[[2751   35]
 [ 336  100]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8848540186882019
precision class 0 = 0.891156017780304
precision class 1 = 0.7407410144805908
recall class 0 = 0.9874370098114014
recall class 1 = 0.2293580025434494
AUC of ROC = 0.85015
AUC of PRC = 0.543452
min(+P, Se) = 0.518349

Epoch 00091: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch91.test0.2870076450060829.state
Epoch 92/100
 - 851s - loss: 0.2786 - val_loss: 0.2911

==>predicting on train


confusion matrix:
[[6811  175]
 [ 662  411]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.896140992641449
precision class 0 = 0.9114140272140503
precision class 1 = 0.7013649940490723
recall class 0 = 0.9749500155448914
recall class 1 = 0.3830380141735077
AUC of ROC = 0.875055
AUC of PRC = 0.600568
min(+P, Se) = 0.55051
confusion matrix:
[[5578  130]
 [ 595  319]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8905159831047058
precision class 0 = 0.9036120176315308
precision class 1 = 0.7104679942131042
recall class 0 = 0.9772250056266785
recall class 1 = 0.3490149974822998
AUC of ROC = 0.8656
AUC of PRC = 0.597268
min(+P, Se) = 0.553611
confusion matrix:
[[12389   305]
 [ 1257   730]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8936039805412292
precision class 0 = 0.9078850150108337
precision class 1 = 0.7053139805793762
recall class 0 = 0.9759730100631714
recall class 1 = 0.3673880100250244
AUC of ROC = 0.870643
AUC of PRC = 0.599109
min(+P, Se) = 0.554326

==>predicting on validation


confusion matrix:
[[1469   60]
 [ 153   91]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8798649907112122
precision class 0 = 0.905672013759613
precision class 1 = 0.6026489734649658
recall class 0 = 0.9607589840888977
recall class 1 = 0.3729510009288788
AUC of ROC = 0.847666
AUC of PRC = 0.535991
min(+P, Se) = 0.50813
confusion matrix:
[[1220   37]
 [ 130   62]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8847479820251465
precision class 0 = 0.9037039875984192
precision class 1 = 0.6262630224227905
recall class 0 = 0.9705650210380554
recall class 1 = 0.32291701436042786
AUC of ROC = 0.850094
AUC of PRC = 0.526029
min(+P, Se) = 0.510417
confusion matrix:
[[2689   97]
 [ 283  153]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8820610046386719
precision class 0 = 0.904778003692627
precision class 1 = 0.6119999885559082
recall class 0 = 0.9651830196380615
recall class 1 = 0.3509170114994049
AUC of ROC = 0.849035
AUC of PRC = 0.531374
min(+P, Se) = 0.506849

Epoch 00092: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch92.test0.2910926316735872.state
Epoch 93/100
 - 851s - loss: 0.2813 - val_loss: 0.2910

==>predicting on train


confusion matrix:
[[6811  175]
 [ 657  416]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8967610001564026
precision class 0 = 0.912024974822998
precision class 1 = 0.7038919925689697
recall class 0 = 0.9749500155448914
recall class 1 = 0.3876979947090149
AUC of ROC = 0.877776
AUC of PRC = 0.61359
min(+P, Se) = 0.56308
confusion matrix:
[[5566  142]
 [ 580  334]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.89096999168396
precision class 0 = 0.9056299924850464
precision class 1 = 0.7016810178756714
recall class 0 = 0.9751229882240295
recall class 1 = 0.3654269874095917
AUC of ROC = 0.865398
AUC of PRC = 0.601545
min(+P, Se) = 0.54814
confusion matrix:
[[12377   317]
 [ 1237   750]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8941490054130554
precision class 0 = 0.909138023853302
precision class 1 = 0.702904999256134
recall class 0 = 0.9750279784202576
recall class 1 = 0.3774529993534088
AUC of ROC = 0.872051
AUC of PRC = 0.607941
min(+P, Se) = 0.557625

==>predicting on validation


confusion matrix:
[[1468   61]
 [ 154   90]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8787369728088379
precision class 0 = 0.9050549864768982
precision class 1 = 0.5960260033607483
recall class 0 = 0.9601050019264221
recall class 1 = 0.36885198950767517
AUC of ROC = 0.845058
AUC of PRC = 0.546026
min(+P, Se) = 0.489879
confusion matrix:
[[1219   38]
 [ 121   71]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8902689814567566
precision class 0 = 0.9097009897232056
precision class 1 = 0.6513760089874268
recall class 0 = 0.9697690010070801
recall class 1 = 0.36979201436042786
AUC of ROC = 0.851552
AUC of PRC = 0.540296
min(+P, Se) = 0.515625
confusion matrix:
[[2687   99]
 [ 275  161]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8839229941368103
precision class 0 = 0.9071570038795471
precision class 1 = 0.6192309856414795
recall class 0 = 0.9644650220870972
recall class 1 = 0.36926600337028503
AUC of ROC = 0.84795
AUC of PRC = 0.541893
min(+P, Se) = 0.502294

Epoch 00093: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch93.test0.29099838887956997.state
Epoch 94/100
 - 847s - loss: 0.2794 - val_loss: 0.2940

==>predicting on train


confusion matrix:
[[6768  218]
 [ 648  425]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8925420045852661
precision class 0 = 0.912621021270752
precision class 1 = 0.6609640121459961
recall class 0 = 0.9687950015068054
recall class 1 = 0.3960860073566437
AUC of ROC = 0.869865
AUC of PRC = 0.593827
min(+P, Se) = 0.554935
confusion matrix:
[[5564  144]
 [ 575  339]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8914219737052917
precision class 0 = 0.9063370227813721
precision class 1 = 0.7018629908561707
recall class 0 = 0.9747719764709473
recall class 1 = 0.37089699506759644
AUC of ROC = 0.860663
AUC of PRC = 0.588618
min(+P, Se) = 0.54267
confusion matrix:
[[12332   362]
 [ 1223   764]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8920369744300842
precision class 0 = 0.9097750186920166
precision class 1 = 0.6785079836845398
recall class 0 = 0.9714829921722412
recall class 1 = 0.3844990134239197
AUC of ROC = 0.86541
AUC of PRC = 0.59129
min(+P, Se) = 0.546781

==>predicting on validation


confusion matrix:
[[1462   67]
 [ 149   95]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8781729936599731
precision class 0 = 0.9075109958648682
precision class 1 = 0.5864199995994568
recall class 0 = 0.9561799764633179
recall class 1 = 0.3893440067768097
AUC of ROC = 0.843565
AUC of PRC = 0.545741
min(+P, Se) = 0.493927
confusion matrix:
[[1219   38]
 [ 121   71]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8902689814567566
precision class 0 = 0.9097009897232056
precision class 1 = 0.6513760089874268
recall class 0 = 0.9697690010070801
recall class 1 = 0.36979201436042786
AUC of ROC = 0.850272
AUC of PRC = 0.529639
min(+P, Se) = 0.520833
confusion matrix:
[[2681  105]
 [ 270  166]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8836129903793335
precision class 0 = 0.9085059762001038
precision class 1 = 0.6125460267066956
recall class 0 = 0.9623119831085205
recall class 1 = 0.38073399662971497
AUC of ROC = 0.847116
AUC of PRC = 0.536131
min(+P, Se) = 0.504587

Epoch 00094: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch94.test0.2940431436874125.state
Epoch 95/100
 - 851s - loss: 0.2809 - val_loss: 0.2871

==>predicting on train


confusion matrix:
[[6874  112]
 [ 731  342]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8953959941864014
precision class 0 = 0.9038789868354797
precision class 1 = 0.7533040046691895
recall class 0 = 0.9839680194854736
recall class 1 = 0.31873300671577454
AUC of ROC = 0.873331
AUC of PRC = 0.602091
min(+P, Se) = 0.564772
confusion matrix:
[[5627   81]
 [ 644  270]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8905159831047058
precision class 0 = 0.8973050117492676
precision class 1 = 0.7692310214042664
recall class 0 = 0.9858090281486511
recall class 1 = 0.29540500044822693
AUC of ROC = 0.864157
AUC of PRC = 0.597459
min(+P, Se) = 0.551422
confusion matrix:
[[12501   193]
 [ 1375   612]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8931949734687805
precision class 0 = 0.9009079933166504
precision class 1 = 0.7602480053901672
recall class 0 = 0.9847959876060486
recall class 1 = 0.3080019950866699
AUC of ROC = 0.868945
AUC of PRC = 0.599702
min(+P, Se) = 0.560141

==>predicting on validation


confusion matrix:
[[1492   37]
 [ 165   79]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8860689997673035
precision class 0 = 0.9004219770431519
precision class 1 = 0.6810340285301208
recall class 0 = 0.9758009910583496
recall class 1 = 0.3237699866294861
AUC of ROC = 0.849009
AUC of PRC = 0.558322
min(+P, Se) = 0.508065
confusion matrix:
[[1237   20]
 [ 141   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8888890147209167
precision class 0 = 0.897678017616272
precision class 1 = 0.7183099985122681
recall class 0 = 0.9840890169143677
recall class 1 = 0.265625
AUC of ROC = 0.851859
AUC of PRC = 0.538053
min(+P, Se) = 0.510417
confusion matrix:
[[2729   57]
 [ 306  130]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8873370289802551
precision class 0 = 0.8991760015487671
precision class 1 = 0.695186972618103
recall class 0 = 0.979541003704071
recall class 1 = 0.2981649935245514
AUC of ROC = 0.850341
AUC of PRC = 0.547615
min(+P, Se) = 0.513761

Epoch 00095: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch95.test0.2871279609380932.state
Epoch 96/100
 - 855s - loss: 0.2805 - val_loss: 0.2878

==>predicting on train


confusion matrix:
[[6877  109]
 [ 708  365]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.898622989654541
precision class 0 = 0.9066579937934875
precision class 1 = 0.7700420022010803
recall class 0 = 0.9843969941139221
recall class 1 = 0.3401679992675781
AUC of ROC = 0.88333
AUC of PRC = 0.626172
min(+P, Se) = 0.579143
confusion matrix:
[[5629   79]
 [ 639  275]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8915740251541138
precision class 0 = 0.8980540037155151
precision class 1 = 0.7768359780311584
recall class 0 = 0.9861599802970886
recall class 1 = 0.3008750081062317
AUC of ROC = 0.870956
AUC of PRC = 0.610881
min(+P, Se) = 0.569399
confusion matrix:
[[12506   188]
 [ 1347   640]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8954430222511292
precision class 0 = 0.9027649760246277
precision class 1 = 0.7729470133781433
recall class 0 = 0.9851899743080139
recall class 1 = 0.32209399342536926
AUC of ROC = 0.877768
AUC of PRC = 0.61906
min(+P, Se) = 0.574447

==>predicting on validation


confusion matrix:
[[1489   40]
 [ 164   80]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8849409818649292
precision class 0 = 0.9007859826087952
precision class 1 = 0.6666669845581055
recall class 0 = 0.9738389849662781
recall class 1 = 0.3278689980506897
AUC of ROC = 0.847251
AUC of PRC = 0.553338
min(+P, Se) = 0.516393
confusion matrix:
[[1236   21]
 [ 141   51]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.8976039886474609
precision class 1 = 0.7083330154418945
recall class 0 = 0.9832940101623535
recall class 1 = 0.265625
AUC of ROC = 0.851544
AUC of PRC = 0.529688
min(+P, Se) = 0.505208
confusion matrix:
[[2725   61]
 [ 305  131]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8864060044288635
precision class 0 = 0.8993399739265442
precision class 1 = 0.6822919845581055
recall class 0 = 0.9781050086021423
recall class 1 = 0.30045899748802185
AUC of ROC = 0.848943
AUC of PRC = 0.541294
min(+P, Se) = 0.509174

Epoch 00096: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch96.test0.2877659110813722.state
Epoch 97/100
 - 857s - loss: 0.2775 - val_loss: 0.2911

==>predicting on train


confusion matrix:
[[6840  146]
 [ 682  391]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8972579836845398
precision class 0 = 0.9093329906463623
precision class 1 = 0.7281190156936646
recall class 0 = 0.9791010022163391
recall class 1 = 0.3643989861011505
AUC of ROC = 0.87903
AUC of PRC = 0.612627
min(+P, Se) = 0.566636
confusion matrix:
[[5604  104]
 [ 612  302]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8918759822845459
precision class 0 = 0.9015439748764038
precision class 1 = 0.7438420057296753
recall class 0 = 0.9817799925804138
recall class 1 = 0.3304159939289093
AUC of ROC = 0.868878
AUC of PRC = 0.607618
min(+P, Se) = 0.564604
confusion matrix:
[[12444   250]
 [ 1294   693]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8948299884796143
precision class 0 = 0.9058089852333069
precision class 1 = 0.7348889708518982
recall class 0 = 0.9803060293197632
recall class 1 = 0.3487670123577118
AUC of ROC = 0.874444
AUC of PRC = 0.610679
min(+P, Se) = 0.565108

==>predicting on validation


confusion matrix:
[[1478   51]
 [ 160   84]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8809930086135864
precision class 0 = 0.9023200273513794
precision class 1 = 0.6222220063209534
recall class 0 = 0.9666450023651123
recall class 1 = 0.3442620038986206
AUC of ROC = 0.844198
AUC of PRC = 0.549285
min(+P, Se) = 0.504098
confusion matrix:
[[1227   30]
 [ 134   58]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.886817991733551
precision class 0 = 0.9015430212020874
precision class 1 = 0.6590909957885742
recall class 0 = 0.9761340022087097
recall class 1 = 0.30208298563957214
AUC of ROC = 0.850085
AUC of PRC = 0.533487
min(+P, Se) = 0.515625
confusion matrix:
[[2705   81]
 [ 294  142]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8836129903793335
precision class 0 = 0.9019669890403748
precision class 1 = 0.636771023273468
recall class 0 = 0.9709259867668152
recall class 1 = 0.3256880044937134
AUC of ROC = 0.846679
AUC of PRC = 0.539281
min(+P, Se) = 0.509174

Epoch 00097: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch97.test0.29108722932511866.state
Epoch 98/100
 - 852s - loss: 0.2810 - val_loss: 0.2942

==>predicting on train


confusion matrix:
[[6806  180]
 [ 646  427]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8975059986114502
precision class 0 = 0.9133120179176331
precision class 1 = 0.7034599781036377
recall class 0 = 0.9742339849472046
recall class 1 = 0.3979499936103821
AUC of ROC = 0.874224
AUC of PRC = 0.60826
min(+P, Se) = 0.56797
confusion matrix:
[[5563  145]
 [ 571  343]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8918759822845459
precision class 0 = 0.9069120287895203
precision class 1 = 0.7028689980506897
recall class 0 = 0.9745969772338867
recall class 1 = 0.37527400255203247
AUC of ROC = 0.866326
AUC of PRC = 0.605562
min(+P, Se) = 0.556645
confusion matrix:
[[12369   325]
 [ 1217   770]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8949660062789917
precision class 0 = 0.9104220271110535
precision class 1 = 0.7031959891319275
recall class 0 = 0.9743970036506653
recall class 1 = 0.3875190019607544
AUC of ROC = 0.870557
AUC of PRC = 0.607108
min(+P, Se) = 0.562154

==>predicting on validation


confusion matrix:
[[1469   60]
 [ 148   96]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8826850056648254
precision class 0 = 0.9084720015525818
precision class 1 = 0.6153849959373474
recall class 0 = 0.9607589840888977
recall class 1 = 0.3934429883956909
AUC of ROC = 0.84527
AUC of PRC = 0.555186
min(+P, Se) = 0.512295
confusion matrix:
[[1216   41]
 [ 123   69]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.886817991733551
precision class 0 = 0.9081400036811829
precision class 1 = 0.6272730231285095
recall class 0 = 0.9673830270767212
recall class 1 = 0.359375
AUC of ROC = 0.846783
AUC of PRC = 0.521958
min(+P, Se) = 0.515625
confusion matrix:
[[2685  101]
 [ 271  165]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8845440149307251
precision class 0 = 0.9083219766616821
precision class 1 = 0.6203010082244873
recall class 0 = 0.9637470245361328
recall class 1 = 0.3784399926662445
AUC of ROC = 0.845869
AUC of PRC = 0.538414
min(+P, Se) = 0.517162

Epoch 00098: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch98.test0.2941899746170812.state
Epoch 99/100
 - 852s - loss: 0.2798 - val_loss: 0.2918

==>predicting on train


confusion matrix:
[[6848  138]
 [ 697  376]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8963890075683594
precision class 0 = 0.9076210260391235
precision class 1 = 0.7315179705619812
recall class 0 = 0.9802460074424744
recall class 1 = 0.3504190146923065
AUC of ROC = 0.877011
AUC of PRC = 0.608004
min(+P, Se) = 0.564246
confusion matrix:
[[5614   94]
 [ 624  290]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8915740251541138
precision class 0 = 0.8999680280685425
precision class 1 = 0.7552080154418945
recall class 0 = 0.9835320115089417
recall class 1 = 0.31728699803352356
AUC of ROC = 0.865378
AUC of PRC = 0.601641
min(+P, Se) = 0.556893
confusion matrix:
[[12462   232]
 [ 1321   666]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8942170143127441
precision class 0 = 0.9041569828987122
precision class 1 = 0.7416480183601379
recall class 0 = 0.9817240238189697
recall class 1 = 0.33517900109291077
AUC of ROC = 0.871613
AUC of PRC = 0.605134
min(+P, Se) = 0.560865

==>predicting on validation


confusion matrix:
[[1484   45]
 [ 166   78]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8809930086135864
precision class 0 = 0.8993939757347107
precision class 1 = 0.634145975112915
recall class 0 = 0.9705690145492554
recall class 1 = 0.31967198848724365
AUC of ROC = 0.844729
AUC of PRC = 0.546149
min(+P, Se) = 0.508197
confusion matrix:
[[1230   27]
 [ 133   59]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.8895789980888367
precision class 0 = 0.9024209976196289
precision class 1 = 0.6860470175743103
recall class 0 = 0.9785199761390686
recall class 1 = 0.30729201436042786
AUC of ROC = 0.846572
AUC of PRC = 0.528342
min(+P, Se) = 0.515625
confusion matrix:
[[2714   72]
 [ 299  137]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8848540186882019
precision class 0 = 0.9007629752159119
precision class 1 = 0.6555020213127136
recall class 0 = 0.9741560220718384
recall class 1 = 0.31422001123428345
AUC of ROC = 0.845506
AUC of PRC = 0.53583
min(+P, Se) = 0.511468

Epoch 00099: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch99.test0.29176683828678657.state
Epoch 100/100
 - 852s - loss: 0.2768 - val_loss: 0.2947

==>predicting on train


confusion matrix:
[[6782  204]
 [ 628  445]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 8059
accuracy = 0.8967610001564026
precision class 0 = 0.9152500033378601
precision class 1 = 0.685670018196106
recall class 0 = 0.9707990288734436
recall class 1 = 0.41472500562667847
AUC of ROC = 0.880147
AUC of PRC = 0.609013
min(+P, Se) = 0.559667
confusion matrix:
[[5567  141]
 [ 584  330]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 6622
accuracy = 0.8905159831047058
precision class 0 = 0.9050559997558594
precision class 1 = 0.7006369829177856
recall class 0 = 0.9752979874610901
recall class 1 = 0.361050009727478
AUC of ROC = 0.867065
AUC of PRC = 0.600998
min(+P, Se) = 0.562363
confusion matrix:
[[12349   345]
 [ 1212   775]]

-------------------------------

overall metrics:
number samples = 14681
accuracy = 0.8939449787139893
precision class 0 = 0.9106259942054749
precision class 1 = 0.6919639706611633
recall class 0 = 0.9728220105171204
recall class 1 = 0.3900350034236908
AUC of ROC = 0.874068
AUC of PRC = 0.605168
min(+P, Se) = 0.561651

==>predicting on validation


confusion matrix:
[[1457   72]
 [ 150   94]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: M
number samples = 1773
accuracy = 0.8747879862785339
precision class 0 = 0.9066579937934875
precision class 1 = 0.5662649869918823
recall class 0 = 0.9529100060462952
recall class 1 = 0.38524600863456726
AUC of ROC = 0.847112
AUC of PRC = 0.541041
min(+P, Se) = 0.504098
confusion matrix:
[[1218   39]
 [ 123   69]]

-------------------------------

stratified metric for:
demographic variable: Gender
value: F
number samples = 1449
accuracy = 0.888198971748352
precision class 0 = 0.9082769751548767
precision class 1 = 0.6388890147209167
recall class 0 = 0.9689739942550659
recall class 1 = 0.359375
AUC of ROC = 0.850143
AUC of PRC = 0.520638
min(+P, Se) = 0.515625
confusion matrix:
[[2675  111]
 [ 273  163]]

-------------------------------

overall metrics:
number samples = 3222
accuracy = 0.8808190226554871
precision class 0 = 0.9073950052261353
precision class 1 = 0.5948910117149353
recall class 0 = 0.9601579904556274
recall class 1 = 0.37385299801826477
AUC of ROC = 0.848515
AUC of PRC = 0.529743
min(+P, Se) = 0.506881

Epoch 00100: saving model to mimic3models/in_hospital_mortality/keras_states/2020-04-01_18-42./2020-04-01_18-42.k_channel_wise_lstms_aug.n8.szc4.0.d0.3.dep1.bs8.ts1.0.epoch100.test0.2946751968106133.state

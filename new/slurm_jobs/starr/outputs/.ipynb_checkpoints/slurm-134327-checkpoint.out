TRAINING THE CHANNEL-WISE LSTM with additional data on gender
/share/pi/boussard/eroosli_work/benchmarking/models/ihm/main.py:10: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
  import imp
Using TensorFlow backend.
2020-06-02 18:08:15.196850: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer.so.6'; dlerror: libnvinfer.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-06-02 18:08:15.203036: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libnvinfer_plugin.so.6'; dlerror: libnvinfer_plugin.so.6: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-06-02 18:08:15.203054: W tensorflow/compiler/tf2tensorrt/utils/py_utils.cc:30] Cannot dlopen some TensorRT libraries. If you would like to use Nvidia GPU with TensorRT, please make sure the missing libraries mentioned above are installed properly.
normalizer state: /share/pi/boussard/eroosli_work/benchmarking/models/ihm/ihm_ts1.0.input_str_previous.start_time_zero.normalizer
==> using model models/keras_models/channel_wise_lstms.py
==> not used params in network class: dict_keys(['batch_size', 'beta_1', 'data', 'data_name', 'epochs', 'imputation', 'l1', 'l2', 'load_state', 'lr', 'mode', 'network', 'normalizer_state', 'optimizer', 'output_dir', 'prefix', 'save_every', 'small_part', 'target_repl_coef', 'timestep', 'verbose'])
==> excluded demographics: ['Ethnicity', 'Insurance']
==> found 18 channels: ['Capillary refill rate', 'Diastolic blood pressure', 'Fraction inspired oxygen', 'Gender', 'Glascow coma scale eye opening', 'Glascow coma scale motor response', 'Glascow coma scale total', 'Glascow coma scale verbal response', 'Glucose', 'Heart rate', 'Height', 'Mean blood pressure', 'Oxygen saturation', 'Respiratory rate', 'Systolic blood pressure', 'Temperature', 'Weight', 'pH']
2020-06-02 18:08:20.703551: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory; LD_LIBRARY_PATH: /share/sw/open/oracle/18.5.0.0/lib/:
2020-06-02 18:08:20.703590: E tensorflow/stream_executor/cuda/cuda_driver.cc:351] failed call to cuInit: UNKNOWN ERROR (303)
2020-06-02 18:08:20.703612: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:156] kernel driver does not appear to be running on this host (slurm-compute-c64xj): /proc/driver/nvidia/version does not exist
2020-06-02 18:08:20.703790: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA
2020-06-02 18:08:20.710541: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2100000000 Hz
2020-06-02 18:08:20.710844: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x562f4b0e2180 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-06-02 18:08:20.710874: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
==> model.final_name: 2020-06-02_11-8.k_clstms.GEN
==> compiling the model
Model: "network_1"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
X (InputLayer)                  (None, None, 81)     0                                            
__________________________________________________________________________________________________
masking_1 (Masking)             (None, None, 81)     0           X[0][0]                          
__________________________________________________________________________________________________
slice_1 (Slice)                 (None, None, 3)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_2 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_3 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_4 (Slice)                 (None, None, 5)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_5 (Slice)                 (None, None, 9)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_6 (Slice)                 (None, None, 13)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_7 (Slice)                 (None, None, 14)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_8 (Slice)                 (None, None, 13)     0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_9 (Slice)                 (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_10 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_11 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_12 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_13 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_14 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_15 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_16 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_17 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
slice_18 (Slice)                (None, None, 2)      0           masking_1[0][0]                  
__________________________________________________________________________________________________
bidirectional_1 (Bidirectional) (None, None, 8)      256         slice_1[0][0]                    
__________________________________________________________________________________________________
bidirectional_2 (Bidirectional) (None, None, 8)      224         slice_2[0][0]                    
__________________________________________________________________________________________________
bidirectional_3 (Bidirectional) (None, None, 8)      224         slice_3[0][0]                    
__________________________________________________________________________________________________
bidirectional_4 (Bidirectional) (None, None, 8)      320         slice_4[0][0]                    
__________________________________________________________________________________________________
bidirectional_5 (Bidirectional) (None, None, 8)      448         slice_5[0][0]                    
__________________________________________________________________________________________________
bidirectional_6 (Bidirectional) (None, None, 8)      576         slice_6[0][0]                    
__________________________________________________________________________________________________
bidirectional_7 (Bidirectional) (None, None, 8)      608         slice_7[0][0]                    
__________________________________________________________________________________________________
bidirectional_8 (Bidirectional) (None, None, 8)      576         slice_8[0][0]                    
__________________________________________________________________________________________________
bidirectional_9 (Bidirectional) (None, None, 8)      224         slice_9[0][0]                    
__________________________________________________________________________________________________
bidirectional_10 (Bidirectional (None, None, 8)      224         slice_10[0][0]                   
__________________________________________________________________________________________________
bidirectional_11 (Bidirectional (None, None, 8)      224         slice_11[0][0]                   
__________________________________________________________________________________________________
bidirectional_12 (Bidirectional (None, None, 8)      224         slice_12[0][0]                   
__________________________________________________________________________________________________
bidirectional_13 (Bidirectional (None, None, 8)      224         slice_13[0][0]                   
__________________________________________________________________________________________________
bidirectional_14 (Bidirectional (None, None, 8)      224         slice_14[0][0]                   
__________________________________________________________________________________________________
bidirectional_15 (Bidirectional (None, None, 8)      224         slice_15[0][0]                   
__________________________________________________________________________________________________
bidirectional_16 (Bidirectional (None, None, 8)      224         slice_16[0][0]                   
__________________________________________________________________________________________________
bidirectional_17 (Bidirectional (None, None, 8)      224         slice_17[0][0]                   
__________________________________________________________________________________________________
bidirectional_18 (Bidirectional (None, None, 8)      224         slice_18[0][0]                   
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, None, 144)    0           bidirectional_1[0][0]            
                                                                 bidirectional_2[0][0]            
                                                                 bidirectional_3[0][0]            
                                                                 bidirectional_4[0][0]            
                                                                 bidirectional_5[0][0]            
                                                                 bidirectional_6[0][0]            
                                                                 bidirectional_7[0][0]            
                                                                 bidirectional_8[0][0]            
                                                                 bidirectional_9[0][0]            
                                                                 bidirectional_10[0][0]           
                                                                 bidirectional_11[0][0]           
                                                                 bidirectional_12[0][0]           
                                                                 bidirectional_13[0][0]           
                                                                 bidirectional_14[0][0]           
                                                                 bidirectional_15[0][0]           
                                                                 bidirectional_16[0][0]           
                                                                 bidirectional_17[0][0]           
                                                                 bidirectional_18[0][0]           
__________________________________________________________________________________________________
lstm_19 (LSTM)                  (None, 32)           22656       concatenate_1[0][0]              
__________________________________________________________________________________________________
dropout_1 (Dropout)             (None, 32)           0           lstm_19[0][0]                    
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 1)            33          dropout_1[0][0]                  
==================================================================================================
Total params: 28,161
Trainable params: 28,161
Non-trainable params: 0
__________________________________________________________________________________________________
==> training
Train on 4628 samples, validate on 817 samples
Epoch 1/100
 - 280s - loss: 0.3216 - val_loss: 0.2714

==>predicting on train



confusion matrix:
[[2154    1]
 [ 243   12]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08554200083017349
difference in average predicted and observed risk = -0.020266999169826508
number samples = 2410
accuracy = 0.898755
precision class 0 = 0.898623
precision class 1 = 0.923077
recall class 0 = 0.999536
recall class 1 = 0.047059
false negative rate = 0.952941
false positive rate = 0.000464
positive prediction rate = 0.005394
AUC of ROC = 0.753729
AUC of PRC = 0.363688
min(+P, Se) = 0.355469

-------------------------------

confusion matrix:
[[1170    9]
 [ 111    7]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09179399907588959
difference in average predicted and observed risk = 0.0008149990758895831
number samples = 1297
accuracy = 0.907479
precision class 0 = 0.913349
precision class 1 = 0.4375
recall class 0 = 0.992366
recall class 1 = 0.059322
false negative rate = 0.940678
false positive rate = 0.007634
positive prediction rate = 0.012336
AUC of ROC = 0.775765
AUC of PRC = 0.273991
min(+P, Se) = 0.314516

-------------------------------

confusion matrix:
[[654   2]
 [ 67   7]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1032550036907196
difference in average predicted and observed risk = 0.0018850036907196027
number samples = 730
accuracy = 0.905479
precision class 0 = 0.907073
precision class 1 = 0.777778
recall class 0 = 0.996951
recall class 1 = 0.094595
false negative rate = 0.905405
false positive rate = 0.003049
positive prediction rate = 0.012329
AUC of ROC = 0.724559
AUC of PRC = 0.317419
min(+P, Se) = 0.337838

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09456399828195572
difference in average predicted and observed risk = -0.03109000171804427
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.852046
AUC of PRC = 0.606634
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2467    7]
 [ 247    8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08726699650287628
difference in average predicted and observed risk = -0.0061740034971237145
number samples = 2729
accuracy = 0.906926
precision class 0 = 0.90899
precision class 1 = 0.533333
recall class 0 = 0.997171
recall class 1 = 0.031373
false negative rate = 0.968627
false positive rate = 0.002829
positive prediction rate = 0.005497
AUC of ROC = 0.744299
AUC of PRC = 0.288904
min(+P, Se) = 0.321569

-------------------------------

confusion matrix:
[[1678    5]
 [ 194   22]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09505099803209305
difference in average predicted and observed risk = -0.01869300196790695
number samples = 1899
accuracy = 0.895208
precision class 0 = 0.896368
precision class 1 = 0.814815
recall class 0 = 0.997029
recall class 1 = 0.101852
false negative rate = 0.898148
false positive rate = 0.002971
positive prediction rate = 0.014218
AUC of ROC = 0.777508
AUC of PRC = 0.377816
min(+P, Se) = 0.37156

-------------------------------

confusion matrix:
[[547   2]
 [ 76   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09158799797296524
difference in average predicted and observed risk = -0.03141500202703476
number samples = 626
accuracy = 0.875399
precision class 0 = 0.87801
precision class 1 = 0.333333
recall class 0 = 0.996357
recall class 1 = 0.012987
false negative rate = 0.987013
false positive rate = 0.003643
positive prediction rate = 0.004792
AUC of ROC = 0.75592
AUC of PRC = 0.309812
min(+P, Se) = 0.320988

-------------------------------

confusion matrix:
[[2247    2]
 [ 198   10]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08198700100183487
difference in average predicted and observed risk = -0.0026689989981651258
number samples = 2457
accuracy = 0.9186
precision class 0 = 0.919018
precision class 1 = 0.833333
recall class 0 = 0.999111
recall class 1 = 0.048077
false negative rate = 0.951923
false positive rate = 0.000889
positive prediction rate = 0.004884
AUC of ROC = 0.737105
AUC of PRC = 0.274865
min(+P, Se) = 0.293269

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09020499885082245
difference in average predicted and observed risk = -0.010601001149177558
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.724305
AUC of PRC = 0.208218
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[479   2]
 [ 71  11]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11152999848127365
difference in average predicted and observed risk = -0.03411800151872635
number samples = 563
accuracy = 0.870337
precision class 0 = 0.870909
precision class 1 = 0.846154
recall class 0 = 0.995842
recall class 1 = 0.134146
false negative rate = 0.865854
false positive rate = 0.004158
positive prediction rate = 0.023091
AUC of ROC = 0.806247
AUC of PRC = 0.526197
min(+P, Se) = 0.506024

-------------------------------

confusion matrix:
[[652   3]
 [ 71   8]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1017879992723465
difference in average predicted and observed risk = -0.005841000727653506
number samples = 734
accuracy = 0.899183
precision class 0 = 0.901798
precision class 1 = 0.727273
recall class 0 = 0.99542
recall class 1 = 0.101266
false negative rate = 0.898734
false positive rate = 0.00458
positive prediction rate = 0.014986
AUC of ROC = 0.775553
AUC of PRC = 0.37303
min(+P, Se) = 0.392405

-------------------------------

confusion matrix:
[[4145   12]
 [ 441   30]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09046100080013275
difference in average predicted and observed risk = -0.01131099919986725
number samples = 4628
accuracy = 0.902118
precision class 0 = 0.903838
precision class 1 = 0.714286
recall class 0 = 0.997113
recall class 1 = 0.063694
false negative rate = 0.936306
false positive rate = 0.002887
positive prediction rate = 0.009075
AUC of ROC = 0.759547
AUC of PRC = 0.330489
min(+P, Se) = 0.343949

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09218300133943558
difference in average predicted and observed risk = 0.012014001339435573
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.867938
AUC of PRC = 0.38052
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08721999824047089
difference in average predicted and observed risk = -0.021576001759529118
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.745565
AUC of PRC = 0.355333
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[105   0]
 [ 11   2]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11035899817943573
difference in average predicted and observed risk = 0.00018999817943572694
number samples = 118
accuracy = 0.90678
precision class 0 = 0.905172
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.0
positive prediction rate = 0.016949
AUC of ROC = 0.868864
AUC of PRC = 0.592997
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10585899651050568
difference in average predicted and observed risk = -0.02747400348949433
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1000560000538826
difference in average predicted and observed risk = -0.014987999946117395
number samples = 339
accuracy = 0.887906
precision class 0 = 0.889881
precision class 1 = 0.666667
recall class 0 = 0.996667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.003333
positive prediction rate = 0.00885
AUC of ROC = 0.776581
AUC of PRC = 0.355193
min(+P, Se) = 0.377358

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08745899796485901
difference in average predicted and observed risk = -0.004591002035140998
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.823419
AUC of PRC = 0.462226
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08385299891233444
difference in average predicted and observed risk = -0.005349001087665561
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.783776
AUC of PRC = 0.405309
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.1082099974155426
difference in average predicted and observed risk = -0.009437002584457399
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.909259
AUC of PRC = 0.614204
min(+P, Se) = 0.588235

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09002300351858139
difference in average predicted and observed risk = 0.0013130035185813932
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.740145
AUC of PRC = 0.188191
min(+P, Se) = 0.307692

-------------------------------

confusion matrix:
[[107   1]
 [ 18   1]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10297500342130661
difference in average predicted and observed risk = -0.04663099657869338
number samples = 127
accuracy = 0.850394
precision class 0 = 0.856
precision class 1 = 0.5
recall class 0 = 0.990741
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.009259
positive prediction rate = 0.015748
AUC of ROC = 0.789961
AUC of PRC = 0.501744
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12434600293636322
difference in average predicted and observed risk = 0.04539900293636322
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.625
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[732   2]
 [ 77   6]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0926859974861145
difference in average predicted and observed risk = -0.008905002513885499
number samples = 817
accuracy = 0.903305
precision class 0 = 0.904821
precision class 1 = 0.75
recall class 0 = 0.997275
recall class 1 = 0.072289
false negative rate = 0.927711
false positive rate = 0.002725
positive prediction rate = 0.009792
AUC of ROC = 0.804389
AUC of PRC = 0.415749
min(+P, Se) = 0.447059

-------------------------------

Epoch 00001: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch1.state
Epoch 2/100
 - 267s - loss: 0.2986 - val_loss: 0.2696

==>predicting on train



confusion matrix:
[[2153    2]
 [ 242   13]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07894399762153625
difference in average predicted and observed risk = -0.026865002378463745
number samples = 2410
accuracy = 0.898755
precision class 0 = 0.898956
precision class 1 = 0.866667
recall class 0 = 0.999072
recall class 1 = 0.05098
false negative rate = 0.94902
false positive rate = 0.000928
positive prediction rate = 0.006224
AUC of ROC = 0.767206
AUC of PRC = 0.374049
min(+P, Se) = 0.367188

-------------------------------

confusion matrix:
[[1166   13]
 [ 111    7]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08501499891281128
difference in average predicted and observed risk = -0.005964001087188725
number samples = 1297
accuracy = 0.904395
precision class 0 = 0.913078
precision class 1 = 0.35
recall class 0 = 0.988974
recall class 1 = 0.059322
false negative rate = 0.940678
false positive rate = 0.011026
positive prediction rate = 0.01542
AUC of ROC = 0.788689
AUC of PRC = 0.27916
min(+P, Se) = 0.338983

-------------------------------

confusion matrix:
[[653   3]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09561000019311905
difference in average predicted and observed risk = -0.005759999806880953
number samples = 730
accuracy = 0.908219
precision class 0 = 0.910739
precision class 1 = 0.769231
recall class 0 = 0.995427
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.004573
positive prediction rate = 0.017808
AUC of ROC = 0.732222
AUC of PRC = 0.327239
min(+P, Se) = 0.364865

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08842000365257263
difference in average predicted and observed risk = -0.037233996347427356
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.859281
AUC of PRC = 0.625887
min(+P, Se) = 0.576923

-------------------------------

confusion matrix:
[[2461   13]
 [ 241   14]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07973700016736984
difference in average predicted and observed risk = -0.013703999832630154
number samples = 2729
accuracy = 0.906926
precision class 0 = 0.910807
precision class 1 = 0.518519
recall class 0 = 0.994745
recall class 1 = 0.054902
false negative rate = 0.945098
false positive rate = 0.005255
positive prediction rate = 0.009894
AUC of ROC = 0.758312
AUC of PRC = 0.302277
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[1677    6]
 [ 195   21]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08931100368499756
difference in average predicted and observed risk = -0.02443299631500244
number samples = 1899
accuracy = 0.894155
precision class 0 = 0.895833
precision class 1 = 0.777778
recall class 0 = 0.996435
recall class 1 = 0.097222
false negative rate = 0.902778
false positive rate = 0.003565
positive prediction rate = 0.014218
AUC of ROC = 0.788941
AUC of PRC = 0.383883
min(+P, Se) = 0.396313

-------------------------------

confusion matrix:
[[547   2]
 [ 74   3]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08483300358057022
difference in average predicted and observed risk = -0.03816999641942978
number samples = 626
accuracy = 0.878594
precision class 0 = 0.880837
precision class 1 = 0.6
recall class 0 = 0.996357
recall class 1 = 0.038961
false negative rate = 0.961039
false positive rate = 0.003643
positive prediction rate = 0.007987
AUC of ROC = 0.767582
AUC of PRC = 0.328896
min(+P, Se) = 0.337662

-------------------------------

confusion matrix:
[[2245    4]
 [ 197   11]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07532200217247009
difference in average predicted and observed risk = -0.009333997827529902
number samples = 2457
accuracy = 0.918193
precision class 0 = 0.919328
precision class 1 = 0.733333
recall class 0 = 0.998221
recall class 1 = 0.052885
false negative rate = 0.947115
false positive rate = 0.001779
positive prediction rate = 0.006105
AUC of ROC = 0.754431
AUC of PRC = 0.288014
min(+P, Se) = 0.320755

-------------------------------

confusion matrix:
[[219   4]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08337099850177765
difference in average predicted and observed risk = -0.017435001498222358
number samples = 248
accuracy = 0.883065
precision class 0 = 0.897541
precision class 1 = 0.0
recall class 0 = 0.982063
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.017937
positive prediction rate = 0.016129
AUC of ROC = 0.731121
AUC of PRC = 0.212203
min(+P, Se) = 0.321429

-------------------------------

confusion matrix:
[[476   5]
 [ 71  11]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10445500165224075
difference in average predicted and observed risk = -0.041192998347759247
number samples = 563
accuracy = 0.865009
precision class 0 = 0.870201
precision class 1 = 0.6875
recall class 0 = 0.989605
recall class 1 = 0.134146
false negative rate = 0.865854
false positive rate = 0.010395
positive prediction rate = 0.028419
AUC of ROC = 0.811926
AUC of PRC = 0.520434
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[651   4]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09475400298833847
difference in average predicted and observed risk = -0.012874997011661532
number samples = 734
accuracy = 0.900545
precision class 0 = 0.904167
precision class 1 = 0.714286
recall class 0 = 0.993893
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.006107
positive prediction rate = 0.019074
AUC of ROC = 0.78423
AUC of PRC = 0.375058
min(+P, Se) = 0.392405

-------------------------------

confusion matrix:
[[4138   19]
 [ 436   35]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08366499841213226
difference in average predicted and observed risk = -0.018107001587867738
number samples = 4628
accuracy = 0.901685
precision class 0 = 0.904679
precision class 1 = 0.648148
recall class 0 = 0.995429
recall class 1 = 0.07431
false negative rate = 0.92569
false positive rate = 0.004571
positive prediction rate = 0.011668
AUC of ROC = 0.771542
AUC of PRC = 0.337737
min(+P, Se) = 0.363057

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08417999744415283
difference in average predicted and observed risk = 0.004010997444152828
number samples = 237
accuracy = 0.92827
precision class 0 = 0.93133
precision class 1 = 0.75
recall class 0 = 0.995413
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.004587
positive prediction rate = 0.016878
AUC of ROC = 0.863592
AUC of PRC = 0.373419
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0797400027513504
difference in average predicted and observed risk = -0.0290559972486496
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.752252
AUC of PRC = 0.369678
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[105   0]
 [ 11   2]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10221199691295624
difference in average predicted and observed risk = -0.007957003087043765
number samples = 118
accuracy = 0.90678
precision class 0 = 0.905172
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.0
positive prediction rate = 0.016949
AUC of ROC = 0.868132
AUC of PRC = 0.63102
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10080400109291077
difference in average predicted and observed risk = -0.03252899890708924
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09307199716567993
difference in average predicted and observed risk = -0.021972002834320062
number samples = 339
accuracy = 0.890855
precision class 0 = 0.890208
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.0
positive prediction rate = 0.0059
AUC of ROC = 0.776923
AUC of PRC = 0.340289
min(+P, Se) = 0.388889

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07935500144958496
difference in average predicted and observed risk = -0.012694998550415046
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.82368
AUC of PRC = 0.472756
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07616499811410904
difference in average predicted and observed risk = -0.013037001885890964
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.790084
AUC of PRC = 0.42026
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10100799798965454
difference in average predicted and observed risk = -0.01663900201034546
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.910185
AUC of PRC = 0.615189
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08249899744987488
difference in average predicted and observed risk = -0.006211002550125119
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.765889
AUC of PRC = 0.189974
min(+P, Se) = 0.25

-------------------------------

confusion matrix:
[[108   0]
 [ 17   2]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.0957460030913353
difference in average predicted and observed risk = -0.05385999690866469
number samples = 127
accuracy = 0.866142
precision class 0 = 0.864
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.015748
AUC of ROC = 0.780702
AUC of PRC = 0.540453
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11433299630880356
difference in average predicted and observed risk = 0.035385996308803555
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.92381
AUC of PRC = 0.551786
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[733   1]
 [ 76   7]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08504699915647507
difference in average predicted and observed risk = -0.016544000843524934
number samples = 817
accuracy = 0.905753
precision class 0 = 0.906057
precision class 1 = 0.875
recall class 0 = 0.998638
recall class 1 = 0.084337
false negative rate = 0.915663
false positive rate = 0.001362
positive prediction rate = 0.009792
AUC of ROC = 0.80654
AUC of PRC = 0.426743
min(+P, Se) = 0.472527

-------------------------------

Epoch 00002: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch2.state
Epoch 3/100
 - 265s - loss: 0.2977 - val_loss: 0.2658

==>predicting on train



confusion matrix:
[[2153    2]
 [ 245   10]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09069400280714035
difference in average predicted and observed risk = -0.01511499719285965
number samples = 2410
accuracy = 0.89751
precision class 0 = 0.897831
precision class 1 = 0.833333
recall class 0 = 0.999072
recall class 1 = 0.039216
false negative rate = 0.960784
false positive rate = 0.000928
positive prediction rate = 0.004979
AUC of ROC = 0.778423
AUC of PRC = 0.383634
min(+P, Se) = 0.383721

-------------------------------

confusion matrix:
[[1173    6]
 [ 114    4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09567900002002716
difference in average predicted and observed risk = 0.004700000020027156
number samples = 1297
accuracy = 0.907479
precision class 0 = 0.911422
precision class 1 = 0.4
recall class 0 = 0.994911
recall class 1 = 0.033898
false negative rate = 0.966102
false positive rate = 0.005089
positive prediction rate = 0.00771
AUC of ROC = 0.80456
AUC of PRC = 0.293545
min(+P, Se) = 0.352941

-------------------------------

confusion matrix:
[[655   1]
 [ 69   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10599000006914139
difference in average predicted and observed risk = 0.004620000069141386
number samples = 730
accuracy = 0.90411
precision class 0 = 0.904696
precision class 1 = 0.833333
recall class 0 = 0.998476
recall class 1 = 0.067568
false negative rate = 0.932432
false positive rate = 0.001524
positive prediction rate = 0.008219
AUC of ROC = 0.745715
AUC of PRC = 0.336173
min(+P, Se) = 0.378378

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09960100054740906
difference in average predicted and observed risk = -0.02605299945259093
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.877745
AUC of PRC = 0.657055
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2470    4]
 [ 247    8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09102299809455872
difference in average predicted and observed risk = -0.0024180019054412805
number samples = 2729
accuracy = 0.908025
precision class 0 = 0.909091
precision class 1 = 0.666667
recall class 0 = 0.998383
recall class 1 = 0.031373
false negative rate = 0.968627
false positive rate = 0.001617
positive prediction rate = 0.004397
AUC of ROC = 0.774936
AUC of PRC = 0.310831
min(+P, Se) = 0.352941

-------------------------------

confusion matrix:
[[1678    5]
 [ 202   14]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10040300339460373
difference in average predicted and observed risk = -0.013340996605396269
number samples = 1899
accuracy = 0.890995
precision class 0 = 0.892553
precision class 1 = 0.736842
recall class 0 = 0.997029
recall class 1 = 0.064815
false negative rate = 0.935185
false positive rate = 0.002971
positive prediction rate = 0.010005
AUC of ROC = 0.796324
AUC of PRC = 0.400692
min(+P, Se) = 0.413333

-------------------------------

confusion matrix:
[[547   2]
 [ 75   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0957610011100769
difference in average predicted and observed risk = -0.027241998889923097
number samples = 626
accuracy = 0.876997
precision class 0 = 0.879421
precision class 1 = 0.5
recall class 0 = 0.996357
recall class 1 = 0.025974
false negative rate = 0.974026
false positive rate = 0.003643
positive prediction rate = 0.00639
AUC of ROC = 0.782201
AUC of PRC = 0.343559
min(+P, Se) = 0.357895

-------------------------------

confusion matrix:
[[2248    1]
 [ 201    7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08725599944591522
difference in average predicted and observed risk = 0.002599999445915227
number samples = 2457
accuracy = 0.917786
precision class 0 = 0.917926
precision class 1 = 0.875
recall class 0 = 0.999555
recall class 1 = 0.033654
false negative rate = 0.966346
false positive rate = 0.000445
positive prediction rate = 0.003256
AUC of ROC = 0.769975
AUC of PRC = 0.299463
min(+P, Se) = 0.336538

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09296400099992752
difference in average predicted and observed risk = -0.007841999000072486
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.749955
AUC of PRC = 0.213503
min(+P, Se) = 0.294118

-------------------------------

confusion matrix:
[[480   1]
 [ 76   6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11421599984169006
difference in average predicted and observed risk = -0.031432000158309936
number samples = 563
accuracy = 0.863233
precision class 0 = 0.863309
precision class 1 = 0.857143
recall class 0 = 0.997921
recall class 1 = 0.073171
false negative rate = 0.926829
false positive rate = 0.002079
positive prediction rate = 0.012433
AUC of ROC = 0.820673
AUC of PRC = 0.528713
min(+P, Se) = 0.512195

-------------------------------

confusion matrix:
[[652   3]
 [ 72   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10541199892759323
difference in average predicted and observed risk = -0.0022170010724067712
number samples = 734
accuracy = 0.89782
precision class 0 = 0.900553
precision class 1 = 0.7
recall class 0 = 0.99542
recall class 1 = 0.088608
false negative rate = 0.911392
false positive rate = 0.00458
positive prediction rate = 0.013624
AUC of ROC = 0.795594
AUC of PRC = 0.401076
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[4148    9]
 [ 449   22]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09487199783325195
difference in average predicted and observed risk = -0.006900002166748048
number samples = 4628
accuracy = 0.901037
precision class 0 = 0.902328
precision class 1 = 0.709677
recall class 0 = 0.997835
recall class 1 = 0.046709
false negative rate = 0.953291
false positive rate = 0.002165
positive prediction rate = 0.006698
AUC of ROC = 0.784745
AUC of PRC = 0.351873
min(+P, Se) = 0.386892

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09480000287294388
difference in average predicted and observed risk = 0.014631002872943874
number samples = 237
accuracy = 0.924051
precision class 0 = 0.92735
precision class 1 = 0.666667
recall class 0 = 0.995413
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.004587
positive prediction rate = 0.012658
AUC of ROC = 0.870594
AUC of PRC = 0.364204
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09249100089073181
difference in average predicted and observed risk = -0.016304999109268192
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.764023
AUC of PRC = 0.411524
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[105   0]
 [ 11   2]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11384700238704681
difference in average predicted and observed risk = 0.003678002387046811
number samples = 118
accuracy = 0.90678
precision class 0 = 0.905172
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.0
positive prediction rate = 0.016949
AUC of ROC = 0.865201
AUC of PRC = 0.649368
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11461299657821655
difference in average predicted and observed risk = -0.018720003421783454
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10462699830532074
difference in average predicted and observed risk = -0.010417001694679254
number samples = 339
accuracy = 0.890855
precision class 0 = 0.890208
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.0
positive prediction rate = 0.0059
AUC of ROC = 0.78453
AUC of PRC = 0.37787
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[433   1]
 [ 42   2]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09168899804353714
difference in average predicted and observed risk = -0.0003610019564628669
number samples = 478
accuracy = 0.910042
precision class 0 = 0.911579
precision class 1 = 0.666667
recall class 0 = 0.997696
recall class 1 = 0.045455
false negative rate = 0.954545
false positive rate = 0.002304
positive prediction rate = 0.006276
AUC of ROC = 0.832949
AUC of PRC = 0.51595
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08925600349903107
difference in average predicted and observed risk = 5.4003499031063384e-05
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.799376
AUC of PRC = 0.440238
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11029800027608871
difference in average predicted and observed risk = -0.007348999723911287
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.907407
AUC of PRC = 0.626797
min(+P, Se) = 0.647059

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09384100139141083
difference in average predicted and observed risk = 0.0051310013914108304
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.778761
AUC of PRC = 0.204676
min(+P, Se) = 0.315789

-------------------------------

confusion matrix:
[[108   0]
 [ 18   1]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10752599686384201
difference in average predicted and observed risk = -0.04208000313615798
number samples = 127
accuracy = 0.858268
precision class 0 = 0.857143
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.007874
AUC of ROC = 0.787524
AUC of PRC = 0.524765
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12449300289154053
difference in average predicted and observed risk = 0.045546002891540524
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[733   1]
 [ 79   4]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0970579981803894
difference in average predicted and observed risk = -0.0045330018196105965
number samples = 817
accuracy = 0.902081
precision class 0 = 0.902709
precision class 1 = 0.8
recall class 0 = 0.998638
recall class 1 = 0.048193
false negative rate = 0.951807
false positive rate = 0.001362
positive prediction rate = 0.00612
AUC of ROC = 0.814402
AUC of PRC = 0.453351
min(+P, Se) = 0.5

-------------------------------

Epoch 00003: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch3.state
Epoch 4/100
 - 270s - loss: 0.2966 - val_loss: 0.2582

==>predicting on train



confusion matrix:
[[2137   18]
 [ 210   45]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09305699914693832
difference in average predicted and observed risk = -0.012752000853061676
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.910524
precision class 1 = 0.714286
recall class 0 = 0.991647
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.008353
positive prediction rate = 0.026141
AUC of ROC = 0.777195
AUC of PRC = 0.385421
min(+P, Se) = 0.384314

-------------------------------

confusion matrix:
[[1151   28]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.10103700309991837
difference in average predicted and observed risk = 0.010058003099918361
number samples = 1297
accuracy = 0.903624
precision class 0 = 0.922276
precision class 1 = 0.428571
recall class 0 = 0.976251
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.023749
positive prediction rate = 0.037779
AUC of ROC = 0.803884
AUC of PRC = 0.297345
min(+P, Se) = 0.344

-------------------------------

confusion matrix:
[[640  16]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11579100042581558
difference in average predicted and observed risk = 0.01442100042581558
number samples = 730
accuracy = 0.9
precision class 0 = 0.918221
precision class 1 = 0.515152
recall class 0 = 0.97561
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.02439
positive prediction rate = 0.045205
AUC of ROC = 0.75068
AUC of PRC = 0.348724
min(+P, Se) = 0.378378

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10544099658727646
difference in average predicted and observed risk = -0.02021300341272353
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.861776
AUC of PRC = 0.648057
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2434   40]
 [ 208   47]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.09519399702548981
difference in average predicted and observed risk = 0.0017529970254898108
number samples = 2729
accuracy = 0.909124
precision class 0 = 0.921272
precision class 1 = 0.54023
recall class 0 = 0.983832
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.016168
positive prediction rate = 0.03188
AUC of ROC = 0.773161
AUC of PRC = 0.31247
min(+P, Se) = 0.359375

-------------------------------

confusion matrix:
[[1660   23]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10542099922895432
difference in average predicted and observed risk = -0.008323000771045683
number samples = 1899
accuracy = 0.897314
precision class 0 = 0.906114
precision class 1 = 0.656716
recall class 0 = 0.986334
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.013666
positive prediction rate = 0.035282
AUC of ROC = 0.79631
AUC of PRC = 0.403035
min(+P, Se) = 0.412037

-------------------------------

confusion matrix:
[[537  12]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10049699991941452
difference in average predicted and observed risk = -0.02250600008058548
number samples = 626
accuracy = 0.876997
precision class 0 = 0.892027
precision class 1 = 0.5
recall class 0 = 0.978142
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.021858
positive prediction rate = 0.038339
AUC of ROC = 0.781184
AUC of PRC = 0.339144
min(+P, Se) = 0.358696

-------------------------------

confusion matrix:
[[2228   21]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08848799765110016
difference in average predicted and observed risk = 0.0038319976511001635
number samples = 2457
accuracy = 0.9186
precision class 0 = 0.925634
precision class 1 = 0.58
recall class 0 = 0.990663
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.009337
positive prediction rate = 0.02035
AUC of ROC = 0.772525
AUC of PRC = 0.302163
min(+P, Se) = 0.331754

-------------------------------

confusion matrix:
[[216   7]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09441599994897842
difference in average predicted and observed risk = -0.006390000051021583
number samples = 248
accuracy = 0.883065
precision class 0 = 0.907563
precision class 1 = 0.3
recall class 0 = 0.96861
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.03139
positive prediction rate = 0.040323
AUC of ROC = 0.744933
AUC of PRC = 0.215368
min(+P, Se) = 0.307692

-------------------------------

confusion matrix:
[[473   8]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12830199301242828
difference in average predicted and observed risk = -0.017346006987571716
number samples = 563
accuracy = 0.886323
precision class 0 = 0.89414
precision class 1 = 0.764706
recall class 0 = 0.983368
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.016632
positive prediction rate = 0.060391
AUC of ROC = 0.818518
AUC of PRC = 0.538794
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[640  15]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11444699764251709
difference in average predicted and observed risk = 0.006817997642517087
number samples = 734
accuracy = 0.900545
precision class 0 = 0.916905
precision class 1 = 0.583333
recall class 0 = 0.977099
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.022901
positive prediction rate = 0.049046
AUC of ROC = 0.789062
AUC of PRC = 0.379253
min(+P, Se) = 0.397849

-------------------------------

confusion matrix:
[[4094   63]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09939000010490417
difference in average predicted and observed risk = -0.0023819998950958265
number samples = 4628
accuracy = 0.904278
precision class 0 = 0.915065
precision class 1 = 0.590909
recall class 0 = 0.984845
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.015155
positive prediction rate = 0.033276
AUC of ROC = 0.783947
AUC of PRC = 0.354718
min(+P, Se) = 0.382166

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09989900141954422
difference in average predicted and observed risk = 0.019730001419544216
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.856108
AUC of PRC = 0.425577
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09705600142478943
difference in average predicted and observed risk = -0.011739998575210575
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.763305
AUC of PRC = 0.393311
min(+P, Se) = 0.431373

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12968400120735168
difference in average predicted and observed risk = 0.01951500120735168
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.857143
AUC of PRC = 0.629875
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12841400504112244
difference in average predicted and observed risk = -0.0049189949588775705
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11441600322723389
difference in average predicted and observed risk = -0.0006279967727661068
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.770855
AUC of PRC = 0.354372
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[431   3]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09617699682712555
difference in average predicted and observed risk = 0.0041269968271255425
number samples = 478
accuracy = 0.926778
precision class 0 = 0.930886
precision class 1 = 0.8
recall class 0 = 0.993088
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.006912
positive prediction rate = 0.031381
AUC of ROC = 0.833159
AUC of PRC = 0.538798
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.09295500069856644
difference in average predicted and observed risk = 0.0037530006985664333
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.789745
AUC of PRC = 0.430239
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[88  2]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.12449800223112106
difference in average predicted and observed risk = 0.006851002231121062
number samples = 102
accuracy = 0.892157
precision class 0 = 0.907216
precision class 1 = 0.6
recall class 0 = 0.977778
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.022222
positive prediction rate = 0.04902
AUC of ROC = 0.905556
AUC of PRC = 0.630679
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09656699746847153
difference in average predicted and observed risk = 0.00785699746847153
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.781175
AUC of PRC = 0.209567
min(+P, Se) = 0.294118

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11758500337600708
difference in average predicted and observed risk = -0.03202099662399291
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.787524
AUC of PRC = 0.559079
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14615799486637115
difference in average predicted and observed risk = 0.06721099486637115
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[727   7]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.1037449985742569
difference in average predicted and observed risk = 0.0021539985742568962
number samples = 817
accuracy = 0.909425
precision class 0 = 0.915617
precision class 1 = 0.695652
recall class 0 = 0.990463
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.009537
positive prediction rate = 0.028152
AUC of ROC = 0.808247
AUC of PRC = 0.457207
min(+P, Se) = 0.506024

-------------------------------

Epoch 00004: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch4.state
Epoch 5/100
 - 269s - loss: 0.2956 - val_loss: 0.2632

==>predicting on train



confusion matrix:
[[2146    9]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.11126799881458282
difference in average predicted and observed risk = 0.005458998814582824
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.905485
precision class 1 = 0.775
recall class 0 = 0.995824
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.004176
positive prediction rate = 0.016598
AUC of ROC = 0.781719
AUC of PRC = 0.388605
min(+P, Se) = 0.388235

-------------------------------

confusion matrix:
[[1160   19]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.11663100123405457
difference in average predicted and observed risk = 0.02565200123405456
number samples = 1297
accuracy = 0.904395
precision class 0 = 0.916996
precision class 1 = 0.40625
recall class 0 = 0.983885
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.016115
positive prediction rate = 0.024672
AUC of ROC = 0.807486
AUC of PRC = 0.303619
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[641  15]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.13047200441360474
difference in average predicted and observed risk = 0.029102004413604735
number samples = 730
accuracy = 0.89726
precision class 0 = 0.914408
precision class 1 = 0.482759
recall class 0 = 0.977134
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.022866
positive prediction rate = 0.039726
AUC of ROC = 0.76065
AUC of PRC = 0.366262
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.12204799801111221
difference in average predicted and observed risk = -0.003606001988887775
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.861277
AUC of PRC = 0.665864
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2444   30]
 [ 223   32]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.11214999854564667
difference in average predicted and observed risk = 0.01870899854564667
number samples = 2729
accuracy = 0.907292
precision class 0 = 0.916385
precision class 1 = 0.516129
recall class 0 = 0.987874
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.012126
positive prediction rate = 0.022719
AUC of ROC = 0.778403
AUC of PRC = 0.319412
min(+P, Se) = 0.365759

-------------------------------

confusion matrix:
[[1669   14]
 [ 182   34]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.12212999910116196
difference in average predicted and observed risk = 0.008385999101161959
number samples = 1899
accuracy = 0.896788
precision class 0 = 0.901675
precision class 1 = 0.708333
recall class 0 = 0.991682
recall class 1 = 0.157407
false negative rate = 0.842593
false positive rate = 0.008318
positive prediction rate = 0.025276
AUC of ROC = 0.800687
AUC of PRC = 0.413765
min(+P, Se) = 0.425926

-------------------------------

confusion matrix:
[[541   8]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.11775799840688705
difference in average predicted and observed risk = -0.005245001593112947
number samples = 626
accuracy = 0.878594
precision class 0 = 0.888342
precision class 1 = 0.529412
recall class 0 = 0.985428
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.014572
positive prediction rate = 0.027157
AUC of ROC = 0.787264
AUC of PRC = 0.352056
min(+P, Se) = 0.389474

-------------------------------

confusion matrix:
[[2238   11]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.10695499926805496
difference in average predicted and observed risk = 0.022298999268054967
number samples = 2457
accuracy = 0.917786
precision class 0 = 0.921367
precision class 1 = 0.607143
recall class 0 = 0.995109
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.004891
positive prediction rate = 0.011396
AUC of ROC = 0.777393
AUC of PRC = 0.313208
min(+P, Se) = 0.328767

-------------------------------

confusion matrix:
[[216   7]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11223799735307693
difference in average predicted and observed risk = 0.011431997353076928
number samples = 248
accuracy = 0.875
precision class 0 = 0.9
precision class 1 = 0.125
recall class 0 = 0.96861
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.03139
positive prediction rate = 0.032258
AUC of ROC = 0.744036
AUC of PRC = 0.216494
min(+P, Se) = 0.305556

-------------------------------

confusion matrix:
[[473   8]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14008300006389618
difference in average predicted and observed risk = -0.0055649999361038205
number samples = 563
accuracy = 0.880995
precision class 0 = 0.889098
precision class 1 = 0.741935
recall class 0 = 0.983368
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.016632
positive prediction rate = 0.055062
AUC of ROC = 0.82184
AUC of PRC = 0.532561
min(+P, Se) = 0.554217

-------------------------------

confusion matrix:
[[645  10]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.12912100553512573
difference in average predicted and observed risk = 0.02149200553512573
number samples = 734
accuracy = 0.900545
precision class 0 = 0.911017
precision class 1 = 0.615385
recall class 0 = 0.984733
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.015267
positive prediction rate = 0.035422
AUC of ROC = 0.796328
AUC of PRC = 0.401025
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[4113   44]
 [ 405   66]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11624500155448914
difference in average predicted and observed risk = 0.014473001554489134
number samples = 4628
accuracy = 0.902982
precision class 0 = 0.910359
precision class 1 = 0.6
recall class 0 = 0.989415
recall class 1 = 0.140127
false negative rate = 0.859873
false positive rate = 0.010585
positive prediction rate = 0.023768
AUC of ROC = 0.788781
AUC of PRC = 0.36129
min(+P, Se) = 0.391949

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.11371800303459167
difference in average predicted and observed risk = 0.03354900303459167
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.866731
AUC of PRC = 0.405823
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.11528299748897552
difference in average predicted and observed risk = 0.006486997488975521
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.772865
AUC of PRC = 0.411798
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14023099839687347
difference in average predicted and observed risk = 0.03006199839687347
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.860806
AUC of PRC = 0.621921
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.14543800055980682
difference in average predicted and observed risk = 0.012105000559806817
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.12807799875736237
difference in average predicted and observed risk = 0.013033998757362372
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.778974
AUC of PRC = 0.358793
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11348400264978409
difference in average predicted and observed risk = 0.02143400264978408
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.842951
AUC of PRC = 0.545569
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.10966899991035461
difference in average predicted and observed risk = 0.02046699991035461
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.799986
AUC of PRC = 0.445184
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13587899506092072
difference in average predicted and observed risk = 0.018231995060920714
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.911111
AUC of PRC = 0.632589
min(+P, Se) = 0.647059

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11713799834251404
difference in average predicted and observed risk = 0.02842799834251404
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.794851
AUC of PRC = 0.212013
min(+P, Se) = 0.294118

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13223400712013245
difference in average predicted and observed risk = -0.017371992879867543
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.789474
AUC of PRC = 0.566802
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.15174199640750885
difference in average predicted and observed risk = 0.07279499640750885
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.11953999847173691
difference in average predicted and observed risk = 0.017948998471736907
number samples = 817
accuracy = 0.909425
precision class 0 = 0.911471
precision class 1 = 0.8
recall class 0 = 0.995913
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.004087
positive prediction rate = 0.01836
AUC of ROC = 0.817143
AUC of PRC = 0.464218
min(+P, Se) = 0.505882

-------------------------------

Epoch 00005: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch5.state
Epoch 6/100
 - 267s - loss: 0.2897 - val_loss: 0.2644

==>predicting on train



confusion matrix:
[[2153    2]
 [ 242   13]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.059640999883413315
difference in average predicted and observed risk = -0.046168000116586685
number samples = 2410
accuracy = 0.898755
precision class 0 = 0.898956
precision class 1 = 0.866667
recall class 0 = 0.999072
recall class 1 = 0.05098
false negative rate = 0.94902
false positive rate = 0.000928
positive prediction rate = 0.006224
AUC of ROC = 0.802073
AUC of PRC = 0.403549
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1170    9]
 [ 113    5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0645499974489212
difference in average predicted and observed risk = -0.0264290025510788
number samples = 1297
accuracy = 0.905937
precision class 0 = 0.911925
precision class 1 = 0.357143
recall class 0 = 0.992366
recall class 1 = 0.042373
false negative rate = 0.957627
false positive rate = 0.007634
positive prediction rate = 0.010794
AUC of ROC = 0.820625
AUC of PRC = 0.31502
min(+P, Se) = 0.404959

-------------------------------

confusion matrix:
[[652   4]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07352700084447861
difference in average predicted and observed risk = -0.027842999155521395
number samples = 730
accuracy = 0.905479
precision class 0 = 0.909344
precision class 1 = 0.692308
recall class 0 = 0.993902
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.006098
positive prediction rate = 0.017808
AUC of ROC = 0.774411
AUC of PRC = 0.371766
min(+P, Se) = 0.405405

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07039199769496918
difference in average predicted and observed risk = -0.05526200230503081
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.879242
AUC of PRC = 0.675334
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2465    9]
 [ 242   13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06089799851179123
difference in average predicted and observed risk = -0.03254300148820877
number samples = 2729
accuracy = 0.908025
precision class 0 = 0.910602
precision class 1 = 0.590909
recall class 0 = 0.996362
recall class 1 = 0.05098
false negative rate = 0.94902
false positive rate = 0.003638
positive prediction rate = 0.008062
AUC of ROC = 0.803295
AUC of PRC = 0.332723
min(+P, Se) = 0.368627

-------------------------------

confusion matrix:
[[1676    7]
 [ 198   18]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.06760700047016144
difference in average predicted and observed risk = -0.04613699952983856
number samples = 1899
accuracy = 0.892048
precision class 0 = 0.894344
precision class 1 = 0.72
recall class 0 = 0.995841
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.004159
positive prediction rate = 0.013165
AUC of ROC = 0.808375
AUC of PRC = 0.423323
min(+P, Se) = 0.421296

-------------------------------

confusion matrix:
[[547   2]
 [ 74   3]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.06422299891710281
difference in average predicted and observed risk = -0.05878000108289719
number samples = 626
accuracy = 0.878594
precision class 0 = 0.880837
precision class 1 = 0.6
recall class 0 = 0.996357
recall class 1 = 0.038961
false negative rate = 0.961039
false positive rate = 0.003643
positive prediction rate = 0.007987
AUC of ROC = 0.823433
AUC of PRC = 0.380497
min(+P, Se) = 0.402597

-------------------------------

confusion matrix:
[[2246    3]
 [ 199    9]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0565200001001358
difference in average predicted and observed risk = -0.028135999899864192
number samples = 2457
accuracy = 0.917786
precision class 0 = 0.918609
precision class 1 = 0.75
recall class 0 = 0.998666
recall class 1 = 0.043269
false negative rate = 0.956731
false positive rate = 0.001334
positive prediction rate = 0.004884
AUC of ROC = 0.797476
AUC of PRC = 0.329557
min(+P, Se) = 0.340909

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.061893001198768616
difference in average predicted and observed risk = -0.03891299880123139
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.778655
AUC of PRC = 0.228576
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[477   4]
 [ 74   8]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08033700287342072
difference in average predicted and observed risk = -0.06531099712657928
number samples = 563
accuracy = 0.861456
precision class 0 = 0.865699
precision class 1 = 0.666667
recall class 0 = 0.991684
recall class 1 = 0.097561
false negative rate = 0.902439
false positive rate = 0.008316
positive prediction rate = 0.021314
AUC of ROC = 0.820572
AUC of PRC = 0.528448
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[651   4]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07482799887657166
difference in average predicted and observed risk = -0.03280100112342835
number samples = 734
accuracy = 0.901907
precision class 0 = 0.905424
precision class 1 = 0.733333
recall class 0 = 0.993893
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.006107
positive prediction rate = 0.020436
AUC of ROC = 0.805933
AUC of PRC = 0.416593
min(+P, Se) = 0.433735

-------------------------------

confusion matrix:
[[4141   16]
 [ 440   31]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06365100294351578
difference in average predicted and observed risk = -0.038120997056484224
number samples = 4628
accuracy = 0.901469
precision class 0 = 0.903951
precision class 1 = 0.659574
recall class 0 = 0.996151
recall class 1 = 0.065817
false negative rate = 0.934183
false positive rate = 0.003849
positive prediction rate = 0.010156
AUC of ROC = 0.806107
AUC of PRC = 0.374855
min(+P, Se) = 0.394904

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 18   1]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06314799934625626
difference in average predicted and observed risk = -0.017021000653743748
number samples = 237
accuracy = 0.915612
precision class 0 = 0.923077
precision class 1 = 0.333333
recall class 0 = 0.990826
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.009174
positive prediction rate = 0.012658
AUC of ROC = 0.854901
AUC of PRC = 0.335597
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05999799817800522
difference in average predicted and observed risk = -0.048798001821994785
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.801492
AUC of PRC = 0.453455
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08313500136137009
difference in average predicted and observed risk = -0.027033998638629916
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.841758
AUC of PRC = 0.631008
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0868619978427887
difference in average predicted and observed risk = -0.04647100215721131
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.06929600238800049
difference in average predicted and observed risk = -0.045747997611999505
number samples = 339
accuracy = 0.884956
precision class 0 = 0.88724
precision class 1 = 0.5
recall class 0 = 0.996667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.003333
positive prediction rate = 0.0059
AUC of ROC = 0.785043
AUC of PRC = 0.361582
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.062362998723983765
difference in average predicted and observed risk = -0.029687001276016242
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.851854
AUC of PRC = 0.545153
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05849500000476837
difference in average predicted and observed risk = -0.030706999995231632
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.824674
AUC of PRC = 0.462674
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0756480023264885
difference in average predicted and observed risk = -0.04199899767351151
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.888889
AUC of PRC = 0.643936
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.060812000185251236
difference in average predicted and observed risk = -0.02789799981474876
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.827836
AUC of PRC = 0.272532
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.07866200059652328
difference in average predicted and observed risk = -0.0709439994034767
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.771442
AUC of PRC = 0.525094
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.08249799907207489
difference in average predicted and observed risk = 0.003550999072074887
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[732   2]
 [ 77   6]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06524000316858292
difference in average predicted and observed risk = -0.036350996831417084
number samples = 817
accuracy = 0.903305
precision class 0 = 0.904821
precision class 1 = 0.75
recall class 0 = 0.997275
recall class 1 = 0.072289
false negative rate = 0.927711
false positive rate = 0.002725
positive prediction rate = 0.009792
AUC of ROC = 0.825909
AUC of PRC = 0.469455
min(+P, Se) = 0.506024

-------------------------------

Epoch 00006: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch6.state
Epoch 7/100
 - 268s - loss: 0.2830 - val_loss: 0.2525

==>predicting on train



confusion matrix:
[[2149    6]
 [ 231   24]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07246199995279312
difference in average predicted and observed risk = -0.03334700004720688
number samples = 2410
accuracy = 0.90166
precision class 0 = 0.902941
precision class 1 = 0.8
recall class 0 = 0.997216
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.002784
positive prediction rate = 0.012448
AUC of ROC = 0.80214
AUC of PRC = 0.411171
min(+P, Se) = 0.410156

-------------------------------

confusion matrix:
[[1164   15]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0794999971985817
difference in average predicted and observed risk = -0.011479002801418309
number samples = 1297
accuracy = 0.907479
precision class 0 = 0.917258
precision class 1 = 0.464286
recall class 0 = 0.987277
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.012723
positive prediction rate = 0.021588
AUC of ROC = 0.825427
AUC of PRC = 0.32999
min(+P, Se) = 0.381356

-------------------------------

confusion matrix:
[[648   8]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08839499950408936
difference in average predicted and observed risk = -0.012975000495910646
number samples = 730
accuracy = 0.905479
precision class 0 = 0.913963
precision class 1 = 0.619048
recall class 0 = 0.987805
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.012195
positive prediction rate = 0.028767
AUC of ROC = 0.789511
AUC of PRC = 0.380094
min(+P, Se) = 0.402439

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08443199843168259
difference in average predicted and observed risk = -0.0412220015683174
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.875499
AUC of PRC = 0.638784
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[2451   23]
 [ 224   31]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07508700340986252
difference in average predicted and observed risk = -0.018353996590137478
number samples = 2729
accuracy = 0.909491
precision class 0 = 0.916262
precision class 1 = 0.574074
recall class 0 = 0.990703
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.009297
positive prediction rate = 0.019787
AUC of ROC = 0.801691
AUC of PRC = 0.339985
min(+P, Se) = 0.374517

-------------------------------

confusion matrix:
[[1676    7]
 [ 191   25]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08082500100135803
difference in average predicted and observed risk = -0.032918998998641966
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.897697
precision class 1 = 0.78125
recall class 0 = 0.995841
recall class 1 = 0.115741
false negative rate = 0.884259
false positive rate = 0.004159
positive prediction rate = 0.016851
AUC of ROC = 0.818234
AUC of PRC = 0.430553
min(+P, Se) = 0.426606

-------------------------------

confusion matrix:
[[545   4]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07952199876308441
difference in average predicted and observed risk = -0.04348100123691559
number samples = 626
accuracy = 0.881789
precision class 0 = 0.886179
precision class 1 = 0.636364
recall class 0 = 0.992714
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.007286
positive prediction rate = 0.017572
AUC of ROC = 0.813356
AUC of PRC = 0.387429
min(+P, Se) = 0.433333

-------------------------------

confusion matrix:
[[2240    9]
 [ 192   16]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06812600046396255
difference in average predicted and observed risk = -0.01652999953603744
number samples = 2457
accuracy = 0.918193
precision class 0 = 0.921053
precision class 1 = 0.64
recall class 0 = 0.995998
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.004002
positive prediction rate = 0.010175
AUC of ROC = 0.802042
AUC of PRC = 0.329971
min(+P, Se) = 0.350962

-------------------------------

confusion matrix:
[[218   5]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07403299957513809
difference in average predicted and observed risk = -0.026773000424861915
number samples = 248
accuracy = 0.879032
precision class 0 = 0.897119
precision class 1 = 0.0
recall class 0 = 0.977578
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.022422
positive prediction rate = 0.020161
AUC of ROC = 0.733094
AUC of PRC = 0.227762
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[475   6]
 [ 64  18]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1010269969701767
difference in average predicted and observed risk = -0.0446210030298233
number samples = 563
accuracy = 0.875666
precision class 0 = 0.881262
precision class 1 = 0.75
recall class 0 = 0.987526
recall class 1 = 0.219512
false negative rate = 0.780488
false positive rate = 0.012474
positive prediction rate = 0.042629
AUC of ROC = 0.846433
AUC of PRC = 0.567679
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[649   6]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08991099894046783
difference in average predicted and observed risk = -0.017718001059532168
number samples = 734
accuracy = 0.904632
precision class 0 = 0.910238
precision class 1 = 0.714286
recall class 0 = 0.99084
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00916
positive prediction rate = 0.02861
AUC of ROC = 0.808948
AUC of PRC = 0.415664
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4127   30]
 [ 415   56]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0774419978260994
difference in average predicted and observed risk = -0.024330002173900606
number samples = 4628
accuracy = 0.903846
precision class 0 = 0.908631
precision class 1 = 0.651163
recall class 0 = 0.992783
recall class 1 = 0.118896
false negative rate = 0.881104
false positive rate = 0.007217
positive prediction rate = 0.018583
AUC of ROC = 0.809664
AUC of PRC = 0.382255
min(+P, Se) = 0.401274

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07609400153160095
difference in average predicted and observed risk = -0.004074998468399052
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.864075
AUC of PRC = 0.434457
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07469700276851654
difference in average predicted and observed risk = -0.03409899723148346
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.807958
AUC of PRC = 0.448689
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10092099756002426
difference in average predicted and observed risk = -0.009248002439975742
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.872527
AUC of PRC = 0.63477
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1044749990105629
difference in average predicted and observed risk = -0.02885800098943711
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08598200231790543
difference in average predicted and observed risk = -0.029061997682094567
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.795897
AUC of PRC = 0.372404
min(+P, Se) = 0.403846

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07572899758815765
difference in average predicted and observed risk = -0.016321002411842353
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.868454
AUC of PRC = 0.583541
min(+P, Se) = 0.574468

-------------------------------

confusion matrix:
[[388   0]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07119400054216385
difference in average predicted and observed risk = -0.018007999457836155
number samples = 426
accuracy = 0.920188
precision class 0 = 0.919431
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.00939
AUC of ROC = 0.825014
AUC of PRC = 0.466126
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09485799819231033
difference in average predicted and observed risk = -0.02278900180768967
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.92037
AUC of PRC = 0.638698
min(+P, Se) = 0.647059

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07420899718999863
difference in average predicted and observed risk = -0.01450100281000137
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.822204
AUC of PRC = 0.243308
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09467899799346924
difference in average predicted and observed risk = -0.05492700200653075
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.812865
AUC of PRC = 0.57469
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1083109974861145
difference in average predicted and observed risk = 0.0293639974861145
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.622222
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07998300343751907
difference in average predicted and observed risk = -0.021607996562480927
number samples = 817
accuracy = 0.909425
precision class 0 = 0.911471
precision class 1 = 0.8
recall class 0 = 0.995913
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.004087
positive prediction rate = 0.01836
AUC of ROC = 0.838777
AUC of PRC = 0.489613
min(+P, Se) = 0.489362

-------------------------------

Epoch 00007: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch7.state
Epoch 8/100
 - 269s - loss: 0.2780 - val_loss: 0.2590

==>predicting on train



confusion matrix:
[[2154    1]
 [ 250    5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06889600306749344
difference in average predicted and observed risk = -0.03691299693250656
number samples = 2410
accuracy = 0.895851
precision class 0 = 0.896007
precision class 1 = 0.833333
recall class 0 = 0.999536
recall class 1 = 0.019608
false negative rate = 0.980392
false positive rate = 0.000464
positive prediction rate = 0.00249
AUC of ROC = 0.804185
AUC of PRC = 0.410685
min(+P, Se) = 0.410156

-------------------------------

confusion matrix:
[[1175    4]
 [ 117    1]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07199899852275848
difference in average predicted and observed risk = -0.01898000147724152
number samples = 1297
accuracy = 0.906708
precision class 0 = 0.909443
precision class 1 = 0.2
recall class 0 = 0.996607
recall class 1 = 0.008475
false negative rate = 0.991525
false positive rate = 0.003393
positive prediction rate = 0.003855
AUC of ROC = 0.82961
AUC of PRC = 0.33084
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[656   0]
 [ 72   2]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07972600311040878
difference in average predicted and observed risk = -0.02164399688959122
number samples = 730
accuracy = 0.90137
precision class 0 = 0.901099
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.027027
false negative rate = 0.972973
false positive rate = 0.0
positive prediction rate = 0.00274
AUC of ROC = 0.796638
AUC of PRC = 0.3965
min(+P, Se) = 0.405405

-------------------------------

confusion matrix:
[[167   0]
 [ 24   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0772090032696724
difference in average predicted and observed risk = -0.048444996730327594
number samples = 191
accuracy = 0.874346
precision class 0 = 0.874346
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.893962
AUC of PRC = 0.658927
min(+P, Se) = 0.586207

-------------------------------

confusion matrix:
[[2472    2]
 [ 253    2]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06873399764299393
difference in average predicted and observed risk = -0.02470700235700607
number samples = 2729
accuracy = 0.906559
precision class 0 = 0.907156
precision class 1 = 0.5
recall class 0 = 0.999192
recall class 1 = 0.007843
false negative rate = 0.992157
false positive rate = 0.000808
positive prediction rate = 0.001466
AUC of ROC = 0.811844
AUC of PRC = 0.354235
min(+P, Se) = 0.396078

-------------------------------

confusion matrix:
[[1680    3]
 [ 210    6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07624699920415878
difference in average predicted and observed risk = -0.037497000795841215
number samples = 1899
accuracy = 0.887836
precision class 0 = 0.888889
precision class 1 = 0.666667
recall class 0 = 0.998217
recall class 1 = 0.027778
false negative rate = 0.972222
false positive rate = 0.001783
positive prediction rate = 0.004739
AUC of ROC = 0.814796
AUC of PRC = 0.423309
min(+P, Se) = 0.437788

-------------------------------

confusion matrix:
[[548   1]
 [ 76   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07188700139522552
difference in average predicted and observed risk = -0.051115998604774476
number samples = 626
accuracy = 0.876997
precision class 0 = 0.878205
precision class 1 = 0.5
recall class 0 = 0.998178
recall class 1 = 0.012987
false negative rate = 0.987013
false positive rate = 0.001821
positive prediction rate = 0.003195
AUC of ROC = 0.828567
AUC of PRC = 0.419561
min(+P, Se) = 0.441558

-------------------------------

confusion matrix:
[[2248    1]
 [ 207    1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06508000195026398
difference in average predicted and observed risk = -0.019575998049736018
number samples = 2457
accuracy = 0.915344
precision class 0 = 0.915682
precision class 1 = 0.5
recall class 0 = 0.999555
recall class 1 = 0.004808
false negative rate = 0.995192
false positive rate = 0.000445
positive prediction rate = 0.000814
AUC of ROC = 0.807081
AUC of PRC = 0.329213
min(+P, Se) = 0.366667

-------------------------------

confusion matrix:
[[222   1]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06712300330400467
difference in average predicted and observed risk = -0.03368299669599534
number samples = 248
accuracy = 0.895161
precision class 0 = 0.898785
precision class 1 = 0.0
recall class 0 = 0.995516
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.004484
positive prediction rate = 0.004032
AUC of ROC = 0.734709
AUC of PRC = 0.220883
min(+P, Se) = 0.309524

-------------------------------

confusion matrix:
[[480   1]
 [ 80   2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08878199756145477
difference in average predicted and observed risk = -0.05686600243854523
number samples = 563
accuracy = 0.856128
precision class 0 = 0.857143
precision class 1 = 0.666667
recall class 0 = 0.997921
recall class 1 = 0.02439
false negative rate = 0.97561
false positive rate = 0.002079
positive prediction rate = 0.005329
AUC of ROC = 0.849196
AUC of PRC = 0.548606
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[654   1]
 [ 75   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08288200199604034
difference in average predicted and observed risk = -0.024746998003959658
number samples = 734
accuracy = 0.896458
precision class 0 = 0.897119
precision class 1 = 0.8
recall class 0 = 0.998473
recall class 1 = 0.050633
false negative rate = 0.949367
false positive rate = 0.001527
positive prediction rate = 0.006812
AUC of ROC = 0.804561
AUC of PRC = 0.422398
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4152    5]
 [ 463    8]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07181700319051743
difference in average predicted and observed risk = -0.029954996809482576
number samples = 4628
accuracy = 0.898876
precision class 0 = 0.899675
precision class 1 = 0.615385
recall class 0 = 0.998797
recall class 1 = 0.016985
false negative rate = 0.983015
false positive rate = 0.001203
positive prediction rate = 0.002809
AUC of ROC = 0.81406
AUC of PRC = 0.384843
min(+P, Se) = 0.412863

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 19   0]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07024700194597244
difference in average predicted and observed risk = -0.009921998054027562
number samples = 237
accuracy = 0.915612
precision class 0 = 0.919492
precision class 1 = 0.0
recall class 0 = 0.995413
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.004587
positive prediction rate = 0.004219
AUC of ROC = 0.847658
AUC of PRC = 0.352545
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07023300230503082
difference in average predicted and observed risk = -0.03856299769496918
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.801658
AUC of PRC = 0.462967
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09237600117921829
difference in average predicted and observed risk = -0.01779299882078171
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.874725
AUC of PRC = 0.608448
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09268199652433395
difference in average predicted and observed risk = -0.04065100347566605
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07985600084066391
difference in average predicted and observed risk = -0.035187999159336084
number samples = 339
accuracy = 0.887906
precision class 0 = 0.887574
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.0
positive prediction rate = 0.00295
AUC of ROC = 0.788291
AUC of PRC = 0.393349
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[433   1]
 [ 41   3]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07028999924659729
difference in average predicted and observed risk = -0.021760000753402717
number samples = 478
accuracy = 0.912134
precision class 0 = 0.913502
precision class 1 = 0.75
recall class 0 = 0.997696
recall class 1 = 0.068182
false negative rate = 0.931818
false positive rate = 0.002304
positive prediction rate = 0.008368
AUC of ROC = 0.864631
AUC of PRC = 0.547194
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 38   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06737399846315384
difference in average predicted and observed risk = -0.021828001536846164
number samples = 426
accuracy = 0.910798
precision class 0 = 0.910798
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.825285
AUC of PRC = 0.474139
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08117599785327911
difference in average predicted and observed risk = -0.03647100214672089
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.930556
AUC of PRC = 0.680889
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07113099843263626
difference in average predicted and observed risk = -0.017579001567363736
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.78037
AUC of PRC = 0.299086
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[108   0]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.08981899917125702
difference in average predicted and observed risk = -0.05978700082874297
number samples = 127
accuracy = 0.874016
precision class 0 = 0.870968
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.0
positive prediction rate = 0.023622
AUC of ROC = 0.802144
AUC of PRC = 0.553154
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09109199792146683
difference in average predicted and observed risk = 0.012144997921466824
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[733   1]
 [ 79   4]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07425999641418457
difference in average predicted and observed risk = -0.02733100358581543
number samples = 817
accuracy = 0.902081
precision class 0 = 0.902709
precision class 1 = 0.8
recall class 0 = 0.998638
recall class 1 = 0.048193
false negative rate = 0.951807
false positive rate = 0.001362
positive prediction rate = 0.00612
AUC of ROC = 0.832721
AUC of PRC = 0.482347
min(+P, Se) = 0.518072

-------------------------------

Epoch 00008: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch8.state
Epoch 9/100
 - 270s - loss: 0.2752 - val_loss: 0.2495

==>predicting on train



confusion matrix:
[[2155    0]
 [ 253    2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06216900050640106
difference in average predicted and observed risk = -0.04363999949359894
number samples = 2410
accuracy = 0.895021
precision class 0 = 0.894934
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.007843
false negative rate = 0.992157
false positive rate = 0.0
positive prediction rate = 0.00083
AUC of ROC = 0.825122
AUC of PRC = 0.430407
min(+P, Se) = 0.407843

-------------------------------

confusion matrix:
[[1176    3]
 [ 116    2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06482800096273422
difference in average predicted and observed risk = -0.026150999037265782
number samples = 1297
accuracy = 0.90825
precision class 0 = 0.910217
precision class 1 = 0.4
recall class 0 = 0.997455
recall class 1 = 0.016949
false negative rate = 0.983051
false positive rate = 0.002545
positive prediction rate = 0.003855
AUC of ROC = 0.859972
AUC of PRC = 0.369501
min(+P, Se) = 0.420168

-------------------------------

confusion matrix:
[[656   0]
 [ 74   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07553700357675552
difference in average predicted and observed risk = -0.025832996423244478
number samples = 730
accuracy = 0.89863
precision class 0 = 0.89863
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.824736
AUC of PRC = 0.427601
min(+P, Se) = 0.419753

-------------------------------

confusion matrix:
[[167   0]
 [ 24   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0719740018248558
difference in average predicted and observed risk = -0.053679998175144183
number samples = 191
accuracy = 0.874346
precision class 0 = 0.874346
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.912425
AUC of PRC = 0.684561
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2473    1]
 [ 254    1]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06252799928188324
difference in average predicted and observed risk = -0.030913000718116757
number samples = 2729
accuracy = 0.906559
precision class 0 = 0.906857
precision class 1 = 0.5
recall class 0 = 0.999596
recall class 1 = 0.003922
false negative rate = 0.996078
false positive rate = 0.000404
positive prediction rate = 0.000733
AUC of ROC = 0.840489
AUC of PRC = 0.383743
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[1681    2]
 [ 213    3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.06959400326013565
difference in average predicted and observed risk = -0.04414999673986435
number samples = 1899
accuracy = 0.886783
precision class 0 = 0.88754
precision class 1 = 0.6
recall class 0 = 0.998812
recall class 1 = 0.013889
false negative rate = 0.986111
false positive rate = 0.001188
positive prediction rate = 0.002633
AUC of ROC = 0.835157
AUC of PRC = 0.447443
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[548   1]
 [ 77   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.06799300014972687
difference in average predicted and observed risk = -0.055009999850273134
number samples = 626
accuracy = 0.875399
precision class 0 = 0.8768
precision class 1 = 0.0
recall class 0 = 0.998178
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.001821
positive prediction rate = 0.001597
AUC of ROC = 0.850425
AUC of PRC = 0.429752
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[2248    1]
 [ 208    0]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.057840000838041306
difference in average predicted and observed risk = -0.02681599916195869
number samples = 2457
accuracy = 0.914937
precision class 0 = 0.915309
precision class 1 = 0.0
recall class 0 = 0.999555
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.000445
positive prediction rate = 0.000407
AUC of ROC = 0.83902
AUC of PRC = 0.357691
min(+P, Se) = 0.361905

-------------------------------

confusion matrix:
[[223   0]
 [ 25   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06092600151896477
difference in average predicted and observed risk = -0.03987999848103524
number samples = 248
accuracy = 0.899194
precision class 0 = 0.899194
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.716054
AUC of PRC = 0.231024
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[481   0]
 [ 81   1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08302400261163712
difference in average predicted and observed risk = -0.06262399738836288
number samples = 563
accuracy = 0.856128
precision class 0 = 0.855872
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.012195
false negative rate = 0.987805
false positive rate = 0.0
positive prediction rate = 0.001776
AUC of ROC = 0.866716
AUC of PRC = 0.578831
min(+P, Se) = 0.561798

-------------------------------

confusion matrix:
[[654   1]
 [ 76   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07666099816560745
difference in average predicted and observed risk = -0.03096800183439255
number samples = 734
accuracy = 0.895095
precision class 0 = 0.89589
precision class 1 = 0.75
recall class 0 = 0.998473
recall class 1 = 0.037975
false negative rate = 0.962025
false positive rate = 0.001527
positive prediction rate = 0.00545
AUC of ROC = 0.82665
AUC of PRC = 0.431344
min(+P, Se) = 0.421687

-------------------------------

confusion matrix:
[[4154    3]
 [ 467    4]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06542699784040451
difference in average predicted and observed risk = -0.03634500215959549
number samples = 4628
accuracy = 0.898444
precision class 0 = 0.89894
precision class 1 = 0.571429
recall class 0 = 0.999278
recall class 1 = 0.008493
false negative rate = 0.991507
false positive rate = 0.000722
positive prediction rate = 0.001513
AUC of ROC = 0.83858
AUC of PRC = 0.411459
min(+P, Se) = 0.421053

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 19   0]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0633929967880249
difference in average predicted and observed risk = -0.016776003211975102
number samples = 237
accuracy = 0.915612
precision class 0 = 0.919492
precision class 1 = 0.0
recall class 0 = 0.995413
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.004587
positive prediction rate = 0.004219
AUC of ROC = 0.88339
AUC of PRC = 0.367713
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06294000148773193
difference in average predicted and observed risk = -0.04585599851226807
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.851395
AUC of PRC = 0.501075
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08814600110054016
difference in average predicted and observed risk = -0.022022998899459842
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.852015
AUC of PRC = 0.671627
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08497399836778641
difference in average predicted and observed risk = -0.0483590016322136
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07322800159454346
difference in average predicted and observed risk = -0.041815998405456536
number samples = 339
accuracy = 0.887906
precision class 0 = 0.887574
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.0
positive prediction rate = 0.00295
AUC of ROC = 0.81094
AUC of PRC = 0.414761
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[433   1]
 [ 42   2]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06347300112247467
difference in average predicted and observed risk = -0.028576998877525336
number samples = 478
accuracy = 0.910042
precision class 0 = 0.911579
precision class 1 = 0.666667
recall class 0 = 0.997696
recall class 1 = 0.045455
false negative rate = 0.954545
false positive rate = 0.002304
positive prediction rate = 0.006276
AUC of ROC = 0.901655
AUC of PRC = 0.574776
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 38   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05851899832487106
difference in average predicted and observed risk = -0.03068300167512894
number samples = 426
accuracy = 0.910798
precision class 0 = 0.910798
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.871744
AUC of PRC = 0.490922
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07868800312280655
difference in average predicted and observed risk = -0.03895899687719345
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.87963
AUC of PRC = 0.65192
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06448099762201309
difference in average predicted and observed risk = -0.024229002377986905
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.849558
AUC of PRC = 0.324117
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[108   0]
 [ 17   2]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.0846719965338707
difference in average predicted and observed risk = -0.06493400346612929
number samples = 127
accuracy = 0.866142
precision class 0 = 0.864
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.0
positive prediction rate = 0.015748
AUC of ROC = 0.838694
AUC of PRC = 0.594762
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09105300158262253
difference in average predicted and observed risk = 0.012106001582622525
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[733   1]
 [ 80   3]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06752099841833115
difference in average predicted and observed risk = -0.034070001581668855
number samples = 817
accuracy = 0.900857
precision class 0 = 0.901599
precision class 1 = 0.75
recall class 0 = 0.998638
recall class 1 = 0.036145
false negative rate = 0.963855
false positive rate = 0.001362
positive prediction rate = 0.004896
AUC of ROC = 0.863219
AUC of PRC = 0.501102
min(+P, Se) = 0.506024

-------------------------------

Epoch 00009: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch9.state
Epoch 10/100
 - 273s - loss: 0.2723 - val_loss: 0.2438

==>predicting on train



confusion matrix:
[[2154    1]
 [ 245   10]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08208800107240677
difference in average predicted and observed risk = -0.02372099892759323
number samples = 2410
accuracy = 0.897925
precision class 0 = 0.897874
precision class 1 = 0.909091
recall class 0 = 0.999536
recall class 1 = 0.039216
false negative rate = 0.960784
false positive rate = 0.000464
positive prediction rate = 0.004564
AUC of ROC = 0.838013
AUC of PRC = 0.449087
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1175    4]
 [ 112    6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08397799730300903
difference in average predicted and observed risk = -0.007001002696990971
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.912976
precision class 1 = 0.6
recall class 0 = 0.996607
recall class 1 = 0.050847
false negative rate = 0.949153
false positive rate = 0.003393
positive prediction rate = 0.00771
AUC of ROC = 0.85862
AUC of PRC = 0.38058
min(+P, Se) = 0.432203

-------------------------------

confusion matrix:
[[655   1]
 [ 72   2]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09774100035429001
difference in average predicted and observed risk = -0.0036289996457099932
number samples = 730
accuracy = 0.9
precision class 0 = 0.900963
precision class 1 = 0.666667
recall class 0 = 0.998476
recall class 1 = 0.027027
false negative rate = 0.972973
false positive rate = 0.001524
positive prediction rate = 0.00411
AUC of ROC = 0.831081
AUC of PRC = 0.412179
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[167   0]
 [ 22   2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08867499977350235
difference in average predicted and observed risk = -0.03697900022649764
number samples = 191
accuracy = 0.884817
precision class 0 = 0.883598
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.010471
AUC of ROC = 0.912675
AUC of PRC = 0.694753
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2472    2]
 [ 249    6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07969100028276443
difference in average predicted and observed risk = -0.013749999717235561
number samples = 2729
accuracy = 0.908025
precision class 0 = 0.90849
precision class 1 = 0.75
recall class 0 = 0.999192
recall class 1 = 0.023529
false negative rate = 0.976471
false positive rate = 0.000808
positive prediction rate = 0.002931
AUC of ROC = 0.848076
AUC of PRC = 0.389375
min(+P, Se) = 0.403922

-------------------------------

confusion matrix:
[[1679    4]
 [ 202   14]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09350299835205078
difference in average predicted and observed risk = -0.020241001647949217
number samples = 1899
accuracy = 0.891522
precision class 0 = 0.89261
precision class 1 = 0.777778
recall class 0 = 0.997623
recall class 1 = 0.064815
false negative rate = 0.935185
false positive rate = 0.002377
positive prediction rate = 0.009479
AUC of ROC = 0.842095
AUC of PRC = 0.458359
min(+P, Se) = 0.467593

-------------------------------

confusion matrix:
[[548   1]
 [ 75   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08801300078630447
difference in average predicted and observed risk = -0.03498999921369553
number samples = 626
accuracy = 0.878594
precision class 0 = 0.879615
precision class 1 = 0.666667
recall class 0 = 0.998178
recall class 1 = 0.025974
false negative rate = 0.974026
false positive rate = 0.001821
positive prediction rate = 0.004792
AUC of ROC = 0.862986
AUC of PRC = 0.450277
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2248    1]
 [ 202    6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07697399705648422
difference in average predicted and observed risk = -0.007682002943515773
number samples = 2457
accuracy = 0.917379
precision class 0 = 0.917551
precision class 1 = 0.857143
recall class 0 = 0.999555
recall class 1 = 0.028846
false negative rate = 0.971154
false positive rate = 0.000445
positive prediction rate = 0.002849
AUC of ROC = 0.839345
AUC of PRC = 0.36388
min(+P, Se) = 0.370192

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08192099630832672
difference in average predicted and observed risk = -0.018885003691673286
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.738475
AUC of PRC = 0.237668
min(+P, Se) = 0.314286

-------------------------------

confusion matrix:
[[480   1]
 [ 77   5]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10534799844026566
difference in average predicted and observed risk = -0.040300001559734344
number samples = 563
accuracy = 0.861456
precision class 0 = 0.861759
precision class 1 = 0.833333
recall class 0 = 0.997921
recall class 1 = 0.060976
false negative rate = 0.939024
false positive rate = 0.002079
positive prediction rate = 0.010657
AUC of ROC = 0.874322
AUC of PRC = 0.602943
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[654   1]
 [ 72   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09698899835348129
difference in average predicted and observed risk = -0.01064000164651871
number samples = 734
accuracy = 0.900545
precision class 0 = 0.900826
precision class 1 = 0.875
recall class 0 = 0.998473
recall class 1 = 0.088608
false negative rate = 0.911392
false positive rate = 0.001527
positive prediction rate = 0.010899
AUC of ROC = 0.844294
AUC of PRC = 0.445892
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[4151    6]
 [ 451   20]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08535899966955185
difference in average predicted and observed risk = -0.016413000330448152
number samples = 4628
accuracy = 0.901253
precision class 0 = 0.901999
precision class 1 = 0.769231
recall class 0 = 0.998557
recall class 1 = 0.042463
false negative rate = 0.957537
false positive rate = 0.001443
positive prediction rate = 0.005618
AUC of ROC = 0.845859
AUC of PRC = 0.421411
min(+P, Se) = 0.433121

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 18   1]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08039499819278717
difference in average predicted and observed risk = 0.00022599819278716626
number samples = 237
accuracy = 0.919831
precision class 0 = 0.923404
precision class 1 = 0.5
recall class 0 = 0.995413
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.004587
positive prediction rate = 0.008439
AUC of ROC = 0.898358
AUC of PRC = 0.374904
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08213599771261215
difference in average predicted and observed risk = -0.02666000228738785
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.839237
AUC of PRC = 0.481648
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11261700093746185
difference in average predicted and observed risk = 0.00244800093746185
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.860073
AUC of PRC = 0.62703
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1124889999628067
difference in average predicted and observed risk = -0.020844000037193305
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09808900207281113
difference in average predicted and observed risk = -0.016954997927188867
number samples = 339
accuracy = 0.887906
precision class 0 = 0.887574
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.0
positive prediction rate = 0.00295
AUC of ROC = 0.812137
AUC of PRC = 0.382611
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07938800007104874
difference in average predicted and observed risk = -0.01266199992895127
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.893276
AUC of PRC = 0.574793
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07863499969244003
difference in average predicted and observed risk = -0.01056700030755997
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.880765
AUC of PRC = 0.493847
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09401699900627136
difference in average predicted and observed risk = -0.02363000099372864
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.87037
AUC of PRC = 0.646158
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08229800313711166
difference in average predicted and observed risk = -0.006411996862888333
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.849558
AUC of PRC = 0.317198
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[108   0]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10668499767780304
difference in average predicted and observed risk = -0.04292100232219695
number samples = 127
accuracy = 0.874016
precision class 0 = 0.870968
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.0
positive prediction rate = 0.023622
AUC of ROC = 0.809942
AUC of PRC = 0.564749
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11468400061130524
difference in average predicted and observed risk = 0.035737000611305234
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[733   1]
 [ 78   5]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08714800328016281
difference in average predicted and observed risk = -0.01444299671983719
number samples = 817
accuracy = 0.903305
precision class 0 = 0.903822
precision class 1 = 0.833333
recall class 0 = 0.998638
recall class 1 = 0.060241
false negative rate = 0.939759
false positive rate = 0.001362
positive prediction rate = 0.007344
AUC of ROC = 0.861167
AUC of PRC = 0.491371
min(+P, Se) = 0.506024

-------------------------------

Epoch 00010: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch10.state
Epoch 11/100
 - 278s - loss: 0.2733 - val_loss: 0.2556

==>predicting on train



confusion matrix:
[[2152    3]
 [ 239   16]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.11394300311803818
difference in average predicted and observed risk = 0.008134003118038177
number samples = 2410
accuracy = 0.899585
precision class 0 = 0.900042
precision class 1 = 0.842105
recall class 0 = 0.998608
recall class 1 = 0.062745
false negative rate = 0.937255
false positive rate = 0.001392
positive prediction rate = 0.007884
AUC of ROC = 0.804216
AUC of PRC = 0.431672
min(+P, Se) = 0.417969

-------------------------------

confusion matrix:
[[1168   11]
 [ 108   10]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.1183760017156601
difference in average predicted and observed risk = 0.02739700171566009
number samples = 1297
accuracy = 0.90825
precision class 0 = 0.915361
precision class 1 = 0.47619
recall class 0 = 0.99067
recall class 1 = 0.084746
false negative rate = 0.915254
false positive rate = 0.00933
positive prediction rate = 0.016191
AUC of ROC = 0.826325
AUC of PRC = 0.35209
min(+P, Se) = 0.381356

-------------------------------

confusion matrix:
[[652   4]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.1295820027589798
difference in average predicted and observed risk = 0.028212002758979796
number samples = 730
accuracy = 0.909589
precision class 0 = 0.913165
precision class 1 = 0.75
recall class 0 = 0.993902
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.006098
positive prediction rate = 0.021918
AUC of ROC = 0.814107
AUC of PRC = 0.407942
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.12145200371742249
difference in average predicted and observed risk = -0.004201996282577503
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.883733
AUC of PRC = 0.688649
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2463   11]
 [ 235   20]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.11543799936771393
difference in average predicted and observed risk = 0.021996999367713932
number samples = 2729
accuracy = 0.909857
precision class 0 = 0.912898
precision class 1 = 0.645161
recall class 0 = 0.995554
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.004446
positive prediction rate = 0.011359
AUC of ROC = 0.805668
AUC of PRC = 0.365137
min(+P, Se) = 0.392157

-------------------------------

confusion matrix:
[[1675    8]
 [ 194   22]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.12159000337123871
difference in average predicted and observed risk = 0.00784600337123871
number samples = 1899
accuracy = 0.893628
precision class 0 = 0.896201
precision class 1 = 0.733333
recall class 0 = 0.995247
recall class 1 = 0.101852
false negative rate = 0.898148
false positive rate = 0.004753
positive prediction rate = 0.015798
AUC of ROC = 0.826654
AUC of PRC = 0.450604
min(+P, Se) = 0.449074

-------------------------------

confusion matrix:
[[546   3]
 [ 72   5]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.12026800215244293
difference in average predicted and observed risk = -0.002734997847557069
number samples = 626
accuracy = 0.880192
precision class 0 = 0.883495
precision class 1 = 0.625
recall class 0 = 0.994536
recall class 1 = 0.064935
false negative rate = 0.935065
false positive rate = 0.005464
positive prediction rate = 0.01278
AUC of ROC = 0.821328
AUC of PRC = 0.427442
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[2243    6]
 [ 195   13]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.10900399833917618
difference in average predicted and observed risk = 0.024347998339176183
number samples = 2457
accuracy = 0.918193
precision class 0 = 0.920016
precision class 1 = 0.684211
recall class 0 = 0.997332
recall class 1 = 0.0625
false negative rate = 0.9375
false positive rate = 0.002668
positive prediction rate = 0.007733
AUC of ROC = 0.804071
AUC of PRC = 0.344899
min(+P, Se) = 0.339623

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.11508499830961227
difference in average predicted and observed risk = 0.014278998309612267
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.729686
AUC of PRC = 0.234371
min(+P, Se) = 0.357143

-------------------------------

confusion matrix:
[[477   4]
 [ 71  11]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.14011000096797943
difference in average predicted and observed risk = -0.0055379990320205685
number samples = 563
accuracy = 0.866785
precision class 0 = 0.870438
precision class 1 = 0.733333
recall class 0 = 0.991684
recall class 1 = 0.134146
false negative rate = 0.865854
false positive rate = 0.008316
positive prediction rate = 0.026643
AUC of ROC = 0.858628
AUC of PRC = 0.585915
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[652   3]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.12996700406074524
difference in average predicted and observed risk = 0.022338004060745237
number samples = 734
accuracy = 0.905995
precision class 0 = 0.908078
precision class 1 = 0.8125
recall class 0 = 0.99542
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00458
positive prediction rate = 0.021798
AUC of ROC = 0.818553
AUC of PRC = 0.439161
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4138   19]
 [ 429   42]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.11796200275421143
difference in average predicted and observed risk = 0.016190002754211424
number samples = 4628
accuracy = 0.903198
precision class 0 = 0.906065
precision class 1 = 0.688525
recall class 0 = 0.995429
recall class 1 = 0.089172
false negative rate = 0.910828
false positive rate = 0.004571
positive prediction rate = 0.013181
AUC of ROC = 0.815427
AUC of PRC = 0.404251
min(+P, Se) = 0.409766

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.1141590029001236
difference in average predicted and observed risk = 0.03399000290012359
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.868421
AUC of PRC = 0.352563
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.11694400012493134
difference in average predicted and observed risk = 0.008148000124931332
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.823211
AUC of PRC = 0.461458
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.14255300164222717
difference in average predicted and observed risk = 0.03238400164222717
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.904029
AUC of PRC = 0.656714
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.14673499763011932
difference in average predicted and observed risk = 0.013401997630119317
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.12831099331378937
difference in average predicted and observed risk = 0.013266993313789374
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.801966
AUC of PRC = 0.379885
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.11569400131702423
difference in average predicted and observed risk = 0.023644001317024224
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.888982
AUC of PRC = 0.563632
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.11088100075721741
difference in average predicted and observed risk = 0.021679000757217404
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.842716
AUC of PRC = 0.47467
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.13352499902248383
difference in average predicted and observed risk = 0.015877999022483824
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.922222
AUC of PRC = 0.642702
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.11943399906158447
difference in average predicted and observed risk = 0.030723999061584475
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.839903
AUC of PRC = 0.267253
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13745300471782684
difference in average predicted and observed risk = -0.012152995282173146
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.822612
AUC of PRC = 0.574759
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14941799640655518
difference in average predicted and observed risk = 0.07047099640655517
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.12092900276184082
difference in average predicted and observed risk = 0.01933800276184082
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.852287
AUC of PRC = 0.479644
min(+P, Se) = 0.506024

-------------------------------

Epoch 00011: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch11.state
Epoch 12/100
 - 279s - loss: 0.2778 - val_loss: 0.2551

==>predicting on train



confusion matrix:
[[2153    2]
 [ 244   11]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07124199718236923
difference in average predicted and observed risk = -0.03456700281763077
number samples = 2410
accuracy = 0.897925
precision class 0 = 0.898206
precision class 1 = 0.846154
recall class 0 = 0.999072
recall class 1 = 0.043137
false negative rate = 0.956863
false positive rate = 0.000928
positive prediction rate = 0.005394
AUC of ROC = 0.809808
AUC of PRC = 0.431541
min(+P, Se) = 0.427451

-------------------------------

confusion matrix:
[[1174    5]
 [ 113    5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07677800208330154
difference in average predicted and observed risk = -0.01420099791669846
number samples = 1297
accuracy = 0.909021
precision class 0 = 0.912199
precision class 1 = 0.5
recall class 0 = 0.995759
recall class 1 = 0.042373
false negative rate = 0.957627
false positive rate = 0.004241
positive prediction rate = 0.00771
AUC of ROC = 0.840385
AUC of PRC = 0.346468
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[655   1]
 [ 70   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08722800016403198
difference in average predicted and observed risk = -0.01414199983596802
number samples = 730
accuracy = 0.90274
precision class 0 = 0.903448
precision class 1 = 0.8
recall class 0 = 0.998476
recall class 1 = 0.054054
false negative rate = 0.945946
false positive rate = 0.001524
positive prediction rate = 0.006849
AUC of ROC = 0.786235
AUC of PRC = 0.404494
min(+P, Se) = 0.426667

-------------------------------

confusion matrix:
[[167   0]
 [ 22   2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.080594003200531
difference in average predicted and observed risk = -0.04505999679946898
number samples = 191
accuracy = 0.884817
precision class 0 = 0.883598
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.010471
AUC of ROC = 0.876996
AUC of PRC = 0.671986
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2471    3]
 [ 247    8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07218000292778015
difference in average predicted and observed risk = -0.021260997072219845
number samples = 2729
accuracy = 0.908391
precision class 0 = 0.909124
precision class 1 = 0.727273
recall class 0 = 0.998787
recall class 1 = 0.031373
false negative rate = 0.968627
false positive rate = 0.001213
positive prediction rate = 0.004031
AUC of ROC = 0.816381
AUC of PRC = 0.373798
min(+P, Se) = 0.406977

-------------------------------

confusion matrix:
[[1678    5]
 [ 202   14]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08076000213623047
difference in average predicted and observed risk = -0.03298399786376953
number samples = 1899
accuracy = 0.890995
precision class 0 = 0.892553
precision class 1 = 0.736842
recall class 0 = 0.997029
recall class 1 = 0.064815
false negative rate = 0.935185
false positive rate = 0.002971
positive prediction rate = 0.010005
AUC of ROC = 0.816028
AUC of PRC = 0.434246
min(+P, Se) = 0.452915

-------------------------------

confusion matrix:
[[548   1]
 [ 74   3]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07885900139808655
difference in average predicted and observed risk = -0.04414399860191345
number samples = 626
accuracy = 0.880192
precision class 0 = 0.881029
precision class 1 = 0.75
recall class 0 = 0.998178
recall class 1 = 0.038961
false negative rate = 0.961039
false positive rate = 0.001821
positive prediction rate = 0.00639
AUC of ROC = 0.797105
AUC of PRC = 0.390904
min(+P, Se) = 0.448718

-------------------------------

confusion matrix:
[[2248    1]
 [ 203    5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0680529996752739
difference in average predicted and observed risk = -0.0166030003247261
number samples = 2457
accuracy = 0.916972
precision class 0 = 0.917177
precision class 1 = 0.833333
recall class 0 = 0.999555
recall class 1 = 0.024038
false negative rate = 0.975962
false positive rate = 0.000445
positive prediction rate = 0.002442
AUC of ROC = 0.825151
AUC of PRC = 0.365636
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07322800159454346
difference in average predicted and observed risk = -0.02757799840545655
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.747444
AUC of PRC = 0.232505
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[479   2]
 [ 76   6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09469500184059143
difference in average predicted and observed risk = -0.05095299815940857
number samples = 563
accuracy = 0.861456
precision class 0 = 0.863063
precision class 1 = 0.75
recall class 0 = 0.995842
recall class 1 = 0.073171
false negative rate = 0.926829
false positive rate = 0.004158
positive prediction rate = 0.01421
AUC of ROC = 0.840221
AUC of PRC = 0.553801
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[653   2]
 [ 71   8]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0848739966750145
difference in average predicted and observed risk = -0.022755003324985507
number samples = 734
accuracy = 0.900545
precision class 0 = 0.901934
precision class 1 = 0.8
recall class 0 = 0.996947
recall class 1 = 0.101266
false negative rate = 0.898734
false positive rate = 0.003053
positive prediction rate = 0.013624
AUC of ROC = 0.808812
AUC of PRC = 0.427012
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[4149    8]
 [ 449   22]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07570099830627441
difference in average predicted and observed risk = -0.026071001693725587
number samples = 4628
accuracy = 0.901253
precision class 0 = 0.902349
precision class 1 = 0.733333
recall class 0 = 0.998076
recall class 1 = 0.046709
false negative rate = 0.953291
false positive rate = 0.001924
positive prediction rate = 0.006482
AUC of ROC = 0.817046
AUC of PRC = 0.401422
min(+P, Se) = 0.428875

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07333099842071533
difference in average predicted and observed risk = -0.006838001579284672
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.882907
AUC of PRC = 0.352601
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07241100072860718
difference in average predicted and observed risk = -0.036384999271392826
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.807792
AUC of PRC = 0.456683
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09968700259923935
difference in average predicted and observed risk = -0.010481997400760654
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.838828
AUC of PRC = 0.623294
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10098200291395187
difference in average predicted and observed risk = -0.03235099708604813
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08255500346422195
difference in average predicted and observed risk = -0.03248899653577804
number samples = 339
accuracy = 0.887906
precision class 0 = 0.889881
precision class 1 = 0.666667
recall class 0 = 0.996667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.003333
positive prediction rate = 0.00885
AUC of ROC = 0.805299
AUC of PRC = 0.374204
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07419999688863754
difference in average predicted and observed risk = -0.017850003111362464
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.856619
AUC of PRC = 0.564144
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06863400340080261
difference in average predicted and observed risk = -0.02056799659919739
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.836747
AUC of PRC = 0.488328
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09210900217294693
difference in average predicted and observed risk = -0.02553799782705307
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.881481
AUC of PRC = 0.617376
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07341399788856506
difference in average predicted and observed risk = -0.015296002111434934
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.800483
AUC of PRC = 0.239388
min(+P, Se) = 0.357143

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09346599876880646
difference in average predicted and observed risk = -0.05614000123119353
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.816277
AUC of PRC = 0.570396
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10123699903488159
difference in average predicted and observed risk = 0.02228999903488159
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[732   2]
 [ 77   6]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0776669979095459
difference in average predicted and observed risk = -0.023924002090454102
number samples = 817
accuracy = 0.903305
precision class 0 = 0.904821
precision class 1 = 0.75
recall class 0 = 0.997275
recall class 1 = 0.072289
false negative rate = 0.927711
false positive rate = 0.002725
positive prediction rate = 0.009792
AUC of ROC = 0.8362
AUC of PRC = 0.47492
min(+P, Se) = 0.482353

-------------------------------

Epoch 00012: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch12.state
Epoch 13/100
 - 280s - loss: 0.2796 - val_loss: 0.2446

==>predicting on train



confusion matrix:
[[2142   13]
 [ 217   38]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08780399709939957
difference in average predicted and observed risk = -0.018005002900600434
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.908012
precision class 1 = 0.745098
recall class 0 = 0.993968
recall class 1 = 0.14902
false negative rate = 0.85098
false positive rate = 0.006032
positive prediction rate = 0.021162
AUC of ROC = 0.829906
AUC of PRC = 0.437947
min(+P, Se) = 0.416031

-------------------------------

confusion matrix:
[[1159   20]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09516499936580658
difference in average predicted and observed risk = 0.004185999365806575
number samples = 1297
accuracy = 0.912105
precision class 0 = 0.92498
precision class 1 = 0.545455
recall class 0 = 0.983036
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.016964
positive prediction rate = 0.033924
AUC of ROC = 0.855314
AUC of PRC = 0.371893
min(+P, Se) = 0.381356

-------------------------------

confusion matrix:
[[639  17]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10822000354528427
difference in average predicted and observed risk = 0.0068500035452842695
number samples = 730
accuracy = 0.894521
precision class 0 = 0.914163
precision class 1 = 0.451613
recall class 0 = 0.974085
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.025915
positive prediction rate = 0.042466
AUC of ROC = 0.804301
AUC of PRC = 0.387369
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[166   1]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0991469994187355
difference in average predicted and observed risk = -0.026507000581264484
number samples = 191
accuracy = 0.910995
precision class 0 = 0.912088
precision class 1 = 0.888889
recall class 0 = 0.994012
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.005988
positive prediction rate = 0.04712
AUC of ROC = 0.886976
AUC of PRC = 0.681594
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2443   31]
 [ 212   43]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.089308001101017
difference in average predicted and observed risk = -0.004132998898982998
number samples = 2729
accuracy = 0.910956
precision class 0 = 0.920151
precision class 1 = 0.581081
recall class 0 = 0.98747
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.01253
positive prediction rate = 0.027116
AUC of ROC = 0.835015
AUC of PRC = 0.381915
min(+P, Se) = 0.389513

-------------------------------

confusion matrix:
[[1663   20]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09965900331735611
difference in average predicted and observed risk = -0.014084996682643888
number samples = 1899
accuracy = 0.897314
precision class 0 = 0.904788
precision class 1 = 0.672131
recall class 0 = 0.988116
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.011884
positive prediction rate = 0.032122
AUC of ROC = 0.83448
AUC of PRC = 0.446543
min(+P, Se) = 0.439815

-------------------------------

confusion matrix:
[[541   8]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09674099832773209
difference in average predicted and observed risk = -0.026262001672267915
number samples = 626
accuracy = 0.883387
precision class 0 = 0.892739
precision class 1 = 0.6
recall class 0 = 0.985428
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.014572
positive prediction rate = 0.031949
AUC of ROC = 0.828969
AUC of PRC = 0.419884
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[2233   16]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08310800045728683
difference in average predicted and observed risk = -0.0015479995427131604
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.925788
precision class 1 = 0.644444
recall class 0 = 0.992886
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.007114
positive prediction rate = 0.018315
AUC of ROC = 0.833999
AUC of PRC = 0.363611
min(+P, Se) = 0.350962

-------------------------------

confusion matrix:
[[216   7]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.090768001973629
difference in average predicted and observed risk = -0.010037998026371009
number samples = 248
accuracy = 0.879032
precision class 0 = 0.903766
precision class 1 = 0.222222
recall class 0 = 0.96861
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.03139
positive prediction rate = 0.03629
AUC of ROC = 0.765561
AUC of PRC = 0.243879
min(+P, Se) = 0.321429

-------------------------------

confusion matrix:
[[472   9]
 [ 58  24]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12071499973535538
difference in average predicted and observed risk = -0.024933000264644622
number samples = 563
accuracy = 0.880995
precision class 0 = 0.890566
precision class 1 = 0.727273
recall class 0 = 0.981289
recall class 1 = 0.292683
false negative rate = 0.707317
false positive rate = 0.018711
positive prediction rate = 0.058615
AUC of ROC = 0.861721
AUC of PRC = 0.578888
min(+P, Se) = 0.547619

-------------------------------

confusion matrix:
[[644  11]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10592000186443329
difference in average predicted and observed risk = -0.0017089981355667139
number samples = 734
accuracy = 0.900545
precision class 0 = 0.912181
precision class 1 = 0.607143
recall class 0 = 0.983206
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.016794
positive prediction rate = 0.038147
AUC of ROC = 0.831191
AUC of PRC = 0.43054
min(+P, Se) = 0.43038

-------------------------------

confusion matrix:
[[4106   51]
 [ 387   84]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09355500340461731
difference in average predicted and observed risk = -0.008216996595382692
number samples = 4628
accuracy = 0.905359
precision class 0 = 0.913866
precision class 1 = 0.622222
recall class 0 = 0.987732
recall class 1 = 0.178344
false negative rate = 0.821656
false positive rate = 0.012268
positive prediction rate = 0.02917
AUC of ROC = 0.835225
AUC of PRC = 0.411695
min(+P, Se) = 0.412008

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09058500081300735
difference in average predicted and observed risk = 0.01041600081300735
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.895703
AUC of PRC = 0.39539
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08979599922895432
difference in average predicted and observed risk = -0.01900000077104569
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.821056
AUC of PRC = 0.427541
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1227710023522377
difference in average predicted and observed risk = 0.012602002352237698
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.871062
AUC of PRC = 0.639663
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12323900312185287
difference in average predicted and observed risk = -0.010093996878147132
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10340700298547745
difference in average predicted and observed risk = -0.011636997014522546
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.813504
AUC of PRC = 0.382465
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09077300131320953
difference in average predicted and observed risk = -0.0012769986867904731
number samples = 478
accuracy = 0.92887
precision class 0 = 0.929185
precision class 1 = 0.916667
recall class 0 = 0.997696
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.002304
positive prediction rate = 0.025105
AUC of ROC = 0.87788
AUC of PRC = 0.558662
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[388   0]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08384499698877335
difference in average predicted and observed risk = -0.0053570030112266576
number samples = 426
accuracy = 0.922535
precision class 0 = 0.921615
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.0
positive prediction rate = 0.011737
AUC of ROC = 0.85723
AUC of PRC = 0.469115
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11305300146341324
difference in average predicted and observed risk = -0.004593998536586763
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.882407
AUC of PRC = 0.632592
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09249400347471237
difference in average predicted and observed risk = 0.0037840034747123746
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.849558
AUC of PRC = 0.280985
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11543100327253342
difference in average predicted and observed risk = -0.03417499672746657
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.814815
AUC of PRC = 0.580523
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.13332000374794006
difference in average predicted and observed risk = 0.05437300374794006
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09601499885320663
difference in average predicted and observed risk = -0.005576001146793366
number samples = 817
accuracy = 0.911873
precision class 0 = 0.914787
precision class 1 = 0.789474
recall class 0 = 0.99455
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.00545
positive prediction rate = 0.023256
AUC of ROC = 0.852467
AUC of PRC = 0.481792
min(+P, Se) = 0.517647

-------------------------------

Epoch 00013: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch13.state
Epoch 14/100
 - 279s - loss: 0.2701 - val_loss: 0.2426

==>predicting on train



confusion matrix:
[[2153    2]
 [ 243   12]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07725399732589722
difference in average predicted and observed risk = -0.028555002674102783
number samples = 2410
accuracy = 0.89834
precision class 0 = 0.898581
precision class 1 = 0.857143
recall class 0 = 0.999072
recall class 1 = 0.047059
false negative rate = 0.952941
false positive rate = 0.000928
positive prediction rate = 0.005809
AUC of ROC = 0.845814
AUC of PRC = 0.462117
min(+P, Se) = 0.472656

-------------------------------

confusion matrix:
[[1171    8]
 [ 112    6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07954499870538712
difference in average predicted and observed risk = -0.011434001294612889
number samples = 1297
accuracy = 0.907479
precision class 0 = 0.912705
precision class 1 = 0.428571
recall class 0 = 0.993215
recall class 1 = 0.050847
false negative rate = 0.949153
false positive rate = 0.006785
positive prediction rate = 0.010794
AUC of ROC = 0.870301
AUC of PRC = 0.382747
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[654   2]
 [ 68   6]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09025900065898895
difference in average predicted and observed risk = -0.01111099934101105
number samples = 730
accuracy = 0.90411
precision class 0 = 0.905817
precision class 1 = 0.75
recall class 0 = 0.996951
recall class 1 = 0.081081
false negative rate = 0.918919
false positive rate = 0.003049
positive prediction rate = 0.010959
AUC of ROC = 0.845501
AUC of PRC = 0.425073
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08521299809217453
difference in average predicted and observed risk = -0.04044100190782546
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.901697
AUC of PRC = 0.670139
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2468    6]
 [ 242   13]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07632199674844742
difference in average predicted and observed risk = -0.017119003251552578
number samples = 2729
accuracy = 0.909124
precision class 0 = 0.910701
precision class 1 = 0.684211
recall class 0 = 0.997575
recall class 1 = 0.05098
false negative rate = 0.94902
false positive rate = 0.002425
positive prediction rate = 0.006962
AUC of ROC = 0.858275
AUC of PRC = 0.406017
min(+P, Se) = 0.40856

-------------------------------

confusion matrix:
[[1677    6]
 [ 201   15]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08595799654722214
difference in average predicted and observed risk = -0.02778600345277786
number samples = 1899
accuracy = 0.890995
precision class 0 = 0.892971
precision class 1 = 0.714286
recall class 0 = 0.996435
recall class 1 = 0.069444
false negative rate = 0.930556
false positive rate = 0.003565
positive prediction rate = 0.011058
AUC of ROC = 0.849395
AUC of PRC = 0.4651
min(+P, Se) = 0.467593

-------------------------------

confusion matrix:
[[548   1]
 [ 72   5]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08246300369501114
difference in average predicted and observed risk = -0.04053999630498886
number samples = 626
accuracy = 0.883387
precision class 0 = 0.883871
precision class 1 = 0.833333
recall class 0 = 0.998178
recall class 1 = 0.064935
false negative rate = 0.935065
false positive rate = 0.001821
positive prediction rate = 0.009585
AUC of ROC = 0.856197
AUC of PRC = 0.470739
min(+P, Se) = 0.512821

-------------------------------

confusion matrix:
[[2246    3]
 [ 200    8]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07308100163936615
difference in average predicted and observed risk = -0.011574998360633845
number samples = 2457
accuracy = 0.917379
precision class 0 = 0.918234
precision class 1 = 0.727273
recall class 0 = 0.998666
recall class 1 = 0.038462
false negative rate = 0.961538
false positive rate = 0.001334
positive prediction rate = 0.004477
AUC of ROC = 0.853529
AUC of PRC = 0.381293
min(+P, Se) = 0.378855

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0774649977684021
difference in average predicted and observed risk = -0.023341002231597907
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.762332
AUC of PRC = 0.249521
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[478   3]
 [ 76   6]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09708700329065323
difference in average predicted and observed risk = -0.04856099670934677
number samples = 563
accuracy = 0.85968
precision class 0 = 0.862816
precision class 1 = 0.666667
recall class 0 = 0.993763
recall class 1 = 0.073171
false negative rate = 0.926829
false positive rate = 0.006237
positive prediction rate = 0.015986
AUC of ROC = 0.877212
AUC of PRC = 0.581012
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[652   3]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.090550996363163
difference in average predicted and observed risk = -0.017078003636837008
number samples = 734
accuracy = 0.900545
precision class 0 = 0.903047
precision class 1 = 0.75
recall class 0 = 0.99542
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.00458
positive prediction rate = 0.016349
AUC of ROC = 0.856972
AUC of PRC = 0.472471
min(+P, Se) = 0.45977

-------------------------------

confusion matrix:
[[4145   12]
 [ 443   28]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0802759975194931
difference in average predicted and observed risk = -0.0214960024805069
number samples = 4628
accuracy = 0.901685
precision class 0 = 0.903444
precision class 1 = 0.7
recall class 0 = 0.997113
recall class 1 = 0.059448
false negative rate = 0.940552
false positive rate = 0.002887
positive prediction rate = 0.008643
AUC of ROC = 0.854708
AUC of PRC = 0.432808
min(+P, Se) = 0.438819

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07766900211572647
difference in average predicted and observed risk = -0.002499997884273533
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.889425
AUC of PRC = 0.376847
min(+P, Se) = 0.478261

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07702799886465073
difference in average predicted and observed risk = -0.03176800113534928
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.858856
AUC of PRC = 0.532555
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10353299975395203
difference in average predicted and observed risk = -0.006636000246047977
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.863004
AUC of PRC = 0.63572
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10993900150060654
difference in average predicted and observed risk = -0.02339399849939347
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08787199854850769
difference in average predicted and observed risk = -0.027172001451492303
number samples = 339
accuracy = 0.887906
precision class 0 = 0.889881
precision class 1 = 0.666667
recall class 0 = 0.996667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.003333
positive prediction rate = 0.00885
AUC of ROC = 0.833419
AUC of PRC = 0.440484
min(+P, Se) = 0.44186

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07826399803161621
difference in average predicted and observed risk = -0.013786001968383796
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.897937
AUC of PRC = 0.576774
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07360299676656723
difference in average predicted and observed risk = -0.015599003233432773
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.889175
AUC of PRC = 0.50913
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08711499720811844
difference in average predicted and observed risk = -0.030532002791881563
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.87963
AUC of PRC = 0.672216
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08041500300168991
difference in average predicted and observed risk = -0.008294996998310086
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.877715
AUC of PRC = 0.347087
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10227899998426437
difference in average predicted and observed risk = -0.047327000015735615
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.810916
AUC of PRC = 0.568538
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10519500076770782
difference in average predicted and observed risk = 0.02624800076770782
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.961905
AUC of PRC = 0.677778
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[732   2]
 [ 76   7]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08225099742412567
difference in average predicted and observed risk = -0.01934000257587433
number samples = 817
accuracy = 0.904529
precision class 0 = 0.905941
precision class 1 = 0.777778
recall class 0 = 0.997275
recall class 1 = 0.084337
false negative rate = 0.915663
false positive rate = 0.002725
positive prediction rate = 0.011016
AUC of ROC = 0.871377
AUC of PRC = 0.518744
min(+P, Se) = 0.506024

-------------------------------

Epoch 00014: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch14.state
Epoch 15/100
 - 278s - loss: 0.2691 - val_loss: 0.2480

==>predicting on train



confusion matrix:
[[2151    4]
 [ 237   18]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07358899712562561
difference in average predicted and observed risk = -0.03222000287437439
number samples = 2410
accuracy = 0.9
precision class 0 = 0.900754
precision class 1 = 0.818182
recall class 0 = 0.998144
recall class 1 = 0.070588
false negative rate = 0.929412
false positive rate = 0.001856
positive prediction rate = 0.009129
AUC of ROC = 0.824177
AUC of PRC = 0.441135
min(+P, Se) = 0.439216

-------------------------------

confusion matrix:
[[1169   10]
 [ 106   12]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0796080008149147
difference in average predicted and observed risk = -0.011370999185085301
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.916863
precision class 1 = 0.545455
recall class 0 = 0.991518
recall class 1 = 0.101695
false negative rate = 0.898305
false positive rate = 0.008482
positive prediction rate = 0.016962
AUC of ROC = 0.835109
AUC of PRC = 0.356481
min(+P, Se) = 0.392308

-------------------------------

confusion matrix:
[[652   4]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09159400314092636
difference in average predicted and observed risk = -0.00977599685907364
number samples = 730
accuracy = 0.909589
precision class 0 = 0.913165
precision class 1 = 0.75
recall class 0 = 0.993902
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.006098
positive prediction rate = 0.021918
AUC of ROC = 0.800696
AUC of PRC = 0.415007
min(+P, Se) = 0.418919

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08602499961853027
difference in average predicted and observed risk = -0.039629000381469714
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.877495
AUC of PRC = 0.655244
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2463   11]
 [ 230   25]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07554499804973602
difference in average predicted and observed risk = -0.017896001950263973
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.914593
precision class 1 = 0.694444
recall class 0 = 0.995554
recall class 1 = 0.098039
false negative rate = 0.901961
false positive rate = 0.004446
positive prediction rate = 0.013192
AUC of ROC = 0.82343
AUC of PRC = 0.38412
min(+P, Se) = 0.40856

-------------------------------

confusion matrix:
[[1675    8]
 [ 194   22]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08306100219488144
difference in average predicted and observed risk = -0.03068299780511856
number samples = 1899
accuracy = 0.893628
precision class 0 = 0.896201
precision class 1 = 0.733333
recall class 0 = 0.995247
recall class 1 = 0.101852
false negative rate = 0.898148
false positive rate = 0.004753
positive prediction rate = 0.015798
AUC of ROC = 0.827122
AUC of PRC = 0.451804
min(+P, Se) = 0.472222

-------------------------------

confusion matrix:
[[547   2]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08211600035429001
difference in average predicted and observed risk = -0.04088699964570999
number samples = 626
accuracy = 0.883387
precision class 0 = 0.885113
precision class 1 = 0.75
recall class 0 = 0.996357
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.003643
positive prediction rate = 0.01278
AUC of ROC = 0.816171
AUC of PRC = 0.419194
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[2245    4]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06983999907970428
difference in average predicted and observed risk = -0.01481600092029571
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.921593
precision class 1 = 0.809524
recall class 0 = 0.998221
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.001779
positive prediction rate = 0.008547
AUC of ROC = 0.830525
AUC of PRC = 0.358161
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[219   4]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07517100125551224
difference in average predicted and observed risk = -0.02563499874448777
number samples = 248
accuracy = 0.883065
precision class 0 = 0.897541
precision class 1 = 0.0
recall class 0 = 0.982063
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.017937
positive prediction rate = 0.016129
AUC of ROC = 0.753722
AUC of PRC = 0.238799
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[476   5]
 [ 72  10]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10048100352287292
difference in average predicted and observed risk = -0.045166996477127075
number samples = 563
accuracy = 0.863233
precision class 0 = 0.868613
precision class 1 = 0.666667
recall class 0 = 0.989605
recall class 1 = 0.121951
false negative rate = 0.878049
false positive rate = 0.010395
positive prediction rate = 0.026643
AUC of ROC = 0.844202
AUC of PRC = 0.571192
min(+P, Se) = 0.566265

-------------------------------

confusion matrix:
[[651   4]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08947999775409698
difference in average predicted and observed risk = -0.018149002245903018
number samples = 734
accuracy = 0.905995
precision class 0 = 0.909218
precision class 1 = 0.777778
recall class 0 = 0.993893
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.006107
positive prediction rate = 0.024523
AUC of ROC = 0.819809
AUC of PRC = 0.448764
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4138   19]
 [ 424   47]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07862900197505951
difference in average predicted and observed risk = -0.023142998024940492
number samples = 4628
accuracy = 0.904278
precision class 0 = 0.907058
precision class 1 = 0.712121
recall class 0 = 0.995429
recall class 1 = 0.099788
false negative rate = 0.900212
false positive rate = 0.004571
positive prediction rate = 0.014261
AUC of ROC = 0.825502
AUC of PRC = 0.412342
min(+P, Se) = 0.43949

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07660400122404099
difference in average predicted and observed risk = -0.003564998775959019
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.887253
AUC of PRC = 0.349232
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07485099881887436
difference in average predicted and observed risk = -0.033945001181125645
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.811937
AUC of PRC = 0.482096
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10458400100469589
difference in average predicted and observed risk = -0.005584998995304111
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.850549
AUC of PRC = 0.628616
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11180400103330612
difference in average predicted and observed risk = -0.021528998966693885
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0856349989771843
difference in average predicted and observed risk = -0.029409001022815698
number samples = 339
accuracy = 0.887906
precision class 0 = 0.889881
precision class 1 = 0.666667
recall class 0 = 0.996667
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.003333
positive prediction rate = 0.00885
AUC of ROC = 0.821368
AUC of PRC = 0.396118
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07773099839687347
difference in average predicted and observed risk = -0.014319001603126533
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.854786
AUC of PRC = 0.548527
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07090699672698975
difference in average predicted and observed risk = -0.018295003273010257
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.83729
AUC of PRC = 0.475233
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09421399980783463
difference in average predicted and observed risk = -0.023433000192165376
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.891667
AUC of PRC = 0.648956
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07654999941587448
difference in average predicted and observed risk = -0.012160000584125516
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.842317
AUC of PRC = 0.315106
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[107   1]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09942399710416794
difference in average predicted and observed risk = -0.05018200289583205
number samples = 127
accuracy = 0.874016
precision class 0 = 0.877049
precision class 1 = 0.8
recall class 0 = 0.990741
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009259
positive prediction rate = 0.03937
AUC of ROC = 0.818226
AUC of PRC = 0.580195
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11186199635267258
difference in average predicted and observed risk = 0.032914996352672574
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[732   2]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08101099729537964
difference in average predicted and observed risk = -0.020580002704620362
number samples = 817
accuracy = 0.908201
precision class 0 = 0.909317
precision class 1 = 0.833333
recall class 0 = 0.997275
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.002725
positive prediction rate = 0.014688
AUC of ROC = 0.842044
AUC of PRC = 0.487729
min(+P, Se) = 0.493976

-------------------------------

Epoch 00015: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch15.state
Epoch 16/100
 - 279s - loss: 0.2679 - val_loss: 0.2552

==>predicting on train



confusion matrix:
[[2149    6]
 [ 229   26]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.049313001334667206
difference in average predicted and observed risk = -0.056495998665332794
number samples = 2410
accuracy = 0.90249
precision class 0 = 0.903701
precision class 1 = 0.8125
recall class 0 = 0.997216
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.002784
positive prediction rate = 0.013278
AUC of ROC = 0.836846
AUC of PRC = 0.449397
min(+P, Se) = 0.428016

-------------------------------

confusion matrix:
[[1166   13]
 [ 103   15]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.05632999911904335
difference in average predicted and observed risk = -0.034649000880956654
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.918834
precision class 1 = 0.535714
recall class 0 = 0.988974
recall class 1 = 0.127119
false negative rate = 0.872881
false positive rate = 0.011026
positive prediction rate = 0.021588
AUC of ROC = 0.858779
AUC of PRC = 0.383451
min(+P, Se) = 0.420168

-------------------------------

confusion matrix:
[[649   7]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.06719899922609329
difference in average predicted and observed risk = -0.03417100077390671
number samples = 730
accuracy = 0.905479
precision class 0 = 0.912799
precision class 1 = 0.631579
recall class 0 = 0.989329
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.010671
positive prediction rate = 0.026027
AUC of ROC = 0.827765
AUC of PRC = 0.411539
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06306499987840652
difference in average predicted and observed risk = -0.06258900012159346
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.897705
AUC of PRC = 0.681515
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2458   16]
 [ 225   30]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.052769001573324203
difference in average predicted and observed risk = -0.04067199842667579
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.916139
precision class 1 = 0.652174
recall class 0 = 0.993533
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.006467
positive prediction rate = 0.016856
AUC of ROC = 0.842917
AUC of PRC = 0.397882
min(+P, Se) = 0.390805

-------------------------------

confusion matrix:
[[1672   11]
 [ 186   30]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0573979988694191
difference in average predicted and observed risk = -0.0563460011305809
number samples = 1899
accuracy = 0.896261
precision class 0 = 0.899892
precision class 1 = 0.731707
recall class 0 = 0.993464
recall class 1 = 0.138889
false negative rate = 0.861111
false positive rate = 0.006536
positive prediction rate = 0.02159
AUC of ROC = 0.8438
AUC of PRC = 0.465698
min(+P, Se) = 0.463636

-------------------------------

confusion matrix:
[[545   4]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.058368999511003494
difference in average predicted and observed risk = -0.06463400048899651
number samples = 626
accuracy = 0.881789
precision class 0 = 0.886179
precision class 1 = 0.636364
recall class 0 = 0.992714
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.007286
positive prediction rate = 0.017572
AUC of ROC = 0.845291
AUC of PRC = 0.440263
min(+P, Se) = 0.480519

-------------------------------

confusion matrix:
[[2240    9]
 [ 187   21]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.04458700120449066
difference in average predicted and observed risk = -0.040068998795509334
number samples = 2457
accuracy = 0.920228
precision class 0 = 0.92295
precision class 1 = 0.7
recall class 0 = 0.995998
recall class 1 = 0.100962
false negative rate = 0.899038
false positive rate = 0.004002
positive prediction rate = 0.01221
AUC of ROC = 0.837237
AUC of PRC = 0.363623
min(+P, Se) = 0.341346

-------------------------------

confusion matrix:
[[218   5]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.05174500122666359
difference in average predicted and observed risk = -0.04906099877333642
number samples = 248
accuracy = 0.883065
precision class 0 = 0.900826
precision class 1 = 0.166667
recall class 0 = 0.977578
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.022422
positive prediction rate = 0.024194
AUC of ROC = 0.748341
AUC of PRC = 0.232814
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[476   5]
 [ 64  18]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.07966399937868118
difference in average predicted and observed risk = -0.06598400062131882
number samples = 563
accuracy = 0.877442
precision class 0 = 0.881481
precision class 1 = 0.782609
recall class 0 = 0.989605
recall class 1 = 0.219512
false negative rate = 0.780488
false positive rate = 0.010395
positive prediction rate = 0.040853
AUC of ROC = 0.877085
AUC of PRC = 0.603005
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0670740008354187
difference in average predicted and observed risk = -0.0405549991645813
number samples = 734
accuracy = 0.904632
precision class 0 = 0.90795
precision class 1 = 0.764706
recall class 0 = 0.993893
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.006107
positive prediction rate = 0.023161
AUC of ROC = 0.845338
AUC of PRC = 0.464695
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[4130   27]
 [ 411   60]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.05466800183057785
difference in average predicted and observed risk = -0.04710399816942215
number samples = 4628
accuracy = 0.905359
precision class 0 = 0.909491
precision class 1 = 0.689655
recall class 0 = 0.993505
recall class 1 = 0.127389
false negative rate = 0.872611
false positive rate = 0.006495
positive prediction rate = 0.018799
AUC of ROC = 0.843592
AUC of PRC = 0.426374
min(+P, Se) = 0.422505

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.05474400147795677
difference in average predicted and observed risk = -0.025424998522043232
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.886528
AUC of PRC = 0.384531
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.047828998416662216
difference in average predicted and observed risk = -0.06096700158333779
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.843272
AUC of PRC = 0.477926
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.0828780010342598
difference in average predicted and observed risk = -0.027290998965740207
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.879853
AUC of PRC = 0.64692
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08635400235652924
difference in average predicted and observed risk = -0.04697899764347077
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.05933000147342682
difference in average predicted and observed risk = -0.055713998526573175
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.821709
AUC of PRC = 0.410623
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.05417200177907944
difference in average predicted and observed risk = -0.03787799822092057
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.88961
AUC of PRC = 0.558263
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.045903000980615616
difference in average predicted and observed risk = -0.04329899901938439
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.87717
AUC of PRC = 0.479608
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.070203997194767
difference in average predicted and observed risk = -0.047443002805233
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.881481
AUC of PRC = 0.628101
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.05067700147628784
difference in average predicted and observed risk = -0.038032998523712155
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.864843
AUC of PRC = 0.322788
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.07735099643468857
difference in average predicted and observed risk = -0.07225500356531142
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.809942
AUC of PRC = 0.593191
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0837860032916069
difference in average predicted and observed risk = 0.0048390032916069
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[731   3]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.05631199851632118
difference in average predicted and observed risk = -0.04527900148367882
number samples = 817
accuracy = 0.909425
precision class 0 = 0.911471
precision class 1 = 0.8
recall class 0 = 0.995913
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.004087
positive prediction rate = 0.01836
AUC of ROC = 0.862759
AUC of PRC = 0.495651
min(+P, Se) = 0.506024

-------------------------------

Epoch 00016: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch16.state
Epoch 17/100
 - 278s - loss: 0.2671 - val_loss: 0.2402

==>predicting on train



confusion matrix:
[[2152    3]
 [ 237   18]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07525999844074249
difference in average predicted and observed risk = -0.030549001559257508
number samples = 2410
accuracy = 0.900415
precision class 0 = 0.900795
precision class 1 = 0.857143
recall class 0 = 0.998608
recall class 1 = 0.070588
false negative rate = 0.929412
false positive rate = 0.001392
positive prediction rate = 0.008714
AUC of ROC = 0.838823
AUC of PRC = 0.459917
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1168   11]
 [ 106   12]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07850100100040436
difference in average predicted and observed risk = -0.012477998999595646
number samples = 1297
accuracy = 0.909792
precision class 0 = 0.916797
precision class 1 = 0.521739
recall class 0 = 0.99067
recall class 1 = 0.101695
false negative rate = 0.898305
false positive rate = 0.00933
positive prediction rate = 0.017733
AUC of ROC = 0.861115
AUC of PRC = 0.388928
min(+P, Se) = 0.408333

-------------------------------

confusion matrix:
[[653   3]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09246399998664856
difference in average predicted and observed risk = -0.008906000013351442
number samples = 730
accuracy = 0.909589
precision class 0 = 0.912011
precision class 1 = 0.785714
recall class 0 = 0.995427
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.004573
positive prediction rate = 0.019178
AUC of ROC = 0.844636
AUC of PRC = 0.430964
min(+P, Se) = 0.445946

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08517999947071075
difference in average predicted and observed risk = -0.040474000529289234
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.90519
AUC of PRC = 0.684512
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2463   11]
 [ 234   21]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07497300207614899
difference in average predicted and observed risk = -0.01846799792385101
number samples = 2729
accuracy = 0.910224
precision class 0 = 0.913237
precision class 1 = 0.65625
recall class 0 = 0.995554
recall class 1 = 0.082353
false negative rate = 0.917647
false positive rate = 0.004446
positive prediction rate = 0.011726
AUC of ROC = 0.848747
AUC of PRC = 0.407914
min(+P, Se) = 0.415686

-------------------------------

confusion matrix:
[[1676    7]
 [ 192   24]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08549699932336807
difference in average predicted and observed risk = -0.028247000676631925
number samples = 1899
accuracy = 0.895208
precision class 0 = 0.897216
precision class 1 = 0.774194
recall class 0 = 0.995841
recall class 1 = 0.111111
false negative rate = 0.888889
false positive rate = 0.004159
positive prediction rate = 0.016324
AUC of ROC = 0.847192
AUC of PRC = 0.472573
min(+P, Se) = 0.474654

-------------------------------

confusion matrix:
[[546   3]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08398500084877014
difference in average predicted and observed risk = -0.03901799915122986
number samples = 626
accuracy = 0.883387
precision class 0 = 0.886364
precision class 1 = 0.7
recall class 0 = 0.994536
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.005464
positive prediction rate = 0.015974
AUC of ROC = 0.853476
AUC of PRC = 0.464636
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[2244    5]
 [ 192   16]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07001599669456482
difference in average predicted and observed risk = -0.014640003305435176
number samples = 2457
accuracy = 0.919821
precision class 0 = 0.921182
precision class 1 = 0.761905
recall class 0 = 0.997777
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.002223
positive prediction rate = 0.008547
AUC of ROC = 0.843029
AUC of PRC = 0.379778
min(+P, Se) = 0.383886

-------------------------------

confusion matrix:
[[220   3]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07684099674224854
difference in average predicted and observed risk = -0.02396500325775147
number samples = 248
accuracy = 0.887097
precision class 0 = 0.897959
precision class 1 = 0.0
recall class 0 = 0.986547
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.013453
positive prediction rate = 0.012097
AUC of ROC = 0.743498
AUC of PRC = 0.245817
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[477   4]
 [ 72  10]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10218200087547302
difference in average predicted and observed risk = -0.04346599912452698
number samples = 563
accuracy = 0.865009
precision class 0 = 0.868852
precision class 1 = 0.714286
recall class 0 = 0.991684
recall class 1 = 0.121951
false negative rate = 0.878049
false positive rate = 0.008316
positive prediction rate = 0.024867
AUC of ROC = 0.880077
AUC of PRC = 0.602076
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[652   3]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08960600197315216
difference in average predicted and observed risk = -0.018022998026847842
number samples = 734
accuracy = 0.904632
precision class 0 = 0.906815
precision class 1 = 0.8
recall class 0 = 0.99542
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.00458
positive prediction rate = 0.020436
AUC of ROC = 0.849647
AUC of PRC = 0.467224
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[4139   18]
 [ 426   45]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07929100096225739
difference in average predicted and observed risk = -0.022480999037742616
number samples = 4628
accuracy = 0.904062
precision class 0 = 0.906681
precision class 1 = 0.714286
recall class 0 = 0.99567
recall class 1 = 0.095541
false negative rate = 0.904459
false positive rate = 0.00433
positive prediction rate = 0.013613
AUC of ROC = 0.84848
AUC of PRC = 0.437304
min(+P, Se) = 0.441614

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07654599845409393
difference in average predicted and observed risk = -0.003623001545906071
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.884597
AUC of PRC = 0.371219
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07480499893426895
difference in average predicted and observed risk = -0.03399100106573105
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.857917
AUC of PRC = 0.507326
min(+P, Se) = 0.46

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10648400336503983
difference in average predicted and observed risk = -0.0036849966349601776
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.863736
AUC of PRC = 0.636989
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11374399811029434
difference in average predicted and observed risk = -0.019589001889705665
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.088919997215271
difference in average predicted and observed risk = -0.026124002784728997
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.825128
AUC of PRC = 0.411417
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[433   1]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07592199742794037
difference in average predicted and observed risk = -0.016128002572059638
number samples = 478
accuracy = 0.920502
precision class 0 = 0.921277
precision class 1 = 0.875
recall class 0 = 0.997696
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.002304
positive prediction rate = 0.016736
AUC of ROC = 0.896837
AUC of PRC = 0.577961
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07007300108671188
difference in average predicted and observed risk = -0.01912899891328812
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.883342
AUC of PRC = 0.488553
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09264399856328964
difference in average predicted and observed risk = -0.02500300143671036
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.876852
AUC of PRC = 0.635188
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0777060016989708
difference in average predicted and observed risk = -0.011003998301029203
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.87852
AUC of PRC = 0.331377
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10365600138902664
difference in average predicted and observed risk = -0.04594999861097335
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.816277
AUC of PRC = 0.583606
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11405300348997116
difference in average predicted and observed risk = 0.03510600348997116
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[731   3]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08131500333547592
difference in average predicted and observed risk = -0.02027599666452408
number samples = 817
accuracy = 0.905753
precision class 0 = 0.908075
precision class 1 = 0.75
recall class 0 = 0.995913
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.004087
positive prediction rate = 0.014688
AUC of ROC = 0.86834
AUC of PRC = 0.504552
min(+P, Se) = 0.493976

-------------------------------

Epoch 00017: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch17.state
Epoch 18/100
 - 281s - loss: 0.2665 - val_loss: 0.2323

==>predicting on train



confusion matrix:
[[2150    5]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0840890035033226
difference in average predicted and observed risk = -0.0217199964966774
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.906026
precision class 1 = 0.864865
recall class 0 = 0.99768
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.00232
positive prediction rate = 0.015353
AUC of ROC = 0.84456
AUC of PRC = 0.477072
min(+P, Se) = 0.455253

-------------------------------

confusion matrix:
[[1164   15]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08932899683713913
difference in average predicted and observed risk = -0.0016500031628608747
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.92381
precision class 1 = 0.594595
recall class 0 = 0.987277
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.012723
positive prediction rate = 0.028527
AUC of ROC = 0.867268
AUC of PRC = 0.412644
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[649   7]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10209999978542328
difference in average predicted and observed risk = 0.000729999785423277
number samples = 730
accuracy = 0.905479
precision class 0 = 0.912799
precision class 1 = 0.631579
recall class 0 = 0.989329
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.010671
positive prediction rate = 0.026027
AUC of ROC = 0.844595
AUC of PRC = 0.431739
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09361399710178375
difference in average predicted and observed risk = -0.032040002898216235
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.922655
AUC of PRC = 0.698421
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2459   15]
 [ 218   37]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0840890035033226
difference in average predicted and observed risk = -0.009351996496677395
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.918566
precision class 1 = 0.711538
recall class 0 = 0.993937
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.006063
positive prediction rate = 0.019055
AUC of ROC = 0.854231
AUC of PRC = 0.420191
min(+P, Se) = 0.417969

-------------------------------

confusion matrix:
[[1670   13]
 [ 180   36]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09555000066757202
difference in average predicted and observed risk = -0.018193999332427976
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.902703
precision class 1 = 0.734694
recall class 0 = 0.992276
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.007724
positive prediction rate = 0.025803
AUC of ROC = 0.853263
AUC of PRC = 0.488825
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[545   4]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09360700100660324
difference in average predicted and observed risk = -0.02939599899339676
number samples = 626
accuracy = 0.888179
precision class 0 = 0.89198
precision class 1 = 0.733333
recall class 0 = 0.992714
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.007286
positive prediction rate = 0.023962
AUC of ROC = 0.857923
AUC of PRC = 0.474134
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2241    8]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07853800058364868
difference in average predicted and observed risk = -0.0061179994163513135
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924124
precision class 1 = 0.75
recall class 0 = 0.996443
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003557
positive prediction rate = 0.013024
AUC of ROC = 0.849621
AUC of PRC = 0.395658
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[217   6]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08817800134420395
difference in average predicted and observed risk = -0.012627998655796058
number samples = 248
accuracy = 0.883065
precision class 0 = 0.904167
precision class 1 = 0.25
recall class 0 = 0.973094
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.026906
positive prediction rate = 0.032258
AUC of ROC = 0.757489
AUC of PRC = 0.246817
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 61  21]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11392500251531601
difference in average predicted and observed risk = -0.03172299748468399
number samples = 563
accuracy = 0.882771
precision class 0 = 0.886406
precision class 1 = 0.807692
recall class 0 = 0.989605
recall class 1 = 0.256098
false negative rate = 0.743902
false positive rate = 0.010395
positive prediction rate = 0.046181
AUC of ROC = 0.88061
AUC of PRC = 0.610937
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0999390035867691
difference in average predicted and observed risk = -0.0076899964132308984
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.856102
AUC of PRC = 0.490561
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4129   28]
 [ 398   73]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08879200369119644
difference in average predicted and observed risk = -0.01297999630880356
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.912083
precision class 1 = 0.722772
recall class 0 = 0.993264
recall class 1 = 0.154989
false negative rate = 0.845011
false positive rate = 0.006736
positive prediction rate = 0.021824
AUC of ROC = 0.854052
AUC of PRC = 0.451345
min(+P, Se) = 0.454737

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08548100292682648
difference in average predicted and observed risk = 0.005312002926826473
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.904877
AUC of PRC = 0.453426
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08381800353527069
difference in average predicted and observed risk = -0.024977996464729313
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.867975
AUC of PRC = 0.52387
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11640100181102753
difference in average predicted and observed risk = 0.006232001811027524
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.873993
AUC of PRC = 0.671504
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1226620003581047
difference in average predicted and observed risk = -0.010670999641895301
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09792400151491165
difference in average predicted and observed risk = -0.017119998485088342
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.835128
AUC of PRC = 0.426673
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[432   2]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08511999994516373
difference in average predicted and observed risk = -0.00693000005483628
number samples = 478
accuracy = 0.924686
precision class 0 = 0.927039
precision class 1 = 0.833333
recall class 0 = 0.995392
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.004608
positive prediction rate = 0.025105
AUC of ROC = 0.910086
AUC of PRC = 0.602583
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07904499769210815
difference in average predicted and observed risk = -0.01015700230789185
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.893041
AUC of PRC = 0.493219
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10305999964475632
difference in average predicted and observed risk = -0.014587000355243684
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.878704
AUC of PRC = 0.644335
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0852309986948967
difference in average predicted and observed risk = -0.003479001305103299
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.89461
AUC of PRC = 0.381895
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11297299712896347
difference in average predicted and observed risk = -0.03663300287103652
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.846004
AUC of PRC = 0.602329
min(+P, Se) = 0.631579

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12584200501441956
difference in average predicted and observed risk = 0.04689500501441955
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09043300151824951
difference in average predicted and observed risk = -0.011157998481750489
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.881521
AUC of PRC = 0.531619
min(+P, Se) = 0.5

-------------------------------

Epoch 00018: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch18.state
Epoch 19/100
 - 283s - loss: 0.2678 - val_loss: 0.2384

==>predicting on train



confusion matrix:
[[2149    6]
 [ 233   22]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07093500345945358
difference in average predicted and observed risk = -0.03487399654054642
number samples = 2410
accuracy = 0.90083
precision class 0 = 0.902183
precision class 1 = 0.785714
recall class 0 = 0.997216
recall class 1 = 0.086275
false negative rate = 0.913725
false positive rate = 0.002784
positive prediction rate = 0.011618
AUC of ROC = 0.836233
AUC of PRC = 0.45889
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1168   11]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0738620012998581
difference in average predicted and observed risk = -0.01711699870014191
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.917518
precision class 1 = 0.541667
recall class 0 = 0.99067
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.00933
positive prediction rate = 0.018504
AUC of ROC = 0.863084
AUC of PRC = 0.40459
min(+P, Se) = 0.401639

-------------------------------

confusion matrix:
[[649   7]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08686099946498871
difference in average predicted and observed risk = -0.014509000535011293
number samples = 730
accuracy = 0.90274
precision class 0 = 0.910238
precision class 1 = 0.588235
recall class 0 = 0.989329
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.010671
positive prediction rate = 0.023288
AUC of ROC = 0.855121
AUC of PRC = 0.445588
min(+P, Se) = 0.459459

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07966700196266174
difference in average predicted and observed risk = -0.045986998037338245
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.905938
AUC of PRC = 0.67218
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2460   14]
 [ 229   26]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07133200019598007
difference in average predicted and observed risk = -0.022108999804019924
number samples = 2729
accuracy = 0.910956
precision class 0 = 0.914838
precision class 1 = 0.65
recall class 0 = 0.994341
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.005659
positive prediction rate = 0.014657
AUC of ROC = 0.850551
AUC of PRC = 0.407053
min(+P, Se) = 0.416342

-------------------------------

confusion matrix:
[[1672   11]
 [ 191   25]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07936500012874603
difference in average predicted and observed risk = -0.034378999871253965
number samples = 1899
accuracy = 0.893628
precision class 0 = 0.897477
precision class 1 = 0.694444
recall class 0 = 0.993464
recall class 1 = 0.115741
false negative rate = 0.884259
false positive rate = 0.006536
positive prediction rate = 0.018957
AUC of ROC = 0.847429
AUC of PRC = 0.479492
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[545   4]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07932300120592117
difference in average predicted and observed risk = -0.04367999879407883
number samples = 626
accuracy = 0.884984
precision class 0 = 0.88907
precision class 1 = 0.692308
recall class 0 = 0.992714
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.007286
positive prediction rate = 0.020767
AUC of ROC = 0.86185
AUC of PRC = 0.472983
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[2244    5]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06518299877643585
difference in average predicted and observed risk = -0.019473001223564143
number samples = 2457
accuracy = 0.920228
precision class 0 = 0.921561
precision class 1 = 0.772727
recall class 0 = 0.997777
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.002223
positive prediction rate = 0.008954
AUC of ROC = 0.842719
AUC of PRC = 0.385707
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[218   5]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07248000055551529
difference in average predicted and observed risk = -0.028325999444484717
number samples = 248
accuracy = 0.879032
precision class 0 = 0.897119
precision class 1 = 0.0
recall class 0 = 0.977578
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.022422
positive prediction rate = 0.020161
AUC of ROC = 0.73991
AUC of PRC = 0.240079
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[477   4]
 [ 68  14]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.097680002450943
difference in average predicted and observed risk = -0.047967997549057007
number samples = 563
accuracy = 0.872114
precision class 0 = 0.875229
precision class 1 = 0.777778
recall class 0 = 0.991684
recall class 1 = 0.170732
false negative rate = 0.829268
false positive rate = 0.008316
positive prediction rate = 0.031972
AUC of ROC = 0.880153
AUC of PRC = 0.596741
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[648   7]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08528199791908264
difference in average predicted and observed risk = -0.02234700208091736
number samples = 734
accuracy = 0.89782
precision class 0 = 0.905028
precision class 1 = 0.611111
recall class 0 = 0.989313
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.010687
positive prediction rate = 0.024523
AUC of ROC = 0.851174
AUC of PRC = 0.462405
min(+P, Se) = 0.45679

-------------------------------

confusion matrix:
[[4132   25]
 [ 420   51]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07462800294160843
difference in average predicted and observed risk = -0.027143997058391572
number samples = 4628
accuracy = 0.903846
precision class 0 = 0.907733
precision class 1 = 0.671053
recall class 0 = 0.993986
recall class 1 = 0.10828
false negative rate = 0.89172
false positive rate = 0.006014
positive prediction rate = 0.016422
AUC of ROC = 0.849572
AUC of PRC = 0.439373
min(+P, Se) = 0.445148

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07127399742603302
difference in average predicted and observed risk = -0.008895002573966984
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.880975
AUC of PRC = 0.445747
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06911800056695938
difference in average predicted and observed risk = -0.03967799943304062
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.865322
AUC of PRC = 0.535054
min(+P, Se) = 0.47541

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10249099880456924
difference in average predicted and observed risk = -0.007678001195430759
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.861538
AUC of PRC = 0.636038
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10718899965286255
difference in average predicted and observed risk = -0.026144000347137458
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08191700279712677
difference in average predicted and observed risk = -0.03312699720287322
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.82
AUC of PRC = 0.399617
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07173699885606766
difference in average predicted and observed risk = -0.02031300114393235
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.905059
AUC of PRC = 0.623799
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06475500017404556
difference in average predicted and observed risk = -0.02444699982595444
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.886734
AUC of PRC = 0.502651
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08760000020265579
difference in average predicted and observed risk = -0.03004699979734421
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.877778
AUC of PRC = 0.652628
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07198099792003632
difference in average predicted and observed risk = -0.01672900207996368
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.886565
AUC of PRC = 0.357874
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09892400354146957
difference in average predicted and observed risk = -0.050681996458530415
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.818713
AUC of PRC = 0.587404
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10659000277519226
difference in average predicted and observed risk = 0.027643002775192257
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.622222
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07596100121736526
difference in average predicted and observed risk = -0.025629998782634736
number samples = 817
accuracy = 0.909425
precision class 0 = 0.911471
precision class 1 = 0.8
recall class 0 = 0.995913
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.004087
positive prediction rate = 0.01836
AUC of ROC = 0.870818
AUC of PRC = 0.526526
min(+P, Se) = 0.511905

-------------------------------

Epoch 00019: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch19.state
Epoch 20/100
 - 282s - loss: 0.2651 - val_loss: 0.2403

==>predicting on train



confusion matrix:
[[2143   12]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07868999987840652
difference in average predicted and observed risk = -0.027119000121593476
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.910365
precision class 1 = 0.785714
recall class 0 = 0.994432
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.005568
positive prediction rate = 0.023237
AUC of ROC = 0.815541
AUC of PRC = 0.451247
min(+P, Se) = 0.431298

-------------------------------

confusion matrix:
[[1160   19]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08674199879169464
difference in average predicted and observed risk = -0.004237001208305363
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.926518
precision class 1 = 0.577778
recall class 0 = 0.983885
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.016115
positive prediction rate = 0.034695
AUC of ROC = 0.835368
AUC of PRC = 0.39408
min(+P, Se) = 0.391667

-------------------------------

confusion matrix:
[[640  16]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09752800315618515
difference in average predicted and observed risk = -0.0038419968438148516
number samples = 730
accuracy = 0.89863
precision class 0 = 0.916905
precision class 1 = 0.5
recall class 0 = 0.97561
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.02439
positive prediction rate = 0.043836
AUC of ROC = 0.830957
AUC of PRC = 0.408693
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0934469997882843
difference in average predicted and observed risk = -0.032207000211715686
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.88498
AUC of PRC = 0.648055
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2444   30]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08112700283527374
difference in average predicted and observed risk = -0.012313997164726254
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.922961
precision class 1 = 0.62963
recall class 0 = 0.987874
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.012126
positive prediction rate = 0.029681
AUC of ROC = 0.81937
AUC of PRC = 0.390712
min(+P, Se) = 0.403922

-------------------------------

confusion matrix:
[[1665   18]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08941300213336945
difference in average predicted and observed risk = -0.024330997866630552
number samples = 1899
accuracy = 0.899947
precision class 0 = 0.906369
precision class 1 = 0.709677
recall class 0 = 0.989305
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.010695
positive prediction rate = 0.032649
AUC of ROC = 0.833006
AUC of PRC = 0.47799
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[542   7]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08879200369119644
difference in average predicted and observed risk = -0.03421099630880356
number samples = 626
accuracy = 0.886581
precision class 0 = 0.894389
precision class 1 = 0.65
recall class 0 = 0.98725
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.01275
positive prediction rate = 0.031949
AUC of ROC = 0.839259
AUC of PRC = 0.451597
min(+P, Se) = 0.467532

-------------------------------

confusion matrix:
[[2234   15]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07329600304365158
difference in average predicted and observed risk = -0.011359996956348414
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.926586
precision class 1 = 0.673913
recall class 0 = 0.99333
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.00667
positive prediction rate = 0.018722
AUC of ROC = 0.812857
AUC of PRC = 0.369156
min(+P, Se) = 0.350962

-------------------------------

confusion matrix:
[[217   6]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08451099693775177
difference in average predicted and observed risk = -0.016295003062248237
number samples = 248
accuracy = 0.887097
precision class 0 = 0.90795
precision class 1 = 0.333333
recall class 0 = 0.973094
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.026906
positive prediction rate = 0.03629
AUC of ROC = 0.727892
AUC of PRC = 0.241079
min(+P, Se) = 0.323529

-------------------------------

confusion matrix:
[[472   9]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11238300055265427
difference in average predicted and observed risk = -0.03326499944734573
number samples = 563
accuracy = 0.888099
precision class 0 = 0.897338
precision class 1 = 0.756757
recall class 0 = 0.981289
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.018711
positive prediction rate = 0.065719
AUC of ROC = 0.868135
AUC of PRC = 0.604757
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[644  11]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09712299704551697
difference in average predicted and observed risk = -0.010506002954483035
number samples = 734
accuracy = 0.904632
precision class 0 = 0.916074
precision class 1 = 0.645161
recall class 0 = 0.983206
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.016794
positive prediction rate = 0.042234
AUC of ROC = 0.829104
AUC of PRC = 0.460368
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[4109   48]
 [ 376   95]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08452700078487396
difference in average predicted and observed risk = -0.01724499921512604
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.916165
precision class 1 = 0.664336
recall class 0 = 0.988453
recall class 1 = 0.201699
false negative rate = 0.798301
false positive rate = 0.011547
positive prediction rate = 0.030899
AUC of ROC = 0.826097
AUC of PRC = 0.428161
min(+P, Se) = 0.437367

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08162999898195267
difference in average predicted and observed risk = 0.001460998981952663
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.877837
AUC of PRC = 0.448594
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08018399775028229
difference in average predicted and observed risk = -0.028612002249717716
number samples = 432
accuracy = 0.895833
precision class 0 = 0.899061
precision class 1 = 0.666667
recall class 0 = 0.994805
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.005195
positive prediction rate = 0.013889
AUC of ROC = 0.841448
AUC of PRC = 0.43739
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1117129996418953
difference in average predicted and observed risk = 0.0015439996418952912
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.895238
AUC of PRC = 0.542534
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.113086998462677
difference in average predicted and observed risk = -0.020246001537323005
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0923129990696907
difference in average predicted and observed risk = -0.02273100093030929
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.80812
AUC of PRC = 0.352394
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[431   3]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08214700222015381
difference in average predicted and observed risk = -0.009902997779846198
number samples = 478
accuracy = 0.924686
precision class 0 = 0.928879
precision class 1 = 0.785714
recall class 0 = 0.993088
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.006912
positive prediction rate = 0.029289
AUC of ROC = 0.903016
AUC of PRC = 0.602168
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07530900090932846
difference in average predicted and observed risk = -0.013892999090671543
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.86347
AUC of PRC = 0.458402
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10265100002288818
difference in average predicted and observed risk = -0.014995999977111818
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.905556
AUC of PRC = 0.625971
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07915499806404114
difference in average predicted and observed risk = -0.00955500193595886
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.86967
AUC of PRC = 0.324263
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1076280027627945
difference in average predicted and observed risk = -0.041977997237205494
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.827485
AUC of PRC = 0.5081
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11906799674034119
difference in average predicted and observed risk = 0.04012099674034118
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0863649994134903
difference in average predicted and observed risk = -0.015226000586509705
number samples = 817
accuracy = 0.909425
precision class 0 = 0.914573
precision class 1 = 0.714286
recall class 0 = 0.991826
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.008174
positive prediction rate = 0.025704
AUC of ROC = 0.86463
AUC of PRC = 0.485588
min(+P, Se) = 0.505882

-------------------------------

Epoch 00020: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch20.state
Epoch 21/100
 - 281s - loss: 0.2633 - val_loss: 0.2450

==>predicting on train



confusion matrix:
[[2153    2]
 [ 245   10]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0618089996278286
difference in average predicted and observed risk = -0.0440000003721714
number samples = 2410
accuracy = 0.89751
precision class 0 = 0.897831
precision class 1 = 0.833333
recall class 0 = 0.999072
recall class 1 = 0.039216
false negative rate = 0.960784
false positive rate = 0.000928
positive prediction rate = 0.004979
AUC of ROC = 0.834244
AUC of PRC = 0.460282
min(+P, Se) = 0.454902

-------------------------------

confusion matrix:
[[1174    5]
 [ 111    7]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06467200070619583
difference in average predicted and observed risk = -0.026306999293804173
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.913619
precision class 1 = 0.583333
recall class 0 = 0.995759
recall class 1 = 0.059322
false negative rate = 0.940678
false positive rate = 0.004241
positive prediction rate = 0.009252
AUC of ROC = 0.857082
AUC of PRC = 0.390039
min(+P, Se) = 0.404959

-------------------------------

confusion matrix:
[[654   2]
 [ 67   7]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07474099844694138
difference in average predicted and observed risk = -0.026629001553058626
number samples = 730
accuracy = 0.905479
precision class 0 = 0.907073
precision class 1 = 0.777778
recall class 0 = 0.996951
recall class 1 = 0.094595
false negative rate = 0.905405
false positive rate = 0.003049
positive prediction rate = 0.012329
AUC of ROC = 0.852773
AUC of PRC = 0.438474
min(+P, Se) = 0.445946

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07167699933052063
difference in average predicted and observed risk = -0.05397700066947936
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.9002
AUC of PRC = 0.682061
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2469    5]
 [ 240   15]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.061430998146533966
difference in average predicted and observed risk = -0.03201000185346603
number samples = 2729
accuracy = 0.910224
precision class 0 = 0.911406
precision class 1 = 0.75
recall class 0 = 0.997979
recall class 1 = 0.058824
false negative rate = 0.941176
false positive rate = 0.002021
positive prediction rate = 0.007329
AUC of ROC = 0.845951
AUC of PRC = 0.411482
min(+P, Se) = 0.423529

-------------------------------

confusion matrix:
[[1679    4]
 [ 204   12]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07027199864387512
difference in average predicted and observed risk = -0.043472001356124876
number samples = 1899
accuracy = 0.890469
precision class 0 = 0.891662
precision class 1 = 0.75
recall class 0 = 0.997623
recall class 1 = 0.055556
false negative rate = 0.944444
false positive rate = 0.002377
positive prediction rate = 0.008425
AUC of ROC = 0.845434
AUC of PRC = 0.473965
min(+P, Se) = 0.488789

-------------------------------

confusion matrix:
[[547   2]
 [ 73   4]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.06861799955368042
difference in average predicted and observed risk = -0.05438500044631958
number samples = 626
accuracy = 0.880192
precision class 0 = 0.882258
precision class 1 = 0.666667
recall class 0 = 0.996357
recall class 1 = 0.051948
false negative rate = 0.948052
false positive rate = 0.003643
positive prediction rate = 0.009585
AUC of ROC = 0.857498
AUC of PRC = 0.474657
min(+P, Se) = 0.512195

-------------------------------

confusion matrix:
[[2245    4]
 [ 199    9]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05713300034403801
difference in average predicted and observed risk = -0.027522999655961985
number samples = 2457
accuracy = 0.917379
precision class 0 = 0.918576
precision class 1 = 0.692308
recall class 0 = 0.998221
recall class 1 = 0.043269
false negative rate = 0.956731
false positive rate = 0.001779
positive prediction rate = 0.005291
AUC of ROC = 0.840636
AUC of PRC = 0.376301
min(+P, Se) = 0.386792

-------------------------------

confusion matrix:
[[222   1]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06354200094938278
difference in average predicted and observed risk = -0.037263999050617225
number samples = 248
accuracy = 0.895161
precision class 0 = 0.898785
precision class 1 = 0.0
recall class 0 = 0.995516
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.004484
positive prediction rate = 0.004032
AUC of ROC = 0.727713
AUC of PRC = 0.249976
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[480   1]
 [ 78   4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08318500220775604
difference in average predicted and observed risk = -0.06246299779224396
number samples = 563
accuracy = 0.85968
precision class 0 = 0.860215
precision class 1 = 0.8
recall class 0 = 0.997921
recall class 1 = 0.04878
false negative rate = 0.951219
false positive rate = 0.002079
positive prediction rate = 0.008881
AUC of ROC = 0.870823
AUC of PRC = 0.589075
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[654   1]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07515999674797058
difference in average predicted and observed risk = -0.03246900325202942
number samples = 734
accuracy = 0.904632
precision class 0 = 0.904564
precision class 1 = 0.909091
recall class 0 = 0.998473
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.001527
positive prediction rate = 0.014986
AUC of ROC = 0.855058
AUC of PRC = 0.485846
min(+P, Se) = 0.45977

-------------------------------

confusion matrix:
[[4148    9]
 [ 444   27]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06505899876356125
difference in average predicted and observed risk = -0.03671300123643875
number samples = 4628
accuracy = 0.902118
precision class 0 = 0.90331
precision class 1 = 0.75
recall class 0 = 0.997835
recall class 1 = 0.057325
false negative rate = 0.942675
false positive rate = 0.002165
positive prediction rate = 0.007779
AUC of ROC = 0.846141
AUC of PRC = 0.437989
min(+P, Se) = 0.451346

-------------------------------

==>predicting on validation



confusion matrix:
[[217   1]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06257200241088867
difference in average predicted and observed risk = -0.017596997589111332
number samples = 237
accuracy = 0.924051
precision class 0 = 0.92735
precision class 1 = 0.666667
recall class 0 = 0.995413
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.004587
positive prediction rate = 0.012658
AUC of ROC = 0.885804
AUC of PRC = 0.394194
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0605119988322258
difference in average predicted and observed risk = -0.048284001167774204
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.862061
AUC of PRC = 0.512024
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[105   0]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09017100185155869
difference in average predicted and observed risk = -0.019997998148441318
number samples = 118
accuracy = 0.923729
precision class 0 = 0.921053
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.0
positive prediction rate = 0.033898
AUC of ROC = 0.869597
AUC of PRC = 0.652785
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.096390001475811
difference in average predicted and observed risk = -0.036942998524189
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[300   0]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07288800179958344
difference in average predicted and observed risk = -0.04215599820041656
number samples = 339
accuracy = 0.890855
precision class 0 = 0.890208
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.0
positive prediction rate = 0.0059
AUC of ROC = 0.812222
AUC of PRC = 0.402812
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06233000010251999
difference in average predicted and observed risk = -0.029719999897480018
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.914642
AUC of PRC = 0.596926
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05657700076699257
difference in average predicted and observed risk = -0.032624999233007435
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.882122
AUC of PRC = 0.514673
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07763399928808212
difference in average predicted and observed risk = -0.04001300071191788
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.876852
AUC of PRC = 0.646598
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06309600174427032
difference in average predicted and observed risk = -0.025613998255729672
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.874497
AUC of PRC = 0.33128
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[108   0]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.0889580026268959
difference in average predicted and observed risk = -0.060647997373104084
number samples = 127
accuracy = 0.889764
precision class 0 = 0.885246
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.0
positive prediction rate = 0.03937
AUC of ROC = 0.841618
AUC of PRC = 0.612077
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.08843500167131424
difference in average predicted and observed risk = 0.009488001671314236
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[733   1]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06671100109815598
difference in average predicted and observed risk = -0.034879998901844025
number samples = 817
accuracy = 0.906977
precision class 0 = 0.907178
precision class 1 = 0.888889
recall class 0 = 0.998638
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.001362
positive prediction rate = 0.011016
AUC of ROC = 0.87264
AUC of PRC = 0.516309
min(+P, Se) = 0.493976

-------------------------------

Epoch 00021: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch21.state
Epoch 22/100
 - 279s - loss: 0.2642 - val_loss: 0.2402

==>predicting on train



confusion matrix:
[[2153    2]
 [ 237   18]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07179199904203415
difference in average predicted and observed risk = -0.03401700095796585
number samples = 2410
accuracy = 0.90083
precision class 0 = 0.900837
precision class 1 = 0.9
recall class 0 = 0.999072
recall class 1 = 0.070588
false negative rate = 0.929412
false positive rate = 0.000928
positive prediction rate = 0.008299
AUC of ROC = 0.845301
AUC of PRC = 0.476762
min(+P, Se) = 0.486381

-------------------------------

confusion matrix:
[[1172    7]
 [ 109    9]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07349099963903427
difference in average predicted and observed risk = -0.017488000360965733
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.91491
precision class 1 = 0.5625
recall class 0 = 0.994063
recall class 1 = 0.076271
false negative rate = 0.923729
false positive rate = 0.005937
positive prediction rate = 0.012336
AUC of ROC = 0.865507
AUC of PRC = 0.407629
min(+P, Se) = 0.432203

-------------------------------

confusion matrix:
[[654   2]
 [ 66   8]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0859379991889
difference in average predicted and observed risk = -0.015432000811100008
number samples = 730
accuracy = 0.906849
precision class 0 = 0.908333
precision class 1 = 0.8
recall class 0 = 0.996951
recall class 1 = 0.108108
false negative rate = 0.891892
false positive rate = 0.003049
positive prediction rate = 0.013699
AUC of ROC = 0.868985
AUC of PRC = 0.452111
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07809799909591675
difference in average predicted and observed risk = -0.04755600090408324
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.913423
AUC of PRC = 0.700303
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[2468    6]
 [ 235   20]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07041200250387192
difference in average predicted and observed risk = -0.02302899749612808
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.91306
precision class 1 = 0.769231
recall class 0 = 0.997575
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.002425
positive prediction rate = 0.009527
AUC of ROC = 0.856956
AUC of PRC = 0.427755
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1678    5]
 [ 198   18]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08100900053977966
difference in average predicted and observed risk = -0.032734999460220335
number samples = 1899
accuracy = 0.893102
precision class 0 = 0.894456
precision class 1 = 0.782609
recall class 0 = 0.997029
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.002971
positive prediction rate = 0.012112
AUC of ROC = 0.857276
AUC of PRC = 0.487416
min(+P, Se) = 0.49537

-------------------------------

confusion matrix:
[[547   2]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07963299751281738
difference in average predicted and observed risk = -0.04337000248718262
number samples = 626
accuracy = 0.883387
precision class 0 = 0.885113
precision class 1 = 0.75
recall class 0 = 0.996357
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.003643
positive prediction rate = 0.01278
AUC of ROC = 0.867031
AUC of PRC = 0.493585
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[2246    3]
 [ 196   12]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06621699780225754
difference in average predicted and observed risk = -0.018439002197742457
number samples = 2457
accuracy = 0.919007
precision class 0 = 0.919738
precision class 1 = 0.8
recall class 0 = 0.998666
recall class 1 = 0.057692
false negative rate = 0.942308
false positive rate = 0.001334
positive prediction rate = 0.006105
AUC of ROC = 0.850406
AUC of PRC = 0.396243
min(+P, Se) = 0.399038

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07249899953603745
difference in average predicted and observed risk = -0.02830700046396256
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.753363
AUC of PRC = 0.27115
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[479   2]
 [ 73   9]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09490600228309631
difference in average predicted and observed risk = -0.050741997716903686
number samples = 563
accuracy = 0.866785
precision class 0 = 0.867754
precision class 1 = 0.818182
recall class 0 = 0.995842
recall class 1 = 0.109756
false negative rate = 0.890244
false positive rate = 0.004158
positive prediction rate = 0.019538
AUC of ROC = 0.882511
AUC of PRC = 0.60246
min(+P, Se) = 0.578313

-------------------------------

confusion matrix:
[[652   3]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08450999855995178
difference in average predicted and observed risk = -0.02311900144004822
number samples = 734
accuracy = 0.901907
precision class 0 = 0.9043
precision class 1 = 0.769231
recall class 0 = 0.99542
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.00458
positive prediction rate = 0.017711
AUC of ROC = 0.866905
AUC of PRC = 0.483079
min(+P, Se) = 0.481928

-------------------------------

confusion matrix:
[[4146   11]
 [ 433   38]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07475999742746353
difference in average predicted and observed risk = -0.02701200257253647
number samples = 4628
accuracy = 0.904062
precision class 0 = 0.905438
precision class 1 = 0.77551
recall class 0 = 0.997354
recall class 1 = 0.080679
false negative rate = 0.919321
false positive rate = 0.002646
positive prediction rate = 0.010588
AUC of ROC = 0.857412
AUC of PRC = 0.454148
min(+P, Se) = 0.462025

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07201600074768066
difference in average predicted and observed risk = -0.00815299925231934
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.894978
AUC of PRC = 0.426863
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06904199719429016
difference in average predicted and observed risk = -0.03975400280570984
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.866261
AUC of PRC = 0.517224
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10182200372219086
difference in average predicted and observed risk = -0.008346996277809146
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.854212
AUC of PRC = 0.623861
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10542599856853485
difference in average predicted and observed risk = -0.027907001431465156
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08276999741792679
difference in average predicted and observed risk = -0.032274002582073205
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.819316
AUC of PRC = 0.389143
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07115600258111954
difference in average predicted and observed risk = -0.02089399741888047
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.910819
AUC of PRC = 0.603012
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0646509975194931
difference in average predicted and observed risk = -0.0245510024805069
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.886191
AUC of PRC = 0.505392
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08675800263881683
difference in average predicted and observed risk = -0.030888997361183168
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.84537
AUC of PRC = 0.552748
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07193099707365036
difference in average predicted and observed risk = -0.016779002926349637
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.901046
AUC of PRC = 0.366553
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10034199804067612
difference in average predicted and observed risk = -0.04926400195932387
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.840643
AUC of PRC = 0.610197
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10574399679899216
difference in average predicted and observed risk = 0.026796996798992154
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.551786
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[731   3]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07597500085830688
difference in average predicted and observed risk = -0.025615999141693116
number samples = 817
accuracy = 0.904529
precision class 0 = 0.906948
precision class 1 = 0.727273
recall class 0 = 0.995913
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.004087
positive prediction rate = 0.013464
AUC of ROC = 0.873543
AUC of PRC = 0.511504
min(+P, Se) = 0.457831

-------------------------------

Epoch 00022: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch22.state
Epoch 23/100
 - 280s - loss: 0.2595 - val_loss: 0.2456

==>predicting on train



confusion matrix:
[[2154    1]
 [ 244   11]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.05896500125527382
difference in average predicted and observed risk = -0.04684399874472618
number samples = 2410
accuracy = 0.89834
precision class 0 = 0.898249
precision class 1 = 0.916667
recall class 0 = 0.999536
recall class 1 = 0.043137
false negative rate = 0.956863
false positive rate = 0.000464
positive prediction rate = 0.004979
AUC of ROC = 0.840948
AUC of PRC = 0.471339
min(+P, Se) = 0.466926

-------------------------------

confusion matrix:
[[1173    6]
 [ 112    6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06189500167965889
difference in average predicted and observed risk = -0.029083998320341115
number samples = 1297
accuracy = 0.909021
precision class 0 = 0.91284
precision class 1 = 0.5
recall class 0 = 0.994911
recall class 1 = 0.050847
false negative rate = 0.949153
false positive rate = 0.005089
positive prediction rate = 0.009252
AUC of ROC = 0.86583
AUC of PRC = 0.392174
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[656   0]
 [ 68   6]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07270699739456177
difference in average predicted and observed risk = -0.028663002605438234
number samples = 730
accuracy = 0.906849
precision class 0 = 0.906077
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.081081
false negative rate = 0.918919
false positive rate = 0.0
positive prediction rate = 0.008219
AUC of ROC = 0.860724
AUC of PRC = 0.457717
min(+P, Se) = 0.453333

-------------------------------

confusion matrix:
[[167   0]
 [ 23   1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06714099645614624
difference in average predicted and observed risk = -0.05851300354385375
number samples = 191
accuracy = 0.879581
precision class 0 = 0.878947
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.041667
false negative rate = 0.958333
false positive rate = 0.0
positive prediction rate = 0.005236
AUC of ROC = 0.90993
AUC of PRC = 0.670492
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[2471    3]
 [ 243   12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.05858999863266945
difference in average predicted and observed risk = -0.03485100136733055
number samples = 2729
accuracy = 0.909857
precision class 0 = 0.910464
precision class 1 = 0.8
recall class 0 = 0.998787
recall class 1 = 0.047059
false negative rate = 0.952941
false positive rate = 0.001213
positive prediction rate = 0.005497
AUC of ROC = 0.852657
AUC of PRC = 0.425483
min(+P, Se) = 0.425781

-------------------------------

confusion matrix:
[[1679    4]
 [ 204   12]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.067610003054142
difference in average predicted and observed risk = -0.046133996945858
number samples = 1899
accuracy = 0.890469
precision class 0 = 0.891662
precision class 1 = 0.75
recall class 0 = 0.997623
recall class 1 = 0.055556
false negative rate = 0.944444
false positive rate = 0.002377
positive prediction rate = 0.008425
AUC of ROC = 0.853786
AUC of PRC = 0.470952
min(+P, Se) = 0.490741

-------------------------------

confusion matrix:
[[548   1]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0681539997458458
difference in average predicted and observed risk = -0.05484900025415421
number samples = 626
accuracy = 0.884984
precision class 0 = 0.885299
precision class 1 = 0.857143
recall class 0 = 0.998178
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.001821
positive prediction rate = 0.011182
AUC of ROC = 0.863743
AUC of PRC = 0.503519
min(+P, Se) = 0.541176

-------------------------------

confusion matrix:
[[2247    2]
 [ 201    7]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.053978998214006424
difference in average predicted and observed risk = -0.03067700178599357
number samples = 2457
accuracy = 0.917379
precision class 0 = 0.917892
precision class 1 = 0.777778
recall class 0 = 0.999111
recall class 1 = 0.033654
false negative rate = 0.966346
false positive rate = 0.000889
positive prediction rate = 0.003663
AUC of ROC = 0.845647
AUC of PRC = 0.381757
min(+P, Se) = 0.37395

-------------------------------

confusion matrix:
[[222   1]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.05860599875450134
difference in average predicted and observed risk = -0.042200001245498664
number samples = 248
accuracy = 0.895161
precision class 0 = 0.898785
precision class 1 = 0.0
recall class 0 = 0.995516
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.004484
positive prediction rate = 0.004032
AUC of ROC = 0.730942
AUC of PRC = 0.246432
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[479   2]
 [ 78   4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08185499906539917
difference in average predicted and observed risk = -0.06379300093460083
number samples = 563
accuracy = 0.857904
precision class 0 = 0.859964
precision class 1 = 0.666667
recall class 0 = 0.995842
recall class 1 = 0.04878
false negative rate = 0.951219
false positive rate = 0.004158
positive prediction rate = 0.010657
AUC of ROC = 0.881015
AUC of PRC = 0.589814
min(+P, Se) = 0.578313

-------------------------------

confusion matrix:
[[654   1]
 [ 72   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0713530033826828
difference in average predicted and observed risk = -0.0362759966173172
number samples = 734
accuracy = 0.900545
precision class 0 = 0.900826
precision class 1 = 0.875
recall class 0 = 0.998473
recall class 1 = 0.088608
false negative rate = 0.911392
false positive rate = 0.001527
positive prediction rate = 0.010899
AUC of ROC = 0.86648
AUC of PRC = 0.491343
min(+P, Se) = 0.47191

-------------------------------

confusion matrix:
[[4150    7]
 [ 447   24]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06229100003838539
difference in average predicted and observed risk = -0.03948099996161461
number samples = 4628
accuracy = 0.901901
precision class 0 = 0.902763
precision class 1 = 0.774194
recall class 0 = 0.998316
recall class 1 = 0.050955
false negative rate = 0.949045
false positive rate = 0.001684
positive prediction rate = 0.006698
AUC of ROC = 0.853605
AUC of PRC = 0.446637
min(+P, Se) = 0.455508

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06000100076198578
difference in average predicted and observed risk = -0.020167999238014225
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.893047
AUC of PRC = 0.371142
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05704699829220772
difference in average predicted and observed risk = -0.051749001707792286
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.860238
AUC of PRC = 0.552611
min(+P, Se) = 0.480769

-------------------------------

confusion matrix:
[[105   0]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08793400228023529
difference in average predicted and observed risk = -0.022234997719764713
number samples = 118
accuracy = 0.915254
precision class 0 = 0.913043
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.0
positive prediction rate = 0.025424
AUC of ROC = 0.857875
AUC of PRC = 0.638693
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09053000062704086
difference in average predicted and observed risk = -0.042802999372959144
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[299   1]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.06906600296497345
difference in average predicted and observed risk = -0.045977997035026544
number samples = 339
accuracy = 0.884956
precision class 0 = 0.88724
precision class 1 = 0.5
recall class 0 = 0.996667
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.003333
positive prediction rate = 0.0059
AUC of ROC = 0.814786
AUC of PRC = 0.414004
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.059714000672101974
difference in average predicted and observed risk = -0.03233599932789803
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.90752
AUC of PRC = 0.600154
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05263900011777878
difference in average predicted and observed risk = -0.036562999882221225
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.884767
AUC of PRC = 0.528895
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07266099750995636
difference in average predicted and observed risk = -0.04498600249004364
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.859259
AUC of PRC = 0.599899
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.061925001442432404
difference in average predicted and observed risk = -0.026784998557567594
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.882542
AUC of PRC = 0.350468
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[107   1]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.08843500167131424
difference in average predicted and observed risk = -0.06117099832868575
number samples = 127
accuracy = 0.866142
precision class 0 = 0.869919
precision class 1 = 0.75
recall class 0 = 0.990741
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009259
positive prediction rate = 0.031496
AUC of ROC = 0.832846
AUC of PRC = 0.606977
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0845009982585907
difference in average predicted and observed risk = 0.005553998258590695
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[732   2]
 [ 77   6]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0635949969291687
difference in average predicted and observed risk = -0.0379960030708313
number samples = 817
accuracy = 0.903305
precision class 0 = 0.904821
precision class 1 = 0.75
recall class 0 = 0.997275
recall class 1 = 0.072289
false negative rate = 0.927711
false positive rate = 0.002725
positive prediction rate = 0.009792
AUC of ROC = 0.870178
AUC of PRC = 0.518612
min(+P, Se) = 0.493976

-------------------------------

Epoch 00023: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch23.state
Epoch 24/100
 - 283s - loss: 0.2643 - val_loss: 0.2405

==>predicting on train



confusion matrix:
[[2154    1]
 [ 240   15]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07930400222539902
difference in average predicted and observed risk = -0.026504997774600983
number samples = 2410
accuracy = 0.9
precision class 0 = 0.899749
precision class 1 = 0.9375
recall class 0 = 0.999536
recall class 1 = 0.058824
false negative rate = 0.941176
false positive rate = 0.000464
positive prediction rate = 0.006639
AUC of ROC = 0.839092
AUC of PRC = 0.47292
min(+P, Se) = 0.460938

-------------------------------

confusion matrix:
[[1172    7]
 [ 106   12]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08044900000095367
difference in average predicted and observed risk = -0.01052999999904633
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.917058
precision class 1 = 0.631579
recall class 0 = 0.994063
recall class 1 = 0.101695
false negative rate = 0.898305
false positive rate = 0.005937
positive prediction rate = 0.014649
AUC of ROC = 0.866678
AUC of PRC = 0.403109
min(+P, Se) = 0.406504

-------------------------------

confusion matrix:
[[654   2]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09241099655628204
difference in average predicted and observed risk = -0.008959003443717958
number samples = 730
accuracy = 0.908219
precision class 0 = 0.909597
precision class 1 = 0.818182
recall class 0 = 0.996951
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.003049
positive prediction rate = 0.015068
AUC of ROC = 0.871086
AUC of PRC = 0.466396
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08629000186920166
difference in average predicted and observed risk = -0.03936399813079833
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.909182
AUC of PRC = 0.687826
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2469    5]
 [ 238   17]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07761400192975998
difference in average predicted and observed risk = -0.015826998070240017
number samples = 2729
accuracy = 0.910956
precision class 0 = 0.91208
precision class 1 = 0.772727
recall class 0 = 0.997979
recall class 1 = 0.066667
false negative rate = 0.933333
false positive rate = 0.002021
positive prediction rate = 0.008062
AUC of ROC = 0.8516
AUC of PRC = 0.422934
min(+P, Se) = 0.429688

-------------------------------

confusion matrix:
[[1678    5]
 [ 194   22]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08825600147247314
difference in average predicted and observed risk = -0.025487998527526853
number samples = 1899
accuracy = 0.895208
precision class 0 = 0.896368
precision class 1 = 0.814815
recall class 0 = 0.997029
recall class 1 = 0.101852
false negative rate = 0.898148
false positive rate = 0.002971
positive prediction rate = 0.014218
AUC of ROC = 0.857557
AUC of PRC = 0.49016
min(+P, Se) = 0.490909

-------------------------------

confusion matrix:
[[548   1]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08734200149774551
difference in average predicted and observed risk = -0.03566099850225449
number samples = 626
accuracy = 0.886581
precision class 0 = 0.886731
precision class 1 = 0.875
recall class 0 = 0.998178
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.001821
positive prediction rate = 0.01278
AUC of ROC = 0.865351
AUC of PRC = 0.514085
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[2245    4]
 [ 193   15]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07362499833106995
difference in average predicted and observed risk = -0.011031001668930049
number samples = 2457
accuracy = 0.919821
precision class 0 = 0.920837
precision class 1 = 0.789474
recall class 0 = 0.998221
recall class 1 = 0.072115
false negative rate = 0.927885
false positive rate = 0.001779
positive prediction rate = 0.007733
AUC of ROC = 0.849123
AUC of PRC = 0.385638
min(+P, Se) = 0.387097

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07980400323867798
difference in average predicted and observed risk = -0.021001996761322028
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.735247
AUC of PRC = 0.254205
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[479   2]
 [ 74   8]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10087800025939941
difference in average predicted and observed risk = -0.044769999740600586
number samples = 563
accuracy = 0.865009
precision class 0 = 0.866184
precision class 1 = 0.8
recall class 0 = 0.995842
recall class 1 = 0.097561
false negative rate = 0.902439
false positive rate = 0.004158
positive prediction rate = 0.017762
AUC of ROC = 0.878099
AUC of PRC = 0.596742
min(+P, Se) = 0.554217

-------------------------------

confusion matrix:
[[654   1]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09161800146102905
difference in average predicted and observed risk = -0.01601099853897095
number samples = 734
accuracy = 0.90327
precision class 0 = 0.903315
precision class 1 = 0.9
recall class 0 = 0.998473
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.001527
positive prediction rate = 0.013624
AUC of ROC = 0.865185
AUC of PRC = 0.50212
min(+P, Se) = 0.47561

-------------------------------

confusion matrix:
[[4147   10]
 [ 432   39]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08198100328445435
difference in average predicted and observed risk = -0.019790996715545656
number samples = 4628
accuracy = 0.904494
precision class 0 = 0.905656
precision class 1 = 0.795918
recall class 0 = 0.997594
recall class 1 = 0.082803
false negative rate = 0.917197
false positive rate = 0.002406
positive prediction rate = 0.010588
AUC of ROC = 0.854523
AUC of PRC = 0.453301
min(+P, Se) = 0.459746

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07815399765968323
difference in average predicted and observed risk = -0.0020150023403167766
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.89691
AUC of PRC = 0.387939
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07790300250053406
difference in average predicted and observed risk = -0.030892997499465946
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.862448
AUC of PRC = 0.534413
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10884500294923782
difference in average predicted and observed risk = -0.0013239970507621796
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.87033
AUC of PRC = 0.643533
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10902199894189835
difference in average predicted and observed risk = -0.02431100105810166
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0901229977607727
difference in average predicted and observed risk = -0.02492100223922729
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.822564
AUC of PRC = 0.429951
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07895199954509735
difference in average predicted and observed risk = -0.013098000454902656
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.912652
AUC of PRC = 0.598241
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07201600074768066
difference in average predicted and observed risk = -0.01718599925231934
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.876424
AUC of PRC = 0.515024
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09476900100708008
difference in average predicted and observed risk = -0.022877998992919923
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.866667
AUC of PRC = 0.615673
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0816119983792305
difference in average predicted and observed risk = -0.007098001620769498
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.874497
AUC of PRC = 0.33006
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1087770015001297
difference in average predicted and observed risk = -0.04082899849987029
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.871345
AUC of PRC = 0.619709
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10555099695920944
difference in average predicted and observed risk = 0.02660399695920944
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08358699828386307
difference in average predicted and observed risk = -0.018004001716136933
number samples = 817
accuracy = 0.904529
precision class 0 = 0.906948
precision class 1 = 0.727273
recall class 0 = 0.995913
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.004087
positive prediction rate = 0.013464
AUC of ROC = 0.875431
AUC of PRC = 0.521437
min(+P, Se) = 0.493976

-------------------------------

Epoch 00024: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch24.state
Epoch 25/100
 - 280s - loss: 0.2621 - val_loss: 0.2498

==>predicting on train



confusion matrix:
[[2153    2]
 [ 241   14]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06546399742364883
difference in average predicted and observed risk = -0.040345002576351166
number samples = 2410
accuracy = 0.89917
precision class 0 = 0.899332
precision class 1 = 0.875
recall class 0 = 0.999072
recall class 1 = 0.054902
false negative rate = 0.945098
false positive rate = 0.000928
positive prediction rate = 0.006639
AUC of ROC = 0.80963
AUC of PRC = 0.441809
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1172    7]
 [ 108   10]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0685650035738945
difference in average predicted and observed risk = -0.022413996426105504
number samples = 1297
accuracy = 0.911334
precision class 0 = 0.915625
precision class 1 = 0.588235
recall class 0 = 0.994063
recall class 1 = 0.084746
false negative rate = 0.915254
false positive rate = 0.005937
positive prediction rate = 0.013107
AUC of ROC = 0.838573
AUC of PRC = 0.378411
min(+P, Se) = 0.383333

-------------------------------

confusion matrix:
[[652   4]
 [ 66   8]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07762999832630157
difference in average predicted and observed risk = -0.023740001673698427
number samples = 730
accuracy = 0.90411
precision class 0 = 0.908078
precision class 1 = 0.666667
recall class 0 = 0.993902
recall class 1 = 0.108108
false negative rate = 0.891892
false positive rate = 0.006098
positive prediction rate = 0.016438
AUC of ROC = 0.83584
AUC of PRC = 0.419005
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07219000160694122
difference in average predicted and observed risk = -0.053463998393058765
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.902445
AUC of PRC = 0.715666
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2467    7]
 [ 240   15]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06509699672460556
difference in average predicted and observed risk = -0.028344003275394436
number samples = 2729
accuracy = 0.909491
precision class 0 = 0.911341
precision class 1 = 0.681818
recall class 0 = 0.997171
recall class 1 = 0.058824
false negative rate = 0.941176
false positive rate = 0.002829
positive prediction rate = 0.008062
AUC of ROC = 0.820735
AUC of PRC = 0.392139
min(+P, Se) = 0.416342

-------------------------------

confusion matrix:
[[1677    6]
 [ 196   20]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07346200197935104
difference in average predicted and observed risk = -0.040281998020648954
number samples = 1899
accuracy = 0.893628
precision class 0 = 0.895355
precision class 1 = 0.769231
recall class 0 = 0.996435
recall class 1 = 0.092593
false negative rate = 0.907407
false positive rate = 0.003565
positive prediction rate = 0.013691
AUC of ROC = 0.832203
AUC of PRC = 0.46121
min(+P, Se) = 0.459821

-------------------------------

confusion matrix:
[[547   2]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07143600285053253
difference in average predicted and observed risk = -0.05156699714946747
number samples = 626
accuracy = 0.883387
precision class 0 = 0.885113
precision class 1 = 0.75
recall class 0 = 0.996357
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.003643
positive prediction rate = 0.01278
AUC of ROC = 0.835876
AUC of PRC = 0.471532
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2246    3]
 [ 197   11]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06050899997353554
difference in average predicted and observed risk = -0.024147000026464457
number samples = 2457
accuracy = 0.9186
precision class 0 = 0.919361
precision class 1 = 0.785714
recall class 0 = 0.998666
recall class 1 = 0.052885
false negative rate = 0.947115
false positive rate = 0.001334
positive prediction rate = 0.005698
AUC of ROC = 0.811427
AUC of PRC = 0.359616
min(+P, Se) = 0.360577

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06889999657869339
difference in average predicted and observed risk = -0.03190600342130662
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.737937
AUC of PRC = 0.243729
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[479   2]
 [ 74   8]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.0887719988822937
difference in average predicted and observed risk = -0.0568760011177063
number samples = 563
accuracy = 0.865009
precision class 0 = 0.866184
precision class 1 = 0.8
recall class 0 = 0.995842
recall class 1 = 0.097561
false negative rate = 0.902439
false positive rate = 0.004158
positive prediction rate = 0.017762
AUC of ROC = 0.864916
AUC of PRC = 0.591217
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[652   3]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0772479996085167
difference in average predicted and observed risk = -0.03038100039148331
number samples = 734
accuracy = 0.900545
precision class 0 = 0.903047
precision class 1 = 0.75
recall class 0 = 0.99542
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.00458
positive prediction rate = 0.016349
AUC of ROC = 0.841608
AUC of PRC = 0.464222
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4144   13]
 [ 436   35]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06853000074625015
difference in average predicted and observed risk = -0.03324199925374985
number samples = 4628
accuracy = 0.902982
precision class 0 = 0.904804
precision class 1 = 0.729167
recall class 0 = 0.996873
recall class 1 = 0.07431
false negative rate = 0.92569
false positive rate = 0.003127
positive prediction rate = 0.010372
AUC of ROC = 0.826269
AUC of PRC = 0.423563
min(+P, Se) = 0.434238

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06627699732780457
difference in average predicted and observed risk = -0.013892002672195439
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.867214
AUC of PRC = 0.383639
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0636179968714714
difference in average predicted and observed risk = -0.0451780031285286
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.833103
AUC of PRC = 0.493689
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.08973599970340729
difference in average predicted and observed risk = -0.020433000296592715
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.896703
AUC of PRC = 0.594961
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08968699723482132
difference in average predicted and observed risk = -0.04364600276517869
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 38   1]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07327800244092941
difference in average predicted and observed risk = -0.04176599755907058
number samples = 339
accuracy = 0.882006
precision class 0 = 0.886905
precision class 1 = 0.333333
recall class 0 = 0.993333
recall class 1 = 0.025641
false negative rate = 0.974359
false positive rate = 0.006667
positive prediction rate = 0.00885
AUC of ROC = 0.806068
AUC of PRC = 0.388663
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06616900116205215
difference in average predicted and observed risk = -0.025880998837947852
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.89469
AUC of PRC = 0.582411
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05895199999213219
difference in average predicted and observed risk = -0.030250000007867817
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.844343
AUC of PRC = 0.483579
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07610300183296204
difference in average predicted and observed risk = -0.041543998167037965
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.912037
AUC of PRC = 0.646464
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06648600101470947
difference in average predicted and observed risk = -0.022223998985290525
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.841512
AUC of PRC = 0.287942
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09188199788331985
difference in average predicted and observed risk = -0.057724002116680134
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.852827
AUC of PRC = 0.583227
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0968639999628067
difference in average predicted and observed risk = 0.0179169999628067
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 76   7]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06911899894475937
difference in average predicted and observed risk = -0.03247200105524063
number samples = 817
accuracy = 0.903305
precision class 0 = 0.905824
precision class 1 = 0.7
recall class 0 = 0.995913
recall class 1 = 0.084337
false negative rate = 0.915663
false positive rate = 0.004087
positive prediction rate = 0.01224
AUC of ROC = 0.857539
AUC of PRC = 0.490074
min(+P, Se) = 0.470588

-------------------------------

Epoch 00025: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch25.state
Epoch 26/100
 - 278s - loss: 0.2595 - val_loss: 0.2439

==>predicting on train



confusion matrix:
[[2150    5]
 [ 231   24]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08579900115728378
difference in average predicted and observed risk = -0.020009998842716217
number samples = 2410
accuracy = 0.902075
precision class 0 = 0.902982
precision class 1 = 0.827586
recall class 0 = 0.99768
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.00232
positive prediction rate = 0.012033
AUC of ROC = 0.81698
AUC of PRC = 0.461857
min(+P, Se) = 0.447471

-------------------------------

confusion matrix:
[[1169   10]
 [ 106   12]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0891840010881424
difference in average predicted and observed risk = -0.0017949989118576093
number samples = 1297
accuracy = 0.910563
precision class 0 = 0.916863
precision class 1 = 0.545455
recall class 0 = 0.991518
recall class 1 = 0.101695
false negative rate = 0.898305
false positive rate = 0.008482
positive prediction rate = 0.016962
AUC of ROC = 0.842297
AUC of PRC = 0.389479
min(+P, Se) = 0.379845

-------------------------------

confusion matrix:
[[650   6]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09741000086069107
difference in average predicted and observed risk = -0.003959999139308931
number samples = 730
accuracy = 0.905479
precision class 0 = 0.911641
precision class 1 = 0.647059
recall class 0 = 0.990854
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.009146
positive prediction rate = 0.023288
AUC of ROC = 0.849662
AUC of PRC = 0.452699
min(+P, Se) = 0.432432

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0935019999742508
difference in average predicted and observed risk = -0.032152000025749194
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.901946
AUC of PRC = 0.68736
min(+P, Se) = 0.541667

-------------------------------

confusion matrix:
[[2463   11]
 [ 231   24]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08567400276660919
difference in average predicted and observed risk = -0.007766997233390804
number samples = 2729
accuracy = 0.911323
precision class 0 = 0.914254
precision class 1 = 0.685714
recall class 0 = 0.995554
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.004446
positive prediction rate = 0.012825
AUC of ROC = 0.825322
AUC of PRC = 0.411354
min(+P, Se) = 0.415385

-------------------------------

confusion matrix:
[[1673   10]
 [ 188   28]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09352800250053406
difference in average predicted and observed risk = -0.02021599749946594
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.898979
precision class 1 = 0.736842
recall class 0 = 0.994058
recall class 1 = 0.12963
false negative rate = 0.87037
false positive rate = 0.005942
positive prediction rate = 0.020011
AUC of ROC = 0.841646
AUC of PRC = 0.480251
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[546   3]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09108400344848633
difference in average predicted and observed risk = -0.03191899655151367
number samples = 626
accuracy = 0.883387
precision class 0 = 0.886364
precision class 1 = 0.7
recall class 0 = 0.994536
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.005464
positive prediction rate = 0.015974
AUC of ROC = 0.841767
AUC of PRC = 0.478024
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2243    6]
 [ 187   21]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08053699880838394
difference in average predicted and observed risk = -0.0041190011916160535
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923045
precision class 1 = 0.777778
recall class 0 = 0.997332
recall class 1 = 0.100962
false negative rate = 0.899038
false positive rate = 0.002668
positive prediction rate = 0.010989
AUC of ROC = 0.822673
AUC of PRC = 0.381341
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08921799808740616
difference in average predicted and observed risk = -0.011588001912593848
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.729686
AUC of PRC = 0.236124
min(+P, Se) = 0.34375

-------------------------------

confusion matrix:
[[477   4]
 [ 70  12]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11052499711513519
difference in average predicted and observed risk = -0.03512300288486481
number samples = 563
accuracy = 0.868561
precision class 0 = 0.872029
precision class 1 = 0.75
recall class 0 = 0.991684
recall class 1 = 0.146341
false negative rate = 0.853659
false positive rate = 0.008316
positive prediction rate = 0.028419
AUC of ROC = 0.874347
AUC of PRC = 0.605871
min(+P, Se) = 0.590361

-------------------------------

confusion matrix:
[[650   5]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09831900149583817
difference in average predicted and observed risk = -0.009309998504161837
number samples = 734
accuracy = 0.900545
precision class 0 = 0.905292
precision class 1 = 0.6875
recall class 0 = 0.992366
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.007634
positive prediction rate = 0.021798
AUC of ROC = 0.835984
AUC of PRC = 0.478969
min(+P, Se) = 0.45679

-------------------------------

confusion matrix:
[[4136   21]
 [ 419   52]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08889699727296829
difference in average predicted and observed risk = -0.012875002727031709
number samples = 4628
accuracy = 0.904927
precision class 0 = 0.908013
precision class 1 = 0.712329
recall class 0 = 0.994948
recall class 1 = 0.110403
false negative rate = 0.889597
false positive rate = 0.005052
positive prediction rate = 0.015774
AUC of ROC = 0.832862
AUC of PRC = 0.441411
min(+P, Se) = 0.44586

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08624599874019623
difference in average predicted and observed risk = 0.006076998740196224
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.859005
AUC of PRC = 0.386758
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08487100154161453
difference in average predicted and observed risk = -0.02392499845838547
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.847637
AUC of PRC = 0.491158
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1116190031170845
difference in average predicted and observed risk = 0.0014500031170845001
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.898168
AUC of PRC = 0.505984
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11221600323915482
difference in average predicted and observed risk = -0.02111699676084519
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09508399665355682
difference in average predicted and observed risk = -0.01996000334644317
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.82188
AUC of PRC = 0.369464
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[433   1]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0866290032863617
difference in average predicted and observed risk = -0.0054209967136383125
number samples = 478
accuracy = 0.926778
precision class 0 = 0.927195
precision class 1 = 0.909091
recall class 0 = 0.997696
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.002304
positive prediction rate = 0.023013
AUC of ROC = 0.894533
AUC of PRC = 0.56241
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07955600321292877
difference in average predicted and observed risk = -0.009645996787071232
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.847463
AUC of PRC = 0.455909
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09753099828958511
difference in average predicted and observed risk = -0.020116001710414888
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.917593
AUC of PRC = 0.651955
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08613699674606323
difference in average predicted and observed risk = -0.0025730032539367648
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.873693
AUC of PRC = 0.315378
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11459299921989441
difference in average predicted and observed risk = -0.03501300078010558
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.846491
AUC of PRC = 0.493732
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12022999674081802
difference in average predicted and observed risk = 0.04128299674081802
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.509259
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[731   3]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09013699740171432
difference in average predicted and observed risk = -0.011454002598285676
number samples = 817
accuracy = 0.909425
precision class 0 = 0.911471
precision class 1 = 0.8
recall class 0 = 0.995913
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.004087
positive prediction rate = 0.01836
AUC of ROC = 0.864105
AUC of PRC = 0.464327
min(+P, Se) = 0.46988

-------------------------------

Epoch 00026: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch26.state
Epoch 27/100
 - 280s - loss: 0.2599 - val_loss: 0.2410

==>predicting on train



confusion matrix:
[[2152    3]
 [ 235   20]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06719300150871277
difference in average predicted and observed risk = -0.03861599849128723
number samples = 2410
accuracy = 0.901245
precision class 0 = 0.90155
precision class 1 = 0.869565
recall class 0 = 0.998608
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.001392
positive prediction rate = 0.009544
AUC of ROC = 0.835609
AUC of PRC = 0.464701
min(+P, Se) = 0.437984

-------------------------------

confusion matrix:
[[1169   10]
 [ 107   11]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06759899854660034
difference in average predicted and observed risk = -0.023380001453399663
number samples = 1297
accuracy = 0.909792
precision class 0 = 0.916144
precision class 1 = 0.52381
recall class 0 = 0.991518
recall class 1 = 0.09322
false negative rate = 0.90678
false positive rate = 0.008482
positive prediction rate = 0.016191
AUC of ROC = 0.862416
AUC of PRC = 0.398244
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[653   3]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0795459970831871
difference in average predicted and observed risk = -0.0218240029168129
number samples = 730
accuracy = 0.906849
precision class 0 = 0.909471
precision class 1 = 0.75
recall class 0 = 0.995427
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.004573
positive prediction rate = 0.016438
AUC of ROC = 0.850548
AUC of PRC = 0.45775
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07402099668979645
difference in average predicted and observed risk = -0.05163300331020354
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.910429
AUC of PRC = 0.685381
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2466    8]
 [ 234   21]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06537400186061859
difference in average predicted and observed risk = -0.028066998139381405
number samples = 2729
accuracy = 0.911323
precision class 0 = 0.913333
precision class 1 = 0.724138
recall class 0 = 0.996766
recall class 1 = 0.082353
false negative rate = 0.917647
false positive rate = 0.003234
positive prediction rate = 0.010627
AUC of ROC = 0.850166
AUC of PRC = 0.423406
min(+P, Se) = 0.425287

-------------------------------

confusion matrix:
[[1675    8]
 [ 193   23]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07551900297403336
difference in average predicted and observed risk = -0.03822499702596664
number samples = 1899
accuracy = 0.894155
precision class 0 = 0.896681
precision class 1 = 0.741935
recall class 0 = 0.995247
recall class 1 = 0.106481
false negative rate = 0.893519
false positive rate = 0.004753
positive prediction rate = 0.016324
AUC of ROC = 0.845046
AUC of PRC = 0.470297
min(+P, Se) = 0.467593

-------------------------------

confusion matrix:
[[546   3]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07327800244092941
difference in average predicted and observed risk = -0.04972499755907059
number samples = 626
accuracy = 0.881789
precision class 0 = 0.884927
precision class 1 = 0.666667
recall class 0 = 0.994536
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.005464
positive prediction rate = 0.014377
AUC of ROC = 0.857853
AUC of PRC = 0.483796
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2245    4]
 [ 190   18]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06110500171780586
difference in average predicted and observed risk = -0.023550998282194133
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.921971
precision class 1 = 0.818182
recall class 0 = 0.998221
recall class 1 = 0.086538
false negative rate = 0.913462
false positive rate = 0.001779
positive prediction rate = 0.008954
AUC of ROC = 0.84271
AUC of PRC = 0.392521
min(+P, Se) = 0.379808

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0654510036110878
difference in average predicted and observed risk = -0.03535499638891221
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.755874
AUC of PRC = 0.269633
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[478   3]
 [ 73   9]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08915899693965912
difference in average predicted and observed risk = -0.05648900306034088
number samples = 563
accuracy = 0.865009
precision class 0 = 0.867514
precision class 1 = 0.75
recall class 0 = 0.993763
recall class 1 = 0.109756
false negative rate = 0.890244
false positive rate = 0.006237
positive prediction rate = 0.021314
AUC of ROC = 0.870468
AUC of PRC = 0.577152
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08089999854564667
difference in average predicted and observed risk = -0.026729001454353335
number samples = 734
accuracy = 0.901907
precision class 0 = 0.905424
precision class 1 = 0.733333
recall class 0 = 0.993893
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.006107
positive prediction rate = 0.020436
AUC of ROC = 0.854479
AUC of PRC = 0.468494
min(+P, Se) = 0.443038

-------------------------------

confusion matrix:
[[4141   16]
 [ 427   44]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06953699886798859
difference in average predicted and observed risk = -0.032235001132011415
number samples = 4628
accuracy = 0.904278
precision class 0 = 0.906524
precision class 1 = 0.733333
recall class 0 = 0.996151
recall class 1 = 0.093418
false negative rate = 0.906582
false positive rate = 0.003849
positive prediction rate = 0.012965
AUC of ROC = 0.848429
AUC of PRC = 0.444026
min(+P, Se) = 0.443737

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06565999984741211
difference in average predicted and observed risk = -0.014509000152587895
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.882183
AUC of PRC = 0.401084
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06406600028276443
difference in average predicted and observed risk = -0.04472999971723557
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.849295
AUC of PRC = 0.520124
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09901999682188034
difference in average predicted and observed risk = -0.011149003178119662
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.895971
AUC of PRC = 0.631843
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09159400314092636
difference in average predicted and observed risk = -0.041738996859073646
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07643599808216095
difference in average predicted and observed risk = -0.038608001917839044
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.821026
AUC of PRC = 0.405803
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06644000113010406
difference in average predicted and observed risk = -0.025609998869895942
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.902912
AUC of PRC = 0.58197
min(+P, Se) = 0.543478

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05977199971675873
difference in average predicted and observed risk = -0.029430000283241275
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.872287
AUC of PRC = 0.470503
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08117599785327911
difference in average predicted and observed risk = -0.03647100214672089
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.927778
AUC of PRC = 0.658078
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06727100163698196
difference in average predicted and observed risk = -0.021438998363018033
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.8214
AUC of PRC = 0.297849
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09628800302743912
difference in average predicted and observed risk = -0.05331799697256087
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.834795
AUC of PRC = 0.579125
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.08834599703550339
difference in average predicted and observed risk = 0.009398997035503384
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 77   6]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07058800011873245
difference in average predicted and observed risk = -0.03100299988126755
number samples = 817
accuracy = 0.902081
precision class 0 = 0.904703
precision class 1 = 0.666667
recall class 0 = 0.995913
recall class 1 = 0.072289
false negative rate = 0.927711
false positive rate = 0.004087
positive prediction rate = 0.011016
AUC of ROC = 0.868504
AUC of PRC = 0.502861
min(+P, Se) = 0.493976

-------------------------------

Epoch 00027: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch27.state
Epoch 28/100
 - 278s - loss: 0.2573 - val_loss: 0.2505

==>predicting on train



confusion matrix:
[[2149    6]
 [ 227   28]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07060500234365463
difference in average predicted and observed risk = -0.03520399765634537
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.904461
precision class 1 = 0.823529
recall class 0 = 0.997216
recall class 1 = 0.109804
false negative rate = 0.890196
false positive rate = 0.002784
positive prediction rate = 0.014108
AUC of ROC = 0.817559
AUC of PRC = 0.451543
min(+P, Se) = 0.427451

-------------------------------

confusion matrix:
[[1166   13]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07428699731826782
difference in average predicted and observed risk = -0.016692002681732182
number samples = 1297
accuracy = 0.911334
precision class 0 = 0.919558
precision class 1 = 0.551724
recall class 0 = 0.988974
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.011026
positive prediction rate = 0.022359
AUC of ROC = 0.85466
AUC of PRC = 0.384716
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[648   8]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08336400240659714
difference in average predicted and observed risk = -0.018005997593402864
number samples = 730
accuracy = 0.90411
precision class 0 = 0.912676
precision class 1 = 0.6
recall class 0 = 0.987805
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.012195
positive prediction rate = 0.027397
AUC of ROC = 0.845851
AUC of PRC = 0.427248
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0803849995136261
difference in average predicted and observed risk = -0.04526900048637389
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.908433
AUC of PRC = 0.707127
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2460   14]
 [ 225   30]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07022900134325027
difference in average predicted and observed risk = -0.02321199865674972
number samples = 2729
accuracy = 0.912422
precision class 0 = 0.916201
precision class 1 = 0.681818
recall class 0 = 0.994341
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.005659
positive prediction rate = 0.016123
AUC of ROC = 0.837463
AUC of PRC = 0.410921
min(+P, Se) = 0.394531

-------------------------------

confusion matrix:
[[1669   14]
 [ 184   32]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07954899966716766
difference in average predicted and observed risk = -0.034195000332832334
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.900702
precision class 1 = 0.695652
recall class 0 = 0.991682
recall class 1 = 0.148148
false negative rate = 0.851852
false positive rate = 0.008318
positive prediction rate = 0.024223
AUC of ROC = 0.834005
AUC of PRC = 0.461977
min(+P, Se) = 0.435556

-------------------------------

confusion matrix:
[[544   5]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07696700096130371
difference in average predicted and observed risk = -0.04603599903869629
number samples = 626
accuracy = 0.883387
precision class 0 = 0.888889
precision class 1 = 0.642857
recall class 0 = 0.990893
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.009107
positive prediction rate = 0.022364
AUC of ROC = 0.846545
AUC of PRC = 0.462378
min(+P, Se) = 0.469136

-------------------------------

confusion matrix:
[[2242    7]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06495899707078934
difference in average predicted and observed risk = -0.019697002929210658
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923394
precision class 1 = 0.758621
recall class 0 = 0.996888
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.003112
positive prediction rate = 0.011803
AUC of ROC = 0.824674
AUC of PRC = 0.376066
min(+P, Se) = 0.348837

-------------------------------

confusion matrix:
[[218   5]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07566100358963013
difference in average predicted and observed risk = -0.02514499641036988
number samples = 248
accuracy = 0.883065
precision class 0 = 0.900826
precision class 1 = 0.166667
recall class 0 = 0.977578
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.022422
positive prediction rate = 0.024194
AUC of ROC = 0.78565
AUC of PRC = 0.263243
min(+P, Se) = 0.366667

-------------------------------

confusion matrix:
[[476   5]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09657400101423264
difference in average predicted and observed risk = -0.049073998985767364
number samples = 563
accuracy = 0.875666
precision class 0 = 0.879852
precision class 1 = 0.772727
recall class 0 = 0.989605
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.010395
positive prediction rate = 0.039076
AUC of ROC = 0.869885
AUC of PRC = 0.60918
min(+P, Se) = 0.551724

-------------------------------

confusion matrix:
[[649   6]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08419200032949448
difference in average predicted and observed risk = -0.023436999670505526
number samples = 734
accuracy = 0.901907
precision class 0 = 0.907692
precision class 1 = 0.684211
recall class 0 = 0.99084
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00916
positive prediction rate = 0.025886
AUC of ROC = 0.83695
AUC of PRC = 0.450147
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4129   28]
 [ 409   62]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07405299693346024
difference in average predicted and observed risk = -0.027719003066539766
number samples = 4628
accuracy = 0.905575
precision class 0 = 0.909872
precision class 1 = 0.688889
recall class 0 = 0.993264
recall class 1 = 0.131635
false negative rate = 0.868365
false positive rate = 0.006736
positive prediction rate = 0.019447
AUC of ROC = 0.836616
AUC of PRC = 0.43326
min(+P, Se) = 0.414013

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07284200191497803
difference in average predicted and observed risk = -0.007326998085021977
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.853452
AUC of PRC = 0.394257
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06645499914884567
difference in average predicted and observed risk = -0.04234100085115433
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.830285
AUC of PRC = 0.450273
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09963399916887283
difference in average predicted and observed risk = -0.01053500083112717
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.904762
AUC of PRC = 0.588623
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09634999930858612
difference in average predicted and observed risk = -0.036983000691413886
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07758499681949615
difference in average predicted and observed risk = -0.03745900318050384
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.802735
AUC of PRC = 0.379979
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[432   2]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07179500162601471
difference in average predicted and observed risk = -0.020254998373985297
number samples = 478
accuracy = 0.922594
precision class 0 = 0.925054
precision class 1 = 0.818182
recall class 0 = 0.995392
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.004608
positive prediction rate = 0.023013
AUC of ROC = 0.890344
AUC of PRC = 0.560536
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06317699700593948
difference in average predicted and observed risk = -0.02602500299406052
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.8457
AUC of PRC = 0.457792
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0870710015296936
difference in average predicted and observed risk = -0.030575998470306398
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.915741
AUC of PRC = 0.656608
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06779699772596359
difference in average predicted and observed risk = -0.020913002274036405
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.832663
AUC of PRC = 0.288891
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09984800219535828
difference in average predicted and observed risk = -0.04975799780464171
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.830409
AUC of PRC = 0.546368
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0983550027012825
difference in average predicted and observed risk = 0.019408002701282498
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.568651
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[730   4]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07419800013303757
difference in average predicted and observed risk = -0.027392999866962434
number samples = 817
accuracy = 0.906977
precision class 0 = 0.910224
precision class 1 = 0.733333
recall class 0 = 0.99455
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.00545
positive prediction rate = 0.01836
AUC of ROC = 0.853419
AUC of PRC = 0.476653
min(+P, Se) = 0.465116

-------------------------------

Epoch 00028: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch28.state
Epoch 29/100
 - 278s - loss: 0.2606 - val_loss: 0.2432

==>predicting on train



confusion matrix:
[[2148    7]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07100000232458115
difference in average predicted and observed risk = -0.034808997675418854
number samples = 2410
accuracy = 0.903734
precision class 0 = 0.905183
precision class 1 = 0.810811
recall class 0 = 0.996752
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.003248
positive prediction rate = 0.015353
AUC of ROC = 0.844316
AUC of PRC = 0.466618
min(+P, Se) = 0.462745

-------------------------------

confusion matrix:
[[1168   11]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07122799754142761
difference in average predicted and observed risk = -0.019751002458572392
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921136
precision class 1 = 0.62069
recall class 0 = 0.99067
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.00933
positive prediction rate = 0.022359
AUC of ROC = 0.86923
AUC of PRC = 0.396495
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[652   4]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08638499677181244
difference in average predicted and observed risk = -0.014985003228187563
number samples = 730
accuracy = 0.906849
precision class 0 = 0.910615
precision class 1 = 0.714286
recall class 0 = 0.993902
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.006098
positive prediction rate = 0.019178
AUC of ROC = 0.860168
AUC of PRC = 0.465594
min(+P, Se) = 0.4625

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07994499802589417
difference in average predicted and observed risk = -0.04570900197410582
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.921407
AUC of PRC = 0.703919
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2463   11]
 [ 223   32]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06855399906635284
difference in average predicted and observed risk = -0.024887000933647152
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.916977
precision class 1 = 0.744186
recall class 0 = 0.995554
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.004446
positive prediction rate = 0.015757
AUC of ROC = 0.861369
AUC of PRC = 0.43111
min(+P, Se) = 0.437984

-------------------------------

confusion matrix:
[[1671   12]
 [ 184   32]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08148399740457535
difference in average predicted and observed risk = -0.03226000259542465
number samples = 1899
accuracy = 0.896788
precision class 0 = 0.900809
precision class 1 = 0.727273
recall class 0 = 0.99287
recall class 1 = 0.148148
false negative rate = 0.851852
false positive rate = 0.00713
positive prediction rate = 0.02317
AUC of ROC = 0.849679
AUC of PRC = 0.473999
min(+P, Se) = 0.457265

-------------------------------

confusion matrix:
[[546   3]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0797789990901947
difference in average predicted and observed risk = -0.0432240009098053
number samples = 626
accuracy = 0.886581
precision class 0 = 0.889251
precision class 1 = 0.75
recall class 0 = 0.994536
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.005464
positive prediction rate = 0.019169
AUC of ROC = 0.864949
AUC of PRC = 0.484206
min(+P, Se) = 0.525641

-------------------------------

confusion matrix:
[[2242    7]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06365600228309631
difference in average predicted and observed risk = -0.02099999771690368
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923394
precision class 1 = 0.758621
recall class 0 = 0.996888
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.003112
positive prediction rate = 0.011803
AUC of ROC = 0.854688
AUC of PRC = 0.39509
min(+P, Se) = 0.385714

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06972900032997131
difference in average predicted and observed risk = -0.031076999670028693
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.745291
AUC of PRC = 0.252288
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[477   4]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09688200056552887
difference in average predicted and observed risk = -0.04876599943447113
number samples = 563
accuracy = 0.877442
precision class 0 = 0.880074
precision class 1 = 0.809524
recall class 0 = 0.991684
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.008316
positive prediction rate = 0.0373
AUC of ROC = 0.876122
AUC of PRC = 0.589963
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0867059975862503
difference in average predicted and observed risk = -0.020923002413749697
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.860798
AUC of PRC = 0.479033
min(+P, Se) = 0.445783

-------------------------------

confusion matrix:
[[4134   23]
 [ 407   64]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07385999709367752
difference in average predicted and observed risk = -0.02791200290632248
number samples = 4628
accuracy = 0.907087
precision class 0 = 0.910372
precision class 1 = 0.735632
recall class 0 = 0.994467
recall class 1 = 0.135881
false negative rate = 0.864119
false positive rate = 0.005533
positive prediction rate = 0.018799
AUC of ROC = 0.856678
AUC of PRC = 0.448816
min(+P, Se) = 0.447154

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06973499804735184
difference in average predicted and observed risk = -0.010434001952648167
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.888218
AUC of PRC = 0.395866
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06481900066137314
difference in average predicted and observed risk = -0.043976999338626865
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.849959
AUC of PRC = 0.492449
min(+P, Se) = 0.46

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1055779978632927
difference in average predicted and observed risk = -0.004591002136707309
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.846886
AUC of PRC = 0.607296
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10043299943208694
difference in average predicted and observed risk = -0.03290000056791306
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08234000205993652
difference in average predicted and observed risk = -0.03270399794006347
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.813077
AUC of PRC = 0.392795
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06712699681520462
difference in average predicted and observed risk = -0.024923003184795386
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.896052
AUC of PRC = 0.557369
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06158600002527237
difference in average predicted and observed risk = -0.027615999974727634
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.886259
AUC of PRC = 0.460314
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08438199758529663
difference in average predicted and observed risk = -0.03326500241470337
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.825
AUC of PRC = 0.581302
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06965599954128265
difference in average predicted and observed risk = -0.019054000458717343
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.854385
AUC of PRC = 0.317201
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1011819988489151
difference in average predicted and observed risk = -0.04842400115108489
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.822125
AUC of PRC = 0.577104
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0965770035982132
difference in average predicted and observed risk = 0.017630003598213193
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07343900203704834
difference in average predicted and observed risk = -0.02815199796295166
number samples = 817
accuracy = 0.905753
precision class 0 = 0.909091
precision class 1 = 0.714286
recall class 0 = 0.99455
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.00545
positive prediction rate = 0.017136
AUC of ROC = 0.862152
AUC of PRC = 0.483034
min(+P, Se) = 0.511905

-------------------------------

Epoch 00029: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch29.state
Epoch 30/100
 - 279s - loss: 0.2562 - val_loss: 0.2371

==>predicting on train



confusion matrix:
[[2147    8]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08042000234127045
difference in average predicted and observed risk = -0.025388997658729553
number samples = 2410
accuracy = 0.903734
precision class 0 = 0.905525
precision class 1 = 0.794872
recall class 0 = 0.996288
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.003712
positive prediction rate = 0.016183
AUC of ROC = 0.845517
AUC of PRC = 0.476235
min(+P, Se) = 0.457249

-------------------------------

confusion matrix:
[[1165   14]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08152599632740021
difference in average predicted and observed risk = -0.009453003672599797
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.923138
precision class 1 = 0.6
recall class 0 = 0.988126
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.011874
positive prediction rate = 0.026985
AUC of ROC = 0.868547
AUC of PRC = 0.414513
min(+P, Se) = 0.403361

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09738100320100784
difference in average predicted and observed risk = -0.003988996798992159
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.859921
AUC of PRC = 0.459946
min(+P, Se) = 0.460526

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08771999925374985
difference in average predicted and observed risk = -0.03793400074625014
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.915669
AUC of PRC = 0.664025
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2459   15]
 [ 221   34]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07788600027561188
difference in average predicted and observed risk = -0.015554999724388119
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.917537
precision class 1 = 0.693878
recall class 0 = 0.993937
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.006063
positive prediction rate = 0.017955
AUC of ROC = 0.857736
AUC of PRC = 0.432493
min(+P, Se) = 0.420849

-------------------------------

confusion matrix:
[[1669   14]
 [ 178   38]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09207099676132202
difference in average predicted and observed risk = -0.021673003238677976
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.903628
precision class 1 = 0.730769
recall class 0 = 0.991682
recall class 1 = 0.175926
false negative rate = 0.824074
false positive rate = 0.008318
positive prediction rate = 0.027383
AUC of ROC = 0.85515
AUC of PRC = 0.491655
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[544   5]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08949699997901917
difference in average predicted and observed risk = -0.033506000020980836
number samples = 626
accuracy = 0.884984
precision class 0 = 0.890344
precision class 1 = 0.666667
recall class 0 = 0.990893
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.009107
positive prediction rate = 0.023962
AUC of ROC = 0.857143
AUC of PRC = 0.489452
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[2241    8]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07333499938249588
difference in average predicted and observed risk = -0.011321000617504115
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.924887
precision class 1 = 0.764706
recall class 0 = 0.996443
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.003557
positive prediction rate = 0.013838
AUC of ROC = 0.854936
AUC of PRC = 0.402731
min(+P, Se) = 0.375566

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0804319977760315
difference in average predicted and observed risk = -0.020374002223968513
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.757309
AUC of PRC = 0.271533
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[475   6]
 [ 62  20]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1078839972615242
difference in average predicted and observed risk = -0.0377640027384758
number samples = 563
accuracy = 0.879218
precision class 0 = 0.884544
precision class 1 = 0.769231
recall class 0 = 0.987526
recall class 1 = 0.243902
false negative rate = 0.756098
false positive rate = 0.012474
positive prediction rate = 0.046181
AUC of ROC = 0.877009
AUC of PRC = 0.604681
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[649   6]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09604500234127045
difference in average predicted and observed risk = -0.011583997658729556
number samples = 734
accuracy = 0.904632
precision class 0 = 0.910238
precision class 1 = 0.714286
recall class 0 = 0.99084
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00916
positive prediction rate = 0.02861
AUC of ROC = 0.865359
AUC of PRC = 0.498509
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4128   29]
 [ 399   72]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08370599895715714
difference in average predicted and observed risk = -0.018066001042842866
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.911862
precision class 1 = 0.712871
recall class 0 = 0.993024
recall class 1 = 0.152866
false negative rate = 0.847134
false positive rate = 0.006976
positive prediction rate = 0.021824
AUC of ROC = 0.856989
AUC of PRC = 0.459198
min(+P, Se) = 0.443737

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08055199682712555
difference in average predicted and observed risk = 0.00038299682712554517
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.895944
AUC of PRC = 0.418341
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07711900025606155
difference in average predicted and observed risk = -0.03167699974393845
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.856756
AUC of PRC = 0.504051
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11697900295257568
difference in average predicted and observed risk = 0.0068100029525756806
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.865934
AUC of PRC = 0.514104
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11170999705791473
difference in average predicted and observed risk = -0.021623002942085273
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09463699907064438
difference in average predicted and observed risk = -0.020407000929355615
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.822308
AUC of PRC = 0.376225
min(+P, Se) = 0.390244

-------------------------------

confusion matrix:
[[432   2]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07840800285339355
difference in average predicted and observed risk = -0.013641997146606452
number samples = 478
accuracy = 0.922594
precision class 0 = 0.925054
precision class 1 = 0.818182
recall class 0 = 0.995392
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.004608
positive prediction rate = 0.023013
AUC of ROC = 0.903278
AUC of PRC = 0.573635
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07152300328016281
difference in average predicted and observed risk = -0.017678996719837192
number samples = 426
accuracy = 0.91784
precision class 0 = 0.91924
precision class 1 = 0.8
recall class 0 = 0.997423
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.002577
positive prediction rate = 0.011737
AUC of ROC = 0.878188
AUC of PRC = 0.453727
min(+P, Se) = 0.422222

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09888400137424469
difference in average predicted and observed risk = -0.01876299862575531
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.875926
AUC of PRC = 0.621175
min(+P, Se) = 0.529412

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08250399678945541
difference in average predicted and observed risk = -0.006206003210544583
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.884956
AUC of PRC = 0.33027
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11190900206565857
difference in average predicted and observed risk = -0.03769699793434142
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.829922
AUC of PRC = 0.510878
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12008000165224075
difference in average predicted and observed risk = 0.04113300165224075
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08514200150966644
difference in average predicted and observed risk = -0.016448998490333558
number samples = 817
accuracy = 0.909425
precision class 0 = 0.9125
precision class 1 = 0.764706
recall class 0 = 0.99455
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.00545
positive prediction rate = 0.020808
AUC of ROC = 0.869669
AUC of PRC = 0.471123
min(+P, Se) = 0.457831

-------------------------------

Epoch 00030: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch30.state
Epoch 31/100
 - 279s - loss: 0.2568 - val_loss: 0.2359

==>predicting on train



confusion matrix:
[[2149    6]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08230099827051163
difference in average predicted and observed risk = -0.023508001729488373
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.905605
precision class 1 = 0.837838
recall class 0 = 0.997216
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.002784
positive prediction rate = 0.015353
AUC of ROC = 0.850587
AUC of PRC = 0.475902
min(+P, Se) = 0.453125

-------------------------------

confusion matrix:
[[1169   10]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08174499869346619
difference in average predicted and observed risk = -0.009234001306533818
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.921198
precision class 1 = 0.642857
recall class 0 = 0.991518
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.008482
positive prediction rate = 0.021588
AUC of ROC = 0.871429
AUC of PRC = 0.421967
min(+P, Se) = 0.417323

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09683100134134293
difference in average predicted and observed risk = -0.004538998658657076
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.867213
AUC of PRC = 0.452128
min(+P, Se) = 0.467532

-------------------------------

confusion matrix:
[[166   1]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08863600343465805
difference in average predicted and observed risk = -0.03701799656534194
number samples = 191
accuracy = 0.890052
precision class 0 = 0.892473
precision class 1 = 0.8
recall class 0 = 0.994012
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.005988
positive prediction rate = 0.026178
AUC of ROC = 0.921407
AUC of PRC = 0.696053
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2462   12]
 [ 224   31]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07945600152015686
difference in average predicted and observed risk = -0.013984998479843136
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.916605
precision class 1 = 0.72093
recall class 0 = 0.99515
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.00485
positive prediction rate = 0.015757
AUC of ROC = 0.862306
AUC of PRC = 0.442311
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[1672   11]
 [ 181   35]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09223400056362152
difference in average predicted and observed risk = -0.021509999436378477
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.902321
precision class 1 = 0.76087
recall class 0 = 0.993464
recall class 1 = 0.162037
false negative rate = 0.837963
false positive rate = 0.006536
positive prediction rate = 0.024223
AUC of ROC = 0.860327
AUC of PRC = 0.486883
min(+P, Se) = 0.467593

-------------------------------

confusion matrix:
[[546   3]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09028500318527222
difference in average predicted and observed risk = -0.032717996814727784
number samples = 626
accuracy = 0.889776
precision class 0 = 0.892157
precision class 1 = 0.785714
recall class 0 = 0.994536
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.005464
positive prediction rate = 0.022364
AUC of ROC = 0.867906
AUC of PRC = 0.500899
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2243    6]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0751350000500679
difference in average predicted and observed risk = -0.009520999949932094
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.923425
precision class 1 = 0.785714
recall class 0 = 0.997332
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.002668
positive prediction rate = 0.011396
AUC of ROC = 0.857849
AUC of PRC = 0.404563
min(+P, Se) = 0.385714

-------------------------------

confusion matrix:
[[218   5]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0832739993929863
difference in average predicted and observed risk = -0.01753200060701371
number samples = 248
accuracy = 0.883065
precision class 0 = 0.900826
precision class 1 = 0.166667
recall class 0 = 0.977578
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.022422
positive prediction rate = 0.024194
AUC of ROC = 0.761435
AUC of PRC = 0.270983
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[476   5]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10748899728059769
difference in average predicted and observed risk = -0.03815900271940231
number samples = 563
accuracy = 0.875666
precision class 0 = 0.879852
precision class 1 = 0.772727
recall class 0 = 0.989605
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.010395
positive prediction rate = 0.039076
AUC of ROC = 0.885376
AUC of PRC = 0.613086
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[651   4]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09494899958372116
difference in average predicted and observed risk = -0.012680000416278842
number samples = 734
accuracy = 0.907357
precision class 0 = 0.910489
precision class 1 = 0.789474
recall class 0 = 0.993893
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.006107
positive prediction rate = 0.025886
AUC of ROC = 0.86762
AUC of PRC = 0.496604
min(+P, Se) = 0.465116

-------------------------------

confusion matrix:
[[4134   23]
 [ 405   66]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08469899743795395
difference in average predicted and observed risk = -0.017073002562046052
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.910773
precision class 1 = 0.741573
recall class 0 = 0.994467
recall class 1 = 0.140127
false negative rate = 0.859873
false positive rate = 0.005533
positive prediction rate = 0.019231
AUC of ROC = 0.861888
AUC of PRC = 0.460909
min(+P, Se) = 0.454352

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08089199662208557
difference in average predicted and observed risk = 0.0007229966220855671
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.895703
AUC of PRC = 0.379661
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07785200327634811
difference in average predicted and observed risk = -0.03094399672365189
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.865046
AUC of PRC = 0.494195
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11826600134372711
difference in average predicted and observed risk = 0.008097001343727109
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.868864
AUC of PRC = 0.578065
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1152620017528534
difference in average predicted and observed risk = -0.018070998247146614
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09555000066757202
difference in average predicted and observed risk = -0.019493999332427972
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.831111
AUC of PRC = 0.391552
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07913199812173843
difference in average predicted and observed risk = -0.012918001878261573
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.905373
AUC of PRC = 0.572809
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07268500328063965
difference in average predicted and observed risk = -0.016516996719360355
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.881172
AUC of PRC = 0.468431
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0996680036187172
difference in average predicted and observed risk = -0.017978996381282808
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.888889
AUC of PRC = 0.626896
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08084899932146072
difference in average predicted and observed risk = -0.007861000678539273
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.895414
AUC of PRC = 0.337261
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11239200085401535
difference in average predicted and observed risk = -0.03721399914598464
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.844542
AUC of PRC = 0.569802
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12599800527095795
difference in average predicted and observed risk = 0.047051005270957943
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0859450027346611
difference in average predicted and observed risk = -0.0156459972653389
number samples = 817
accuracy = 0.906977
precision class 0 = 0.910224
precision class 1 = 0.733333
recall class 0 = 0.99455
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.00545
positive prediction rate = 0.01836
AUC of ROC = 0.874856
AUC of PRC = 0.487396
min(+P, Se) = 0.506024

-------------------------------

Epoch 00031: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch31.state
Epoch 32/100
 - 279s - loss: 0.2526 - val_loss: 0.2305

==>predicting on train



confusion matrix:
[[2137   18]
 [ 204   51]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08456999808549881
difference in average predicted and observed risk = -0.02123900191450119
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.912858
precision class 1 = 0.73913
recall class 0 = 0.991647
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.008353
positive prediction rate = 0.028631
AUC of ROC = 0.853019
AUC of PRC = 0.482641
min(+P, Se) = 0.463035

-------------------------------

confusion matrix:
[[1158   21]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08580899983644485
difference in average predicted and observed risk = -0.00517000016355515
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.929374
precision class 1 = 0.588235
recall class 0 = 0.982188
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.017812
positive prediction rate = 0.039322
AUC of ROC = 0.874736
AUC of PRC = 0.434625
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[638  18]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10326900333166122
difference in average predicted and observed risk = 0.0018990033316612226
number samples = 730
accuracy = 0.9
precision class 0 = 0.920635
precision class 1 = 0.513514
recall class 0 = 0.972561
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.027439
positive prediction rate = 0.050685
AUC of ROC = 0.863464
AUC of PRC = 0.446325
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[166   1]
 [ 14  10]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09526699781417847
difference in average predicted and observed risk = -0.03038700218582152
number samples = 191
accuracy = 0.921466
precision class 0 = 0.922222
precision class 1 = 0.909091
recall class 0 = 0.994012
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.005988
positive prediction rate = 0.057592
AUC of ROC = 0.912675
AUC of PRC = 0.6461
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[2442   32]
 [ 198   57]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08126399666070938
difference in average predicted and observed risk = -0.012177003339290615
number samples = 2729
accuracy = 0.91572
precision class 0 = 0.925
precision class 1 = 0.640449
recall class 0 = 0.987065
recall class 1 = 0.223529
false negative rate = 0.776471
false positive rate = 0.012935
positive prediction rate = 0.032613
AUC of ROC = 0.862675
AUC of PRC = 0.444183
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[1657   26]
 [ 163   53]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09843199700117111
difference in average predicted and observed risk = -0.015312002998828886
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.91044
precision class 1 = 0.670886
recall class 0 = 0.984551
recall class 1 = 0.24537
false negative rate = 0.75463
false positive rate = 0.015449
positive prediction rate = 0.041601
AUC of ROC = 0.86258
AUC of PRC = 0.49964
min(+P, Se) = 0.454128

-------------------------------

confusion matrix:
[[538  11]
 [ 59  18]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09562499821186066
difference in average predicted and observed risk = -0.027378001788139344
number samples = 626
accuracy = 0.888179
precision class 0 = 0.901173
precision class 1 = 0.62069
recall class 0 = 0.979964
recall class 1 = 0.233766
false negative rate = 0.766234
false positive rate = 0.020036
positive prediction rate = 0.046326
AUC of ROC = 0.865139
AUC of PRC = 0.503209
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2231   18]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07603699713945389
difference in average predicted and observed risk = -0.008619002860546107
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.928423
precision class 1 = 0.666667
recall class 0 = 0.991996
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.008004
positive prediction rate = 0.021978
AUC of ROC = 0.860615
AUC of PRC = 0.410208
min(+P, Se) = 0.389671

-------------------------------

confusion matrix:
[[216   7]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08579500019550323
difference in average predicted and observed risk = -0.015010999804496772
number samples = 248
accuracy = 0.887097
precision class 0 = 0.911392
precision class 1 = 0.363636
recall class 0 = 0.96861
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.03139
positive prediction rate = 0.044355
AUC of ROC = 0.761614
AUC of PRC = 0.260386
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[470  11]
 [ 50  32]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1181349977850914
difference in average predicted and observed risk = -0.0275130022149086
number samples = 563
accuracy = 0.891652
precision class 0 = 0.903846
precision class 1 = 0.744186
recall class 0 = 0.977131
recall class 1 = 0.390244
false negative rate = 0.609756
false positive rate = 0.022869
positive prediction rate = 0.076377
AUC of ROC = 0.886923
AUC of PRC = 0.632467
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[644  11]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10111699998378754
difference in average predicted and observed risk = -0.006512000016212466
number samples = 734
accuracy = 0.904632
precision class 0 = 0.916074
precision class 1 = 0.645161
recall class 0 = 0.983206
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.016794
positive prediction rate = 0.042234
AUC of ROC = 0.868702
AUC of PRC = 0.505235
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[4099   58]
 [ 361  110]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08830799907445908
difference in average predicted and observed risk = -0.013464000925540925
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.919058
precision class 1 = 0.654762
recall class 0 = 0.986048
recall class 1 = 0.233546
false negative rate = 0.766454
false positive rate = 0.013952
positive prediction rate = 0.036301
AUC of ROC = 0.863012
AUC of PRC = 0.467049
min(+P, Se) = 0.446089

-------------------------------

==>predicting on validation



confusion matrix:
[[212   6]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08509399741888046
difference in average predicted and observed risk = 0.0049249974188804585
number samples = 237
accuracy = 0.915612
precision class 0 = 0.938053
precision class 1 = 0.454545
recall class 0 = 0.972477
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.027523
positive prediction rate = 0.046414
AUC of ROC = 0.900531
AUC of PRC = 0.424072
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[384   1]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08017700165510178
difference in average predicted and observed risk = -0.028618998344898228
number samples = 432
accuracy = 0.900463
precision class 0 = 0.901408
precision class 1 = 0.833333
recall class 0 = 0.997403
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.002597
positive prediction rate = 0.013889
AUC of ROC = 0.867256
AUC of PRC = 0.520385
min(+P, Se) = 0.481481

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1268710047006607
difference in average predicted and observed risk = 0.016702004700660703
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.854212
AUC of PRC = 0.472964
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11846700310707092
difference in average predicted and observed risk = -0.014865996892929084
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[295   5]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10270699858665466
difference in average predicted and observed risk = -0.01233700141334533
number samples = 339
accuracy = 0.884956
precision class 0 = 0.896657
precision class 1 = 0.5
recall class 0 = 0.983333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.016667
positive prediction rate = 0.029499
AUC of ROC = 0.83453
AUC of PRC = 0.381294
min(+P, Se) = 0.44186

-------------------------------

confusion matrix:
[[430   4]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08056599646806717
difference in average predicted and observed risk = -0.011484003531932838
number samples = 478
accuracy = 0.924686
precision class 0 = 0.930736
precision class 1 = 0.75
recall class 0 = 0.990783
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.009217
positive prediction rate = 0.033473
AUC of ROC = 0.904378
AUC of PRC = 0.574376
min(+P, Se) = 0.577778

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07439099997282028
difference in average predicted and observed risk = -0.014811000027179722
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.888836
AUC of PRC = 0.483125
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[88  2]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10624799877405167
difference in average predicted and observed risk = -0.011399001225948335
number samples = 102
accuracy = 0.892157
precision class 0 = 0.907216
precision class 1 = 0.6
recall class 0 = 0.977778
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.022222
positive prediction rate = 0.04902
AUC of ROC = 0.87963
AUC of PRC = 0.59879
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08453500270843506
difference in average predicted and observed risk = -0.004174997291564939
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.886565
AUC of PRC = 0.327866
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11870899796485901
difference in average predicted and observed risk = -0.03089700203514098
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.839669
AUC of PRC = 0.543319
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[33  2]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1379610002040863
difference in average predicted and observed risk = 0.0590140002040863
number samples = 38
accuracy = 0.894737
precision class 0 = 0.942857
precision class 1 = 0.333333
recall class 0 = 0.942857
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.057143
positive prediction rate = 0.078947
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[725   9]
 [ 66  17]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08975300192832947
difference in average predicted and observed risk = -0.011837998071670533
number samples = 817
accuracy = 0.908201
precision class 0 = 0.916561
precision class 1 = 0.653846
recall class 0 = 0.987738
recall class 1 = 0.204819
false negative rate = 0.795181
false positive rate = 0.012262
positive prediction rate = 0.031824
AUC of ROC = 0.876449
AUC of PRC = 0.48414
min(+P, Se) = 0.511905

-------------------------------

Epoch 00032: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch32.state
Epoch 33/100
 - 278s - loss: 0.2565 - val_loss: 0.2376

==>predicting on train



confusion matrix:
[[2150    5]
 [ 230   25]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08600100129842758
difference in average predicted and observed risk = -0.01980799870157242
number samples = 2410
accuracy = 0.90249
precision class 0 = 0.903361
precision class 1 = 0.833333
recall class 0 = 0.99768
recall class 1 = 0.098039
false negative rate = 0.901961
false positive rate = 0.00232
positive prediction rate = 0.012448
AUC of ROC = 0.850626
AUC of PRC = 0.482312
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[1167   12]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08555100113153458
difference in average predicted and observed risk = -0.005427998868465428
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921801
precision class 1 = 0.612903
recall class 0 = 0.989822
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.010178
positive prediction rate = 0.023901
AUC of ROC = 0.874578
AUC of PRC = 0.412968
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[651   5]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10224200040102005
difference in average predicted and observed risk = 0.0008720004010200483
number samples = 730
accuracy = 0.910959
precision class 0 = 0.915612
precision class 1 = 0.736842
recall class 0 = 0.992378
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.007622
positive prediction rate = 0.026027
AUC of ROC = 0.863258
AUC of PRC = 0.486267
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09394600242376328
difference in average predicted and observed risk = -0.03170799757623671
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.924651
AUC of PRC = 0.736079
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2462   12]
 [ 224   31]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08141999691724777
difference in average predicted and observed risk = -0.012021003082752224
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.916605
precision class 1 = 0.72093
recall class 0 = 0.99515
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.00485
positive prediction rate = 0.015757
AUC of ROC = 0.86323
AUC of PRC = 0.441488
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1672   11]
 [ 183   33]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09932000190019608
difference in average predicted and observed risk = -0.014423998099803922
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.901348
precision class 1 = 0.75
recall class 0 = 0.993464
recall class 1 = 0.152778
false negative rate = 0.847222
false positive rate = 0.006536
positive prediction rate = 0.02317
AUC of ROC = 0.860022
AUC of PRC = 0.495549
min(+P, Se) = 0.481481

-------------------------------

confusion matrix:
[[546   3]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0951709970831871
difference in average predicted and observed risk = -0.027832002916812898
number samples = 626
accuracy = 0.888179
precision class 0 = 0.890701
precision class 1 = 0.769231
recall class 0 = 0.994536
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.005464
positive prediction rate = 0.020767
AUC of ROC = 0.865139
AUC of PRC = 0.506317
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2244    5]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07878699898719788
difference in average predicted and observed risk = -0.005869001012802119
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.922318
precision class 1 = 0.791667
recall class 0 = 0.997777
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.002223
positive prediction rate = 0.009768
AUC of ROC = 0.859115
AUC of PRC = 0.408027
min(+P, Se) = 0.392523

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08656500279903412
difference in average predicted and observed risk = -0.014240997200965888
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.762152
AUC of PRC = 0.250179
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[475   6]
 [ 63  19]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11153099685907364
difference in average predicted and observed risk = -0.03411700314092636
number samples = 563
accuracy = 0.877442
precision class 0 = 0.8829
precision class 1 = 0.76
recall class 0 = 0.987526
recall class 1 = 0.231707
false negative rate = 0.768293
false positive rate = 0.012474
positive prediction rate = 0.044405
AUC of ROC = 0.884058
AUC of PRC = 0.61655
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09998100250959396
difference in average predicted and observed risk = -0.007647997490406039
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.86963
AUC of PRC = 0.516835
min(+P, Se) = 0.487805

-------------------------------

confusion matrix:
[[4134   23]
 [ 407   64]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08876500278711319
difference in average predicted and observed risk = -0.013006997212886812
number samples = 4628
accuracy = 0.907087
precision class 0 = 0.910372
precision class 1 = 0.735632
recall class 0 = 0.994467
recall class 1 = 0.135881
false negative rate = 0.864119
false positive rate = 0.005533
positive prediction rate = 0.018799
AUC of ROC = 0.862133
AUC of PRC = 0.466459
min(+P, Se) = 0.464968

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08358799666166306
difference in average predicted and observed risk = 0.0034189966616630513
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.886045
AUC of PRC = 0.366386
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08042299747467041
difference in average predicted and observed risk = -0.028373002525329594
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.863719
AUC of PRC = 0.525228
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11959300190210342
difference in average predicted and observed risk = 0.009424001902103421
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.857143
AUC of PRC = 0.56689
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1176460012793541
difference in average predicted and observed risk = -0.01568699872064591
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09761600196361542
difference in average predicted and observed risk = -0.017427998036384576
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.835385
AUC of PRC = 0.421262
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08180499821901321
difference in average predicted and observed risk = -0.010245001780986793
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.894376
AUC of PRC = 0.564541
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07539799809455872
difference in average predicted and observed risk = -0.013804001905441288
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.882528
AUC of PRC = 0.484745
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09734699875116348
difference in average predicted and observed risk = -0.02030000124883652
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.859259
AUC of PRC = 0.599277
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08724600076675415
difference in average predicted and observed risk = -0.0014639992332458468
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.887369
AUC of PRC = 0.341973
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11621399968862534
difference in average predicted and observed risk = -0.03339200031137465
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.834308
AUC of PRC = 0.562259
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12020599842071533
difference in average predicted and observed risk = 0.04125899842071533
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.92381
AUC of PRC = 0.569444
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08836500346660614
difference in average predicted and observed risk = -0.01322599653339386
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.871278
AUC of PRC = 0.497196
min(+P, Se) = 0.506024

-------------------------------

Epoch 00033: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch33.state
Epoch 34/100
 - 280s - loss: 0.2583 - val_loss: 0.2442

==>predicting on train



confusion matrix:
[[2147    8]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06911200284957886
difference in average predicted and observed risk = -0.03669699715042114
number samples = 2410
accuracy = 0.904149
precision class 0 = 0.905907
precision class 1 = 0.8
recall class 0 = 0.996288
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.003712
positive prediction rate = 0.016598
AUC of ROC = 0.844153
AUC of PRC = 0.469282
min(+P, Se) = 0.452107

-------------------------------

confusion matrix:
[[1167   12]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06933700293302536
difference in average predicted and observed risk = -0.021641997066974644
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921801
precision class 1 = 0.612903
recall class 0 = 0.989822
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.010178
positive prediction rate = 0.023901
AUC of ROC = 0.866628
AUC of PRC = 0.406506
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[650   6]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08513099700212479
difference in average predicted and observed risk = -0.016239002997875215
number samples = 730
accuracy = 0.906849
precision class 0 = 0.912921
precision class 1 = 0.666667
recall class 0 = 0.990854
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.009146
positive prediction rate = 0.024658
AUC of ROC = 0.854936
AUC of PRC = 0.462159
min(+P, Se) = 0.459459

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07918500155210495
difference in average predicted and observed risk = -0.04646899844789504
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.916168
AUC of PRC = 0.689251
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2459   15]
 [ 221   34]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06635300070047379
difference in average predicted and observed risk = -0.02708799929952621
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.917537
precision class 1 = 0.693878
recall class 0 = 0.993937
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.006063
positive prediction rate = 0.017955
AUC of ROC = 0.855358
AUC of PRC = 0.422297
min(+P, Se) = 0.419608

-------------------------------

confusion matrix:
[[1671   12]
 [ 180   36]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08040200173854828
difference in average predicted and observed risk = -0.03334199826145172
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.902755
precision class 1 = 0.75
recall class 0 = 0.99287
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.00713
positive prediction rate = 0.025276
AUC of ROC = 0.85378
AUC of PRC = 0.488727
min(+P, Se) = 0.462963

-------------------------------

confusion matrix:
[[545   4]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07722599804401398
difference in average predicted and observed risk = -0.045777001955986024
number samples = 626
accuracy = 0.883387
precision class 0 = 0.887622
precision class 1 = 0.666667
recall class 0 = 0.992714
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.007286
positive prediction rate = 0.019169
AUC of ROC = 0.863696
AUC of PRC = 0.490551
min(+P, Se) = 0.487805

-------------------------------

confusion matrix:
[[2243    6]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06230099871754646
difference in average predicted and observed risk = -0.022355001282453532
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.924186
precision class 1 = 0.8
recall class 0 = 0.997332
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.002668
positive prediction rate = 0.01221
AUC of ROC = 0.850718
AUC of PRC = 0.397239
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06931900233030319
difference in average predicted and observed risk = -0.031486997669696815
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.761973
AUC of PRC = 0.255207
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[475   6]
 [ 60  22]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09471700340509415
difference in average predicted and observed risk = -0.05093099659490585
number samples = 563
accuracy = 0.882771
precision class 0 = 0.88785
precision class 1 = 0.785714
recall class 0 = 0.987526
recall class 1 = 0.268293
false negative rate = 0.731707
false positive rate = 0.012474
positive prediction rate = 0.049734
AUC of ROC = 0.874626
AUC of PRC = 0.603401
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[648   7]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08423099666833878
difference in average predicted and observed risk = -0.023398003331661227
number samples = 734
accuracy = 0.90327
precision class 0 = 0.910112
precision class 1 = 0.681818
recall class 0 = 0.989313
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.010687
positive prediction rate = 0.029973
AUC of ROC = 0.859407
AUC of PRC = 0.492565
min(+P, Se) = 0.463415

-------------------------------

confusion matrix:
[[4130   27]
 [ 401   70]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07211700081825256
difference in average predicted and observed risk = -0.029654999181747438
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.911499
precision class 1 = 0.721649
recall class 0 = 0.993505
recall class 1 = 0.14862
false negative rate = 0.85138
false positive rate = 0.006495
positive prediction rate = 0.020959
AUC of ROC = 0.854984
AUC of PRC = 0.452638
min(+P, Se) = 0.435244

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06996899843215942
difference in average predicted and observed risk = -0.01020000156784058
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.887494
AUC of PRC = 0.35662
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06398099660873413
difference in average predicted and observed risk = -0.04481500339126587
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.850953
AUC of PRC = 0.47149
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10320799797773361
difference in average predicted and observed risk = -0.006961002022266391
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.851282
AUC of PRC = 0.46985
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10551899671554565
difference in average predicted and observed risk = -0.027814003284454353
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08109699934720993
difference in average predicted and observed risk = -0.03394700065279006
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.817179
AUC of PRC = 0.360038
min(+P, Se) = 0.390244

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06710200011730194
difference in average predicted and observed risk = -0.024947999882698066
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.892019
AUC of PRC = 0.535488
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05940200015902519
difference in average predicted and observed risk = -0.02979999984097481
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.877374
AUC of PRC = 0.460164
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0833280012011528
difference in average predicted and observed risk = -0.0343189987988472
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.874074
AUC of PRC = 0.621676
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07139299809932709
difference in average predicted and observed risk = -0.01731700190067291
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.86967
AUC of PRC = 0.323419
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10210900008678436
difference in average predicted and observed risk = -0.047496999913215626
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.809454
AUC of PRC = 0.449902
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10371100157499313
difference in average predicted and observed risk = 0.02476400157499313
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07290899753570557
difference in average predicted and observed risk = -0.028682002464294434
number samples = 817
accuracy = 0.908201
precision class 0 = 0.910336
precision class 1 = 0.785714
recall class 0 = 0.995913
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.004087
positive prediction rate = 0.017136
AUC of ROC = 0.862299
AUC of PRC = 0.44575
min(+P, Se) = 0.46988

-------------------------------

Epoch 00034: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch34.state
Epoch 35/100
 - 278s - loss: 0.2581 - val_loss: 0.2389

==>predicting on train



confusion matrix:
[[2152    3]
 [ 235   20]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08184300363063812
difference in average predicted and observed risk = -0.023965996369361878
number samples = 2410
accuracy = 0.901245
precision class 0 = 0.90155
precision class 1 = 0.869565
recall class 0 = 0.998608
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.001392
positive prediction rate = 0.009544
AUC of ROC = 0.853699
AUC of PRC = 0.488236
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1171    8]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0799110010266304
difference in average predicted and observed risk = -0.011067998973369603
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.917712
precision class 1 = 0.619048
recall class 0 = 0.993215
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.006785
positive prediction rate = 0.016191
AUC of ROC = 0.877115
AUC of PRC = 0.416935
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[654   2]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09597600251436234
difference in average predicted and observed risk = -0.005393997485637667
number samples = 730
accuracy = 0.908219
precision class 0 = 0.909597
precision class 1 = 0.818182
recall class 0 = 0.996951
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.003049
positive prediction rate = 0.015068
AUC of ROC = 0.872219
AUC of PRC = 0.482435
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08866900205612183
difference in average predicted and observed risk = -0.03698499794387816
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.933383
AUC of PRC = 0.726679
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2469    5]
 [ 235   20]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07742799818515778
difference in average predicted and observed risk = -0.01601300181484222
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.913092
precision class 1 = 0.8
recall class 0 = 0.997979
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.002021
positive prediction rate = 0.009161
AUC of ROC = 0.868119
AUC of PRC = 0.451509
min(+P, Se) = 0.445312

-------------------------------

confusion matrix:
[[1675    8]
 [ 189   27]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09298700094223022
difference in average predicted and observed risk = -0.020756999057769773
number samples = 1899
accuracy = 0.896261
precision class 0 = 0.898605
precision class 1 = 0.771429
recall class 0 = 0.995247
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.004753
positive prediction rate = 0.018431
AUC of ROC = 0.863631
AUC of PRC = 0.497491
min(+P, Se) = 0.472222

-------------------------------

confusion matrix:
[[546   3]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09046799689531326
difference in average predicted and observed risk = -0.03253500310468674
number samples = 626
accuracy = 0.883387
precision class 0 = 0.886364
precision class 1 = 0.7
recall class 0 = 0.994536
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.005464
positive prediction rate = 0.015974
AUC of ROC = 0.873442
AUC of PRC = 0.509301
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2246    3]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07454399764537811
difference in average predicted and observed risk = -0.010112002354621882
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.921625
precision class 1 = 0.85
recall class 0 = 0.998666
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.001334
positive prediction rate = 0.00814
AUC of ROC = 0.864226
AUC of PRC = 0.420499
min(+P, Se) = 0.390698

-------------------------------

confusion matrix:
[[221   2]
 [ 25   0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08174999803304672
difference in average predicted and observed risk = -0.019056001966953284
number samples = 248
accuracy = 0.891129
precision class 0 = 0.898374
precision class 1 = 0.0
recall class 0 = 0.991031
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.008969
positive prediction rate = 0.008065
AUC of ROC = 0.761256
AUC of PRC = 0.26064
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[479   2]
 [ 69  13]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10439500212669373
difference in average predicted and observed risk = -0.041252997873306274
number samples = 563
accuracy = 0.87389
precision class 0 = 0.874088
precision class 1 = 0.866667
recall class 0 = 0.995842
recall class 1 = 0.158537
false negative rate = 0.841463
false positive rate = 0.004158
positive prediction rate = 0.026643
AUC of ROC = 0.885199
AUC of PRC = 0.617304
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[652   3]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09407199919223785
difference in average predicted and observed risk = -0.013557000807762148
number samples = 734
accuracy = 0.901907
precision class 0 = 0.9043
precision class 1 = 0.769231
recall class 0 = 0.99542
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.00458
positive prediction rate = 0.017711
AUC of ROC = 0.87363
AUC of PRC = 0.518489
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[4144   13]
 [ 424   47]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08381199836730957
difference in average predicted and observed risk = -0.01796000163269043
number samples = 4628
accuracy = 0.905575
precision class 0 = 0.90718
precision class 1 = 0.783333
recall class 0 = 0.996873
recall class 1 = 0.099788
false negative rate = 0.900212
false positive rate = 0.003127
positive prediction rate = 0.012965
AUC of ROC = 0.866589
AUC of PRC = 0.472548
min(+P, Se) = 0.45666

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0803380012512207
difference in average predicted and observed risk = 0.00016900125122069898
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.883631
AUC of PRC = 0.362107
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07616399973630905
difference in average predicted and observed risk = -0.03263200026369095
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.866704
AUC of PRC = 0.517734
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11499500274658203
difference in average predicted and observed risk = 0.004826002746582028
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.859341
AUC of PRC = 0.610114
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11167600005865097
difference in average predicted and observed risk = -0.021656999941349037
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09302999824285507
difference in average predicted and observed risk = -0.02201400175714492
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.832393
AUC of PRC = 0.414637
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07808700203895569
difference in average predicted and observed risk = -0.013962997961044318
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.898932
AUC of PRC = 0.576183
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07112299650907516
difference in average predicted and observed risk = -0.01807900349092484
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.88592
AUC of PRC = 0.491455
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09077899903059006
difference in average predicted and observed risk = -0.026868000969409944
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.85463
AUC of PRC = 0.582155
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08497899770736694
difference in average predicted and observed risk = -0.003731002292633054
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.890587
AUC of PRC = 0.335839
min(+P, Se) = 0.388889

-------------------------------

confusion matrix:
[[106   2]
 [ 16   3]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11341100186109543
difference in average predicted and observed risk = -0.03619499813890456
number samples = 127
accuracy = 0.858268
precision class 0 = 0.868852
precision class 1 = 0.6
recall class 0 = 0.981481
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.018519
positive prediction rate = 0.03937
AUC of ROC = 0.840643
AUC of PRC = 0.5379
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11484699696302414
difference in average predicted and observed risk = 0.035899996963024136
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.904762
AUC of PRC = 0.55101
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 77   6]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08428700268268585
difference in average predicted and observed risk = -0.01730399731731415
number samples = 817
accuracy = 0.902081
precision class 0 = 0.904703
precision class 1 = 0.666667
recall class 0 = 0.995913
recall class 1 = 0.072289
false negative rate = 0.927711
false positive rate = 0.004087
positive prediction rate = 0.011016
AUC of ROC = 0.871672
AUC of PRC = 0.48725
min(+P, Se) = 0.46988

-------------------------------

Epoch 00035: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch35.state
Epoch 36/100
 - 280s - loss: 0.2574 - val_loss: 0.2361

==>predicting on train



confusion matrix:
[[2146    9]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0697920024394989
difference in average predicted and observed risk = -0.0360169975605011
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.905485
precision class 1 = 0.775
recall class 0 = 0.995824
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.004176
positive prediction rate = 0.016598
AUC of ROC = 0.855229
AUC of PRC = 0.488711
min(+P, Se) = 0.478599

-------------------------------

confusion matrix:
[[1170    9]
 [ 101   17]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06929299980401993
difference in average predicted and observed risk = -0.021686000195980076
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.920535
precision class 1 = 0.653846
recall class 0 = 0.992366
recall class 1 = 0.144068
false negative rate = 0.855932
false positive rate = 0.007634
positive prediction rate = 0.020046
AUC of ROC = 0.877956
AUC of PRC = 0.438477
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[652   4]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08398500084877014
difference in average predicted and observed risk = -0.01738499915122986
number samples = 730
accuracy = 0.906849
precision class 0 = 0.910615
precision class 1 = 0.714286
recall class 0 = 0.993902
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.006098
positive prediction rate = 0.019178
AUC of ROC = 0.865709
AUC of PRC = 0.454797
min(+P, Se) = 0.472973

-------------------------------

confusion matrix:
[[166   1]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07826399803161621
difference in average predicted and observed risk = -0.04739000196838378
number samples = 191
accuracy = 0.895288
precision class 0 = 0.897297
precision class 1 = 0.833333
recall class 0 = 0.994012
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.005988
positive prediction rate = 0.031414
AUC of ROC = 0.927146
AUC of PRC = 0.705765
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2461   13]
 [ 224   31]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0656059980392456
difference in average predicted and observed risk = -0.02783500196075439
number samples = 2729
accuracy = 0.913155
precision class 0 = 0.916574
precision class 1 = 0.704545
recall class 0 = 0.994745
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.005255
positive prediction rate = 0.016123
AUC of ROC = 0.868106
AUC of PRC = 0.449303
min(+P, Se) = 0.443137

-------------------------------

confusion matrix:
[[1673   10]
 [ 184   32]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08177399635314941
difference in average predicted and observed risk = -0.031970003646850584
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.900915
precision class 1 = 0.761905
recall class 0 = 0.994058
recall class 1 = 0.148148
false negative rate = 0.851852
false positive rate = 0.005942
positive prediction rate = 0.022117
AUC of ROC = 0.863383
AUC of PRC = 0.499727
min(+P, Se) = 0.49537

-------------------------------

confusion matrix:
[[546   3]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07716599851846695
difference in average predicted and observed risk = -0.04583700148153305
number samples = 626
accuracy = 0.884984
precision class 0 = 0.887805
precision class 1 = 0.727273
recall class 0 = 0.994536
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.005464
positive prediction rate = 0.017572
AUC of ROC = 0.871833
AUC of PRC = 0.497746
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2241    8]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0628879964351654
difference in average predicted and observed risk = -0.02176800356483459
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.923362
precision class 1 = 0.733333
recall class 0 = 0.996443
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.003557
positive prediction rate = 0.01221
AUC of ROC = 0.869044
AUC of PRC = 0.43015
min(+P, Se) = 0.413462

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06999599933624268
difference in average predicted and observed risk = -0.03081000066375733
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.75139
AUC of PRC = 0.262593
min(+P, Se) = 0.37931

-------------------------------

confusion matrix:
[[477   4]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09434200078248978
difference in average predicted and observed risk = -0.05130599921751022
number samples = 563
accuracy = 0.877442
precision class 0 = 0.880074
precision class 1 = 0.809524
recall class 0 = 0.991684
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.008316
positive prediction rate = 0.0373
AUC of ROC = 0.879671
AUC of PRC = 0.614349
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08315400034189224
difference in average predicted and observed risk = -0.02447499965810776
number samples = 734
accuracy = 0.907357
precision class 0 = 0.910489
precision class 1 = 0.789474
recall class 0 = 0.993893
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.006107
positive prediction rate = 0.025886
AUC of ROC = 0.870229
AUC of PRC = 0.503583
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[4134   23]
 [ 408   63]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07224100083112717
difference in average predicted and observed risk = -0.029530999168872835
number samples = 4628
accuracy = 0.906871
precision class 0 = 0.910172
precision class 1 = 0.732558
recall class 0 = 0.994467
recall class 1 = 0.133758
false negative rate = 0.866242
false positive rate = 0.005533
positive prediction rate = 0.018583
AUC of ROC = 0.866341
AUC of PRC = 0.473233
min(+P, Se) = 0.464968

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06865599751472473
difference in average predicted and observed risk = -0.011513002485275273
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.898117
AUC of PRC = 0.390521
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06376799941062927
difference in average predicted and observed risk = -0.04502800058937073
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.871125
AUC of PRC = 0.546139
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10234200209379196
difference in average predicted and observed risk = -0.007826997906208041
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.846154
AUC of PRC = 0.535931
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10277800261974335
difference in average predicted and observed risk = -0.03055499738025666
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08142700046300888
difference in average predicted and observed risk = -0.03361699953699111
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.833932
AUC of PRC = 0.426062
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06563899666070938
difference in average predicted and observed risk = -0.026411003339290626
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.904116
AUC of PRC = 0.574116
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05959999933838844
difference in average predicted and observed risk = -0.02960200066161156
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.892566
AUC of PRC = 0.481854
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07854200154542923
difference in average predicted and observed risk = -0.03910499845457077
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.848148
AUC of PRC = 0.609778
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07050599902868271
difference in average predicted and observed risk = -0.01820400097131729
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.89461
AUC of PRC = 0.344652
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10127799957990646
difference in average predicted and observed risk = -0.048328000420093525
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.841618
AUC of PRC = 0.520685
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10454999655485153
difference in average predicted and observed risk = 0.02560299655485153
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07219000160694122
difference in average predicted and observed risk = -0.029400998393058778
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.876137
AUC of PRC = 0.497023
min(+P, Se) = 0.506024

-------------------------------

Epoch 00036: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch36.state
Epoch 37/100
 - 279s - loss: 0.2510 - val_loss: 0.2356

==>predicting on train



confusion matrix:
[[2147    8]
 [ 221   34]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08635199815034866
difference in average predicted and observed risk = -0.019457001849651337
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.906672
precision class 1 = 0.809524
recall class 0 = 0.996288
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.003712
positive prediction rate = 0.017427
AUC of ROC = 0.850604
AUC of PRC = 0.482242
min(+P, Se) = 0.467181

-------------------------------

confusion matrix:
[[1166   13]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08506300300359726
difference in average predicted and observed risk = -0.005915996996402745
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.921739
precision class 1 = 0.59375
recall class 0 = 0.988974
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.011026
positive prediction rate = 0.024672
AUC of ROC = 0.874721
AUC of PRC = 0.424986
min(+P, Se) = 0.413223

-------------------------------

confusion matrix:
[[650   6]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10169900208711624
difference in average predicted and observed risk = 0.0003290020871162397
number samples = 730
accuracy = 0.905479
precision class 0 = 0.911641
precision class 1 = 0.647059
recall class 0 = 0.990854
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.009146
positive prediction rate = 0.023288
AUC of ROC = 0.874773
AUC of PRC = 0.46595
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[166   1]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.095319002866745
difference in average predicted and observed risk = -0.030334997133254993
number samples = 191
accuracy = 0.900524
precision class 0 = 0.902174
precision class 1 = 0.857143
recall class 0 = 0.994012
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.005988
positive prediction rate = 0.036649
AUC of ROC = 0.913673
AUC of PRC = 0.693136
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[2461   13]
 [ 222   33]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08234599977731705
difference in average predicted and observed risk = -0.01109500022268295
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.917257
precision class 1 = 0.717391
recall class 0 = 0.994745
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.005255
positive prediction rate = 0.016856
AUC of ROC = 0.866205
AUC of PRC = 0.440866
min(+P, Se) = 0.430712

-------------------------------

confusion matrix:
[[1668   15]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0980290025472641
difference in average predicted and observed risk = -0.0157149974527359
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.903086
precision class 1 = 0.711538
recall class 0 = 0.991087
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.008913
positive prediction rate = 0.027383
AUC of ROC = 0.859609
AUC of PRC = 0.498754
min(+P, Se) = 0.486111

-------------------------------

confusion matrix:
[[545   4]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09492000192403793
difference in average predicted and observed risk = -0.028082998075962068
number samples = 626
accuracy = 0.886581
precision class 0 = 0.890523
precision class 1 = 0.714286
recall class 0 = 0.992714
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.007286
positive prediction rate = 0.022364
AUC of ROC = 0.872448
AUC of PRC = 0.496345
min(+P, Se) = 0.506494

-------------------------------

confusion matrix:
[[2240    9]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07859300076961517
difference in average predicted and observed risk = -0.006062999230384822
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.924092
precision class 1 = 0.727273
recall class 0 = 0.995998
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.004002
positive prediction rate = 0.013431
AUC of ROC = 0.862943
AUC of PRC = 0.417214
min(+P, Se) = 0.402844

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08498799800872803
difference in average predicted and observed risk = -0.01581800199127198
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.754798
AUC of PRC = 0.263465
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[477   4]
 [ 62  20]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11215300112962723
difference in average predicted and observed risk = -0.03349499887037277
number samples = 563
accuracy = 0.882771
precision class 0 = 0.884972
precision class 1 = 0.833333
recall class 0 = 0.991684
recall class 1 = 0.243902
false negative rate = 0.756098
false positive rate = 0.008316
positive prediction rate = 0.042629
AUC of ROC = 0.886415
AUC of PRC = 0.627424
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[648   7]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10100600123405457
difference in average predicted and observed risk = -0.006622998765945437
number samples = 734
accuracy = 0.901907
precision class 0 = 0.908836
precision class 1 = 0.666667
recall class 0 = 0.989313
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.010687
positive prediction rate = 0.02861
AUC of ROC = 0.863349
AUC of PRC = 0.486419
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4129   28]
 [ 401   70]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08878099918365479
difference in average predicted and observed risk = -0.012991000816345216
number samples = 4628
accuracy = 0.907303
precision class 0 = 0.911479
precision class 1 = 0.714286
recall class 0 = 0.993264
recall class 1 = 0.14862
false negative rate = 0.85138
false positive rate = 0.006736
positive prediction rate = 0.021175
AUC of ROC = 0.863669
AUC of PRC = 0.467141
min(+P, Se) = 0.455696

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08570200204849243
difference in average predicted and observed risk = 0.0055330020484924275
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.890391
AUC of PRC = 0.371504
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 47   0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08089800179004669
difference in average predicted and observed risk = -0.027897998209953312
number samples = 432
accuracy = 0.891204
precision class 0 = 0.891204
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.878088
AUC of PRC = 0.541838
min(+P, Se) = 0.520833

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12420599907636642
difference in average predicted and observed risk = 0.014036999076366422
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.843223
AUC of PRC = 0.485703
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12886500358581543
difference in average predicted and observed risk = -0.004467996414184577
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10082600265741348
difference in average predicted and observed risk = -0.01421799734258651
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.818974
AUC of PRC = 0.3694
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08284900337457657
difference in average predicted and observed risk = -0.009200996625423438
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.916422
AUC of PRC = 0.610657
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07549899816513062
difference in average predicted and observed risk = -0.013703001834869388
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.889447
AUC of PRC = 0.507381
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10262899845838547
difference in average predicted and observed risk = -0.015018001541614534
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.851852
AUC of PRC = 0.595755
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08865799754858017
difference in average predicted and observed risk = -5.200245141982751e-05
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.892196
AUC of PRC = 0.340857
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12067999690771103
difference in average predicted and observed risk = -0.02892600309228896
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.842105
AUC of PRC = 0.519186
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12713000178337097
difference in average predicted and observed risk = 0.04818300178337097
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09030800312757492
difference in average predicted and observed risk = -0.01128299687242508
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.876055
AUC of PRC = 0.482049
min(+P, Se) = 0.488095

-------------------------------

Epoch 00037: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch37.state
Epoch 38/100
 - 284s - loss: 0.2575 - val_loss: 0.2321

==>predicting on train



confusion matrix:
[[2143   12]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07779800146818161
difference in average predicted and observed risk = -0.02801099853181839
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.909207
precision class 1 = 0.773585
recall class 0 = 0.994432
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.005568
positive prediction rate = 0.021992
AUC of ROC = 0.853322
AUC of PRC = 0.489807
min(+P, Se) = 0.474903

-------------------------------

confusion matrix:
[[1164   15]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07895399630069733
difference in average predicted and observed risk = -0.012025003699302678
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.923077
precision class 1 = 0.583333
recall class 0 = 0.987277
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.012723
positive prediction rate = 0.027756
AUC of ROC = 0.879832
AUC of PRC = 0.425282
min(+P, Se) = 0.438017

-------------------------------

confusion matrix:
[[649   7]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09327699989080429
difference in average predicted and observed risk = -0.008093000109195711
number samples = 730
accuracy = 0.910959
precision class 0 = 0.917963
precision class 1 = 0.695652
recall class 0 = 0.989329
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.010671
positive prediction rate = 0.031507
AUC of ROC = 0.87364
AUC of PRC = 0.47954
min(+P, Se) = 0.486842

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08715300261974335
difference in average predicted and observed risk = -0.03850099738025664
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.928144
AUC of PRC = 0.724056
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2456   18]
 [ 211   44]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07496800273656845
difference in average predicted and observed risk = -0.018472997263431545
number samples = 2729
accuracy = 0.916086
precision class 0 = 0.920885
precision class 1 = 0.709677
recall class 0 = 0.992724
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.007276
positive prediction rate = 0.022719
AUC of ROC = 0.870466
AUC of PRC = 0.447932
min(+P, Se) = 0.446043

-------------------------------

confusion matrix:
[[1666   17]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08954600244760513
difference in average predicted and observed risk = -0.024197997552394865
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.904943
precision class 1 = 0.706897
recall class 0 = 0.989899
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.010101
positive prediction rate = 0.030542
AUC of ROC = 0.862319
AUC of PRC = 0.507533
min(+P, Se) = 0.504587

-------------------------------

confusion matrix:
[[545   4]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08653800189495087
difference in average predicted and observed risk = -0.036464998105049135
number samples = 626
accuracy = 0.889776
precision class 0 = 0.893443
precision class 1 = 0.75
recall class 0 = 0.992714
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.007286
positive prediction rate = 0.025559
AUC of ROC = 0.868781
AUC of PRC = 0.513415
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2237   12]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0706930011510849
difference in average predicted and observed risk = -0.013962998848915095
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924762
precision class 1 = 0.684211
recall class 0 = 0.994664
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.005336
positive prediction rate = 0.015466
AUC of ROC = 0.867971
AUC of PRC = 0.415976
min(+P, Se) = 0.420354

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0768669992685318
difference in average predicted and observed risk = -0.023939000731468207
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.767534
AUC of PRC = 0.274786
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[475   6]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10648100078105927
difference in average predicted and observed risk = -0.039166999218940735
number samples = 563
accuracy = 0.889876
precision class 0 = 0.894539
precision class 1 = 0.8125
recall class 0 = 0.987526
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.012474
positive prediction rate = 0.056838
AUC of ROC = 0.887201
AUC of PRC = 0.64277
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[646   9]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09231399744749069
difference in average predicted and observed risk = -0.01531500255250931
number samples = 734
accuracy = 0.905995
precision class 0 = 0.915014
precision class 1 = 0.678571
recall class 0 = 0.98626
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.01374
positive prediction rate = 0.038147
AUC of ROC = 0.866403
AUC of PRC = 0.504951
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[4122   35]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08094999939203262
difference in average predicted and observed risk = -0.020822000607967378
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.914374
precision class 1 = 0.708333
recall class 0 = 0.99158
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.00842
positive prediction rate = 0.025929
AUC of ROC = 0.867356
AUC of PRC = 0.476633
min(+P, Se) = 0.471459

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07777900248765945
difference in average predicted and observed risk = -0.00238999751234055
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.897151
AUC of PRC = 0.385811
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07244700193405151
difference in average predicted and observed risk = -0.03634899806594849
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.869909
AUC of PRC = 0.498766
min(+P, Se) = 0.462963

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11405699700117111
difference in average predicted and observed risk = 0.003887997001171109
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.854212
AUC of PRC = 0.492969
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10976099967956543
difference in average predicted and observed risk = -0.023572000320434577
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08994200080633163
difference in average predicted and observed risk = -0.02510199919366836
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.846496
AUC of PRC = 0.412216
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07529599964618683
difference in average predicted and observed risk = -0.016754000353813178
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.89867
AUC of PRC = 0.552272
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06721100211143494
difference in average predicted and observed risk = -0.021990997888565067
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.893245
AUC of PRC = 0.477679
min(+P, Se) = 0.465116

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09150499850511551
difference in average predicted and observed risk = -0.026142001494884493
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.862963
AUC of PRC = 0.594395
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07808899879455566
difference in average predicted and observed risk = -0.010621001205444333
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.916331
AUC of PRC = 0.37809
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11271899938583374
difference in average predicted and observed risk = -0.03688700061416625
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.832359
AUC of PRC = 0.556174
min(+P, Se) = 0.631579

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1188960000872612
difference in average predicted and observed risk = 0.0399490000872612
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08137299865484238
difference in average predicted and observed risk = -0.020218001345157624
number samples = 817
accuracy = 0.906977
precision class 0 = 0.910224
precision class 1 = 0.733333
recall class 0 = 0.99455
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.00545
positive prediction rate = 0.01836
AUC of ROC = 0.87786
AUC of PRC = 0.487674
min(+P, Se) = 0.493976

-------------------------------

Epoch 00038: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch38.state
Epoch 39/100
 - 283s - loss: 0.2510 - val_loss: 0.2421

==>predicting on train



confusion matrix:
[[2145   10]
 [ 222   33]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07560399919748306
difference in average predicted and observed risk = -0.030205000802516938
number samples = 2410
accuracy = 0.903734
precision class 0 = 0.90621
precision class 1 = 0.767442
recall class 0 = 0.99536
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.00464
positive prediction rate = 0.017842
AUC of ROC = 0.844371
AUC of PRC = 0.459903
min(+P, Se) = 0.454902

-------------------------------

confusion matrix:
[[1166   13]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07561500370502472
difference in average predicted and observed risk = -0.015363996294975285
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.921739
precision class 1 = 0.59375
recall class 0 = 0.988974
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.011026
positive prediction rate = 0.024672
AUC of ROC = 0.870524
AUC of PRC = 0.424405
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[648   8]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09023299813270569
difference in average predicted and observed risk = -0.011137001867294313
number samples = 730
accuracy = 0.906849
precision class 0 = 0.915254
precision class 1 = 0.636364
recall class 0 = 0.987805
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.012195
positive prediction rate = 0.030137
AUC of ROC = 0.867172
AUC of PRC = 0.473204
min(+P, Se) = 0.459459

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08414799720048904
difference in average predicted and observed risk = -0.041506002799510944
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.917166
AUC of PRC = 0.718315
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2457   17]
 [ 219   36]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07215599715709686
difference in average predicted and observed risk = -0.021285002842903133
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.918161
precision class 1 = 0.679245
recall class 0 = 0.993129
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.006871
positive prediction rate = 0.019421
AUC of ROC = 0.858963
AUC of PRC = 0.422496
min(+P, Se) = 0.428016

-------------------------------

confusion matrix:
[[1668   15]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0870480015873909
difference in average predicted and observed risk = -0.026695998412609098
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.903086
precision class 1 = 0.711538
recall class 0 = 0.991087
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.008913
positive prediction rate = 0.027383
AUC of ROC = 0.85677
AUC of PRC = 0.49648
min(+P, Se) = 0.488688

-------------------------------

confusion matrix:
[[546   3]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08329600095748901
difference in average predicted and observed risk = -0.03970699904251099
number samples = 626
accuracy = 0.886581
precision class 0 = 0.889251
precision class 1 = 0.75
recall class 0 = 0.994536
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.005464
positive prediction rate = 0.019169
AUC of ROC = 0.863057
AUC of PRC = 0.489702
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[2241    8]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06771399825811386
difference in average predicted and observed risk = -0.016942001741886134
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.924505
precision class 1 = 0.757576
recall class 0 = 0.996443
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.003557
positive prediction rate = 0.013431
AUC of ROC = 0.853856
AUC of PRC = 0.395896
min(+P, Se) = 0.37799

-------------------------------

confusion matrix:
[[218   5]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07564300298690796
difference in average predicted and observed risk = -0.025162997013092048
number samples = 248
accuracy = 0.887097
precision class 0 = 0.904564
precision class 1 = 0.285714
recall class 0 = 0.977578
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.022422
positive prediction rate = 0.028226
AUC of ROC = 0.773453
AUC of PRC = 0.267144
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[475   6]
 [ 60  22]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10489799827337265
difference in average predicted and observed risk = -0.04075000172662735
number samples = 563
accuracy = 0.882771
precision class 0 = 0.88785
precision class 1 = 0.785714
recall class 0 = 0.987526
recall class 1 = 0.268293
false negative rate = 0.731707
false positive rate = 0.012474
positive prediction rate = 0.049734
AUC of ROC = 0.876477
AUC of PRC = 0.60632
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[645  10]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08976099640130997
difference in average predicted and observed risk = -0.017868003598690035
number samples = 734
accuracy = 0.899183
precision class 0 = 0.909732
precision class 1 = 0.6
recall class 0 = 0.984733
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.015267
positive prediction rate = 0.03406
AUC of ROC = 0.862827
AUC of PRC = 0.471139
min(+P, Se) = 0.488372

-------------------------------

confusion matrix:
[[4125   32]
 [ 398   73]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07826700061559677
difference in average predicted and observed risk = -0.02350499938440323
number samples = 4628
accuracy = 0.907087
precision class 0 = 0.912005
precision class 1 = 0.695238
recall class 0 = 0.992302
recall class 1 = 0.154989
false negative rate = 0.845011
false positive rate = 0.007698
positive prediction rate = 0.022688
AUC of ROC = 0.858346
AUC of PRC = 0.454963
min(+P, Se) = 0.45666

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07591299712657928
difference in average predicted and observed risk = -0.0042560028734207195
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.894495
AUC of PRC = 0.376918
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[383   2]
 [ 47   0]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06939099729061127
difference in average predicted and observed risk = -0.03940500270938874
number samples = 432
accuracy = 0.886574
precision class 0 = 0.890698
precision class 1 = 0.0
recall class 0 = 0.994805
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.005195
positive prediction rate = 0.00463
AUC of ROC = 0.852335
AUC of PRC = 0.409583
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11184900254011154
difference in average predicted and observed risk = 0.0016800025401115387
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.849817
AUC of PRC = 0.45033
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11302600055932999
difference in average predicted and observed risk = -0.02030699944067002
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08698400110006332
difference in average predicted and observed risk = -0.02805999889993667
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.824701
AUC of PRC = 0.354102
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[430   4]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07336799800395966
difference in average predicted and observed risk = -0.01868200199604035
number samples = 478
accuracy = 0.916318
precision class 0 = 0.922747
precision class 1 = 0.666667
recall class 0 = 0.990783
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.009217
positive prediction rate = 0.025105
AUC of ROC = 0.893747
AUC of PRC = 0.499077
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[386   2]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06504499912261963
difference in average predicted and observed risk = -0.024157000877380375
number samples = 426
accuracy = 0.910798
precision class 0 = 0.914692
precision class 1 = 0.5
recall class 0 = 0.994845
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.005155
positive prediction rate = 0.00939
AUC of ROC = 0.883342
AUC of PRC = 0.398319
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08876200020313263
difference in average predicted and observed risk = -0.028884999796867372
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.862037
AUC of PRC = 0.557814
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07415399700403214
difference in average predicted and observed risk = -0.014556002995967862
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.866452
AUC of PRC = 0.310355
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11025799810886383
difference in average predicted and observed risk = -0.03934800189113616
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.821637
AUC of PRC = 0.475054
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12096399813890457
difference in average predicted and observed risk = 0.04201699813890457
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[727   7]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07901699841022491
difference in average predicted and observed risk = -0.022574001589775086
number samples = 817
accuracy = 0.902081
precision class 0 = 0.90875
precision class 1 = 0.588235
recall class 0 = 0.990463
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.009537
positive prediction rate = 0.020808
AUC of ROC = 0.866075
AUC of PRC = 0.423469
min(+P, Se) = 0.457831

-------------------------------

Epoch 00039: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch39.state
Epoch 40/100
 - 283s - loss: 0.2491 - val_loss: 0.2496

==>predicting on train



confusion matrix:
[[2147    8]
 [ 231   24]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07852999866008759
difference in average predicted and observed risk = -0.027279001339912415
number samples = 2410
accuracy = 0.90083
precision class 0 = 0.90286
precision class 1 = 0.75
recall class 0 = 0.996288
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.003712
positive prediction rate = 0.013278
AUC of ROC = 0.836814
AUC of PRC = 0.440283
min(+P, Se) = 0.427451

-------------------------------

confusion matrix:
[[1171    8]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07798899710178375
difference in average predicted and observed risk = -0.012990002898216252
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.917712
precision class 1 = 0.619048
recall class 0 = 0.993215
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.006785
positive prediction rate = 0.016191
AUC of ROC = 0.866376
AUC of PRC = 0.408627
min(+P, Se) = 0.386555

-------------------------------

confusion matrix:
[[650   6]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09438099712133408
difference in average predicted and observed risk = -0.006989002878665926
number samples = 730
accuracy = 0.90274
precision class 0 = 0.909091
precision class 1 = 0.6
recall class 0 = 0.990854
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.009146
positive prediction rate = 0.020548
AUC of ROC = 0.846675
AUC of PRC = 0.389119
min(+P, Se) = 0.459459

-------------------------------

confusion matrix:
[[166   1]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08607099950313568
difference in average predicted and observed risk = -0.03958300049686431
number samples = 191
accuracy = 0.884817
precision class 0 = 0.887701
precision class 1 = 0.75
recall class 0 = 0.994012
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.005988
positive prediction rate = 0.020942
AUC of ROC = 0.908932
AUC of PRC = 0.67838
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2464   10]
 [ 233   22]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07425399869680405
difference in average predicted and observed risk = -0.01918700130319595
number samples = 2729
accuracy = 0.910956
precision class 0 = 0.913608
precision class 1 = 0.6875
recall class 0 = 0.995958
recall class 1 = 0.086275
false negative rate = 0.913725
false positive rate = 0.004042
positive prediction rate = 0.011726
AUC of ROC = 0.853336
AUC of PRC = 0.411416
min(+P, Se) = 0.40625

-------------------------------

confusion matrix:
[[1670   13]
 [ 189   27]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09115699678659439
difference in average predicted and observed risk = -0.022587003213405607
number samples = 1899
accuracy = 0.893628
precision class 0 = 0.898332
precision class 1 = 0.675
recall class 0 = 0.992276
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.007724
positive prediction rate = 0.021064
AUC of ROC = 0.84391
AUC of PRC = 0.456419
min(+P, Se) = 0.456221

-------------------------------

confusion matrix:
[[546   3]
 [ 72   5]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08663299679756165
difference in average predicted and observed risk = -0.036370003202438356
number samples = 626
accuracy = 0.880192
precision class 0 = 0.883495
precision class 1 = 0.625
recall class 0 = 0.994536
recall class 1 = 0.064935
false negative rate = 0.935065
false positive rate = 0.005464
positive prediction rate = 0.01278
AUC of ROC = 0.851134
AUC of PRC = 0.45015
min(+P, Se) = 0.476744

-------------------------------

confusion matrix:
[[2243    6]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0707779973745346
difference in average predicted and observed risk = -0.013878002625465388
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.922286
precision class 1 = 0.76
recall class 0 = 0.997332
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.002668
positive prediction rate = 0.010175
AUC of ROC = 0.844264
AUC of PRC = 0.375755
min(+P, Se) = 0.360577

-------------------------------

confusion matrix:
[[218   5]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07682900130748749
difference in average predicted and observed risk = -0.02397699869251252
number samples = 248
accuracy = 0.887097
precision class 0 = 0.904564
precision class 1 = 0.285714
recall class 0 = 0.977578
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.022422
positive prediction rate = 0.028226
AUC of ROC = 0.774529
AUC of PRC = 0.273936
min(+P, Se) = 0.34375

-------------------------------

confusion matrix:
[[477   4]
 [ 68  14]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10560999810695648
difference in average predicted and observed risk = -0.04003800189304352
number samples = 563
accuracy = 0.872114
precision class 0 = 0.875229
precision class 1 = 0.777778
recall class 0 = 0.991684
recall class 1 = 0.170732
false negative rate = 0.829268
false positive rate = 0.008316
positive prediction rate = 0.031972
AUC of ROC = 0.874753
AUC of PRC = 0.595532
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[650   5]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09414099901914597
difference in average predicted and observed risk = -0.013488000980854037
number samples = 734
accuracy = 0.89782
precision class 0 = 0.902778
precision class 1 = 0.642857
recall class 0 = 0.992366
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.007634
positive prediction rate = 0.019074
AUC of ROC = 0.852469
AUC of PRC = 0.452176
min(+P, Se) = 0.455696

-------------------------------

confusion matrix:
[[4134   23]
 [ 422   49]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08118999749422073
difference in average predicted and observed risk = -0.020582002505779268
number samples = 4628
accuracy = 0.903846
precision class 0 = 0.907375
precision class 1 = 0.680556
recall class 0 = 0.994467
recall class 1 = 0.104034
false negative rate = 0.895966
false positive rate = 0.005533
positive prediction rate = 0.015557
AUC of ROC = 0.849585
AUC of PRC = 0.432052
min(+P, Se) = 0.427368

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07802899926900864
difference in average predicted and observed risk = -0.0021400007309913677
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.891357
AUC of PRC = 0.394652
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 47   0]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07611200213432312
difference in average predicted and observed risk = -0.032683997865676884
number samples = 432
accuracy = 0.886574
precision class 0 = 0.890698
precision class 1 = 0.0
recall class 0 = 0.994805
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.005195
positive prediction rate = 0.00463
AUC of ROC = 0.824316
AUC of PRC = 0.383338
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12022499740123749
difference in average predicted and observed risk = 0.010055997401237485
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.849817
AUC of PRC = 0.44193
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11270199716091156
difference in average predicted and observed risk = -0.020631002839088447
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0943479984998703
difference in average predicted and observed risk = -0.020696001500129693
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.801966
AUC of PRC = 0.339184
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[430   4]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07731600105762482
difference in average predicted and observed risk = -0.01473399894237519
number samples = 478
accuracy = 0.914226
precision class 0 = 0.920771
precision class 1 = 0.636364
recall class 0 = 0.990783
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.009217
positive prediction rate = 0.023013
AUC of ROC = 0.877357
AUC of PRC = 0.463217
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[386   2]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06926699727773666
difference in average predicted and observed risk = -0.01993500272226334
number samples = 426
accuracy = 0.908451
precision class 0 = 0.91253
precision class 1 = 0.333333
recall class 0 = 0.994845
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.005155
positive prediction rate = 0.007042
AUC of ROC = 0.850583
AUC of PRC = 0.359315
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.099372997879982
difference in average predicted and observed risk = -0.018274002120018007
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.875
AUC of PRC = 0.586411
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08349400013685226
difference in average predicted and observed risk = -0.005215999863147733
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.83749
AUC of PRC = 0.29906
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11393100023269653
difference in average predicted and observed risk = -0.035674999767303456
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.816277
AUC of PRC = 0.480015
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11774899810552597
difference in average predicted and observed risk = 0.03880199810552597
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.933333
AUC of PRC = 0.349206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[727   7]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08438300341367722
difference in average predicted and observed risk = -0.017207996586322785
number samples = 817
accuracy = 0.900857
precision class 0 = 0.907615
precision class 1 = 0.5625
recall class 0 = 0.990463
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.009537
positive prediction rate = 0.019584
AUC of ROC = 0.847805
AUC of PRC = 0.405511
min(+P, Se) = 0.46988

-------------------------------

Epoch 00040: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch40.state
Epoch 41/100
 - 281s - loss: 0.2497 - val_loss: 0.2374

==>predicting on train



confusion matrix:
[[2149    6]
 [ 232   23]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06838999688625336
difference in average predicted and observed risk = -0.03741900311374664
number samples = 2410
accuracy = 0.901245
precision class 0 = 0.902562
precision class 1 = 0.793103
recall class 0 = 0.997216
recall class 1 = 0.090196
false negative rate = 0.909804
false positive rate = 0.002784
positive prediction rate = 0.012033
AUC of ROC = 0.855859
AUC of PRC = 0.482272
min(+P, Se) = 0.455253

-------------------------------

confusion matrix:
[[1173    6]
 [ 104   14]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06712900102138519
difference in average predicted and observed risk = -0.02384999897861481
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.918559
precision class 1 = 0.7
recall class 0 = 0.994911
recall class 1 = 0.118644
false negative rate = 0.881356
false positive rate = 0.005089
positive prediction rate = 0.01542
AUC of ROC = 0.880069
AUC of PRC = 0.428792
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[654   2]
 [ 67   7]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07917699962854385
difference in average predicted and observed risk = -0.022193000371456148
number samples = 730
accuracy = 0.905479
precision class 0 = 0.907073
precision class 1 = 0.777778
recall class 0 = 0.996951
recall class 1 = 0.094595
false negative rate = 0.905405
false positive rate = 0.003049
positive prediction rate = 0.012329
AUC of ROC = 0.879141
AUC of PRC = 0.479567
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[167   0]
 [ 22   2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07451900094747543
difference in average predicted and observed risk = -0.051134999052524555
number samples = 191
accuracy = 0.884817
precision class 0 = 0.883598
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.010471
AUC of ROC = 0.932884
AUC of PRC = 0.741962
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2469    5]
 [ 236   19]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06256400048732758
difference in average predicted and observed risk = -0.03087699951267242
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.912754
precision class 1 = 0.791667
recall class 0 = 0.997979
recall class 1 = 0.07451
false negative rate = 0.92549
false positive rate = 0.002021
positive prediction rate = 0.008794
AUC of ROC = 0.872175
AUC of PRC = 0.445986
min(+P, Se) = 0.436293

-------------------------------

confusion matrix:
[[1674    9]
 [ 189   27]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08066300302743912
difference in average predicted and observed risk = -0.03308099697256088
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.898551
precision class 1 = 0.75
recall class 0 = 0.994652
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.005348
positive prediction rate = 0.018957
AUC of ROC = 0.866272
AUC of PRC = 0.507376
min(+P, Se) = 0.476852

-------------------------------

confusion matrix:
[[547   2]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07526499778032303
difference in average predicted and observed risk = -0.04773800221967697
number samples = 626
accuracy = 0.883387
precision class 0 = 0.885113
precision class 1 = 0.75
recall class 0 = 0.996357
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.003643
positive prediction rate = 0.01278
AUC of ROC = 0.888132
AUC of PRC = 0.520011
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2245    4]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.061209000647068024
difference in average predicted and observed risk = -0.02344699935293197
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.921593
precision class 1 = 0.809524
recall class 0 = 0.998221
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.001779
positive prediction rate = 0.008547
AUC of ROC = 0.866238
AUC of PRC = 0.42078
min(+P, Se) = 0.394231

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07054600119590759
difference in average predicted and observed risk = -0.030259998804092414
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.77991
AUC of PRC = 0.278645
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[479   2]
 [ 70  12]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08967900276184082
difference in average predicted and observed risk = -0.05596899723815918
number samples = 563
accuracy = 0.872114
precision class 0 = 0.872495
precision class 1 = 0.857143
recall class 0 = 0.995842
recall class 1 = 0.146341
false negative rate = 0.853659
false positive rate = 0.004158
positive prediction rate = 0.024867
AUC of ROC = 0.886973
AUC of PRC = 0.615812
min(+P, Se) = 0.542169

-------------------------------

confusion matrix:
[[651   4]
 [ 69  10]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0796009972691536
difference in average predicted and observed risk = -0.028028002730846407
number samples = 734
accuracy = 0.900545
precision class 0 = 0.904167
precision class 1 = 0.714286
recall class 0 = 0.993893
recall class 1 = 0.126582
false negative rate = 0.873418
false positive rate = 0.006107
positive prediction rate = 0.019074
AUC of ROC = 0.865494
AUC of PRC = 0.505508
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[4143   14]
 [ 425   46]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06999099999666214
difference in average predicted and observed risk = -0.03178100000333786
number samples = 4628
accuracy = 0.905143
precision class 0 = 0.906962
precision class 1 = 0.766667
recall class 0 = 0.996632
recall class 1 = 0.097665
false negative rate = 0.902335
false positive rate = 0.003368
positive prediction rate = 0.012965
AUC of ROC = 0.869835
AUC of PRC = 0.474023
min(+P, Se) = 0.459746

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07004900276660919
difference in average predicted and observed risk = -0.010119997233390812
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.897393
AUC of PRC = 0.37793
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[384   1]
 [ 47   0]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06342600286006927
difference in average predicted and observed risk = -0.04536999713993073
number samples = 432
accuracy = 0.888889
precision class 0 = 0.890951
precision class 1 = 0.0
recall class 0 = 0.997403
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.002597
positive prediction rate = 0.002315
AUC of ROC = 0.878143
AUC of PRC = 0.485909
min(+P, Se) = 0.467742

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1013059988617897
difference in average predicted and observed risk = -0.0088630011382103
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.857143
AUC of PRC = 0.55153
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10173899680376053
difference in average predicted and observed risk = -0.03159400319623948
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0829629972577095
difference in average predicted and observed risk = -0.03208100274229049
number samples = 339
accuracy = 0.882006
precision class 0 = 0.889222
precision class 1 = 0.4
recall class 0 = 0.99
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.01
positive prediction rate = 0.014749
AUC of ROC = 0.828889
AUC of PRC = 0.390913
min(+P, Se) = 0.395833

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06460999697446823
difference in average predicted and observed risk = -0.027440003025531776
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.915218
AUC of PRC = 0.579914
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05904499813914299
difference in average predicted and observed risk = -0.030157001860857013
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.895279
AUC of PRC = 0.453594
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07961700111627579
difference in average predicted and observed risk = -0.038029998883724214
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.874074
AUC of PRC = 0.644521
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06977300345897675
difference in average predicted and observed risk = -0.01893699654102325
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.897828
AUC of PRC = 0.353623
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10182800143957138
difference in average predicted and observed risk = -0.04777799856042861
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.836745
AUC of PRC = 0.495556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10920900106430054
difference in average predicted and observed risk = 0.030262001064300534
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.914286
AUC of PRC = 0.559259
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[729   5]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07222499698400497
difference in average predicted and observed risk = -0.029366003015995026
number samples = 817
accuracy = 0.903305
precision class 0 = 0.907846
precision class 1 = 0.642857
recall class 0 = 0.993188
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.006812
positive prediction rate = 0.017136
AUC of ROC = 0.880487
AUC of PRC = 0.480478
min(+P, Se) = 0.488636

-------------------------------

Epoch 00041: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch41.state
Epoch 42/100
 - 278s - loss: 0.2488 - val_loss: 0.2353

==>predicting on train



confusion matrix:
[[2149    6]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08357799798250198
difference in average predicted and observed risk = -0.022231002017498017
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.905986
precision class 1 = 0.842105
recall class 0 = 0.997216
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.002784
positive prediction rate = 0.015768
AUC of ROC = 0.853681
AUC of PRC = 0.491746
min(+P, Se) = 0.48249

-------------------------------

confusion matrix:
[[1170    9]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08206900209188461
difference in average predicted and observed risk = -0.008909997908115391
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.919811
precision class 1 = 0.64
recall class 0 = 0.992366
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.007634
positive prediction rate = 0.019275
AUC of ROC = 0.874865
AUC of PRC = 0.422046
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[650   6]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09933199733495712
difference in average predicted and observed risk = -0.002038002665042879
number samples = 730
accuracy = 0.912329
precision class 0 = 0.918079
precision class 1 = 0.727273
recall class 0 = 0.990854
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.009146
positive prediction rate = 0.030137
AUC of ROC = 0.876277
AUC of PRC = 0.510724
min(+P, Se) = 0.486842

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0910630002617836
difference in average predicted and observed risk = -0.03459099973821639
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.92515
AUC of PRC = 0.763388
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2467    7]
 [ 229   26]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07565400004386902
difference in average predicted and observed risk = -0.017786999956130978
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.915059
precision class 1 = 0.787879
recall class 0 = 0.997171
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.002829
positive prediction rate = 0.012092
AUC of ROC = 0.868819
AUC of PRC = 0.448668
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1669   14]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10074400156736374
difference in average predicted and observed risk = -0.012999998432636259
number samples = 1899
accuracy = 0.901
precision class 0 = 0.905589
precision class 1 = 0.75
recall class 0 = 0.991682
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.008318
positive prediction rate = 0.029489
AUC of ROC = 0.862608
AUC of PRC = 0.519447
min(+P, Se) = 0.488584

-------------------------------

confusion matrix:
[[547   2]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0917619988322258
difference in average predicted and observed risk = -0.0312410011677742
number samples = 626
accuracy = 0.889776
precision class 0 = 0.890879
precision class 1 = 0.833333
recall class 0 = 0.996357
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.003643
positive prediction rate = 0.019169
AUC of ROC = 0.877842
AUC of PRC = 0.52553
min(+P, Se) = 0.512821

-------------------------------

confusion matrix:
[[2242    7]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07524999976158142
difference in average predicted and observed risk = -0.009406000238418574
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923394
precision class 1 = 0.758621
recall class 0 = 0.996888
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.003112
positive prediction rate = 0.011803
AUC of ROC = 0.862956
AUC of PRC = 0.421931
min(+P, Se) = 0.406699

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0837090015411377
difference in average predicted and observed risk = -0.01709699845886231
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.769686
AUC of PRC = 0.270514
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[478   3]
 [ 63  19]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11002600193023682
difference in average predicted and observed risk = -0.03562199806976318
number samples = 563
accuracy = 0.882771
precision class 0 = 0.883549
precision class 1 = 0.863636
recall class 0 = 0.993763
recall class 1 = 0.231707
false negative rate = 0.768293
false positive rate = 0.006237
positive prediction rate = 0.039076
AUC of ROC = 0.884641
AUC of PRC = 0.638724
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09909799695014954
difference in average predicted and observed risk = -0.008531003049850466
number samples = 734
accuracy = 0.907357
precision class 0 = 0.911641
precision class 1 = 0.761905
recall class 0 = 0.992366
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.007634
positive prediction rate = 0.02861
AUC of ROC = 0.868219
AUC of PRC = 0.514178
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[4136   21]
 [ 403   68]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08594900369644165
difference in average predicted and observed risk = -0.01582299630355835
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.911214
precision class 1 = 0.764045
recall class 0 = 0.994948
recall class 1 = 0.144374
false negative rate = 0.855626
false positive rate = 0.005052
positive prediction rate = 0.019231
AUC of ROC = 0.865975
AUC of PRC = 0.481405
min(+P, Se) = 0.46723

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08187700062990189
difference in average predicted and observed risk = 0.0017080006299018818
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.899807
AUC of PRC = 0.378214
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[384   1]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08009599894285202
difference in average predicted and observed risk = -0.028700001057147984
number samples = 432
accuracy = 0.891204
precision class 0 = 0.893023
precision class 1 = 0.5
recall class 0 = 0.997403
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.002597
positive prediction rate = 0.00463
AUC of ROC = 0.872948
AUC of PRC = 0.462413
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11648199707269669
difference in average predicted and observed risk = 0.006312997072696683
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.852015
AUC of PRC = 0.551175
min(+P, Se) = 0.588235

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11546800285577774
difference in average predicted and observed risk = -0.017864997144222267
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10092700272798538
difference in average predicted and observed risk = -0.014116997272014611
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.828632
AUC of PRC = 0.377085
min(+P, Se) = 0.422222

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07740899920463562
difference in average predicted and observed risk = -0.014641000795364387
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.911971
AUC of PRC = 0.553662
min(+P, Se) = 0.54902

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07347200065851212
difference in average predicted and observed risk = -0.015729999341487888
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.894126
AUC of PRC = 0.447968
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09544199705123901
difference in average predicted and observed risk = -0.022205002948760988
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.871296
AUC of PRC = 0.622721
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0880810022354126
difference in average predicted and observed risk = -0.0006289977645873995
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.89461
AUC of PRC = 0.350292
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11506199836730957
difference in average predicted and observed risk = -0.03454400163269042
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.831384
AUC of PRC = 0.483888
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12228100001811981
difference in average predicted and observed risk = 0.04333400001811981
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[729   5]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08716700226068497
difference in average predicted and observed risk = -0.014423997739315034
number samples = 817
accuracy = 0.904529
precision class 0 = 0.908978
precision class 1 = 0.666667
recall class 0 = 0.993188
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.006812
positive prediction rate = 0.01836
AUC of ROC = 0.878418
AUC of PRC = 0.460729
min(+P, Se) = 0.488095

-------------------------------

Epoch 00042: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch42.state
Epoch 43/100
 - 282s - loss: 0.2480 - val_loss: 0.2389

==>predicting on train



confusion matrix:
[[2145   10]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07201100140810013
difference in average predicted and observed risk = -0.03379799859189987
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.907744
precision class 1 = 0.787234
recall class 0 = 0.99536
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.00464
positive prediction rate = 0.019502
AUC of ROC = 0.855353
AUC of PRC = 0.487952
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1164   15]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07232700288295746
difference in average predicted and observed risk = -0.018651997117042546
number samples = 1297
accuracy = 0.911334
precision class 0 = 0.920886
precision class 1 = 0.545455
recall class 0 = 0.987277
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.012723
positive prediction rate = 0.025443
AUC of ROC = 0.877827
AUC of PRC = 0.430333
min(+P, Se) = 0.389831

-------------------------------

confusion matrix:
[[644  12]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08897300064563751
difference in average predicted and observed risk = -0.01239699935436249
number samples = 730
accuracy = 0.908219
precision class 0 = 0.921316
precision class 1 = 0.612903
recall class 0 = 0.981707
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.018293
positive prediction rate = 0.042466
AUC of ROC = 0.882663
AUC of PRC = 0.486795
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08172299712896347
difference in average predicted and observed risk = -0.04393100287103652
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.927146
AUC of PRC = 0.749577
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2458   16]
 [ 222   33]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06810799986124039
difference in average predicted and observed risk = -0.02533300013875961
number samples = 2729
accuracy = 0.912789
precision class 0 = 0.917164
precision class 1 = 0.673469
recall class 0 = 0.993533
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.006467
positive prediction rate = 0.017955
AUC of ROC = 0.870582
AUC of PRC = 0.445649
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1662   21]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08533299714326859
difference in average predicted and observed risk = -0.028411002856731413
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.908197
precision class 1 = 0.695652
recall class 0 = 0.987522
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.012478
positive prediction rate = 0.036335
AUC of ROC = 0.865182
AUC of PRC = 0.517336
min(+P, Se) = 0.484163

-------------------------------

confusion matrix:
[[543   6]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07999999821186066
difference in average predicted and observed risk = -0.043003001788139344
number samples = 626
accuracy = 0.886581
precision class 0 = 0.893092
precision class 1 = 0.666667
recall class 0 = 0.989071
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.010929
positive prediction rate = 0.028754
AUC of ROC = 0.880255
AUC of PRC = 0.51285
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[2238   11]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06441699713468552
difference in average predicted and observed risk = -0.02023900286531448
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.925176
precision class 1 = 0.710526
recall class 0 = 0.995109
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.004891
positive prediction rate = 0.015466
AUC of ROC = 0.867294
AUC of PRC = 0.423352
min(+P, Se) = 0.40553

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07437600195407867
difference in average predicted and observed risk = -0.026429998045921332
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.766816
AUC of PRC = 0.27099
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[474   7]
 [ 61  21]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10065300017595291
difference in average predicted and observed risk = -0.04499499982404709
number samples = 563
accuracy = 0.879218
precision class 0 = 0.885981
precision class 1 = 0.75
recall class 0 = 0.985447
recall class 1 = 0.256098
false negative rate = 0.743902
false positive rate = 0.014553
positive prediction rate = 0.049734
AUC of ROC = 0.88497
AUC of PRC = 0.637142
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[646   9]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08780500292778015
difference in average predicted and observed risk = -0.01982399707221985
number samples = 734
accuracy = 0.907357
precision class 0 = 0.916312
precision class 1 = 0.689655
recall class 0 = 0.98626
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.01374
positive prediction rate = 0.03951
AUC of ROC = 0.866847
AUC of PRC = 0.502621
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[4120   37]
 [ 390   81]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07517600059509277
difference in average predicted and observed risk = -0.026595999404907228
number samples = 4628
accuracy = 0.907736
precision class 0 = 0.913526
precision class 1 = 0.686441
recall class 0 = 0.991099
recall class 1 = 0.171975
false negative rate = 0.828025
false positive rate = 0.008901
positive prediction rate = 0.025497
AUC of ROC = 0.868617
AUC of PRC = 0.477254
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07322599738836288
difference in average predicted and observed risk = -0.00694300261163712
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.896427
AUC of PRC = 0.379431
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06695999950170517
difference in average predicted and observed risk = -0.041836000498294834
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.876209
AUC of PRC = 0.440522
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10673400014638901
difference in average predicted and observed risk = -0.0034349998536109955
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.865201
AUC of PRC = 0.512026
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1059660017490387
difference in average predicted and observed risk = -0.02736699825096131
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0852620005607605
difference in average predicted and observed risk = -0.029781999439239495
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.83
AUC of PRC = 0.362647
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06935399770736694
difference in average predicted and observed risk = -0.022696002292633063
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.914223
AUC of PRC = 0.547001
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06343799829483032
difference in average predicted and observed risk = -0.02576400170516968
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.89277
AUC of PRC = 0.403284
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08426299691200256
difference in average predicted and observed risk = -0.03338400308799744
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.858333
AUC of PRC = 0.592145
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07121100276708603
difference in average predicted and observed risk = -0.017498997232913968
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.909895
AUC of PRC = 0.367205
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10430900007486343
difference in average predicted and observed risk = -0.045296999925136555
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.837232
AUC of PRC = 0.504636
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11468400061130524
difference in average predicted and observed risk = 0.035737000611305234
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.952381
AUC of PRC = 0.405556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[728   6]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07595399767160416
difference in average predicted and observed risk = -0.025637002328395844
number samples = 817
accuracy = 0.904529
precision class 0 = 0.91
precision class 1 = 0.647059
recall class 0 = 0.991826
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.008174
positive prediction rate = 0.020808
AUC of ROC = 0.879797
AUC of PRC = 0.450004
min(+P, Se) = 0.482759

-------------------------------

Epoch 00043: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch43.state
Epoch 44/100
 - 283s - loss: 0.2445 - val_loss: 0.2361

==>predicting on train



confusion matrix:
[[2146    9]
 [ 220   35]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08340500295162201
difference in average predicted and observed risk = -0.02240399704837799
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.907016
precision class 1 = 0.795455
recall class 0 = 0.995824
recall class 1 = 0.137255
false negative rate = 0.862745
false positive rate = 0.004176
positive prediction rate = 0.018257
AUC of ROC = 0.862267
AUC of PRC = 0.503329
min(+P, Se) = 0.480469

-------------------------------

confusion matrix:
[[1169   10]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08173999935388565
difference in average predicted and observed risk = -0.009239000646114354
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.919748
precision class 1 = 0.615385
recall class 0 = 0.991518
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.008482
positive prediction rate = 0.020046
AUC of ROC = 0.884015
AUC of PRC = 0.43687
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[651   5]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09785900264978409
difference in average predicted and observed risk = -0.0035109973502159136
number samples = 730
accuracy = 0.910959
precision class 0 = 0.915612
precision class 1 = 0.736842
recall class 0 = 0.992378
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.007622
positive prediction rate = 0.026027
AUC of ROC = 0.89527
AUC of PRC = 0.494764
min(+P, Se) = 0.493976

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09213399887084961
difference in average predicted and observed risk = -0.03352000112915038
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.936377
AUC of PRC = 0.75744
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2464   10]
 [ 227   28]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0784749984741211
difference in average predicted and observed risk = -0.014966001525878903
number samples = 2729
accuracy = 0.913155
precision class 0 = 0.915645
precision class 1 = 0.736842
recall class 0 = 0.995958
recall class 1 = 0.109804
false negative rate = 0.890196
false positive rate = 0.004042
positive prediction rate = 0.013925
AUC of ROC = 0.877617
AUC of PRC = 0.466367
min(+P, Se) = 0.46332

-------------------------------

confusion matrix:
[[1669   14]
 [ 171   45]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09578700363636017
difference in average predicted and observed risk = -0.01795699636363983
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.907065
precision class 1 = 0.762712
recall class 0 = 0.991682
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.008318
positive prediction rate = 0.031069
AUC of ROC = 0.873704
AUC of PRC = 0.52406
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[546   3]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0910549983382225
difference in average predicted and observed risk = -0.0319480016617775
number samples = 626
accuracy = 0.888179
precision class 0 = 0.890701
precision class 1 = 0.769231
recall class 0 = 0.994536
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.005464
positive prediction rate = 0.020767
AUC of ROC = 0.887943
AUC of PRC = 0.522235
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2243    6]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07570099830627441
difference in average predicted and observed risk = -0.008955001693725581
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.924948
precision class 1 = 0.8125
recall class 0 = 0.997332
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.002668
positive prediction rate = 0.013024
AUC of ROC = 0.875413
AUC of PRC = 0.439469
min(+P, Se) = 0.403846

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08480799943208694
difference in average predicted and observed risk = -0.015998000567913062
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.780628
AUC of PRC = 0.287796
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[476   5]
 [ 61  21]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10925900191068649
difference in average predicted and observed risk = -0.03638899808931351
number samples = 563
accuracy = 0.882771
precision class 0 = 0.886406
precision class 1 = 0.807692
recall class 0 = 0.989605
recall class 1 = 0.256098
false negative rate = 0.743902
false positive rate = 0.010395
positive prediction rate = 0.046181
AUC of ROC = 0.887582
AUC of PRC = 0.647225
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[649   6]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09606900066137314
difference in average predicted and observed risk = -0.011559999338626864
number samples = 734
accuracy = 0.904632
precision class 0 = 0.910238
precision class 1 = 0.714286
recall class 0 = 0.99084
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00916
positive prediction rate = 0.02861
AUC of ROC = 0.879119
AUC of PRC = 0.521288
min(+P, Se) = 0.481928

-------------------------------

confusion matrix:
[[4133   24]
 [ 398   73]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08557900041341782
difference in average predicted and observed risk = -0.016192999586582185
number samples = 4628
accuracy = 0.908816
precision class 0 = 0.912161
precision class 1 = 0.752577
recall class 0 = 0.994227
recall class 1 = 0.154989
false negative rate = 0.845011
false positive rate = 0.005773
positive prediction rate = 0.020959
AUC of ROC = 0.876374
AUC of PRC = 0.492298
min(+P, Se) = 0.47983

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08332599699497223
difference in average predicted and observed risk = 0.003156996994972225
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.893771
AUC of PRC = 0.361665
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0778999999165535
difference in average predicted and observed risk = -0.030896000083446507
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.875048
AUC of PRC = 0.476697
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11779099702835083
difference in average predicted and observed risk = 0.007621997028350827
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.860073
AUC of PRC = 0.528358
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11615099757909775
difference in average predicted and observed risk = -0.01718200242090226
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09678799659013748
difference in average predicted and observed risk = -0.018256003409862512
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.834872
AUC of PRC = 0.383027
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07944300025701523
difference in average predicted and observed risk = -0.012606999742984779
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.9093
AUC of PRC = 0.548633
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07257600128650665
difference in average predicted and observed risk = -0.01662599871349335
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.891888
AUC of PRC = 0.435916
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0942239984869957
difference in average predicted and observed risk = -0.023423001513004305
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.840741
AUC of PRC = 0.60828
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08426400274038315
difference in average predicted and observed risk = -0.004445997259616849
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.905068
AUC of PRC = 0.379899
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11911000311374664
difference in average predicted and observed risk = -0.030495996886253346
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.852827
AUC of PRC = 0.528312
min(+P, Se) = 0.631579

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12318400293588638
difference in average predicted and observed risk = 0.04423700293588638
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.933333
AUC of PRC = 0.349206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[729   5]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08664000034332275
difference in average predicted and observed risk = -0.014950999656677247
number samples = 817
accuracy = 0.905753
precision class 0 = 0.910112
precision class 1 = 0.6875
recall class 0 = 0.993188
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.006812
positive prediction rate = 0.019584
AUC of ROC = 0.878221
AUC of PRC = 0.465754
min(+P, Se) = 0.518072

-------------------------------

Epoch 00044: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch44.state
Epoch 45/100
 - 280s - loss: 0.2538 - val_loss: 0.2337

==>predicting on train



confusion matrix:
[[2148    7]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08639000356197357
difference in average predicted and observed risk = -0.01941899643802643
number samples = 2410
accuracy = 0.903734
precision class 0 = 0.905183
precision class 1 = 0.810811
recall class 0 = 0.996752
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.003248
positive prediction rate = 0.015353
AUC of ROC = 0.859359
AUC of PRC = 0.495733
min(+P, Se) = 0.478431

-------------------------------

confusion matrix:
[[1172    7]
 [ 103   15]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0827149972319603
difference in average predicted and observed risk = -0.008264002768039708
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.919216
precision class 1 = 0.681818
recall class 0 = 0.994063
recall class 1 = 0.127119
false negative rate = 0.872881
false positive rate = 0.005937
positive prediction rate = 0.016962
AUC of ROC = 0.881457
AUC of PRC = 0.421176
min(+P, Se) = 0.374046

-------------------------------

confusion matrix:
[[652   4]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09946099668741226
difference in average predicted and observed risk = -0.0019090033125877398
number samples = 730
accuracy = 0.908219
precision class 0 = 0.911888
precision class 1 = 0.733333
recall class 0 = 0.993902
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.006098
positive prediction rate = 0.020548
AUC of ROC = 0.875041
AUC of PRC = 0.470434
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09263800084590912
difference in average predicted and observed risk = -0.03301599915409087
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.926148
AUC of PRC = 0.743338
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2469    5]
 [ 231   24]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08135999739170074
difference in average predicted and observed risk = -0.012081002608299252
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.914444
precision class 1 = 0.827586
recall class 0 = 0.997979
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.002021
positive prediction rate = 0.010627
AUC of ROC = 0.872776
AUC of PRC = 0.4531
min(+P, Se) = 0.427451

-------------------------------

confusion matrix:
[[1670   13]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09676100313663483
difference in average predicted and observed risk = -0.01698299686336517
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.903191
precision class 1 = 0.74
recall class 0 = 0.992276
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.007724
positive prediction rate = 0.02633
AUC of ROC = 0.867333
AUC of PRC = 0.509695
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[546   3]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09242100268602371
difference in average predicted and observed risk = -0.03058199731397629
number samples = 626
accuracy = 0.884984
precision class 0 = 0.887805
precision class 1 = 0.727273
recall class 0 = 0.994536
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.005464
positive prediction rate = 0.017572
AUC of ROC = 0.872235
AUC of PRC = 0.489275
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[2245    4]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07851400226354599
difference in average predicted and observed risk = -0.006141997736454005
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.923868
precision class 1 = 0.851852
recall class 0 = 0.998221
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.001779
positive prediction rate = 0.010989
AUC of ROC = 0.871404
AUC of PRC = 0.434379
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0873740017414093
difference in average predicted and observed risk = -0.013431998258590705
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.783498
AUC of PRC = 0.278493
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[479   2]
 [ 64  18]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10960300266742706
difference in average predicted and observed risk = -0.03604499733257294
number samples = 563
accuracy = 0.882771
precision class 0 = 0.882136
precision class 1 = 0.9
recall class 0 = 0.995842
recall class 1 = 0.219512
false negative rate = 0.780488
false positive rate = 0.004158
positive prediction rate = 0.035524
AUC of ROC = 0.885655
AUC of PRC = 0.634817
min(+P, Se) = 0.54878

-------------------------------

confusion matrix:
[[650   5]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09760600328445435
difference in average predicted and observed risk = -0.010022996715545657
number samples = 734
accuracy = 0.900545
precision class 0 = 0.905292
precision class 1 = 0.6875
recall class 0 = 0.992366
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.007634
positive prediction rate = 0.021798
AUC of ROC = 0.872587
AUC of PRC = 0.499636
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4139   18]
 [ 410   61]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08767999708652496
difference in average predicted and observed risk = -0.014092002913475038
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.90987
precision class 1 = 0.772152
recall class 0 = 0.99567
recall class 1 = 0.129512
false negative rate = 0.870488
false positive rate = 0.00433
positive prediction rate = 0.01707
AUC of ROC = 0.870896
AUC of PRC = 0.477632
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08471199870109558
difference in average predicted and observed risk = 0.004542998701095577
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.901497
AUC of PRC = 0.388645
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[384   1]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08020400255918503
difference in average predicted and observed risk = -0.028591997440814976
number samples = 432
accuracy = 0.891204
precision class 0 = 0.893023
precision class 1 = 0.5
recall class 0 = 0.997403
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.002597
positive prediction rate = 0.00463
AUC of ROC = 0.87328
AUC of PRC = 0.460767
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12113899737596512
difference in average predicted and observed risk = 0.010969997375965115
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.863736
AUC of PRC = 0.543416
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.121908999979496
difference in average predicted and observed risk = -0.011424000020504005
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09826699644327164
difference in average predicted and observed risk = -0.016777003556728357
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.837607
AUC of PRC = 0.376899
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[432   2]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08235099911689758
difference in average predicted and observed risk = -0.009699000883102424
number samples = 478
accuracy = 0.916318
precision class 0 = 0.919149
precision class 1 = 0.75
recall class 0 = 0.995392
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.004608
positive prediction rate = 0.016736
AUC of ROC = 0.910295
AUC of PRC = 0.576032
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07518599927425385
difference in average predicted and observed risk = -0.014016000725746158
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.89494
AUC of PRC = 0.45985
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09732399880886078
difference in average predicted and observed risk = -0.020323001191139223
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.865741
AUC of PRC = 0.590272
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08630599826574326
difference in average predicted and observed risk = -0.0024040017342567416
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.905068
AUC of PRC = 0.364098
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11928900331258774
difference in average predicted and observed risk = -0.03031699668741225
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.837719
AUC of PRC = 0.494514
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 3  0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12812499701976776
difference in average predicted and observed risk = 0.04917799701976776
number samples = 38
accuracy = 0.894737
precision class 0 = 0.918919
precision class 1 = 0.0
recall class 0 = 0.971429
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.028571
positive prediction rate = 0.026316
AUC of ROC = 0.87619
AUC of PRC = 0.263636
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[729   5]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08895599842071533
difference in average predicted and observed risk = -0.012635001579284669
number samples = 817
accuracy = 0.903305
precision class 0 = 0.907846
precision class 1 = 0.642857
recall class 0 = 0.993188
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.006812
positive prediction rate = 0.017136
AUC of ROC = 0.879879
AUC of PRC = 0.461998
min(+P, Se) = 0.45977

-------------------------------

Epoch 00045: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch45.state
Epoch 46/100
 - 283s - loss: 0.2480 - val_loss: 0.2392

==>predicting on train



confusion matrix:
[[2151    4]
 [ 235   20]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08201400190591812
difference in average predicted and observed risk = -0.02379499809408188
number samples = 2410
accuracy = 0.90083
precision class 0 = 0.901509
precision class 1 = 0.833333
recall class 0 = 0.998144
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.001856
positive prediction rate = 0.009959
AUC of ROC = 0.861677
AUC of PRC = 0.499684
min(+P, Se) = 0.471042

-------------------------------

confusion matrix:
[[1172    7]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07942099869251251
difference in average predicted and observed risk = -0.011558001307487492
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.917776
precision class 1 = 0.65
recall class 0 = 0.994063
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.005937
positive prediction rate = 0.01542
AUC of ROC = 0.879192
AUC of PRC = 0.436813
min(+P, Se) = 0.413223

-------------------------------

confusion matrix:
[[654   2]
 [ 65   9]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09388399869203568
difference in average predicted and observed risk = -0.007486001307964327
number samples = 730
accuracy = 0.908219
precision class 0 = 0.909597
precision class 1 = 0.818182
recall class 0 = 0.996951
recall class 1 = 0.121622
false negative rate = 0.878378
false positive rate = 0.003049
positive prediction rate = 0.015068
AUC of ROC = 0.88291
AUC of PRC = 0.478617
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08713400363922119
difference in average predicted and observed risk = -0.038519996360778797
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.930888
AUC of PRC = 0.758506
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2471    3]
 [ 238   17]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07661499828100204
difference in average predicted and observed risk = -0.01682600171899795
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.912145
precision class 1 = 0.85
recall class 0 = 0.998787
recall class 1 = 0.066667
false negative rate = 0.933333
false positive rate = 0.001213
positive prediction rate = 0.007329
AUC of ROC = 0.874104
AUC of PRC = 0.464631
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1673   10]
 [ 188   28]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09307999908924103
difference in average predicted and observed risk = -0.02066400091075897
number samples = 1899
accuracy = 0.895735
precision class 0 = 0.898979
precision class 1 = 0.736842
recall class 0 = 0.994058
recall class 1 = 0.12963
false negative rate = 0.87037
false positive rate = 0.005942
positive prediction rate = 0.020011
AUC of ROC = 0.870271
AUC of PRC = 0.510751
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[547   2]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08826000243425369
difference in average predicted and observed risk = -0.03474299756574631
number samples = 626
accuracy = 0.883387
precision class 0 = 0.885113
precision class 1 = 0.75
recall class 0 = 0.996357
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.003643
positive prediction rate = 0.01278
AUC of ROC = 0.882029
AUC of PRC = 0.50503
min(+P, Se) = 0.4875

-------------------------------

confusion matrix:
[[2245    4]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07535099983215332
difference in average predicted and observed risk = -0.009305000167846675
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.92235
precision class 1 = 0.826087
recall class 0 = 0.998221
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.001779
positive prediction rate = 0.009361
AUC of ROC = 0.871894
AUC of PRC = 0.44635
min(+P, Se) = 0.42381

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08092299848794937
difference in average predicted and observed risk = -0.019883001512050635
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.792825
AUC of PRC = 0.283156
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[480   1]
 [ 72  10]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10243699699640274
difference in average predicted and observed risk = -0.04321100300359726
number samples = 563
accuracy = 0.870337
precision class 0 = 0.869565
precision class 1 = 0.909091
recall class 0 = 0.997921
recall class 1 = 0.121951
false negative rate = 0.878049
false positive rate = 0.002079
positive prediction rate = 0.019538
AUC of ROC = 0.88137
AUC of PRC = 0.628752
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[651   4]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09225200116634369
difference in average predicted and observed risk = -0.015376998833656313
number samples = 734
accuracy = 0.899183
precision class 0 = 0.902913
precision class 1 = 0.692308
recall class 0 = 0.993893
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.006107
positive prediction rate = 0.017711
AUC of ROC = 0.877727
AUC of PRC = 0.500039
min(+P, Se) = 0.493976

-------------------------------

confusion matrix:
[[4144   13]
 [ 426   45]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08337099850177765
difference in average predicted and observed risk = -0.018401001498222352
number samples = 4628
accuracy = 0.905143
precision class 0 = 0.906783
precision class 1 = 0.775862
recall class 0 = 0.996873
recall class 1 = 0.095541
false negative rate = 0.904459
false positive rate = 0.003127
positive prediction rate = 0.012532
AUC of ROC = 0.872871
AUC of PRC = 0.485008
min(+P, Se) = 0.469214

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 18   1]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08133500069379807
difference in average predicted and observed risk = 0.001166000693798061
number samples = 237
accuracy = 0.915612
precision class 0 = 0.923077
precision class 1 = 0.333333
recall class 0 = 0.990826
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.009174
positive prediction rate = 0.012658
AUC of ROC = 0.897393
AUC of PRC = 0.374485
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07767699658870697
difference in average predicted and observed risk = -0.031119003411293034
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.855153
AUC of PRC = 0.464559
min(+P, Se) = 0.426471

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11720900237560272
difference in average predicted and observed risk = 0.007040002375602719
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.854945
AUC of PRC = 0.563662
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11480999737977982
difference in average predicted and observed risk = -0.01852300262022019
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09602600336074829
difference in average predicted and observed risk = -0.019017996639251702
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.837863
AUC of PRC = 0.389489
min(+P, Se) = 0.390244

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07856699824333191
difference in average predicted and observed risk = -0.013483001756668098
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.888668
AUC of PRC = 0.550611
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07123400270938873
difference in average predicted and observed risk = -0.01796799729061127
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.883749
AUC of PRC = 0.469385
min(+P, Se) = 0.456522

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09291499853134155
difference in average predicted and observed risk = -0.02473200146865845
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.826852
AUC of PRC = 0.586447
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08528199791908264
difference in average predicted and observed risk = -0.0034280020809173556
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.908286
AUC of PRC = 0.364434
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11902599781751633
difference in average predicted and observed risk = -0.030580002182483662
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.835283
AUC of PRC = 0.494883
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1208840012550354
difference in average predicted and observed risk = 0.0419370012550354
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.885714
AUC of PRC = 0.270455
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[731   3]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08581099659204483
difference in average predicted and observed risk = -0.01578000340795517
number samples = 817
accuracy = 0.904529
precision class 0 = 0.906948
precision class 1 = 0.727273
recall class 0 = 0.995913
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.004087
positive prediction rate = 0.013464
AUC of ROC = 0.868028
AUC of PRC = 0.457317
min(+P, Se) = 0.457831

-------------------------------

Epoch 00046: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch46.state
Epoch 47/100
 - 282s - loss: 0.2524 - val_loss: 0.2367

==>predicting on train



confusion matrix:
[[2148    7]
 [ 222   33]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08019900321960449
difference in average predicted and observed risk = -0.025609996780395508
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.906329
precision class 1 = 0.825
recall class 0 = 0.996752
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.003248
positive prediction rate = 0.016598
AUC of ROC = 0.860998
AUC of PRC = 0.488448
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[1170    9]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07909099757671356
difference in average predicted and observed risk = -0.011888002423286442
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.919811
precision class 1 = 0.64
recall class 0 = 0.992366
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.007634
positive prediction rate = 0.019275
AUC of ROC = 0.879595
AUC of PRC = 0.420935
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[649   7]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09560000151395798
difference in average predicted and observed risk = -0.0057699984860420245
number samples = 730
accuracy = 0.90411
precision class 0 = 0.911517
precision class 1 = 0.611111
recall class 0 = 0.989329
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.010671
positive prediction rate = 0.024658
AUC of ROC = 0.875845
AUC of PRC = 0.46612
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08772200345993042
difference in average predicted and observed risk = -0.03793199654006957
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.927146
AUC of PRC = 0.749724
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2469    5]
 [ 229   26]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07295200228691101
difference in average predicted and observed risk = -0.020488997713088986
number samples = 2729
accuracy = 0.914254
precision class 0 = 0.915122
precision class 1 = 0.83871
recall class 0 = 0.997979
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.002021
positive prediction rate = 0.011359
AUC of ROC = 0.872571
AUC of PRC = 0.454811
min(+P, Se) = 0.447059

-------------------------------

confusion matrix:
[[1665   18]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09653399884700775
difference in average predicted and observed risk = -0.017210001152992246
number samples = 1899
accuracy = 0.897314
precision class 0 = 0.903909
precision class 1 = 0.684211
recall class 0 = 0.989305
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.010695
positive prediction rate = 0.030016
AUC of ROC = 0.869831
AUC of PRC = 0.504991
min(+P, Se) = 0.49537

-------------------------------

confusion matrix:
[[546   3]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08825299888849258
difference in average predicted and observed risk = -0.03475000111150742
number samples = 626
accuracy = 0.886581
precision class 0 = 0.889251
precision class 1 = 0.75
recall class 0 = 0.994536
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.005464
positive prediction rate = 0.019169
AUC of ROC = 0.878409
AUC of PRC = 0.499187
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[2241    8]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07261600345373154
difference in average predicted and observed risk = -0.012039996546268458
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.924124
precision class 1 = 0.75
recall class 0 = 0.996443
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003557
positive prediction rate = 0.013024
AUC of ROC = 0.870958
AUC of PRC = 0.424722
min(+P, Se) = 0.409524

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08006200194358826
difference in average predicted and observed risk = -0.02074399805641175
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.796233
AUC of PRC = 0.296448
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[479   2]
 [ 64  18]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10573799908161163
difference in average predicted and observed risk = -0.039910000918388366
number samples = 563
accuracy = 0.882771
precision class 0 = 0.882136
precision class 1 = 0.9
recall class 0 = 0.995842
recall class 1 = 0.219512
false negative rate = 0.780488
false positive rate = 0.004158
positive prediction rate = 0.035524
AUC of ROC = 0.880356
AUC of PRC = 0.631675
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[649   6]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09448599815368652
difference in average predicted and observed risk = -0.013143001846313479
number samples = 734
accuracy = 0.901907
precision class 0 = 0.907692
precision class 1 = 0.684211
recall class 0 = 0.99084
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.00916
positive prediction rate = 0.025886
AUC of ROC = 0.873669
AUC of PRC = 0.488872
min(+P, Se) = 0.468354

-------------------------------

confusion matrix:
[[4134   23]
 [ 406   65]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08262799680233002
difference in average predicted and observed risk = -0.019144003197669984
number samples = 4628
accuracy = 0.907303
precision class 0 = 0.910573
precision class 1 = 0.738636
recall class 0 = 0.994467
recall class 1 = 0.138004
false negative rate = 0.861996
false positive rate = 0.005533
positive prediction rate = 0.019015
AUC of ROC = 0.871477
AUC of PRC = 0.475774
min(+P, Se) = 0.471338

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08178900182247162
difference in average predicted and observed risk = 0.0016200018224716145
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.911154
AUC of PRC = 0.388967
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[384   1]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07674600183963776
difference in average predicted and observed risk = -0.03204999816036225
number samples = 432
accuracy = 0.891204
precision class 0 = 0.893023
precision class 1 = 0.5
recall class 0 = 0.997403
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.002597
positive prediction rate = 0.00463
AUC of ROC = 0.860901
AUC of PRC = 0.418057
min(+P, Se) = 0.448276

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11918400228023529
difference in average predicted and observed risk = 0.009015002280235287
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.865934
AUC of PRC = 0.545246
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1124740019440651
difference in average predicted and observed risk = -0.020858998055934913
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09989800304174423
difference in average predicted and observed risk = -0.015145996958255761
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.835043
AUC of PRC = 0.370687
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[431   3]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07554599642753601
difference in average predicted and observed risk = -0.016504003572463996
number samples = 478
accuracy = 0.916318
precision class 0 = 0.92094
precision class 1 = 0.7
recall class 0 = 0.993088
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.006912
positive prediction rate = 0.020921
AUC of ROC = 0.904797
AUC of PRC = 0.543517
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07187800109386444
difference in average predicted and observed risk = -0.017323998906135563
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.885241
AUC of PRC = 0.427071
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09559699892997742
difference in average predicted and observed risk = -0.022050001070022585
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.874074
AUC of PRC = 0.584122
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08275499939918518
difference in average predicted and observed risk = -0.0059550006008148165
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.888978
AUC of PRC = 0.342577
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1165430024266243
difference in average predicted and observed risk = -0.03306299757337569
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.834308
AUC of PRC = 0.479644
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 3  0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11954200267791748
difference in average predicted and observed risk = 0.04059500267791748
number samples = 38
accuracy = 0.894737
precision class 0 = 0.918919
precision class 1 = 0.0
recall class 0 = 0.971429
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.028571
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.341667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0856499969959259
difference in average predicted and observed risk = -0.015941003004074097
number samples = 817
accuracy = 0.903305
precision class 0 = 0.908864
precision class 1 = 0.625
recall class 0 = 0.991826
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.008174
positive prediction rate = 0.019584
AUC of ROC = 0.875152
AUC of PRC = 0.443408
min(+P, Se) = 0.481928

-------------------------------

Epoch 00047: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch47.state
Epoch 48/100
 - 279s - loss: 0.2521 - val_loss: 0.2438

==>predicting on train



confusion matrix:
[[2147    8]
 [ 228   27]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06983000040054321
difference in average predicted and observed risk = -0.03597899959945679
number samples = 2410
accuracy = 0.902075
precision class 0 = 0.904
precision class 1 = 0.771429
recall class 0 = 0.996288
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.003712
positive prediction rate = 0.014523
AUC of ROC = 0.859773
AUC of PRC = 0.485387
min(+P, Se) = 0.478431

-------------------------------

confusion matrix:
[[1172    7]
 [ 104   14]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.069752998650074
difference in average predicted and observed risk = -0.021226001349926
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.918495
precision class 1 = 0.666667
recall class 0 = 0.994063
recall class 1 = 0.118644
false negative rate = 0.881356
false positive rate = 0.005937
positive prediction rate = 0.016191
AUC of ROC = 0.876483
AUC of PRC = 0.42757
min(+P, Se) = 0.403361

-------------------------------

confusion matrix:
[[649   7]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0850749984383583
difference in average predicted and observed risk = -0.016295001561641695
number samples = 730
accuracy = 0.90274
precision class 0 = 0.910238
precision class 1 = 0.588235
recall class 0 = 0.989329
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.010671
positive prediction rate = 0.023288
AUC of ROC = 0.872116
AUC of PRC = 0.469518
min(+P, Se) = 0.4875

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0775580033659935
difference in average predicted and observed risk = -0.04809599663400649
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.928144
AUC of PRC = 0.78445
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2469    5]
 [ 237   18]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06460399925708771
difference in average predicted and observed risk = -0.02883700074291229
number samples = 2729
accuracy = 0.911323
precision class 0 = 0.912417
precision class 1 = 0.782609
recall class 0 = 0.997979
recall class 1 = 0.070588
false negative rate = 0.929412
false positive rate = 0.002021
positive prediction rate = 0.008428
AUC of ROC = 0.871072
AUC of PRC = 0.45625
min(+P, Se) = 0.465385

-------------------------------

confusion matrix:
[[1666   17]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0839259997010231
difference in average predicted and observed risk = -0.029818000298976896
number samples = 1899
accuracy = 0.896788
precision class 0 = 0.902981
precision class 1 = 0.685185
recall class 0 = 0.989899
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.010101
positive prediction rate = 0.028436
AUC of ROC = 0.86565
AUC of PRC = 0.503283
min(+P, Se) = 0.490741

-------------------------------

confusion matrix:
[[546   3]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07831999659538269
difference in average predicted and observed risk = -0.04468300340461731
number samples = 626
accuracy = 0.884984
precision class 0 = 0.887805
precision class 1 = 0.727273
recall class 0 = 0.994536
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.005464
positive prediction rate = 0.017572
AUC of ROC = 0.878812
AUC of PRC = 0.511196
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2242    7]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06327000260353088
difference in average predicted and observed risk = -0.02138599739646911
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.923394
precision class 1 = 0.758621
recall class 0 = 0.996888
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.003112
positive prediction rate = 0.011803
AUC of ROC = 0.867095
AUC of PRC = 0.422137
min(+P, Se) = 0.408654

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06858599931001663
difference in average predicted and observed risk = -0.032220000689983375
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.796771
AUC of PRC = 0.304837
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[478   3]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09432899951934814
difference in average predicted and observed risk = -0.051319000480651855
number samples = 563
accuracy = 0.875666
precision class 0 = 0.877064
precision class 1 = 0.833333
recall class 0 = 0.993763
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.006237
positive prediction rate = 0.031972
AUC of ROC = 0.876299
AUC of PRC = 0.61426
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[650   5]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08321599662303925
difference in average predicted and observed risk = -0.024413003376960757
number samples = 734
accuracy = 0.89782
precision class 0 = 0.902778
precision class 1 = 0.642857
recall class 0 = 0.992366
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.007634
positive prediction rate = 0.019074
AUC of ROC = 0.874616
AUC of PRC = 0.507211
min(+P, Se) = 0.481013

-------------------------------

confusion matrix:
[[4135   22]
 [ 416   55]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07253199815750122
difference in average predicted and observed risk = -0.02924000184249878
number samples = 4628
accuracy = 0.905359
precision class 0 = 0.908592
precision class 1 = 0.714286
recall class 0 = 0.994708
recall class 1 = 0.116773
false negative rate = 0.883227
false positive rate = 0.005292
positive prediction rate = 0.016638
AUC of ROC = 0.86901
AUC of PRC = 0.476034
min(+P, Se) = 0.473461

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07118300348520279
difference in average predicted and observed risk = -0.008985996514797215
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.901497
AUC of PRC = 0.361005
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06689699739217758
difference in average predicted and observed risk = -0.04189900260782242
number samples = 432
accuracy = 0.891204
precision class 0 = 0.893023
precision class 1 = 0.5
recall class 0 = 0.997403
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.002597
positive prediction rate = 0.00463
AUC of ROC = 0.850345
AUC of PRC = 0.42816
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10679999738931656
difference in average predicted and observed risk = -0.003369002610683444
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.863736
AUC of PRC = 0.577247
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10115499794483185
difference in average predicted and observed risk = -0.03217800205516816
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08657799661159515
difference in average predicted and observed risk = -0.02846600338840484
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.829915
AUC of PRC = 0.379241
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06706400215625763
difference in average predicted and observed risk = -0.024985997843742377
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.893276
AUC of PRC = 0.518388
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06176700070500374
difference in average predicted and observed risk = -0.027434999294996265
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.876492
AUC of PRC = 0.420076
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08511699736118317
difference in average predicted and observed risk = -0.032530002638816835
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.866667
AUC of PRC = 0.522962
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07462400197982788
difference in average predicted and observed risk = -0.014085998020172116
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.866452
AUC of PRC = 0.315984
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10446500033140182
difference in average predicted and observed risk = -0.045140999668598164
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.834795
AUC of PRC = 0.494626
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 3  0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10241500288248062
difference in average predicted and observed risk = 0.023468002882480618
number samples = 38
accuracy = 0.894737
precision class 0 = 0.918919
precision class 1 = 0.0
recall class 0 = 0.971429
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.028571
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.341667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07516100257635117
difference in average predicted and observed risk = -0.026429997423648835
number samples = 817
accuracy = 0.903305
precision class 0 = 0.906832
precision class 1 = 0.666667
recall class 0 = 0.99455
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.00545
positive prediction rate = 0.014688
AUC of ROC = 0.866846
AUC of PRC = 0.437557
min(+P, Se) = 0.482353

-------------------------------

Epoch 00048: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch48.state
Epoch 49/100
 - 278s - loss: 0.2490 - val_loss: 0.2428

==>predicting on train



confusion matrix:
[[2150    5]
 [ 230   25]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08197599649429321
difference in average predicted and observed risk = -0.023833003505706787
number samples = 2410
accuracy = 0.90249
precision class 0 = 0.903361
precision class 1 = 0.833333
recall class 0 = 0.99768
recall class 1 = 0.098039
false negative rate = 0.901961
false positive rate = 0.00232
positive prediction rate = 0.012448
AUC of ROC = 0.85492
AUC of PRC = 0.485807
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1170    9]
 [ 104   14]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08010999858379364
difference in average predicted and observed risk = -0.010869001416206364
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.918367
precision class 1 = 0.608696
recall class 0 = 0.992366
recall class 1 = 0.118644
false negative rate = 0.881356
false positive rate = 0.007634
positive prediction rate = 0.017733
AUC of ROC = 0.876166
AUC of PRC = 0.420925
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[651   5]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09726899862289429
difference in average predicted and observed risk = -0.004101001377105715
number samples = 730
accuracy = 0.905479
precision class 0 = 0.910489
precision class 1 = 0.666667
recall class 0 = 0.992378
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.007622
positive prediction rate = 0.020548
AUC of ROC = 0.870674
AUC of PRC = 0.501973
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08841600269079208
difference in average predicted and observed risk = -0.037237997309207904
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.926148
AUC of PRC = 0.772124
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2468    6]
 [ 235   20]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07648199796676636
difference in average predicted and observed risk = -0.01695900203323364
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.91306
precision class 1 = 0.769231
recall class 0 = 0.997575
recall class 1 = 0.078431
false negative rate = 0.921569
false positive rate = 0.002425
positive prediction rate = 0.009527
AUC of ROC = 0.867206
AUC of PRC = 0.460849
min(+P, Se) = 0.462745

-------------------------------

confusion matrix:
[[1670   13]
 [ 183   33]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09512399882078171
difference in average predicted and observed risk = -0.01862000117921829
number samples = 1899
accuracy = 0.896788
precision class 0 = 0.901241
precision class 1 = 0.717391
recall class 0 = 0.992276
recall class 1 = 0.152778
false negative rate = 0.847222
false positive rate = 0.007724
positive prediction rate = 0.024223
AUC of ROC = 0.863471
AUC of PRC = 0.505455
min(+P, Se) = 0.486957

-------------------------------

confusion matrix:
[[546   3]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08957800269126892
difference in average predicted and observed risk = -0.03342499730873108
number samples = 626
accuracy = 0.881789
precision class 0 = 0.884927
precision class 1 = 0.666667
recall class 0 = 0.994536
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.005464
positive prediction rate = 0.014377
AUC of ROC = 0.873087
AUC of PRC = 0.49519
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2243    6]
 [ 188   20]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07504799962043762
difference in average predicted and observed risk = -0.009608000379562373
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.922666
precision class 1 = 0.769231
recall class 0 = 0.997332
recall class 1 = 0.096154
false negative rate = 0.903846
false positive rate = 0.002668
positive prediction rate = 0.010582
AUC of ROC = 0.863741
AUC of PRC = 0.427167
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08070600032806396
difference in average predicted and observed risk = -0.020099999671936042
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.794081
AUC of PRC = 0.301479
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[479   2]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10520599782466888
difference in average predicted and observed risk = -0.040442002175331115
number samples = 563
accuracy = 0.877442
precision class 0 = 0.877289
precision class 1 = 0.882353
recall class 0 = 0.995842
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.004158
positive prediction rate = 0.030195
AUC of ROC = 0.874702
AUC of PRC = 0.617572
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[651   4]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0948840007185936
difference in average predicted and observed risk = -0.012744999281406405
number samples = 734
accuracy = 0.901907
precision class 0 = 0.905424
precision class 1 = 0.733333
recall class 0 = 0.993893
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.006107
positive prediction rate = 0.020436
AUC of ROC = 0.87392
AUC of PRC = 0.522192
min(+P, Se) = 0.493976

-------------------------------

confusion matrix:
[[4138   19]
 [ 418   53]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08413100242614746
difference in average predicted and observed risk = -0.01764099757385254
number samples = 4628
accuracy = 0.905575
precision class 0 = 0.908253
precision class 1 = 0.736111
recall class 0 = 0.995429
recall class 1 = 0.112527
false negative rate = 0.887473
false positive rate = 0.004571
positive prediction rate = 0.015557
AUC of ROC = 0.866129
AUC of PRC = 0.478938
min(+P, Se) = 0.484144

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08095800131559372
difference in average predicted and observed risk = 0.0007890013155937153
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.903428
AUC of PRC = 0.376211
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07861199975013733
difference in average predicted and observed risk = -0.030184000249862675
number samples = 432
accuracy = 0.891204
precision class 0 = 0.893023
precision class 1 = 0.5
recall class 0 = 0.997403
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.002597
positive prediction rate = 0.00463
AUC of ROC = 0.842222
AUC of PRC = 0.435006
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1181579977273941
difference in average predicted and observed risk = 0.007988997727394101
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.846154
AUC of PRC = 0.548239
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11514700204133987
difference in average predicted and observed risk = -0.018185997958660133
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0987360030412674
difference in average predicted and observed risk = -0.0163079969587326
number samples = 339
accuracy = 0.884956
precision class 0 = 0.891892
precision class 1 = 0.5
recall class 0 = 0.99
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.01
positive prediction rate = 0.017699
AUC of ROC = 0.819573
AUC of PRC = 0.37421
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07755900174379349
difference in average predicted and observed risk = -0.01449099825620652
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.892857
AUC of PRC = 0.531719
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07243800163269043
difference in average predicted and observed risk = -0.016763998367309574
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.867132
AUC of PRC = 0.427761
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09521099925041199
difference in average predicted and observed risk = -0.022436000749588014
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.868519
AUC of PRC = 0.595464
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08755999803543091
difference in average predicted and observed risk = -0.001150001964569089
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.864843
AUC of PRC = 0.301128
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1167680025100708
difference in average predicted and observed risk = -0.03283799748992919
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.820663
AUC of PRC = 0.477818
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 3  0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11282700300216675
difference in average predicted and observed risk = 0.033880003002166745
number samples = 38
accuracy = 0.894737
precision class 0 = 0.918919
precision class 1 = 0.0
recall class 0 = 0.971429
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.028571
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.341667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08634600043296814
difference in average predicted and observed risk = -0.015244999567031861
number samples = 817
accuracy = 0.903305
precision class 0 = 0.906832
precision class 1 = 0.666667
recall class 0 = 0.99455
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.00545
positive prediction rate = 0.014688
AUC of ROC = 0.861167
AUC of PRC = 0.443928
min(+P, Se) = 0.481928

-------------------------------

Epoch 00049: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch49.state
Epoch 50/100
 - 281s - loss: 0.2475 - val_loss: 0.2438

==>predicting on train



confusion matrix:
[[2147    8]
 [ 227   28]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06685099750757217
difference in average predicted and observed risk = -0.038958002492427826
number samples = 2410
accuracy = 0.90249
precision class 0 = 0.904381
precision class 1 = 0.777778
recall class 0 = 0.996288
recall class 1 = 0.109804
false negative rate = 0.890196
false positive rate = 0.003712
positive prediction rate = 0.014938
AUC of ROC = 0.859586
AUC of PRC = 0.491188
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1170    9]
 [ 104   14]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06722299754619598
difference in average predicted and observed risk = -0.02375600245380402
number samples = 1297
accuracy = 0.912876
precision class 0 = 0.918367
precision class 1 = 0.608696
recall class 0 = 0.992366
recall class 1 = 0.118644
false negative rate = 0.881356
false positive rate = 0.007634
positive prediction rate = 0.017733
AUC of ROC = 0.878093
AUC of PRC = 0.423963
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[650   6]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08121500164270401
difference in average predicted and observed risk = -0.020154998357295992
number samples = 730
accuracy = 0.90411
precision class 0 = 0.910364
precision class 1 = 0.625
recall class 0 = 0.990854
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.009146
positive prediction rate = 0.021918
AUC of ROC = 0.863485
AUC of PRC = 0.475767
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07580199837684631
difference in average predicted and observed risk = -0.049852001623153674
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.91018
AUC of PRC = 0.757426
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2467    7]
 [ 233   22]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06129499897360802
difference in average predicted and observed risk = -0.03214600102639198
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.913704
precision class 1 = 0.758621
recall class 0 = 0.997171
recall class 1 = 0.086275
false negative rate = 0.913725
false positive rate = 0.002829
positive prediction rate = 0.010627
AUC of ROC = 0.86871
AUC of PRC = 0.461048
min(+P, Se) = 0.458824

-------------------------------

confusion matrix:
[[1667   16]
 [ 183   33]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08151199668645859
difference in average predicted and observed risk = -0.03223200331354141
number samples = 1899
accuracy = 0.895208
precision class 0 = 0.901081
precision class 1 = 0.673469
recall class 0 = 0.990493
recall class 1 = 0.152778
false negative rate = 0.847222
false positive rate = 0.009507
positive prediction rate = 0.025803
AUC of ROC = 0.864783
AUC of PRC = 0.498725
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[545   4]
 [ 71   6]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07502400130033493
difference in average predicted and observed risk = -0.04797899869966507
number samples = 626
accuracy = 0.880192
precision class 0 = 0.88474
precision class 1 = 0.6
recall class 0 = 0.992714
recall class 1 = 0.077922
false negative rate = 0.922078
false positive rate = 0.007286
positive prediction rate = 0.015974
AUC of ROC = 0.880326
AUC of PRC = 0.508302
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2242    7]
 [ 188   20]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06076600030064583
difference in average predicted and observed risk = -0.023889999699354167
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.922634
precision class 1 = 0.740741
recall class 0 = 0.996888
recall class 1 = 0.096154
false negative rate = 0.903846
false positive rate = 0.003112
positive prediction rate = 0.010989
AUC of ROC = 0.864767
AUC of PRC = 0.429266
min(+P, Se) = 0.418269

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06515999883413315
difference in average predicted and observed risk = -0.03564600116586686
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.789776
AUC of PRC = 0.299723
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[478   3]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09040799736976624
difference in average predicted and observed risk = -0.055240002630233764
number samples = 563
accuracy = 0.875666
precision class 0 = 0.877064
precision class 1 = 0.833333
recall class 0 = 0.993763
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.006237
positive prediction rate = 0.031972
AUC of ROC = 0.878809
AUC of PRC = 0.620021
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[650   5]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08002500236034393
difference in average predicted and observed risk = -0.02760399763965607
number samples = 734
accuracy = 0.90327
precision class 0 = 0.907821
precision class 1 = 0.722222
recall class 0 = 0.992366
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.007634
positive prediction rate = 0.024523
AUC of ROC = 0.869224
AUC of PRC = 0.510177
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4134   23]
 [ 416   55]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06959100067615509
difference in average predicted and observed risk = -0.03218099932384491
number samples = 4628
accuracy = 0.905143
precision class 0 = 0.908571
precision class 1 = 0.705128
recall class 0 = 0.994467
recall class 1 = 0.116773
false negative rate = 0.883227
false positive rate = 0.005533
positive prediction rate = 0.016854
AUC of ROC = 0.867299
AUC of PRC = 0.476594
min(+P, Se) = 0.467091

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06942400336265564
difference in average predicted and observed risk = -0.010744996637344364
number samples = 237
accuracy = 0.915612
precision class 0 = 0.926724
precision class 1 = 0.4
recall class 0 = 0.986239
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.013761
positive prediction rate = 0.021097
AUC of ROC = 0.898841
AUC of PRC = 0.353092
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06344900280237198
difference in average predicted and observed risk = -0.045346997197628025
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.853938
AUC of PRC = 0.489277
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10425999760627747
difference in average predicted and observed risk = -0.005909002393722537
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.845421
AUC of PRC = 0.542912
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09686499834060669
difference in average predicted and observed risk = -0.03646800165939332
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0845469981431961
difference in average predicted and observed risk = -0.030497001856803888
number samples = 339
accuracy = 0.893805
precision class 0 = 0.89759
precision class 1 = 0.714286
recall class 0 = 0.993333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.006667
positive prediction rate = 0.020649
AUC of ROC = 0.823333
AUC of PRC = 0.382019
min(+P, Se) = 0.44186

-------------------------------

confusion matrix:
[[432   2]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06362000107765198
difference in average predicted and observed risk = -0.02842999892234803
number samples = 478
accuracy = 0.912134
precision class 0 = 0.915254
precision class 1 = 0.666667
recall class 0 = 0.995392
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.004608
positive prediction rate = 0.012552
AUC of ROC = 0.895109
AUC of PRC = 0.530901
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.059119001030921936
difference in average predicted and observed risk = -0.030082998969078067
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.871609
AUC of PRC = 0.43592
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0819849967956543
difference in average predicted and observed risk = -0.035662003204345705
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.873148
AUC of PRC = 0.587354
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07082299888134003
difference in average predicted and observed risk = -0.01788700111865997
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.867257
AUC of PRC = 0.31751
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10143999755382538
difference in average predicted and observed risk = -0.04816600244617461
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.831384
AUC of PRC = 0.476039
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10157699882984161
difference in average predicted and observed risk = 0.02262999882984161
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.914286
AUC of PRC = 0.299206
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[730   4]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07230299711227417
difference in average predicted and observed risk = -0.02928800288772583
number samples = 817
accuracy = 0.904529
precision class 0 = 0.90796
precision class 1 = 0.692308
recall class 0 = 0.99455
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.00545
positive prediction rate = 0.015912
AUC of ROC = 0.865664
AUC of PRC = 0.450516
min(+P, Se) = 0.5

-------------------------------

Epoch 00050: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch50.state
Epoch 51/100
 - 278s - loss: 0.2469 - val_loss: 0.2430

==>predicting on train



confusion matrix:
[[2150    5]
 [ 228   27]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0783889964222908
difference in average predicted and observed risk = -0.0274200035777092
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.904121
precision class 1 = 0.84375
recall class 0 = 0.99768
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.00232
positive prediction rate = 0.013278
AUC of ROC = 0.846216
AUC of PRC = 0.475197
min(+P, Se) = 0.463035

-------------------------------

confusion matrix:
[[1173    6]
 [ 104   14]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07687199860811234
difference in average predicted and observed risk = -0.014107001391887669
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.918559
precision class 1 = 0.7
recall class 0 = 0.994911
recall class 1 = 0.118644
false negative rate = 0.881356
false positive rate = 0.005089
positive prediction rate = 0.01542
AUC of ROC = 0.872436
AUC of PRC = 0.426816
min(+P, Se) = 0.40678

-------------------------------

confusion matrix:
[[652   4]
 [ 66   8]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09287600219249725
difference in average predicted and observed risk = -0.008493997807502748
number samples = 730
accuracy = 0.90411
precision class 0 = 0.908078
precision class 1 = 0.666667
recall class 0 = 0.993902
recall class 1 = 0.108108
false negative rate = 0.891892
false positive rate = 0.006098
positive prediction rate = 0.016438
AUC of ROC = 0.867666
AUC of PRC = 0.462477
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[167   0]
 [ 21   3]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08359099924564362
difference in average predicted and observed risk = -0.04206300075435637
number samples = 191
accuracy = 0.890052
precision class 0 = 0.888298
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.0
positive prediction rate = 0.015707
AUC of ROC = 0.923902
AUC of PRC = 0.740011
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2469    5]
 [ 233   22]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07342799752950668
difference in average predicted and observed risk = -0.020013002470493313
number samples = 2729
accuracy = 0.912789
precision class 0 = 0.913768
precision class 1 = 0.814815
recall class 0 = 0.997979
recall class 1 = 0.086275
false negative rate = 0.913725
false positive rate = 0.002021
positive prediction rate = 0.009894
AUC of ROC = 0.863438
AUC of PRC = 0.446967
min(+P, Se) = 0.435294

-------------------------------

confusion matrix:
[[1673   10]
 [ 186   30]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0905739963054657
difference in average predicted and observed risk = -0.0231700036945343
number samples = 1899
accuracy = 0.896788
precision class 0 = 0.899946
precision class 1 = 0.75
recall class 0 = 0.994058
recall class 1 = 0.138889
false negative rate = 0.861111
false positive rate = 0.005942
positive prediction rate = 0.021064
AUC of ROC = 0.855224
AUC of PRC = 0.490866
min(+P, Se) = 0.482143

-------------------------------

confusion matrix:
[[547   2]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08615600317716599
difference in average predicted and observed risk = -0.036846996822834016
number samples = 626
accuracy = 0.888179
precision class 0 = 0.889431
precision class 1 = 0.818182
recall class 0 = 0.996357
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.003643
positive prediction rate = 0.017572
AUC of ROC = 0.86573
AUC of PRC = 0.499672
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[2246    3]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07109799981117249
difference in average predicted and observed risk = -0.01355800018882751
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.922382
precision class 1 = 0.863636
recall class 0 = 0.998666
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.001334
positive prediction rate = 0.008954
AUC of ROC = 0.85851
AUC of PRC = 0.424875
min(+P, Se) = 0.395238

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07567699998617172
difference in average predicted and observed risk = -0.025129000013828284
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.766816
AUC of PRC = 0.280346
min(+P, Se) = 0.413793

-------------------------------

confusion matrix:
[[478   3]
 [ 70  12]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1023079976439476
difference in average predicted and observed risk = -0.0433400023560524
number samples = 563
accuracy = 0.870337
precision class 0 = 0.872263
precision class 1 = 0.8
recall class 0 = 0.993763
recall class 1 = 0.146341
false negative rate = 0.853659
false positive rate = 0.006237
positive prediction rate = 0.026643
AUC of ROC = 0.87526
AUC of PRC = 0.598953
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[652   3]
 [ 68  11]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09182099997997284
difference in average predicted and observed risk = -0.015808000020027163
number samples = 734
accuracy = 0.90327
precision class 0 = 0.905556
precision class 1 = 0.785714
recall class 0 = 0.99542
recall class 1 = 0.139241
false negative rate = 0.860759
false positive rate = 0.00458
positive prediction rate = 0.019074
AUC of ROC = 0.867736
AUC of PRC = 0.487311
min(+P, Se) = 0.493827

-------------------------------

confusion matrix:
[[4142   15]
 [ 419   52]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08046399801969528
difference in average predicted and observed risk = -0.02130800198030472
number samples = 4628
accuracy = 0.906223
precision class 0 = 0.908134
precision class 1 = 0.776119
recall class 0 = 0.996392
recall class 1 = 0.110403
false negative rate = 0.889597
false positive rate = 0.003608
positive prediction rate = 0.014477
AUC of ROC = 0.860217
AUC of PRC = 0.466691
min(+P, Se) = 0.460722

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07871600240468979
difference in average predicted and observed risk = -0.0014529975953102153
number samples = 237
accuracy = 0.919831
precision class 0 = 0.930736
precision class 1 = 0.5
recall class 0 = 0.986239
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.013761
positive prediction rate = 0.025316
AUC of ROC = 0.888218
AUC of PRC = 0.365079
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[385   0]
 [ 46   1]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07595200091600418
difference in average predicted and observed risk = -0.03284399908399582
number samples = 432
accuracy = 0.893519
precision class 0 = 0.893271
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.021277
false negative rate = 0.978723
false positive rate = 0.0
positive prediction rate = 0.002315
AUC of ROC = 0.853827
AUC of PRC = 0.455067
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11338099837303162
difference in average predicted and observed risk = 0.003211998373031613
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.842491
AUC of PRC = 0.55546
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10901899635791779
difference in average predicted and observed risk = -0.02431400364208222
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 36   3]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09342700242996216
difference in average predicted and observed risk = -0.021616997570037835
number samples = 339
accuracy = 0.887906
precision class 0 = 0.892216
precision class 1 = 0.6
recall class 0 = 0.993333
recall class 1 = 0.076923
false negative rate = 0.923077
false positive rate = 0.006667
positive prediction rate = 0.014749
AUC of ROC = 0.819402
AUC of PRC = 0.392913
min(+P, Se) = 0.408163

-------------------------------

confusion matrix:
[[432   2]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07624399662017822
difference in average predicted and observed risk = -0.015806003379821784
number samples = 478
accuracy = 0.916318
precision class 0 = 0.919149
precision class 1 = 0.75
recall class 0 = 0.995392
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.004608
positive prediction rate = 0.016736
AUC of ROC = 0.892595
AUC of PRC = 0.497888
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06925799697637558
difference in average predicted and observed risk = -0.019944003023624424
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.879612
AUC of PRC = 0.420707
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09431099891662598
difference in average predicted and observed risk = -0.023336001083374025
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.881481
AUC of PRC = 0.651062
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08243399858474731
difference in average predicted and observed risk = -0.006276001415252683
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.865648
AUC of PRC = 0.302068
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11439400166273117
difference in average predicted and observed risk = -0.03521199833726882
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.802144
AUC of PRC = 0.449548
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1116579994559288
difference in average predicted and observed risk = 0.0327109994559288
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.92381
AUC of PRC = 0.318651
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[730   4]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08337400108575821
difference in average predicted and observed risk = -0.01821699891424179
number samples = 817
accuracy = 0.904529
precision class 0 = 0.90796
precision class 1 = 0.692308
recall class 0 = 0.99455
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.00545
positive prediction rate = 0.015912
AUC of ROC = 0.863022
AUC of PRC = 0.443602
min(+P, Se) = 0.453488

-------------------------------

Epoch 00051: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch51.state
Epoch 52/100
 - 281s - loss: 0.2456 - val_loss: 0.2377

==>predicting on train



confusion matrix:
[[2144   11]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09244100004434586
difference in average predicted and observed risk = -0.013367999955654145
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.908475
precision class 1 = 0.78
recall class 0 = 0.994896
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.005104
positive prediction rate = 0.020747
AUC of ROC = 0.854252
AUC of PRC = 0.496644
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1166   13]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09041599929332733
difference in average predicted and observed risk = -0.0005630007066726728
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.921739
precision class 1 = 0.59375
recall class 0 = 0.988974
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.011026
positive prediction rate = 0.024672
AUC of ROC = 0.882183
AUC of PRC = 0.437238
min(+P, Se) = 0.408333

-------------------------------

confusion matrix:
[[648   8]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10903599858283997
difference in average predicted and observed risk = 0.007665998582839964
number samples = 730
accuracy = 0.913699
precision class 0 = 0.921764
precision class 1 = 0.703704
recall class 0 = 0.987805
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.012195
positive prediction rate = 0.036986
AUC of ROC = 0.877534
AUC of PRC = 0.501885
min(+P, Se) = 0.481481

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09971799701452255
difference in average predicted and observed risk = -0.025936002985477435
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.930888
AUC of PRC = 0.75664
min(+P, Se) = 0.653846

-------------------------------

confusion matrix:
[[2463   11]
 [ 216   39]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08687300235033035
difference in average predicted and observed risk = -0.0065679976496696435
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.919373
precision class 1 = 0.78
recall class 0 = 0.995554
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.004446
positive prediction rate = 0.018322
AUC of ROC = 0.871474
AUC of PRC = 0.460372
min(+P, Se) = 0.454902

-------------------------------

confusion matrix:
[[1662   21]
 [ 170   46]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10616999864578247
difference in average predicted and observed risk = -0.007574001354217527
number samples = 1899
accuracy = 0.899421
precision class 0 = 0.907205
precision class 1 = 0.686567
recall class 0 = 0.987522
recall class 1 = 0.212963
false negative rate = 0.787037
false positive rate = 0.012478
positive prediction rate = 0.035282
AUC of ROC = 0.864756
AUC of PRC = 0.520858
min(+P, Se) = 0.495495

-------------------------------

confusion matrix:
[[544   5]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10092899948358536
difference in average predicted and observed risk = -0.022074000516414644
number samples = 626
accuracy = 0.891374
precision class 0 = 0.896211
precision class 1 = 0.736842
recall class 0 = 0.990893
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.009107
positive prediction rate = 0.030351
AUC of ROC = 0.877629
AUC of PRC = 0.520948
min(+P, Se) = 0.5125

-------------------------------

confusion matrix:
[[2239   10]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08422400057315826
difference in average predicted and observed risk = -0.000431999426841731
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.925972
precision class 1 = 0.74359
recall class 0 = 0.995554
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.004446
positive prediction rate = 0.015873
AUC of ROC = 0.866896
AUC of PRC = 0.439453
min(+P, Se) = 0.418269

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09035400301218033
difference in average predicted and observed risk = -0.010451996987819678
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.773094
AUC of PRC = 0.273985
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[475   6]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11872199922800064
difference in average predicted and observed risk = -0.02692600077199936
number samples = 563
accuracy = 0.884547
precision class 0 = 0.889513
precision class 1 = 0.793103
recall class 0 = 0.987526
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.012474
positive prediction rate = 0.05151
AUC of ROC = 0.883576
AUC of PRC = 0.634056
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[648   7]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10807500034570694
difference in average predicted and observed risk = 0.00044600034570693725
number samples = 734
accuracy = 0.907357
precision class 0 = 0.913963
precision class 1 = 0.72
recall class 0 = 0.989313
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.010687
positive prediction rate = 0.03406
AUC of ROC = 0.876007
AUC of PRC = 0.513011
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[4125   32]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0947910025715828
difference in average predicted and observed risk = -0.006980997428417207
number samples = 4628
accuracy = 0.90968
precision class 0 = 0.914431
precision class 1 = 0.726496
recall class 0 = 0.992302
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.007698
positive prediction rate = 0.025281
AUC of ROC = 0.868939
AUC of PRC = 0.48817
min(+P, Se) = 0.471698

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09188300371170044
difference in average predicted and observed risk = 0.011714003711700435
number samples = 237
accuracy = 0.919831
precision class 0 = 0.934498
precision class 1 = 0.5
recall class 0 = 0.981651
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018349
positive prediction rate = 0.033755
AUC of ROC = 0.899565
AUC of PRC = 0.369736
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[384   1]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08821199834346771
difference in average predicted and observed risk = -0.02058400165653229
number samples = 432
accuracy = 0.898148
precision class 0 = 0.899297
precision class 1 = 0.8
recall class 0 = 0.997403
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.002597
positive prediction rate = 0.011574
AUC of ROC = 0.857695
AUC of PRC = 0.459491
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13259899616241455
difference in average predicted and observed risk = 0.022429996162414548
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.845421
AUC of PRC = 0.565149
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12405399978160858
difference in average predicted and observed risk = -0.009279000218391426
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10848599672317505
difference in average predicted and observed risk = -0.006558003276824945
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.833248
AUC of PRC = 0.392235
min(+P, Se) = 0.395833

-------------------------------

confusion matrix:
[[431   3]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08886100351810455
difference in average predicted and observed risk = -0.0031889964818954536
number samples = 478
accuracy = 0.920502
precision class 0 = 0.924893
precision class 1 = 0.75
recall class 0 = 0.993088
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.006912
positive prediction rate = 0.025105
AUC of ROC = 0.894533
AUC of PRC = 0.506689
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[385   3]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0811460018157959
difference in average predicted and observed risk = -0.008055998184204105
number samples = 426
accuracy = 0.913146
precision class 0 = 0.918854
precision class 1 = 0.571429
recall class 0 = 0.992268
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.007732
positive prediction rate = 0.016432
AUC of ROC = 0.883139
AUC of PRC = 0.43088
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10686899721622467
difference in average predicted and observed risk = -0.010778002783775331
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.872222
AUC of PRC = 0.618401
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09622500091791153
difference in average predicted and observed risk = 0.007515000917911532
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.879324
AUC of PRC = 0.31289
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13258099555969238
difference in average predicted and observed risk = -0.017025004440307606
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.818226
AUC of PRC = 0.477089
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1319420039653778
difference in average predicted and observed risk = 0.052995003965377804
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0970039963722229
difference in average predicted and observed risk = -0.0045870036277771
number samples = 817
accuracy = 0.908201
precision class 0 = 0.913425
precision class 1 = 0.7
recall class 0 = 0.991826
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.008174
positive prediction rate = 0.02448
AUC of ROC = 0.868192
AUC of PRC = 0.44566
min(+P, Se) = 0.447059

-------------------------------

Epoch 00052: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch52.state
Epoch 53/100
 - 281s - loss: 0.2456 - val_loss: 0.2406

==>predicting on train



confusion matrix:
[[2147    8]
 [ 222   33]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07778500020503998
difference in average predicted and observed risk = -0.028023999794960022
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.90629
precision class 1 = 0.804878
recall class 0 = 0.996288
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.003712
positive prediction rate = 0.017012
AUC of ROC = 0.851841
AUC of PRC = 0.485208
min(+P, Se) = 0.467181

-------------------------------

confusion matrix:
[[1169   10]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07617700099945068
difference in average predicted and observed risk = -0.01480199900054932
number samples = 1297
accuracy = 0.913647
precision class 0 = 0.919748
precision class 1 = 0.615385
recall class 0 = 0.991518
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.008482
positive prediction rate = 0.020046
AUC of ROC = 0.882679
AUC of PRC = 0.43527
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[651   5]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09360700100660324
difference in average predicted and observed risk = -0.007762998993396761
number samples = 730
accuracy = 0.909589
precision class 0 = 0.914326
precision class 1 = 0.722222
recall class 0 = 0.992378
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.007622
positive prediction rate = 0.024658
AUC of ROC = 0.874032
AUC of PRC = 0.497008
min(+P, Se) = 0.493506

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08506599813699722
difference in average predicted and observed risk = -0.040588001863002765
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.924401
AUC of PRC = 0.757581
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2465    9]
 [ 226   29]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07321800291538239
difference in average predicted and observed risk = -0.02022299708461761
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.916016
precision class 1 = 0.763158
recall class 0 = 0.996362
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.003638
positive prediction rate = 0.013925
AUC of ROC = 0.868211
AUC of PRC = 0.452265
min(+P, Se) = 0.458824

-------------------------------

confusion matrix:
[[1669   14]
 [ 179   37]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09006500244140625
difference in average predicted and observed risk = -0.023678997558593748
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.903139
precision class 1 = 0.72549
recall class 0 = 0.991682
recall class 1 = 0.171296
false negative rate = 0.828704
false positive rate = 0.008318
positive prediction rate = 0.026856
AUC of ROC = 0.863658
AUC of PRC = 0.509948
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[546   3]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08688800036907196
difference in average predicted and observed risk = -0.03611499963092804
number samples = 626
accuracy = 0.889776
precision class 0 = 0.892157
precision class 1 = 0.785714
recall class 0 = 0.994536
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.005464
positive prediction rate = 0.022364
AUC of ROC = 0.877463
AUC of PRC = 0.514583
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2242    7]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06969399750232697
difference in average predicted and observed risk = -0.01496200249767303
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.923774
precision class 1 = 0.766667
recall class 0 = 0.996888
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.003112
positive prediction rate = 0.01221
AUC of ROC = 0.86333
AUC of PRC = 0.426383
min(+P, Se) = 0.413462

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07488100230693817
difference in average predicted and observed risk = -0.025924997693061835
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.775964
AUC of PRC = 0.279644
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[478   3]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10214599967002869
difference in average predicted and observed risk = -0.04350200032997131
number samples = 563
accuracy = 0.879218
precision class 0 = 0.880295
precision class 1 = 0.85
recall class 0 = 0.993763
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.006237
positive prediction rate = 0.035524
AUC of ROC = 0.879519
AUC of PRC = 0.625375
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[649   6]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09418900310993195
difference in average predicted and observed risk = -0.013439996890068057
number samples = 734
accuracy = 0.90327
precision class 0 = 0.908964
precision class 1 = 0.7
recall class 0 = 0.99084
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.00916
positive prediction rate = 0.027248
AUC of ROC = 0.875659
AUC of PRC = 0.508122
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[4134   23]
 [ 405   66]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08013100177049637
difference in average predicted and observed risk = -0.021640998229503633
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.910773
precision class 1 = 0.741573
recall class 0 = 0.994467
recall class 1 = 0.140127
false negative rate = 0.859873
false positive rate = 0.005533
positive prediction rate = 0.019231
AUC of ROC = 0.866638
AUC of PRC = 0.480462
min(+P, Se) = 0.475687

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07756199687719345
difference in average predicted and observed risk = -0.0026070031228065532
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.903911
AUC of PRC = 0.375898
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07270000129938126
difference in average predicted and observed risk = -0.03609599870061875
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.849295
AUC of PRC = 0.478582
min(+P, Se) = 0.44898

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11743299663066864
difference in average predicted and observed risk = 0.007263996630668637
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.844689
AUC of PRC = 0.526944
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10733000189065933
difference in average predicted and observed risk = -0.026002998109340675
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09259500354528427
difference in average predicted and observed risk = -0.022448996454715722
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.816667
AUC of PRC = 0.399317
min(+P, Se) = 0.387755

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07421799749135971
difference in average predicted and observed risk = -0.017832002508640296
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.899036
AUC of PRC = 0.518766
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06731200218200684
difference in average predicted and observed risk = -0.021889997817993168
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.881782
AUC of PRC = 0.404452
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09167700260877609
difference in average predicted and observed risk = -0.02596999739122391
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.846296
AUC of PRC = 0.621999
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08200400322675705
difference in average predicted and observed risk = -0.006705996773242948
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.850362
AUC of PRC = 0.287939
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1160610020160675
difference in average predicted and observed risk = -0.033544997983932484
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.822612
AUC of PRC = 0.471512
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10346200317144394
difference in average predicted and observed risk = 0.024515003171443936
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08184300363063812
difference in average predicted and observed risk = -0.019747996369361878
number samples = 817
accuracy = 0.906977
precision class 0 = 0.910224
precision class 1 = 0.733333
recall class 0 = 0.99455
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.00545
positive prediction rate = 0.01836
AUC of ROC = 0.863974
AUC of PRC = 0.453662
min(+P, Se) = 0.46988

-------------------------------

Epoch 00053: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch53.state
Epoch 54/100
 - 281s - loss: 0.2430 - val_loss: 0.2352

==>predicting on train



confusion matrix:
[[2147    8]
 [ 225   30]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07017599791288376
difference in average predicted and observed risk = -0.03563300208711624
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.905143
precision class 1 = 0.789474
recall class 0 = 0.996288
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.003712
positive prediction rate = 0.015768
AUC of ROC = 0.8606
AUC of PRC = 0.493737
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1170    9]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07021000236272812
difference in average predicted and observed risk = -0.020768997637271885
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.919811
precision class 1 = 0.64
recall class 0 = 0.992366
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.007634
positive prediction rate = 0.019275
AUC of ROC = 0.886582
AUC of PRC = 0.442883
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[652   4]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0827530026435852
difference in average predicted and observed risk = -0.018616997356414797
number samples = 730
accuracy = 0.909589
precision class 0 = 0.913165
precision class 1 = 0.75
recall class 0 = 0.993902
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.006098
positive prediction rate = 0.021918
AUC of ROC = 0.885135
AUC of PRC = 0.504688
min(+P, Se) = 0.486486

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07856599986553192
difference in average predicted and observed risk = -0.04708800013446807
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.93014
AUC of PRC = 0.762575
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2464   10]
 [ 226   29]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06654799729585648
difference in average predicted and observed risk = -0.02689300270414352
number samples = 2729
accuracy = 0.913521
precision class 0 = 0.915985
precision class 1 = 0.74359
recall class 0 = 0.995958
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.004042
positive prediction rate = 0.014291
AUC of ROC = 0.87749
AUC of PRC = 0.461625
min(+P, Se) = 0.469231

-------------------------------

confusion matrix:
[[1672   11]
 [ 181   35]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0810910016298294
difference in average predicted and observed risk = -0.03265299837017059
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.902321
precision class 1 = 0.76087
recall class 0 = 0.993464
recall class 1 = 0.162037
false negative rate = 0.837963
false positive rate = 0.006536
positive prediction rate = 0.024223
AUC of ROC = 0.870513
AUC of PRC = 0.519321
min(+P, Se) = 0.516129

-------------------------------

confusion matrix:
[[546   3]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07895299792289734
difference in average predicted and observed risk = -0.04405000207710266
number samples = 626
accuracy = 0.886581
precision class 0 = 0.889251
precision class 1 = 0.75
recall class 0 = 0.994536
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.005464
positive prediction rate = 0.019169
AUC of ROC = 0.882123
AUC of PRC = 0.520577
min(+P, Se) = 0.551282

-------------------------------

confusion matrix:
[[2243    6]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06273899972438812
difference in average predicted and observed risk = -0.021917000275611873
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.923425
precision class 1 = 0.785714
recall class 0 = 0.997332
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.002668
positive prediction rate = 0.011396
AUC of ROC = 0.874074
AUC of PRC = 0.43815
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07082100212574005
difference in average predicted and observed risk = -0.029984997874259955
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.786188
AUC of PRC = 0.278895
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[477   4]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09391400218009949
difference in average predicted and observed risk = -0.05173399781990051
number samples = 563
accuracy = 0.877442
precision class 0 = 0.880074
precision class 1 = 0.809524
recall class 0 = 0.991684
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.008316
positive prediction rate = 0.0373
AUC of ROC = 0.886745
AUC of PRC = 0.630784
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08391299843788147
difference in average predicted and observed risk = -0.023716001562118533
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.879563
AUC of PRC = 0.511104
min(+P, Se) = 0.475

-------------------------------

confusion matrix:
[[4136   21]
 [ 407   64]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07251600176095963
difference in average predicted and observed risk = -0.029255998239040376
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.910412
precision class 1 = 0.752941
recall class 0 = 0.994948
recall class 1 = 0.135881
false negative rate = 0.864119
false positive rate = 0.005052
positive prediction rate = 0.018366
AUC of ROC = 0.874777
AUC of PRC = 0.487663
min(+P, Se) = 0.489451

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07160799950361252
difference in average predicted and observed risk = -0.008561000496387486
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.904394
AUC of PRC = 0.405447
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06366900354623795
difference in average predicted and observed risk = -0.04512699645376206
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.86394
AUC of PRC = 0.515227
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1090639978647232
difference in average predicted and observed risk = -0.0011050021352767975
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.859341
AUC of PRC = 0.474156
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09987299889326096
difference in average predicted and observed risk = -0.03346000110673905
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08315999805927277
difference in average predicted and observed risk = -0.03188400194072723
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.833162
AUC of PRC = 0.401558
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06726100295782089
difference in average predicted and observed risk = -0.024788997042179114
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.906158
AUC of PRC = 0.578845
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.059978000819683075
difference in average predicted and observed risk = -0.02922399918031693
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.894533
AUC of PRC = 0.469914
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0838870033621788
difference in average predicted and observed risk = -0.0337599966378212
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.84537
AUC of PRC = 0.648167
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07220599800348282
difference in average predicted and observed risk = -0.01650400199651718
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.891392
AUC of PRC = 0.334014
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10603100061416626
difference in average predicted and observed risk = -0.04357499938583373
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.829922
AUC of PRC = 0.480292
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10039599984884262
difference in average predicted and observed risk = 0.021448999848842618
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07385800033807755
difference in average predicted and observed risk = -0.027732999661922456
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.875562
AUC of PRC = 0.477174
min(+P, Se) = 0.494505

-------------------------------

Epoch 00054: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch54.state
Epoch 55/100
 - 280s - loss: 0.2450 - val_loss: 0.2373

==>predicting on train



confusion matrix:
[[2150    5]
 [ 231   24]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08993600308895111
difference in average predicted and observed risk = -0.01587299691104889
number samples = 2410
accuracy = 0.902075
precision class 0 = 0.902982
precision class 1 = 0.827586
recall class 0 = 0.99768
recall class 1 = 0.094118
false negative rate = 0.905882
false positive rate = 0.00232
positive prediction rate = 0.012033
AUC of ROC = 0.864074
AUC of PRC = 0.507165
min(+P, Se) = 0.488372

-------------------------------

confusion matrix:
[[1173    6]
 [ 105   13]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08716700226068497
difference in average predicted and observed risk = -0.0038119977393150373
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.91784
precision class 1 = 0.684211
recall class 0 = 0.994911
recall class 1 = 0.110169
false negative rate = 0.889831
false positive rate = 0.005089
positive prediction rate = 0.014649
AUC of ROC = 0.887013
AUC of PRC = 0.4531
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[653   3]
 [ 66   8]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.101671002805233
difference in average predicted and observed risk = 0.00030100280523299994
number samples = 730
accuracy = 0.905479
precision class 0 = 0.908206
precision class 1 = 0.727273
recall class 0 = 0.995427
recall class 1 = 0.108108
false negative rate = 0.891892
false positive rate = 0.004573
positive prediction rate = 0.015068
AUC of ROC = 0.889132
AUC of PRC = 0.52996
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09321799874305725
difference in average predicted and observed risk = -0.03243600125694274
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.925399
AUC of PRC = 0.779938
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2471    3]
 [ 238   17]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08427999913692474
difference in average predicted and observed risk = -0.009161000863075253
number samples = 2729
accuracy = 0.911689
precision class 0 = 0.912145
precision class 1 = 0.85
recall class 0 = 0.998787
recall class 1 = 0.066667
false negative rate = 0.933333
false positive rate = 0.001213
positive prediction rate = 0.007329
AUC of ROC = 0.878433
AUC of PRC = 0.483814
min(+P, Se) = 0.48249

-------------------------------

confusion matrix:
[[1672   11]
 [ 184   32]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10101299732923508
difference in average predicted and observed risk = -0.012731002670764921
number samples = 1899
accuracy = 0.897314
precision class 0 = 0.900862
precision class 1 = 0.744186
recall class 0 = 0.993464
recall class 1 = 0.148148
false negative rate = 0.851852
false positive rate = 0.006536
positive prediction rate = 0.022643
AUC of ROC = 0.874191
AUC of PRC = 0.531669
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[547   2]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09682799875736237
difference in average predicted and observed risk = -0.026175001242637636
number samples = 626
accuracy = 0.888179
precision class 0 = 0.889431
precision class 1 = 0.818182
recall class 0 = 0.996357
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.003643
positive prediction rate = 0.017572
AUC of ROC = 0.884844
AUC of PRC = 0.534655
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2246    3]
 [ 191   17]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08207099884748459
difference in average predicted and observed risk = -0.0025850011525154065
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.921625
precision class 1 = 0.85
recall class 0 = 0.998666
recall class 1 = 0.081731
false negative rate = 0.918269
false positive rate = 0.001334
positive prediction rate = 0.00814
AUC of ROC = 0.872852
AUC of PRC = 0.457274
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[220   3]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09176799654960632
difference in average predicted and observed risk = -0.009038003450393683
number samples = 248
accuracy = 0.891129
precision class 0 = 0.901639
precision class 1 = 0.25
recall class 0 = 0.986547
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.013453
positive prediction rate = 0.016129
AUC of ROC = 0.793363
AUC of PRC = 0.28357
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[479   2]
 [ 69  13]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11071299761533737
difference in average predicted and observed risk = -0.03493500238466263
number samples = 563
accuracy = 0.87389
precision class 0 = 0.874088
precision class 1 = 0.866667
recall class 0 = 0.995842
recall class 1 = 0.158537
false negative rate = 0.841463
false positive rate = 0.004158
positive prediction rate = 0.026643
AUC of ROC = 0.892729
AUC of PRC = 0.640659
min(+P, Se) = 0.574713

-------------------------------

confusion matrix:
[[651   4]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1014619991183281
difference in average predicted and observed risk = -0.006167000881671908
number samples = 734
accuracy = 0.899183
precision class 0 = 0.902913
precision class 1 = 0.692308
recall class 0 = 0.993893
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.006107
positive prediction rate = 0.017711
AUC of ROC = 0.880085
AUC of PRC = 0.531239
min(+P, Se) = 0.511364

-------------------------------

confusion matrix:
[[4143   14]
 [ 422   49]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09114599972963333
difference in average predicted and observed risk = -0.01062600027036667
number samples = 4628
accuracy = 0.905791
precision class 0 = 0.907557
precision class 1 = 0.777778
recall class 0 = 0.996632
recall class 1 = 0.104034
false negative rate = 0.895966
false positive rate = 0.003368
positive prediction rate = 0.013613
AUC of ROC = 0.876806
AUC of PRC = 0.504245
min(+P, Se) = 0.487288

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08599500358104706
difference in average predicted and observed risk = 0.005826003581047054
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.908015
AUC of PRC = 0.407087
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08512400090694427
difference in average predicted and observed risk = -0.02367199909305573
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.855264
AUC of PRC = 0.498172
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12282399833202362
difference in average predicted and observed risk = 0.012654998332023618
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.858608
AUC of PRC = 0.565254
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11894900351762772
difference in average predicted and observed risk = -0.014383996482372291
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10176900029182434
difference in average predicted and observed risk = -0.013274999708175653
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.824188
AUC of PRC = 0.395933
min(+P, Se) = 0.44186

-------------------------------

confusion matrix:
[[433   1]
 [ 40   4]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08518099784851074
difference in average predicted and observed risk = -0.006869002151489265
number samples = 478
accuracy = 0.914226
precision class 0 = 0.915433
precision class 1 = 0.8
recall class 0 = 0.997696
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.002304
positive prediction rate = 0.01046
AUC of ROC = 0.909248
AUC of PRC = 0.571845
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0789870023727417
difference in average predicted and observed risk = -0.010214997627258304
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.884021
AUC of PRC = 0.468517
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10053099691867828
difference in average predicted and observed risk = -0.017116003081321718
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.862963
AUC of PRC = 0.677777
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08990900218486786
difference in average predicted and observed risk = 0.0011990021848678617
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.884956
AUC of PRC = 0.332758
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12161699682474136
difference in average predicted and observed risk = -0.027989003175258625
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.829922
AUC of PRC = 0.49172
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12418899685144424
difference in average predicted and observed risk = 0.04524199685144424
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.591667
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 75   8]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09206400066614151
difference in average predicted and observed risk = -0.00952699933385849
number samples = 817
accuracy = 0.904529
precision class 0 = 0.906948
precision class 1 = 0.727273
recall class 0 = 0.995913
recall class 1 = 0.096386
false negative rate = 0.903614
false positive rate = 0.004087
positive prediction rate = 0.013464
AUC of ROC = 0.870983
AUC of PRC = 0.473191
min(+P, Se) = 0.494253

-------------------------------

Epoch 00055: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch55.state
Epoch 56/100
 - 282s - loss: 0.2435 - val_loss: 0.2387

==>predicting on train



confusion matrix:
[[2150    5]
 [ 229   26]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0765950009226799
difference in average predicted and observed risk = -0.0292139990773201
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.903741
precision class 1 = 0.83871
recall class 0 = 0.99768
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.00232
positive prediction rate = 0.012863
AUC of ROC = 0.866849
AUC of PRC = 0.511982
min(+P, Se) = 0.480469

-------------------------------

confusion matrix:
[[1170    9]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07491099834442139
difference in average predicted and observed risk = -0.016068001655578618
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.919811
precision class 1 = 0.64
recall class 0 = 0.992366
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.007634
positive prediction rate = 0.019275
AUC of ROC = 0.884174
AUC of PRC = 0.454056
min(+P, Se) = 0.420635

-------------------------------

confusion matrix:
[[654   2]
 [ 62  12]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08797299861907959
difference in average predicted and observed risk = -0.013397001380920412
number samples = 730
accuracy = 0.912329
precision class 0 = 0.913408
precision class 1 = 0.857143
recall class 0 = 0.996951
recall class 1 = 0.162162
false negative rate = 0.837838
false positive rate = 0.003049
positive prediction rate = 0.019178
AUC of ROC = 0.895476
AUC of PRC = 0.558904
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08234400302171707
difference in average predicted and observed risk = -0.043309996978282916
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.923653
AUC of PRC = 0.785975
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[2467    7]
 [ 228   27]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06879500299692154
difference in average predicted and observed risk = -0.024645997003078457
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.915399
precision class 1 = 0.794118
recall class 0 = 0.997171
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.002829
positive prediction rate = 0.012459
AUC of ROC = 0.878121
AUC of PRC = 0.487035
min(+P, Se) = 0.47451

-------------------------------

confusion matrix:
[[1674    9]
 [ 184   32]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09160599857568741
difference in average predicted and observed risk = -0.02213800142431259
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.900969
precision class 1 = 0.780488
recall class 0 = 0.994652
recall class 1 = 0.148148
false negative rate = 0.851852
false positive rate = 0.005348
positive prediction rate = 0.02159
AUC of ROC = 0.87848
AUC of PRC = 0.539093
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[548   1]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08386100083589554
difference in average predicted and observed risk = -0.03914199916410446
number samples = 626
accuracy = 0.891374
precision class 0 = 0.891057
precision class 1 = 0.909091
recall class 0 = 0.998178
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.001821
positive prediction rate = 0.017572
AUC of ROC = 0.895702
AUC of PRC = 0.557305
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2245    4]
 [ 187   21]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06951700150966644
difference in average predicted and observed risk = -0.015138998490333552
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.923109
precision class 1 = 0.84
recall class 0 = 0.998221
recall class 1 = 0.100962
false negative rate = 0.899038
false positive rate = 0.001779
positive prediction rate = 0.010175
AUC of ROC = 0.873313
AUC of PRC = 0.457489
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[221   2]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07742000371217728
difference in average predicted and observed risk = -0.02338599628782273
number samples = 248
accuracy = 0.895161
precision class 0 = 0.902041
precision class 1 = 0.333333
recall class 0 = 0.991031
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.008969
positive prediction rate = 0.012097
AUC of ROC = 0.789238
AUC of PRC = 0.290622
min(+P, Se) = 0.44

-------------------------------

confusion matrix:
[[477   4]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09635700285434723
difference in average predicted and observed risk = -0.04929099714565277
number samples = 563
accuracy = 0.87389
precision class 0 = 0.876838
precision class 1 = 0.789474
recall class 0 = 0.991684
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.008316
positive prediction rate = 0.033748
AUC of ROC = 0.886086
AUC of PRC = 0.626264
min(+P, Se) = 0.578313

-------------------------------

confusion matrix:
[[650   5]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08848900347948074
difference in average predicted and observed risk = -0.01913999652051926
number samples = 734
accuracy = 0.901907
precision class 0 = 0.906555
precision class 1 = 0.705882
recall class 0 = 0.992366
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.007634
positive prediction rate = 0.023161
AUC of ROC = 0.887757
AUC of PRC = 0.55489
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[4141   16]
 [ 412   59]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07815500348806381
difference in average predicted and observed risk = -0.02361699651193619
number samples = 4628
accuracy = 0.907519
precision class 0 = 0.90951
precision class 1 = 0.786667
recall class 0 = 0.996151
recall class 1 = 0.125265
false negative rate = 0.874735
false positive rate = 0.003849
positive prediction rate = 0.016206
AUC of ROC = 0.878179
AUC of PRC = 0.51072
min(+P, Se) = 0.488323

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 17   2]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07404900342226028
difference in average predicted and observed risk = -0.00611999657773972
number samples = 237
accuracy = 0.919831
precision class 0 = 0.927039
precision class 1 = 0.5
recall class 0 = 0.990826
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.009174
positive prediction rate = 0.016878
AUC of ROC = 0.906808
AUC of PRC = 0.403505
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07131899893283844
difference in average predicted and observed risk = -0.037477001067161564
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.861232
AUC of PRC = 0.507176
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10971199721097946
difference in average predicted and observed risk = -0.00045700278902054137
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.838828
AUC of PRC = 0.560706
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10594400018453598
difference in average predicted and observed risk = -0.027388999815464027
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09153500199317932
difference in average predicted and observed risk = -0.023508998006820672
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.821538
AUC of PRC = 0.410662
min(+P, Se) = 0.390244

-------------------------------

confusion matrix:
[[433   1]
 [ 39   5]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0699860006570816
difference in average predicted and observed risk = -0.022063999342918403
number samples = 478
accuracy = 0.916318
precision class 0 = 0.917373
precision class 1 = 0.833333
recall class 0 = 0.997696
recall class 1 = 0.113636
false negative rate = 0.886364
false positive rate = 0.002304
positive prediction rate = 0.012552
AUC of ROC = 0.902283
AUC of PRC = 0.57022
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06595999747514725
difference in average predicted and observed risk = -0.023242002524852756
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.886123
AUC of PRC = 0.470452
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08591700345277786
difference in average predicted and observed risk = -0.03172999654722214
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.851852
AUC of PRC = 0.644541
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07964500039815903
difference in average predicted and observed risk = -0.00906499960184097
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.890587
AUC of PRC = 0.351251
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10954199731349945
difference in average predicted and observed risk = -0.04006400268650054
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.826511
AUC of PRC = 0.505811
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10088600218296051
difference in average predicted and observed risk = 0.021939002182960507
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 74   9]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07892700284719467
difference in average predicted and observed risk = -0.02266399715280533
number samples = 817
accuracy = 0.905753
precision class 0 = 0.908075
precision class 1 = 0.75
recall class 0 = 0.995913
recall class 1 = 0.108434
false negative rate = 0.891566
false positive rate = 0.004087
positive prediction rate = 0.014688
AUC of ROC = 0.870293
AUC of PRC = 0.485136
min(+P, Se) = 0.481928

-------------------------------

Epoch 00056: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch56.state
Epoch 57/100
 - 281s - loss: 0.2458 - val_loss: 0.2355

==>predicting on train



confusion matrix:
[[2149    6]
 [ 228   27]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07558099925518036
difference in average predicted and observed risk = -0.03022800074481964
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.904081
precision class 1 = 0.818182
recall class 0 = 0.997216
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.002784
positive prediction rate = 0.013693
AUC of ROC = 0.86215
AUC of PRC = 0.494685
min(+P, Se) = 0.496183

-------------------------------

confusion matrix:
[[1170    9]
 [ 102   16]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0736050009727478
difference in average predicted and observed risk = -0.0173739990272522
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.919811
precision class 1 = 0.64
recall class 0 = 0.992366
recall class 1 = 0.135593
false negative rate = 0.864407
false positive rate = 0.007634
positive prediction rate = 0.019275
AUC of ROC = 0.883548
AUC of PRC = 0.449803
min(+P, Se) = 0.420168

-------------------------------

confusion matrix:
[[652   4]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08783099800348282
difference in average predicted and observed risk = -0.013539001996517183
number samples = 730
accuracy = 0.908219
precision class 0 = 0.911888
precision class 1 = 0.733333
recall class 0 = 0.993902
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.006098
positive prediction rate = 0.020548
AUC of ROC = 0.884332
AUC of PRC = 0.529565
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08070199936628342
difference in average predicted and observed risk = -0.04495200063371657
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.924651
AUC of PRC = 0.762172
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2466    8]
 [ 230   25]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06767900288105011
difference in average predicted and observed risk = -0.025761997118949886
number samples = 2729
accuracy = 0.912789
precision class 0 = 0.914688
precision class 1 = 0.757576
recall class 0 = 0.996766
recall class 1 = 0.098039
false negative rate = 0.901961
false positive rate = 0.003234
positive prediction rate = 0.012092
AUC of ROC = 0.876298
AUC of PRC = 0.474816
min(+P, Se) = 0.480469

-------------------------------

confusion matrix:
[[1672   11]
 [ 182   34]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09081099927425385
difference in average predicted and observed risk = -0.022933000725746153
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.901834
precision class 1 = 0.755556
recall class 0 = 0.993464
recall class 1 = 0.157407
false negative rate = 0.842593
false positive rate = 0.006536
positive prediction rate = 0.023697
AUC of ROC = 0.870918
AUC of PRC = 0.52463
min(+P, Se) = 0.490741

-------------------------------

confusion matrix:
[[547   2]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08317799866199493
difference in average predicted and observed risk = -0.03982500133800507
number samples = 626
accuracy = 0.888179
precision class 0 = 0.889431
precision class 1 = 0.818182
recall class 0 = 0.996357
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.003643
positive prediction rate = 0.017572
AUC of ROC = 0.884347
AUC of PRC = 0.543532
min(+P, Se) = 0.52439

-------------------------------

confusion matrix:
[[2244    5]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06811100244522095
difference in average predicted and observed risk = -0.016544997554779048
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.923457
precision class 1 = 0.814815
recall class 0 = 0.997777
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.002223
positive prediction rate = 0.010989
AUC of ROC = 0.871353
AUC of PRC = 0.451822
min(+P, Se) = 0.433333

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07376199960708618
difference in average predicted and observed risk = -0.027044000392913825
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.780448
AUC of PRC = 0.288466
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[478   3]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09639099985361099
difference in average predicted and observed risk = -0.04925700014638901
number samples = 563
accuracy = 0.875666
precision class 0 = 0.877064
precision class 1 = 0.833333
recall class 0 = 0.993763
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.006237
positive prediction rate = 0.031972
AUC of ROC = 0.885858
AUC of PRC = 0.606631
min(+P, Se) = 0.556818

-------------------------------

confusion matrix:
[[650   5]
 [ 67  12]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08878400176763535
difference in average predicted and observed risk = -0.018844998232364657
number samples = 734
accuracy = 0.901907
precision class 0 = 0.906555
precision class 1 = 0.705882
recall class 0 = 0.992366
recall class 1 = 0.151899
false negative rate = 0.848101
false positive rate = 0.007634
positive prediction rate = 0.023161
AUC of ROC = 0.883796
AUC of PRC = 0.536776
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[4138   19]
 [ 412   59]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07717099785804749
difference in average predicted and observed risk = -0.024601002141952516
number samples = 4628
accuracy = 0.906871
precision class 0 = 0.909451
precision class 1 = 0.75641
recall class 0 = 0.995429
recall class 1 = 0.125265
false negative rate = 0.874735
false positive rate = 0.004571
positive prediction rate = 0.016854
AUC of ROC = 0.87405
AUC of PRC = 0.496534
min(+P, Se) = 0.481405

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07513800263404846
difference in average predicted and observed risk = -0.005030997365951542
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.912844
AUC of PRC = 0.411115
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0714849978685379
difference in average predicted and observed risk = -0.0373110021314621
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.860624
AUC of PRC = 0.494385
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11079899966716766
difference in average predicted and observed risk = 0.0006299996671676605
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.854212
AUC of PRC = 0.575101
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10810299962759018
difference in average predicted and observed risk = -0.025230000372409828
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09301300346851349
difference in average predicted and observed risk = -0.022030996531486505
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.830684
AUC of PRC = 0.41369
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07003200054168701
difference in average predicted and observed risk = -0.022017999458312995
number samples = 478
accuracy = 0.920502
precision class 0 = 0.921277
precision class 1 = 0.875
recall class 0 = 0.997696
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.002304
positive prediction rate = 0.016736
AUC of ROC = 0.905373
AUC of PRC = 0.554348
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0652879998087883
difference in average predicted and observed risk = -0.023914000191211704
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.886734
AUC of PRC = 0.455267
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08713600039482117
difference in average predicted and observed risk = -0.030510999605178835
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.867593
AUC of PRC = 0.66858
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0791729986667633
difference in average predicted and observed risk = -0.009537001333236692
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.888174
AUC of PRC = 0.353948
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11206299811601639
difference in average predicted and observed risk = -0.0375430018839836
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.830409
AUC of PRC = 0.494262
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11200600117444992
difference in average predicted and observed risk = 0.03305900117444992
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[731   3]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07956700026988983
difference in average predicted and observed risk = -0.02202399973011017
number samples = 817
accuracy = 0.908201
precision class 0 = 0.910336
precision class 1 = 0.785714
recall class 0 = 0.995913
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.004087
positive prediction rate = 0.017136
AUC of ROC = 0.873822
AUC of PRC = 0.476011
min(+P, Se) = 0.506024

-------------------------------

Epoch 00057: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch57.state
Epoch 58/100
 - 282s - loss: 0.2433 - val_loss: 0.2381

==>predicting on train



confusion matrix:
[[2149    6]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06445399671792984
difference in average predicted and observed risk = -0.04135500328207016
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.905986
precision class 1 = 0.842105
recall class 0 = 0.997216
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.002784
positive prediction rate = 0.015768
AUC of ROC = 0.867811
AUC of PRC = 0.51243
min(+P, Se) = 0.488462

-------------------------------

confusion matrix:
[[1169   10]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06442400068044662
difference in average predicted and observed risk = -0.02655499931955338
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.921198
precision class 1 = 0.642857
recall class 0 = 0.991518
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.008482
positive prediction rate = 0.021588
AUC of ROC = 0.882837
AUC of PRC = 0.447401
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[651   5]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07525800168514252
difference in average predicted and observed risk = -0.026111998314857485
number samples = 730
accuracy = 0.909589
precision class 0 = 0.914326
precision class 1 = 0.722222
recall class 0 = 0.992378
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.007622
positive prediction rate = 0.024658
AUC of ROC = 0.900152
AUC of PRC = 0.564329
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07083199918270111
difference in average predicted and observed risk = -0.05482200081729888
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.938872
AUC of PRC = 0.786026
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2465    9]
 [ 226   29]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.05929400026798248
difference in average predicted and observed risk = -0.03414699973201751
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.916016
precision class 1 = 0.763158
recall class 0 = 0.996362
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.003638
positive prediction rate = 0.013925
AUC of ROC = 0.882537
AUC of PRC = 0.487778
min(+P, Se) = 0.482625

-------------------------------

confusion matrix:
[[1671   12]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07664500176906586
difference in average predicted and observed risk = -0.03709899823093414
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.904221
precision class 1 = 0.764706
recall class 0 = 0.99287
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.00713
positive prediction rate = 0.026856
AUC of ROC = 0.875077
AUC of PRC = 0.535939
min(+P, Se) = 0.522936

-------------------------------

confusion matrix:
[[546   3]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07346600294113159
difference in average predicted and observed risk = -0.04953699705886841
number samples = 626
accuracy = 0.892971
precision class 0 = 0.895082
precision class 1 = 0.8125
recall class 0 = 0.994536
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.005464
positive prediction rate = 0.025559
AUC of ROC = 0.894661
AUC of PRC = 0.559641
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2244    5]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05715499818325043
difference in average predicted and observed risk = -0.027501001816749568
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.923837
precision class 1 = 0.821429
recall class 0 = 0.997777
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.002223
positive prediction rate = 0.011396
AUC of ROC = 0.876248
AUC of PRC = 0.456787
min(+P, Se) = 0.447115

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06337200105190277
difference in average predicted and observed risk = -0.037433998948097236
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.785471
AUC of PRC = 0.299087
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[477   4]
 [ 66  16]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08568199723958969
difference in average predicted and observed risk = -0.05996600276041031
number samples = 563
accuracy = 0.875666
precision class 0 = 0.878453
precision class 1 = 0.8
recall class 0 = 0.991684
recall class 1 = 0.195122
false negative rate = 0.804878
false positive rate = 0.008316
positive prediction rate = 0.035524
AUC of ROC = 0.891233
AUC of PRC = 0.638458
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07763499766588211
difference in average predicted and observed risk = -0.029994002334117892
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.887062
AUC of PRC = 0.556589
min(+P, Se) = 0.531646

-------------------------------

confusion matrix:
[[4136   21]
 [ 403   68]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06641300022602081
difference in average predicted and observed risk = -0.03535899977397919
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.911214
precision class 1 = 0.764045
recall class 0 = 0.994948
recall class 1 = 0.144374
false negative rate = 0.855626
false positive rate = 0.005052
positive prediction rate = 0.019231
AUC of ROC = 0.879542
AUC of PRC = 0.510305
min(+P, Se) = 0.495763

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06431300193071365
difference in average predicted and observed risk = -0.01585599806928635
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.906808
AUC of PRC = 0.413531
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.059432998299598694
difference in average predicted and observed risk = -0.04936300170040131
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.864659
AUC of PRC = 0.503552
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10066399723291397
difference in average predicted and observed risk = -0.009505002767086032
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.854945
AUC of PRC = 0.581626
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09520100057125092
difference in average predicted and observed risk = -0.03813199942874909
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07682500034570694
difference in average predicted and observed risk = -0.038218999654293054
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.837436
AUC of PRC = 0.444547
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0619410015642643
difference in average predicted and observed risk = -0.03010899843573571
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.903592
AUC of PRC = 0.558127
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.054733000695705414
difference in average predicted and observed risk = -0.03446899930429459
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.885377
AUC of PRC = 0.457236
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07576999813318253
difference in average predicted and observed risk = -0.041877001866817476
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.853704
AUC of PRC = 0.656571
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06593900173902512
difference in average predicted and observed risk = -0.02277099826097488
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.913918
AUC of PRC = 0.393166
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10204000025987625
difference in average predicted and observed risk = -0.04756599974012374
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.844055
AUC of PRC = 0.520658
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 3  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.0913420021533966
difference in average predicted and observed risk = 0.012395002153396603
number samples = 38
accuracy = 0.921053
precision class 0 = 0.921053
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06811700016260147
difference in average predicted and observed risk = -0.03347399983739853
number samples = 817
accuracy = 0.906977
precision class 0 = 0.909204
precision class 1 = 0.769231
recall class 0 = 0.995913
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.004087
positive prediction rate = 0.015912
AUC of ROC = 0.875776
AUC of PRC = 0.495305
min(+P, Se) = 0.506024

-------------------------------

Epoch 00058: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch58.state
Epoch 59/100
 - 284s - loss: 0.2459 - val_loss: 0.2401

==>predicting on train



confusion matrix:
[[2149    6]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08888299763202667
difference in average predicted and observed risk = -0.016926002367973328
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.905605
precision class 1 = 0.837838
recall class 0 = 0.997216
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.002784
positive prediction rate = 0.015353
AUC of ROC = 0.861448
AUC of PRC = 0.500423
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[1171    8]
 [ 101   17]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08626700192689896
difference in average predicted and observed risk = -0.004711998073101048
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.920597
precision class 1 = 0.68
recall class 0 = 0.993215
recall class 1 = 0.144068
false negative rate = 0.855932
false positive rate = 0.006785
positive prediction rate = 0.019275
AUC of ROC = 0.885482
AUC of PRC = 0.45637
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10000500082969666
difference in average predicted and observed risk = -0.0013649991703033465
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.892942
AUC of PRC = 0.531201
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09575600177049637
difference in average predicted and observed risk = -0.02989799822950362
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.931886
AUC of PRC = 0.763562
min(+P, Se) = 0.653846

-------------------------------

confusion matrix:
[[2466    8]
 [ 230   25]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08381599932909012
difference in average predicted and observed risk = -0.009625000670909878
number samples = 2729
accuracy = 0.912789
precision class 0 = 0.914688
precision class 1 = 0.757576
recall class 0 = 0.996766
recall class 1 = 0.098039
false negative rate = 0.901961
false positive rate = 0.003234
positive prediction rate = 0.012092
AUC of ROC = 0.880492
AUC of PRC = 0.479532
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[1671   12]
 [ 176   40]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09934499859809875
difference in average predicted and observed risk = -0.014399001401901243
number samples = 1899
accuracy = 0.901
precision class 0 = 0.90471
precision class 1 = 0.769231
recall class 0 = 0.99287
recall class 1 = 0.185185
false negative rate = 0.814815
false positive rate = 0.00713
positive prediction rate = 0.027383
AUC of ROC = 0.871036
AUC of PRC = 0.525046
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[547   2]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09507700055837631
difference in average predicted and observed risk = -0.02792599944162369
number samples = 626
accuracy = 0.891374
precision class 0 = 0.892333
precision class 1 = 0.846154
recall class 0 = 0.996357
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.003643
positive prediction rate = 0.020767
AUC of ROC = 0.884938
AUC of PRC = 0.553846
min(+P, Se) = 0.516854

-------------------------------

confusion matrix:
[[2243    6]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08178900182247162
difference in average predicted and observed risk = -0.0028669981775283765
number samples = 2457
accuracy = 0.921856
precision class 0 = 0.923425
precision class 1 = 0.785714
recall class 0 = 0.997332
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.002668
positive prediction rate = 0.011396
AUC of ROC = 0.877285
AUC of PRC = 0.448447
min(+P, Se) = 0.432692

-------------------------------

confusion matrix:
[[219   4]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0892229974269867
difference in average predicted and observed risk = -0.011583002573013312
number samples = 248
accuracy = 0.891129
precision class 0 = 0.904959
precision class 1 = 0.333333
recall class 0 = 0.982063
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.017937
positive prediction rate = 0.024194
AUC of ROC = 0.766099
AUC of PRC = 0.279875
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[477   4]
 [ 66  16]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10919799655675888
difference in average predicted and observed risk = -0.03645000344324112
number samples = 563
accuracy = 0.875666
precision class 0 = 0.878453
precision class 1 = 0.8
recall class 0 = 0.991684
recall class 1 = 0.195122
false negative rate = 0.804878
false positive rate = 0.008316
positive prediction rate = 0.035524
AUC of ROC = 0.881852
AUC of PRC = 0.626898
min(+P, Se) = 0.552941

-------------------------------

confusion matrix:
[[651   4]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0998769998550415
difference in average predicted and observed risk = -0.0077520001449584985
number samples = 734
accuracy = 0.905995
precision class 0 = 0.909218
precision class 1 = 0.777778
recall class 0 = 0.993893
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.006107
positive prediction rate = 0.024523
AUC of ROC = 0.887313
AUC of PRC = 0.54241
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4137   20]
 [ 406   65]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09018799662590027
difference in average predicted and observed risk = -0.011584003374099733
number samples = 4628
accuracy = 0.907952
precision class 0 = 0.910632
precision class 1 = 0.764706
recall class 0 = 0.995189
recall class 1 = 0.138004
false negative rate = 0.861996
false positive rate = 0.004811
positive prediction rate = 0.018366
AUC of ROC = 0.876194
AUC of PRC = 0.500353
min(+P, Se) = 0.483051

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08794999867677689
difference in average predicted and observed risk = 0.007780998676776882
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.905843
AUC of PRC = 0.42463
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08305499702692032
difference in average predicted and observed risk = -0.025741002973079685
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.851174
AUC of PRC = 0.459687
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12661300599575043
difference in average predicted and observed risk = 0.016444005995750424
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.846886
AUC of PRC = 0.534611
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.12837499380111694
difference in average predicted and observed risk = -0.004958006198883064
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.1000479981303215
difference in average predicted and observed risk = -0.01499600186967849
number samples = 339
accuracy = 0.893805
precision class 0 = 0.9
precision class 1 = 0.666667
recall class 0 = 0.99
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.01
positive prediction rate = 0.026549
AUC of ROC = 0.839402
AUC of PRC = 0.43567
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08702799677848816
difference in average predicted and observed risk = -0.005022003221511848
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.888354
AUC of PRC = 0.550799
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0783500000834465
difference in average predicted and observed risk = -0.0108519999165535
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.884631
AUC of PRC = 0.442831
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10116799920797348
difference in average predicted and observed risk = -0.01647900079202652
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.807407
AUC of PRC = 0.573815
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08786100149154663
difference in average predicted and observed risk = -0.0008489985084533663
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.900241
AUC of PRC = 0.347466
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1272909939289093
difference in average predicted and observed risk = -0.022315006071090687
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.836745
AUC of PRC = 0.495862
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12522700428962708
difference in average predicted and observed risk = 0.04628000428962707
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0924300029873848
difference in average predicted and observed risk = -0.009160997012615205
number samples = 817
accuracy = 0.909425
precision class 0 = 0.913534
precision class 1 = 0.736842
recall class 0 = 0.993188
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.006812
positive prediction rate = 0.023256
AUC of ROC = 0.867273
AUC of PRC = 0.474987
min(+P, Se) = 0.457831

-------------------------------

Epoch 00059: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch59.state
Epoch 60/100
 - 285s - loss: 0.2425 - val_loss: 0.2347

==>predicting on train



confusion matrix:
[[2151    4]
 [ 229   26]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08256000280380249
difference in average predicted and observed risk = -0.02324899719619751
number samples = 2410
accuracy = 0.903319
precision class 0 = 0.903782
precision class 1 = 0.866667
recall class 0 = 0.998144
recall class 1 = 0.101961
false negative rate = 0.898039
false positive rate = 0.001856
positive prediction rate = 0.012448
AUC of ROC = 0.868321
AUC of PRC = 0.507686
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1172    7]
 [ 103   15]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07725799828767776
difference in average predicted and observed risk = -0.01372100171232224
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.919216
precision class 1 = 0.681818
recall class 0 = 0.994063
recall class 1 = 0.127119
false negative rate = 0.872881
false positive rate = 0.005937
positive prediction rate = 0.016962
AUC of ROC = 0.891419
AUC of PRC = 0.469937
min(+P, Se) = 0.421875

-------------------------------

confusion matrix:
[[654   2]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09158899635076523
difference in average predicted and observed risk = -0.009781003649234774
number samples = 730
accuracy = 0.909589
precision class 0 = 0.910864
precision class 1 = 0.833333
recall class 0 = 0.996951
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.003049
positive prediction rate = 0.016438
AUC of ROC = 0.894261
AUC of PRC = 0.558196
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 22   2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08376599848270416
difference in average predicted and observed risk = -0.041888001517295825
number samples = 191
accuracy = 0.884817
precision class 0 = 0.883598
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.010471
AUC of ROC = 0.939621
AUC of PRC = 0.733255
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2470    4]
 [ 233   22]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0740479975938797
difference in average predicted and observed risk = -0.019393002406120297
number samples = 2729
accuracy = 0.913155
precision class 0 = 0.913799
precision class 1 = 0.846154
recall class 0 = 0.998383
recall class 1 = 0.086275
false negative rate = 0.913725
false positive rate = 0.001617
positive prediction rate = 0.009527
AUC of ROC = 0.886349
AUC of PRC = 0.495331
min(+P, Se) = 0.478431

-------------------------------

confusion matrix:
[[1674    9]
 [ 185   31]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09476300328969955
difference in average predicted and observed risk = -0.018980996710300443
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.900484
precision class 1 = 0.775
recall class 0 = 0.994652
recall class 1 = 0.143519
false negative rate = 0.856481
false positive rate = 0.005348
positive prediction rate = 0.021064
AUC of ROC = 0.87569
AUC of PRC = 0.528779
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[548   1]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08755700290203094
difference in average predicted and observed risk = -0.035445997097969056
number samples = 626
accuracy = 0.889776
precision class 0 = 0.88961
precision class 1 = 0.9
recall class 0 = 0.998178
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.001821
positive prediction rate = 0.015974
AUC of ROC = 0.889078
AUC of PRC = 0.553332
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2245    4]
 [ 189   19]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0742259994149208
difference in average predicted and observed risk = -0.010430000585079188
number samples = 2457
accuracy = 0.921449
precision class 0 = 0.92235
precision class 1 = 0.826087
recall class 0 = 0.998221
recall class 1 = 0.091346
false negative rate = 0.908654
false positive rate = 0.001779
positive prediction rate = 0.009361
AUC of ROC = 0.884468
AUC of PRC = 0.482096
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08478499948978424
difference in average predicted and observed risk = -0.016021000510215766
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.779552
AUC of PRC = 0.290348
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[479   2]
 [ 68  14]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09985300153493881
difference in average predicted and observed risk = -0.04579499846506119
number samples = 563
accuracy = 0.875666
precision class 0 = 0.875686
precision class 1 = 0.875
recall class 0 = 0.995842
recall class 1 = 0.170732
false negative rate = 0.829268
false positive rate = 0.004158
positive prediction rate = 0.028419
AUC of ROC = 0.889154
AUC of PRC = 0.608175
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 70   9]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0921040028333664
difference in average predicted and observed risk = -0.015524997166633608
number samples = 734
accuracy = 0.899183
precision class 0 = 0.902913
precision class 1 = 0.692308
recall class 0 = 0.993893
recall class 1 = 0.113924
false negative rate = 0.886076
false positive rate = 0.006107
positive prediction rate = 0.017711
AUC of ROC = 0.88567
AUC of PRC = 0.532258
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4144   13]
 [ 418   53]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08254799991846085
difference in average predicted and observed risk = -0.019224000081539155
number samples = 4628
accuracy = 0.906871
precision class 0 = 0.908374
precision class 1 = 0.80303
recall class 0 = 0.996873
recall class 1 = 0.112527
false negative rate = 0.887473
false positive rate = 0.003127
positive prediction rate = 0.014261
AUC of ROC = 0.88193
AUC of PRC = 0.509482
min(+P, Se) = 0.4926

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08141399919986725
difference in average predicted and observed risk = 0.0012449991998672444
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.90705
AUC of PRC = 0.411868
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0771469995379448
difference in average predicted and observed risk = -0.03164900046205521
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.86383
AUC of PRC = 0.462053
min(+P, Se) = 0.509804

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11682099848985672
difference in average predicted and observed risk = 0.006651998489856717
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.854945
AUC of PRC = 0.547735
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11393799632787704
difference in average predicted and observed risk = -0.019395003672122962
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09645699709653854
difference in average predicted and observed risk = -0.01858700290346145
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.842991
AUC of PRC = 0.40849
min(+P, Se) = 0.436364

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07767099887132645
difference in average predicted and observed risk = -0.01437900112867356
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.898618
AUC of PRC = 0.53262
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06966300308704376
difference in average predicted and observed risk = -0.01953899691295624
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.89433
AUC of PRC = 0.473459
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09652099758386612
difference in average predicted and observed risk = -0.021126002416133882
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.87037
AUC of PRC = 0.58592
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08197300136089325
difference in average predicted and observed risk = -0.006736998639106748
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.898632
AUC of PRC = 0.343339
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12132400274276733
difference in average predicted and observed risk = -0.028281997257232655
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.829435
AUC of PRC = 0.505042
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12451200187206268
difference in average predicted and observed risk = 0.04556500187206268
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.895238
AUC of PRC = 0.594017
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08546599745750427
difference in average predicted and observed risk = -0.01612500254249573
number samples = 817
accuracy = 0.906977
precision class 0 = 0.910224
precision class 1 = 0.733333
recall class 0 = 0.99455
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.00545
positive prediction rate = 0.01836
AUC of ROC = 0.875841
AUC of PRC = 0.461358
min(+P, Se) = 0.465116

-------------------------------

Epoch 00060: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch60.state
Epoch 61/100
 - 281s - loss: 0.2435 - val_loss: 0.2380

==>predicting on train



confusion matrix:
[[2148    7]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07411599904298782
difference in average predicted and observed risk = -0.03169300095701218
number samples = 2410
accuracy = 0.904149
precision class 0 = 0.905565
precision class 1 = 0.815789
recall class 0 = 0.996752
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.003248
positive prediction rate = 0.015768
AUC of ROC = 0.859505
AUC of PRC = 0.495417
min(+P, Se) = 0.48855

-------------------------------

confusion matrix:
[[1171    8]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07195799797773361
difference in average predicted and observed risk = -0.019021002022266392
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.922774
precision class 1 = 0.714286
recall class 0 = 0.993215
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.006785
positive prediction rate = 0.021588
AUC of ROC = 0.884389
AUC of PRC = 0.445405
min(+P, Se) = 0.398374

-------------------------------

confusion matrix:
[[651   5]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0866290032863617
difference in average predicted and observed risk = -0.014740996713638307
number samples = 730
accuracy = 0.909589
precision class 0 = 0.914326
precision class 1 = 0.722222
recall class 0 = 0.992378
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.007622
positive prediction rate = 0.024658
AUC of ROC = 0.887442
AUC of PRC = 0.518953
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08165799826383591
difference in average predicted and observed risk = -0.04399600173616408
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.923902
AUC of PRC = 0.739498
min(+P, Se) = 0.68

-------------------------------

confusion matrix:
[[2467    7]
 [ 226   29]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06841599941253662
difference in average predicted and observed risk = -0.025025000587463375
number samples = 2729
accuracy = 0.914621
precision class 0 = 0.916079
precision class 1 = 0.805556
recall class 0 = 0.997171
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.002829
positive prediction rate = 0.013192
AUC of ROC = 0.875567
AUC of PRC = 0.467567
min(+P, Se) = 0.455598

-------------------------------

confusion matrix:
[[1670   13]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08640199899673462
difference in average predicted and observed risk = -0.02734200100326538
number samples = 1899
accuracy = 0.901
precision class 0 = 0.905149
precision class 1 = 0.759259
recall class 0 = 0.992276
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.007724
positive prediction rate = 0.028436
AUC of ROC = 0.869833
AUC of PRC = 0.520039
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[548   1]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08065900206565857
difference in average predicted and observed risk = -0.04234399793434143
number samples = 626
accuracy = 0.892971
precision class 0 = 0.892508
precision class 1 = 0.916667
recall class 0 = 0.998178
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.001821
positive prediction rate = 0.019169
AUC of ROC = 0.883093
AUC of PRC = 0.549049
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2242    7]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06648799777030945
difference in average predicted and observed risk = -0.018168002229690547
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.924155
precision class 1 = 0.774194
recall class 0 = 0.996888
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003112
positive prediction rate = 0.012617
AUC of ROC = 0.873085
AUC of PRC = 0.4469
min(+P, Se) = 0.418269

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07333400100469589
difference in average predicted and observed risk = -0.027471998995304114
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.776682
AUC of PRC = 0.26293
min(+P, Se) = 0.346154

-------------------------------

confusion matrix:
[[477   4]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09572400152683258
difference in average predicted and observed risk = -0.04992399847316742
number samples = 563
accuracy = 0.87389
precision class 0 = 0.876838
precision class 1 = 0.789474
recall class 0 = 0.991684
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.008316
positive prediction rate = 0.033748
AUC of ROC = 0.883804
AUC of PRC = 0.622548
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08835499733686447
difference in average predicted and observed risk = -0.01927400266313553
number samples = 734
accuracy = 0.912807
precision class 0 = 0.915612
precision class 1 = 0.826087
recall class 0 = 0.993893
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.006107
positive prediction rate = 0.031335
AUC of ROC = 0.882095
AUC of PRC = 0.526551
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4137   20]
 [ 401   70]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07579600065946579
difference in average predicted and observed risk = -0.02597599934053421
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.911635
precision class 1 = 0.777778
recall class 0 = 0.995189
recall class 1 = 0.14862
false negative rate = 0.85138
false positive rate = 0.004811
positive prediction rate = 0.019447
AUC of ROC = 0.873491
AUC of PRC = 0.492391
min(+P, Se) = 0.477178

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0726030021905899
difference in average predicted and observed risk = -0.007565997809410099
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.897634
AUC of PRC = 0.401769
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0688449963927269
difference in average predicted and observed risk = -0.039951003607273106
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.85974
AUC of PRC = 0.497084
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11105000227689743
difference in average predicted and observed risk = 0.0008810022768974274
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.845421
AUC of PRC = 0.549151
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11195000261068344
difference in average predicted and observed risk = -0.021382997389316566
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08749700337648392
difference in average predicted and observed risk = -0.027546996623516076
number samples = 339
accuracy = 0.893805
precision class 0 = 0.89759
precision class 1 = 0.714286
recall class 0 = 0.993333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.006667
positive prediction rate = 0.020649
AUC of ROC = 0.835299
AUC of PRC = 0.427336
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07060399651527405
difference in average predicted and observed risk = -0.02144600348472596
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.893852
AUC of PRC = 0.566534
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06366200000047684
difference in average predicted and observed risk = -0.025539999999523166
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.887005
AUC of PRC = 0.464627
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08657199889421463
difference in average predicted and observed risk = -0.03107500110578537
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.852778
AUC of PRC = 0.646756
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07495500147342682
difference in average predicted and observed risk = -0.013754998526573178
number samples = 124
accuracy = 0.919355
precision class 0 = 0.92562
precision class 1 = 0.666667
recall class 0 = 0.99115
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.00885
positive prediction rate = 0.024194
AUC of ROC = 0.874497
AUC of PRC = 0.328278
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11074899882078171
difference in average predicted and observed risk = -0.03885700117921828
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.832846
AUC of PRC = 0.498856
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10790300369262695
difference in average predicted and observed risk = 0.02895600369262695
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.677778
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[731   3]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07761400192975998
difference in average predicted and observed risk = -0.02397699807024002
number samples = 817
accuracy = 0.910649
precision class 0 = 0.912609
precision class 1 = 0.8125
recall class 0 = 0.995913
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.004087
positive prediction rate = 0.019584
AUC of ROC = 0.869834
AUC of PRC = 0.484757
min(+P, Se) = 0.506024

-------------------------------

Epoch 00061: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch61.state
Epoch 62/100
 - 284s - loss: 0.2440 - val_loss: 0.2370

==>predicting on train



confusion matrix:
[[2147    8]
 [ 226   29]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08405300229787827
difference in average predicted and observed risk = -0.021755997702121735
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.904762
precision class 1 = 0.783784
recall class 0 = 0.996288
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.003712
positive prediction rate = 0.015353
AUC of ROC = 0.861908
AUC of PRC = 0.505516
min(+P, Se) = 0.492188

-------------------------------

confusion matrix:
[[1170    9]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07903800159692764
difference in average predicted and observed risk = -0.011940998403072361
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.921986
precision class 1 = 0.678571
recall class 0 = 0.992366
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.007634
positive prediction rate = 0.021588
AUC of ROC = 0.885259
AUC of PRC = 0.454817
min(+P, Se) = 0.398305

-------------------------------

confusion matrix:
[[651   5]
 [ 64  10]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0943949967622757
difference in average predicted and observed risk = -0.006975003237724306
number samples = 730
accuracy = 0.905479
precision class 0 = 0.910489
precision class 1 = 0.666667
recall class 0 = 0.992378
recall class 1 = 0.135135
false negative rate = 0.864865
false positive rate = 0.007622
positive prediction rate = 0.020548
AUC of ROC = 0.883693
AUC of PRC = 0.515568
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0885159969329834
difference in average predicted and observed risk = -0.03713800306701659
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.925898
AUC of PRC = 0.744401
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2465    9]
 [ 226   29]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07620300352573395
difference in average predicted and observed risk = -0.01723799647426605
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.916016
precision class 1 = 0.763158
recall class 0 = 0.996362
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.003638
positive prediction rate = 0.013925
AUC of ROC = 0.877821
AUC of PRC = 0.477298
min(+P, Se) = 0.460938

-------------------------------

confusion matrix:
[[1670   13]
 [ 181   35]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09633299708366394
difference in average predicted and observed risk = -0.017411002916336057
number samples = 1899
accuracy = 0.897841
precision class 0 = 0.902215
precision class 1 = 0.729167
recall class 0 = 0.992276
recall class 1 = 0.162037
false negative rate = 0.837963
false positive rate = 0.007724
positive prediction rate = 0.025276
AUC of ROC = 0.869938
AUC of PRC = 0.518489
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[546   3]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09049399942159653
difference in average predicted and observed risk = -0.032509000578403474
number samples = 626
accuracy = 0.886581
precision class 0 = 0.889251
precision class 1 = 0.75
recall class 0 = 0.994536
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.005464
positive prediction rate = 0.019169
AUC of ROC = 0.880113
AUC of PRC = 0.537394
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2243    6]
 [ 185   23]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07542599737644196
difference in average predicted and observed risk = -0.00923000262355804
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.923806
precision class 1 = 0.793103
recall class 0 = 0.997332
recall class 1 = 0.110577
false negative rate = 0.889423
false positive rate = 0.002668
positive prediction rate = 0.011803
AUC of ROC = 0.876522
AUC of PRC = 0.451868
min(+P, Se) = 0.425837

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08299600332975388
difference in average predicted and observed risk = -0.01780999667024613
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.764843
AUC of PRC = 0.262583
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[477   4]
 [ 66  16]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10322999954223633
difference in average predicted and observed risk = -0.04241800045776367
number samples = 563
accuracy = 0.875666
precision class 0 = 0.878453
precision class 1 = 0.8
recall class 0 = 0.991684
recall class 1 = 0.195122
false negative rate = 0.804878
false positive rate = 0.008316
positive prediction rate = 0.035524
AUC of ROC = 0.882967
AUC of PRC = 0.627215
min(+P, Se) = 0.542169

-------------------------------

confusion matrix:
[[650   5]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09567300230264664
difference in average predicted and observed risk = -0.011955997697353365
number samples = 734
accuracy = 0.905995
precision class 0 = 0.910364
precision class 1 = 0.75
recall class 0 = 0.992366
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.007634
positive prediction rate = 0.027248
AUC of ROC = 0.885013
AUC of PRC = 0.524968
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4135   22]
 [ 407   64]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08446300029754639
difference in average predicted and observed risk = -0.017308999702453615
number samples = 4628
accuracy = 0.907303
precision class 0 = 0.910392
precision class 1 = 0.744186
recall class 0 = 0.994708
recall class 1 = 0.135881
false negative rate = 0.864119
false positive rate = 0.005292
positive prediction rate = 0.018583
AUC of ROC = 0.874527
AUC of PRC = 0.496407
min(+P, Se) = 0.473461

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0816200003027916
difference in average predicted and observed risk = 0.0014510003027915913
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.900048
AUC of PRC = 0.422324
min(+P, Se) = 0.478261

-------------------------------

confusion matrix:
[[385   0]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07818400114774704
difference in average predicted and observed risk = -0.030611998852252964
number samples = 432
accuracy = 0.898148
precision class 0 = 0.897436
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.0
positive prediction rate = 0.006944
AUC of ROC = 0.861896
AUC of PRC = 0.501068
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11708900332450867
difference in average predicted and observed risk = 0.006920003324508664
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.830769
AUC of PRC = 0.450265
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11744000017642975
difference in average predicted and observed risk = -0.01589299982357026
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.096841000020504
difference in average predicted and observed risk = -0.018202999979495996
number samples = 339
accuracy = 0.893805
precision class 0 = 0.89759
precision class 1 = 0.714286
recall class 0 = 0.993333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.006667
positive prediction rate = 0.020649
AUC of ROC = 0.826154
AUC of PRC = 0.402904
min(+P, Se) = 0.452381

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07872399687767029
difference in average predicted and observed risk = -0.013326003122329719
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.898827
AUC of PRC = 0.568915
min(+P, Se) = 0.577778

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0724710002541542
difference in average predicted and observed risk = -0.016730999745845798
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.896704
AUC of PRC = 0.494684
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09675300121307373
difference in average predicted and observed risk = -0.02089399878692627
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.838889
AUC of PRC = 0.592596
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08160500228404999
difference in average predicted and observed risk = -0.007104997715950009
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.864039
AUC of PRC = 0.336713
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11944799870252609
difference in average predicted and observed risk = -0.030158001297473896
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.824561
AUC of PRC = 0.537367
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11655300110578537
difference in average predicted and observed risk = 0.03760600110578537
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.622222
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08624099940061569
difference in average predicted and observed risk = -0.015350000599384309
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.869325
AUC of PRC = 0.484525
min(+P, Se) = 0.505495

-------------------------------

Epoch 00062: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch62.state
Epoch 63/100
 - 283s - loss: 0.2424 - val_loss: 0.2427

==>predicting on train



confusion matrix:
[[2147    8]
 [ 220   35]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0653579980134964
difference in average predicted and observed risk = -0.0404510019865036
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.907055
precision class 1 = 0.813953
recall class 0 = 0.996288
recall class 1 = 0.137255
false negative rate = 0.862745
false positive rate = 0.003712
positive prediction rate = 0.017842
AUC of ROC = 0.862616
AUC of PRC = 0.500078
min(+P, Se) = 0.490272

-------------------------------

confusion matrix:
[[1168   11]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06543699651956558
difference in average predicted and observed risk = -0.025542003480434422
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.922591
precision class 1 = 0.645161
recall class 0 = 0.99067
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.00933
positive prediction rate = 0.023901
AUC of ROC = 0.878718
AUC of PRC = 0.454563
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07789699733257294
difference in average predicted and observed risk = -0.023473002667427065
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.883302
AUC of PRC = 0.516506
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07307899743318558
difference in average predicted and observed risk = -0.05257500256681441
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.933383
AUC of PRC = 0.749907
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2462   12]
 [ 219   36]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06069700047373772
difference in average predicted and observed risk = -0.03274399952626228
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.918314
precision class 1 = 0.75
recall class 0 = 0.99515
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.00485
positive prediction rate = 0.017589
AUC of ROC = 0.873619
AUC of PRC = 0.475373
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[1670   13]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07770799845457077
difference in average predicted and observed risk = -0.03603600154542923
number samples = 1899
accuracy = 0.899947
precision class 0 = 0.904169
precision class 1 = 0.75
recall class 0 = 0.992276
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.007724
positive prediction rate = 0.027383
AUC of ROC = 0.872695
AUC of PRC = 0.519314
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[546   3]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.073014996945858
difference in average predicted and observed risk = -0.049988003054142
number samples = 626
accuracy = 0.888179
precision class 0 = 0.890701
precision class 1 = 0.769231
recall class 0 = 0.994536
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.005464
positive prediction rate = 0.020767
AUC of ROC = 0.88139
AUC of PRC = 0.530565
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2241    8]
 [ 181   27]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05753500014543533
difference in average predicted and observed risk = -0.027120999854564662
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.925268
precision class 1 = 0.771429
recall class 0 = 0.996443
recall class 1 = 0.129808
false negative rate = 0.870192
false positive rate = 0.003557
positive prediction rate = 0.014245
AUC of ROC = 0.870357
AUC of PRC = 0.444887
min(+P, Se) = 0.421739

-------------------------------

confusion matrix:
[[220   3]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06514900177717209
difference in average predicted and observed risk = -0.03565699822282792
number samples = 248
accuracy = 0.895161
precision class 0 = 0.90535
precision class 1 = 0.4
recall class 0 = 0.986547
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.013453
positive prediction rate = 0.020161
AUC of ROC = 0.784933
AUC of PRC = 0.292114
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[475   6]
 [ 64  18]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09136699885129929
difference in average predicted and observed risk = -0.054281001148700714
number samples = 563
accuracy = 0.875666
precision class 0 = 0.881262
precision class 1 = 0.75
recall class 0 = 0.987526
recall class 1 = 0.219512
false negative rate = 0.780488
false positive rate = 0.012474
positive prediction rate = 0.042629
AUC of ROC = 0.885782
AUC of PRC = 0.631268
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[650   5]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.079755999147892
difference in average predicted and observed risk = -0.027873000852108004
number samples = 734
accuracy = 0.910082
precision class 0 = 0.914205
precision class 1 = 0.782609
recall class 0 = 0.992366
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.007634
positive prediction rate = 0.031335
AUC of ROC = 0.884124
AUC of PRC = 0.513583
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4132   25]
 [ 396   75]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06767699867486954
difference in average predicted and observed risk = -0.034095001325130464
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.912544
precision class 1 = 0.75
recall class 0 = 0.993986
recall class 1 = 0.159236
false negative rate = 0.840764
false positive rate = 0.006014
positive prediction rate = 0.021608
AUC of ROC = 0.873291
AUC of PRC = 0.495249
min(+P, Se) = 0.484076

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06893700361251831
difference in average predicted and observed risk = -0.011231996387481694
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.893771
AUC of PRC = 0.375909
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[385   0]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05995799973607063
difference in average predicted and observed risk = -0.04883800026392937
number samples = 432
accuracy = 0.900463
precision class 0 = 0.899533
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.0
positive prediction rate = 0.009259
AUC of ROC = 0.857032
AUC of PRC = 0.497167
min(+P, Se) = 0.48

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09781499952077866
difference in average predicted and observed risk = -0.012354000479221347
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.855678
AUC of PRC = 0.568232
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10224299877882004
difference in average predicted and observed risk = -0.03109000122117997
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07781799882650375
difference in average predicted and observed risk = -0.03722600117349624
number samples = 339
accuracy = 0.893805
precision class 0 = 0.89759
precision class 1 = 0.714286
recall class 0 = 0.993333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.006667
positive prediction rate = 0.020649
AUC of ROC = 0.828718
AUC of PRC = 0.413204
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06374300271272659
difference in average predicted and observed risk = -0.028306997287273414
number samples = 478
accuracy = 0.922594
precision class 0 = 0.925054
precision class 1 = 0.818182
recall class 0 = 0.995392
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.004608
positive prediction rate = 0.023013
AUC of ROC = 0.895475
AUC of PRC = 0.539959
min(+P, Se) = 0.590909

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05659100040793419
difference in average predicted and observed risk = -0.032610999592065815
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.883546
AUC of PRC = 0.41898
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08030299842357635
difference in average predicted and observed risk = -0.03734400157642365
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.864815
AUC of PRC = 0.697108
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[112   1]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06419699639081955
difference in average predicted and observed risk = -0.024513003609180448
number samples = 124
accuracy = 0.919355
precision class 0 = 0.92562
precision class 1 = 0.666667
recall class 0 = 0.99115
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.00885
positive prediction rate = 0.024194
AUC of ROC = 0.868866
AUC of PRC = 0.318438
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10015600174665451
difference in average predicted and observed risk = -0.04944999825334548
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.836257
AUC of PRC = 0.567171
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10185299813747406
difference in average predicted and observed risk = 0.022905998137474057
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.069582998752594
difference in average predicted and observed risk = -0.03200800124740601
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.868307
AUC of PRC = 0.481557
min(+P, Se) = 0.506024

-------------------------------

Epoch 00063: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch63.state
Epoch 64/100
 - 281s - loss: 0.2441 - val_loss: 0.2433

==>predicting on train



confusion matrix:
[[2148    7]
 [ 227   28]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06775899976491928
difference in average predicted and observed risk = -0.03805000023508072
number samples = 2410
accuracy = 0.902905
precision class 0 = 0.904421
precision class 1 = 0.8
recall class 0 = 0.996752
recall class 1 = 0.109804
false negative rate = 0.890196
false positive rate = 0.003248
positive prediction rate = 0.014523
AUC of ROC = 0.865779
AUC of PRC = 0.504573
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1170    9]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06723199784755707
difference in average predicted and observed risk = -0.023747002152442936
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.92126
precision class 1 = 0.666667
recall class 0 = 0.992366
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.007634
positive prediction rate = 0.020817
AUC of ROC = 0.891678
AUC of PRC = 0.479159
min(+P, Se) = 0.449153

-------------------------------

confusion matrix:
[[653   3]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07889100164175034
difference in average predicted and observed risk = -0.022478998358249666
number samples = 730
accuracy = 0.909589
precision class 0 = 0.912011
precision class 1 = 0.785714
recall class 0 = 0.995427
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.004573
positive prediction rate = 0.019178
AUC of ROC = 0.894858
AUC of PRC = 0.521507
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07656700164079666
difference in average predicted and observed risk = -0.04908699835920333
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.940369
AUC of PRC = 0.76661
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2465    9]
 [ 228   27]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06414999812841415
difference in average predicted and observed risk = -0.029291001871585842
number samples = 2729
accuracy = 0.913155
precision class 0 = 0.915336
precision class 1 = 0.75
recall class 0 = 0.996362
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.003638
positive prediction rate = 0.013192
AUC of ROC = 0.882818
AUC of PRC = 0.491518
min(+P, Se) = 0.484375

-------------------------------

confusion matrix:
[[1673   10]
 [ 182   34]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07775100320577621
difference in average predicted and observed risk = -0.03599299679422378
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.901887
precision class 1 = 0.772727
recall class 0 = 0.994058
recall class 1 = 0.157407
false negative rate = 0.842593
false positive rate = 0.005942
positive prediction rate = 0.02317
AUC of ROC = 0.876769
AUC of PRC = 0.529416
min(+P, Se) = 0.511521

-------------------------------

confusion matrix:
[[546   3]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07579000294208527
difference in average predicted and observed risk = -0.047212997057914735
number samples = 626
accuracy = 0.886581
precision class 0 = 0.889251
precision class 1 = 0.75
recall class 0 = 0.994536
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.005464
positive prediction rate = 0.019169
AUC of ROC = 0.884489
AUC of PRC = 0.538675
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2244    5]
 [ 186   22]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06062600016593933
difference in average predicted and observed risk = -0.024029999834060664
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.923457
precision class 1 = 0.814815
recall class 0 = 0.997777
recall class 1 = 0.105769
false negative rate = 0.894231
false positive rate = 0.002223
positive prediction rate = 0.010989
AUC of ROC = 0.880088
AUC of PRC = 0.458738
min(+P, Se) = 0.444954

-------------------------------

confusion matrix:
[[220   3]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06809800118207932
difference in average predicted and observed risk = -0.03270799881792069
number samples = 248
accuracy = 0.895161
precision class 0 = 0.90535
precision class 1 = 0.4
recall class 0 = 0.986547
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.013453
positive prediction rate = 0.020161
AUC of ROC = 0.792466
AUC of PRC = 0.338491
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[477   4]
 [ 67  15]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09022299945354462
difference in average predicted and observed risk = -0.05542500054645538
number samples = 563
accuracy = 0.87389
precision class 0 = 0.876838
precision class 1 = 0.789474
recall class 0 = 0.991684
recall class 1 = 0.182927
false negative rate = 0.817073
false positive rate = 0.008316
positive prediction rate = 0.033748
AUC of ROC = 0.891562
AUC of PRC = 0.653281
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[651   4]
 [ 66  13]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07987400144338608
difference in average predicted and observed risk = -0.027754998556613925
number samples = 734
accuracy = 0.904632
precision class 0 = 0.90795
precision class 1 = 0.764706
recall class 0 = 0.993893
recall class 1 = 0.164557
false negative rate = 0.835443
false positive rate = 0.006107
positive prediction rate = 0.023161
AUC of ROC = 0.889129
AUC of PRC = 0.521971
min(+P, Se) = 0.511628

-------------------------------

confusion matrix:
[[4138   19]
 [ 410   61]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06973099708557129
difference in average predicted and observed risk = -0.03204100291442871
number samples = 4628
accuracy = 0.907303
precision class 0 = 0.90985
precision class 1 = 0.7625
recall class 0 = 0.995429
recall class 1 = 0.129512
false negative rate = 0.870488
false positive rate = 0.004571
positive prediction rate = 0.017286
AUC of ROC = 0.880586
AUC of PRC = 0.508752
min(+P, Se) = 0.494692

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06935500353574753
difference in average predicted and observed risk = -0.010813996464252476
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.901014
AUC of PRC = 0.386516
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[385   0]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06279599666595459
difference in average predicted and observed risk = -0.046000003334045414
number samples = 432
accuracy = 0.895833
precision class 0 = 0.895349
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.0
positive prediction rate = 0.00463
AUC of ROC = 0.858911
AUC of PRC = 0.486334
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10238099843263626
difference in average predicted and observed risk = -0.007788001567363742
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.823443
AUC of PRC = 0.510208
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10074000060558319
difference in average predicted and observed risk = -0.032592999394416816
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07917000353336334
difference in average predicted and observed risk = -0.03587399646663665
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.829402
AUC of PRC = 0.408442
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[432   2]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06658899784088135
difference in average predicted and observed risk = -0.02546100215911866
number samples = 478
accuracy = 0.91841
precision class 0 = 0.921109
precision class 1 = 0.777778
recall class 0 = 0.995392
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.004608
positive prediction rate = 0.018828
AUC of ROC = 0.891129
AUC of PRC = 0.53333
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05820100009441376
difference in average predicted and observed risk = -0.031000999905586246
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.886598
AUC of PRC = 0.451041
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08270400017499924
difference in average predicted and observed risk = -0.034942999825000765
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.824074
AUC of PRC = 0.602004
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06684599816799164
difference in average predicted and observed risk = -0.02186400183200836
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.887369
AUC of PRC = 0.320899
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1055079996585846
difference in average predicted and observed risk = -0.044098000341415394
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.827973
AUC of PRC = 0.541671
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09869399666786194
difference in average predicted and observed risk = 0.019746996667861935
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[730   4]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07180900126695633
difference in average predicted and observed risk = -0.02978199873304367
number samples = 817
accuracy = 0.906977
precision class 0 = 0.910224
precision class 1 = 0.733333
recall class 0 = 0.99455
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.00545
positive prediction rate = 0.01836
AUC of ROC = 0.867027
AUC of PRC = 0.470454
min(+P, Se) = 0.47619

-------------------------------

Epoch 00064: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch64.state
Epoch 65/100
 - 281s - loss: 0.2442 - val_loss: 0.2393

==>predicting on train



confusion matrix:
[[2147    8]
 [ 224   31]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07278600335121155
difference in average predicted and observed risk = -0.03302299664878845
number samples = 2410
accuracy = 0.903734
precision class 0 = 0.905525
precision class 1 = 0.794872
recall class 0 = 0.996288
recall class 1 = 0.121569
false negative rate = 0.878431
false positive rate = 0.003712
positive prediction rate = 0.016183
AUC of ROC = 0.870707
AUC of PRC = 0.512168
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1171    8]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07245299965143204
difference in average predicted and observed risk = -0.018526000348567967
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.92423
precision class 1 = 0.733333
recall class 0 = 0.993215
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.006785
positive prediction rate = 0.02313
AUC of ROC = 0.884015
AUC of PRC = 0.471798
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[651   5]
 [ 63  11]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08569300174713135
difference in average predicted and observed risk = -0.015676998252868654
number samples = 730
accuracy = 0.906849
precision class 0 = 0.911765
precision class 1 = 0.6875
recall class 0 = 0.992378
recall class 1 = 0.148649
false negative rate = 0.851351
false positive rate = 0.007622
positive prediction rate = 0.021918
AUC of ROC = 0.887916
AUC of PRC = 0.542389
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08070500195026398
difference in average predicted and observed risk = -0.04494899804973601
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.930888
AUC of PRC = 0.77114
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2464   10]
 [ 219   36]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06911399960517883
difference in average predicted and observed risk = -0.024327000394821163
number samples = 2729
accuracy = 0.916086
precision class 0 = 0.918375
precision class 1 = 0.782609
recall class 0 = 0.995958
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.004042
positive prediction rate = 0.016856
AUC of ROC = 0.88034
AUC of PRC = 0.503196
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1672   11]
 [ 182   34]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08359300345182419
difference in average predicted and observed risk = -0.03015099654817581
number samples = 1899
accuracy = 0.898368
precision class 0 = 0.901834
precision class 1 = 0.755556
recall class 0 = 0.993464
recall class 1 = 0.157407
false negative rate = 0.842593
false positive rate = 0.006536
positive prediction rate = 0.023697
AUC of ROC = 0.876827
AUC of PRC = 0.519312
min(+P, Se) = 0.490741

-------------------------------

confusion matrix:
[[545   4]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0810220018029213
difference in average predicted and observed risk = -0.041980998197078706
number samples = 626
accuracy = 0.884984
precision class 0 = 0.88907
precision class 1 = 0.692308
recall class 0 = 0.992714
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.007286
positive prediction rate = 0.020767
AUC of ROC = 0.882596
AUC of PRC = 0.533703
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2242    7]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06566400080919266
difference in average predicted and observed risk = -0.018991999190807338
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.924155
precision class 1 = 0.774194
recall class 0 = 0.996888
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.003112
positive prediction rate = 0.012617
AUC of ROC = 0.882467
AUC of PRC = 0.467851
min(+P, Se) = 0.444976

-------------------------------

confusion matrix:
[[220   3]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07597900182008743
difference in average predicted and observed risk = -0.024826998179912574
number samples = 248
accuracy = 0.899194
precision class 0 = 0.909091
precision class 1 = 0.5
recall class 0 = 0.986547
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.013453
positive prediction rate = 0.024194
AUC of ROC = 0.797668
AUC of PRC = 0.332482
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[478   3]
 [ 62  20]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09696599841117859
difference in average predicted and observed risk = -0.04868200158882141
number samples = 563
accuracy = 0.884547
precision class 0 = 0.885185
precision class 1 = 0.869565
recall class 0 = 0.993763
recall class 1 = 0.243902
false negative rate = 0.756098
false positive rate = 0.006237
positive prediction rate = 0.040853
AUC of ROC = 0.881826
AUC of PRC = 0.644878
min(+P, Se) = 0.573171

-------------------------------

confusion matrix:
[[651   4]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08428499847650528
difference in average predicted and observed risk = -0.023344001523494723
number samples = 734
accuracy = 0.905995
precision class 0 = 0.909218
precision class 1 = 0.777778
recall class 0 = 0.993893
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.006107
positive prediction rate = 0.024523
AUC of ROC = 0.884646
AUC of PRC = 0.528677
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4136   21]
 [ 401   70]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07505500316619873
difference in average predicted and observed risk = -0.02671699683380127
number samples = 4628
accuracy = 0.908816
precision class 0 = 0.911616
precision class 1 = 0.769231
recall class 0 = 0.994948
recall class 1 = 0.14862
false negative rate = 0.85138
false positive rate = 0.005052
positive prediction rate = 0.019663
AUC of ROC = 0.879218
AUC of PRC = 0.512008
min(+P, Se) = 0.494715

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07333999872207642
difference in average predicted and observed risk = -0.006829001277923588
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.890633
AUC of PRC = 0.370943
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06962300091981888
difference in average predicted and observed risk = -0.039172999080181126
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.869577
AUC of PRC = 0.446028
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1102290004491806
difference in average predicted and observed risk = 6.000044918059999e-05
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.826374
AUC of PRC = 0.545651
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10679399967193604
difference in average predicted and observed risk = -0.026539000328063972
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08405400067567825
difference in average predicted and observed risk = -0.03098999932432174
number samples = 339
accuracy = 0.890855
precision class 0 = 0.894895
precision class 1 = 0.666667
recall class 0 = 0.993333
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.006667
positive prediction rate = 0.017699
AUC of ROC = 0.832564
AUC of PRC = 0.383835
min(+P, Se) = 0.377778

-------------------------------

confusion matrix:
[[431   3]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07358899712562561
difference in average predicted and observed risk = -0.018461002874374396
number samples = 478
accuracy = 0.920502
precision class 0 = 0.924893
precision class 1 = 0.75
recall class 0 = 0.993088
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.006912
positive prediction rate = 0.025105
AUC of ROC = 0.89668
AUC of PRC = 0.530048
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06360100209712982
difference in average predicted and observed risk = -0.02560099790287018
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.877374
AUC of PRC = 0.408446
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08996699750423431
difference in average predicted and observed risk = -0.027680002495765688
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.884259
AUC of PRC = 0.649353
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07417000085115433
difference in average predicted and observed risk = -0.01453999914884567
number samples = 124
accuracy = 0.919355
precision class 0 = 0.92562
precision class 1 = 0.666667
recall class 0 = 0.99115
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.00885
positive prediction rate = 0.024194
AUC of ROC = 0.867257
AUC of PRC = 0.293196
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11042699962854385
difference in average predicted and observed risk = -0.039179000371456135
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.833333
AUC of PRC = 0.563693
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10993599891662598
difference in average predicted and observed risk = 0.030988998916625973
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[729   5]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0779310017824173
difference in average predicted and observed risk = -0.023659998217582703
number samples = 817
accuracy = 0.908201
precision class 0 = 0.91239
precision class 1 = 0.722222
recall class 0 = 0.993188
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.006812
positive prediction rate = 0.022032
AUC of ROC = 0.870769
AUC of PRC = 0.470455
min(+P, Se) = 0.443182

-------------------------------

Epoch 00065: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch65.state
Epoch 66/100
 - 278s - loss: 0.2444 - val_loss: 0.2419

==>predicting on train



confusion matrix:
[[2151    4]
 [ 238   17]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06365299969911575
difference in average predicted and observed risk = -0.04215600030088425
number samples = 2410
accuracy = 0.899585
precision class 0 = 0.900377
precision class 1 = 0.809524
recall class 0 = 0.998144
recall class 1 = 0.066667
false negative rate = 0.933333
false positive rate = 0.001856
positive prediction rate = 0.008714
AUC of ROC = 0.867673
AUC of PRC = 0.502929
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1172    7]
 [ 103   15]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06464999914169312
difference in average predicted and observed risk = -0.02632900085830689
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.919216
precision class 1 = 0.681818
recall class 0 = 0.994063
recall class 1 = 0.127119
false negative rate = 0.872881
false positive rate = 0.005937
positive prediction rate = 0.016962
AUC of ROC = 0.877295
AUC of PRC = 0.45674
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[655   1]
 [ 66   8]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07701300084590912
difference in average predicted and observed risk = -0.024356999154090883
number samples = 730
accuracy = 0.908219
precision class 0 = 0.90846
precision class 1 = 0.888889
recall class 0 = 0.998476
recall class 1 = 0.108108
false negative rate = 0.891892
false positive rate = 0.001524
positive prediction rate = 0.012329
AUC of ROC = 0.884394
AUC of PRC = 0.54579
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[167   0]
 [ 22   2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06966099888086319
difference in average predicted and observed risk = -0.0559930011191368
number samples = 191
accuracy = 0.884817
precision class 0 = 0.883598
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.010471
AUC of ROC = 0.94486
AUC of PRC = 0.762424
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2468    6]
 [ 239   16]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.060412999242544174
difference in average predicted and observed risk = -0.03302800075745582
number samples = 2729
accuracy = 0.910224
precision class 0 = 0.91171
precision class 1 = 0.727273
recall class 0 = 0.997575
recall class 1 = 0.062745
false negative rate = 0.937255
false positive rate = 0.002425
positive prediction rate = 0.008062
AUC of ROC = 0.87794
AUC of PRC = 0.487313
min(+P, Se) = 0.492308

-------------------------------

confusion matrix:
[[1677    6]
 [ 190   26]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07473000138998032
difference in average predicted and observed risk = -0.03901399861001968
number samples = 1899
accuracy = 0.896788
precision class 0 = 0.898232
precision class 1 = 0.8125
recall class 0 = 0.996435
recall class 1 = 0.12037
false negative rate = 0.87963
false positive rate = 0.003565
positive prediction rate = 0.016851
AUC of ROC = 0.871798
AUC of PRC = 0.517298
min(+P, Se) = 0.513889

-------------------------------

confusion matrix:
[[548   1]
 [ 70   7]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07230599969625473
difference in average predicted and observed risk = -0.05069700030374527
number samples = 626
accuracy = 0.886581
precision class 0 = 0.886731
precision class 1 = 0.875
recall class 0 = 0.998178
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.001821
positive prediction rate = 0.01278
AUC of ROC = 0.881272
AUC of PRC = 0.524929
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2247    2]
 [ 193   15]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05827600136399269
difference in average predicted and observed risk = -0.026379998636007304
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.920902
precision class 1 = 0.882353
recall class 0 = 0.999111
recall class 1 = 0.072115
false negative rate = 0.927885
false positive rate = 0.000889
positive prediction rate = 0.006919
AUC of ROC = 0.874549
AUC of PRC = 0.466141
min(+P, Se) = 0.471154

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0661270022392273
difference in average predicted and observed risk = -0.03467899776077271
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.804664
AUC of PRC = 0.311028
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[477   4]
 [ 72  10]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08185700327157974
difference in average predicted and observed risk = -0.06379099672842026
number samples = 563
accuracy = 0.865009
precision class 0 = 0.868852
precision class 1 = 0.714286
recall class 0 = 0.991684
recall class 1 = 0.121951
false negative rate = 0.878049
false positive rate = 0.008316
positive prediction rate = 0.024867
AUC of ROC = 0.885401
AUC of PRC = 0.616007
min(+P, Se) = 0.60241

-------------------------------

confusion matrix:
[[652   3]
 [ 71   8]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07608400285243988
difference in average predicted and observed risk = -0.03154499714756012
number samples = 734
accuracy = 0.899183
precision class 0 = 0.901798
precision class 1 = 0.727273
recall class 0 = 0.99542
recall class 1 = 0.101266
false negative rate = 0.898734
false positive rate = 0.00458
positive prediction rate = 0.014986
AUC of ROC = 0.879583
AUC of PRC = 0.534983
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4145   12]
 [ 429   42]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06628800183534622
difference in average predicted and observed risk = -0.03548399816465378
number samples = 4628
accuracy = 0.90471
precision class 0 = 0.906209
precision class 1 = 0.777778
recall class 0 = 0.997113
recall class 1 = 0.089172
false negative rate = 0.910828
false positive rate = 0.002887
positive prediction rate = 0.011668
AUC of ROC = 0.875753
AUC of PRC = 0.501989
min(+P, Se) = 0.503185

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06486599892377853
difference in average predicted and observed risk = -0.01530300107622147
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.90029
AUC of PRC = 0.384832
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 47   0]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.061298999935388565
difference in average predicted and observed risk = -0.04749700006461144
number samples = 432
accuracy = 0.888889
precision class 0 = 0.890951
precision class 1 = 0.0
recall class 0 = 0.997403
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.002597
positive prediction rate = 0.002315
AUC of ROC = 0.866317
AUC of PRC = 0.449569
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [ 11   2]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09748899936676025
difference in average predicted and observed risk = -0.012680000633239749
number samples = 118
accuracy = 0.898305
precision class 0 = 0.904348
precision class 1 = 0.666667
recall class 0 = 0.990476
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.009524
positive prediction rate = 0.025424
AUC of ROC = 0.843223
AUC of PRC = 0.52805
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 4  0]]
/share/pi/boussard/eroosli_work/benchmarking/models/evaluation/metrics.py:34: RuntimeWarning: invalid value encountered in float_scalars
  prec1 = np.round(float(cf[1][1] / (cf[1][1] + cf[0][1])),6)

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08481399714946747
difference in average predicted and observed risk = -0.04851900285053254
number samples = 30
accuracy = 0.866667
precision class 0 = 0.866667
precision class 1 = nan
recall class 0 = 1.0
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.0
positive prediction rate = 0.0
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[298   2]
 [ 37   2]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07661700248718262
difference in average predicted and observed risk = -0.038426997512817376
number samples = 339
accuracy = 0.884956
precision class 0 = 0.889552
precision class 1 = 0.5
recall class 0 = 0.993333
recall class 1 = 0.051282
false negative rate = 0.948718
false positive rate = 0.006667
positive prediction rate = 0.011799
AUC of ROC = 0.830342
AUC of PRC = 0.374969
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[432   2]
 [ 41   3]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06261400133371353
difference in average predicted and observed risk = -0.029435998666286475
number samples = 478
accuracy = 0.910042
precision class 0 = 0.913319
precision class 1 = 0.6
recall class 0 = 0.995392
recall class 1 = 0.068182
false negative rate = 0.931818
false positive rate = 0.004608
positive prediction rate = 0.01046
AUC of ROC = 0.902755
AUC of PRC = 0.526569
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05593600124120712
difference in average predicted and observed risk = -0.03326599875879288
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.871812
AUC of PRC = 0.436268
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[90  0]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07620400190353394
difference in average predicted and observed risk = -0.041442998096466066
number samples = 102
accuracy = 0.892157
precision class 0 = 0.891089
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.0
positive prediction rate = 0.009804
AUC of ROC = 0.892593
AUC of PRC = 0.606459
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 11   0]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06630299985408783
difference in average predicted and observed risk = -0.022407000145912168
number samples = 124
accuracy = 0.903226
precision class 0 = 0.910569
precision class 1 = 0.0
recall class 0 = 0.99115
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.00885
positive prediction rate = 0.008065
AUC of ROC = 0.890587
AUC of PRC = 0.322366
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 18   1]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09632900357246399
difference in average predicted and observed risk = -0.053276996427536
number samples = 127
accuracy = 0.84252
precision class 0 = 0.854839
precision class 1 = 0.333333
recall class 0 = 0.981481
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.018519
positive prediction rate = 0.023622
AUC of ROC = 0.841618
AUC of PRC = 0.522052
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10119699686765671
difference in average predicted and observed risk = 0.022249996867656704
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.952381
AUC of PRC = 0.622222
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 78   5]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06842400133609772
difference in average predicted and observed risk = -0.03316699866390228
number samples = 817
accuracy = 0.899633
precision class 0 = 0.903465
precision class 1 = 0.555556
recall class 0 = 0.99455
recall class 1 = 0.060241
false negative rate = 0.939759
false positive rate = 0.00545
positive prediction rate = 0.011016
AUC of ROC = 0.873625
AUC of PRC = 0.459639
min(+P, Se) = 0.471264

-------------------------------

Epoch 00066: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch66.state
Epoch 67/100
 - 279s - loss: 0.2497 - val_loss: 0.2375

==>predicting on train



confusion matrix:
[[2144   11]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07725699990987778
difference in average predicted and observed risk = -0.028552000090122223
number samples = 2410
accuracy = 0.904564
precision class 0 = 0.907321
precision class 1 = 0.765957
recall class 0 = 0.994896
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.005104
positive prediction rate = 0.019502
AUC of ROC = 0.863122
AUC of PRC = 0.500859
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1167   12]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0770300030708313
difference in average predicted and observed risk = -0.013948996929168705
number samples = 1297
accuracy = 0.91596
precision class 0 = 0.923259
precision class 1 = 0.636364
recall class 0 = 0.989822
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.010178
positive prediction rate = 0.025443
AUC of ROC = 0.872817
AUC of PRC = 0.448046
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[648   8]
 [ 60  14]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09430699795484543
difference in average predicted and observed risk = -0.007063002045154573
number samples = 730
accuracy = 0.906849
precision class 0 = 0.915254
precision class 1 = 0.636364
recall class 0 = 0.987805
recall class 1 = 0.189189
false negative rate = 0.810811
false positive rate = 0.012195
positive prediction rate = 0.030137
AUC of ROC = 0.874588
AUC of PRC = 0.522765
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0859680026769638
difference in average predicted and observed risk = -0.03968599732303618
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.929641
AUC of PRC = 0.75822
min(+P, Se) = 0.72

-------------------------------

confusion matrix:
[[2461   13]
 [ 219   36]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07094600051641464
difference in average predicted and observed risk = -0.022494999483585354
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.918284
precision class 1 = 0.734694
recall class 0 = 0.994745
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.005255
positive prediction rate = 0.017955
AUC of ROC = 0.871311
AUC of PRC = 0.476638
min(+P, Se) = 0.48249

-------------------------------

confusion matrix:
[[1665   18]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0936020016670227
difference in average predicted and observed risk = -0.020141998332977293
number samples = 1899
accuracy = 0.898894
precision class 0 = 0.905383
precision class 1 = 0.7
recall class 0 = 0.989305
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.010695
positive prediction rate = 0.031596
AUC of ROC = 0.867303
AUC of PRC = 0.520256
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[545   4]
 [ 69   8]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08578299731016159
difference in average predicted and observed risk = -0.03722000268983841
number samples = 626
accuracy = 0.883387
precision class 0 = 0.887622
precision class 1 = 0.666667
recall class 0 = 0.992714
recall class 1 = 0.103896
false negative rate = 0.896104
false positive rate = 0.007286
positive prediction rate = 0.019169
AUC of ROC = 0.888818
AUC of PRC = 0.545152
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2238   11]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06973999738693237
difference in average predicted and observed risk = -0.014916002613067622
number samples = 2457
accuracy = 0.921042
precision class 0 = 0.924411
precision class 1 = 0.694444
recall class 0 = 0.995109
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.004891
positive prediction rate = 0.014652
AUC of ROC = 0.86221
AUC of PRC = 0.446461
min(+P, Se) = 0.435407

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.0801289975643158
difference in average predicted and observed risk = -0.02067700243568421
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.789955
AUC of PRC = 0.295849
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[477   4]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10217799991369247
difference in average predicted and observed risk = -0.043470000086307525
number samples = 563
accuracy = 0.888099
precision class 0 = 0.889925
precision class 1 = 0.851852
recall class 0 = 0.991684
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.008316
positive prediction rate = 0.047957
AUC of ROC = 0.884463
AUC of PRC = 0.644096
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[647   8]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09388600289821625
difference in average predicted and observed risk = -0.013742997101783755
number samples = 734
accuracy = 0.907357
precision class 0 = 0.915134
precision class 1 = 0.703704
recall class 0 = 0.987786
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.012214
positive prediction rate = 0.036785
AUC of ROC = 0.877341
AUC of PRC = 0.522163
min(+P, Se) = 0.5375

-------------------------------

confusion matrix:
[[4126   31]
 [ 393   78]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08024200052022934
difference in average predicted and observed risk = -0.021529999479770662
number samples = 4628
accuracy = 0.908384
precision class 0 = 0.913034
precision class 1 = 0.715596
recall class 0 = 0.992543
recall class 1 = 0.165605
false negative rate = 0.834395
false positive rate = 0.007457
positive prediction rate = 0.023552
AUC of ROC = 0.869846
AUC of PRC = 0.497702
min(+P, Se) = 0.493697

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07799399644136429
difference in average predicted and observed risk = -0.002175003558635716
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.897634
AUC of PRC = 0.384152
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07598300278186798
difference in average predicted and observed risk = -0.03281299721813202
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.862282
AUC of PRC = 0.423614
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11671199649572372
difference in average predicted and observed risk = 0.006542996495723721
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.846154
AUC of PRC = 0.493075
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1040010005235672
difference in average predicted and observed risk = -0.029331999476432807
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09568899869918823
difference in average predicted and observed risk = -0.01935500130081176
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.817778
AUC of PRC = 0.3468
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0748170018196106
difference in average predicted and observed risk = -0.01723299818038941
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.909981
AUC of PRC = 0.5375
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06990399956703186
difference in average predicted and observed risk = -0.019298000432968143
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.877442
AUC of PRC = 0.389045
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09571199864149094
difference in average predicted and observed risk = -0.021935001358509065
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.890741
AUC of PRC = 0.608357
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08036500215530396
difference in average predicted and observed risk = -0.008344997844696042
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.872084
AUC of PRC = 0.317741
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11287499964237213
difference in average predicted and observed risk = -0.03673100035762786
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.83577
AUC of PRC = 0.519285
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11471399664878845
difference in average predicted and observed risk = 0.03576699664878845
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.461111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08347699791193008
difference in average predicted and observed risk = -0.018114002088069917
number samples = 817
accuracy = 0.908201
precision class 0 = 0.91239
precision class 1 = 0.722222
recall class 0 = 0.993188
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.006812
positive prediction rate = 0.022032
AUC of ROC = 0.872115
AUC of PRC = 0.44366
min(+P, Se) = 0.471264

-------------------------------

Epoch 00067: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch67.state
Epoch 68/100
 - 282s - loss: 0.2482 - val_loss: 0.2428

==>predicting on train



confusion matrix:
[[2145   10]
 [ 226   29]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07071900367736816
difference in average predicted and observed risk = -0.035089996322631836
number samples = 2410
accuracy = 0.902075
precision class 0 = 0.904682
precision class 1 = 0.74359
recall class 0 = 0.99536
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.00464
positive prediction rate = 0.016183
AUC of ROC = 0.863966
AUC of PRC = 0.513022
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1167   12]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07077600061893463
difference in average predicted and observed risk = -0.020202999381065373
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.921801
precision class 1 = 0.612903
recall class 0 = 0.989822
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.010178
positive prediction rate = 0.023901
AUC of ROC = 0.875728
AUC of PRC = 0.453282
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[650   6]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08484599739313126
difference in average predicted and observed risk = -0.016524002606868746
number samples = 730
accuracy = 0.908219
precision class 0 = 0.914205
precision class 1 = 0.684211
recall class 0 = 0.990854
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.009146
positive prediction rate = 0.026027
AUC of ROC = 0.871766
AUC of PRC = 0.526856
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07884199917316437
difference in average predicted and observed risk = -0.04681200082683562
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.931138
AUC of PRC = 0.727335
min(+P, Se) = 0.653846

-------------------------------

confusion matrix:
[[2460   14]
 [ 226   29]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06667599827051163
difference in average predicted and observed risk = -0.02676500172948837
number samples = 2729
accuracy = 0.912056
precision class 0 = 0.91586
precision class 1 = 0.674419
recall class 0 = 0.994341
recall class 1 = 0.113725
false negative rate = 0.886275
false positive rate = 0.005659
positive prediction rate = 0.015757
AUC of ROC = 0.87234
AUC of PRC = 0.476342
min(+P, Se) = 0.494118

-------------------------------

confusion matrix:
[[1669   14]
 [ 177   39]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0828159973025322
difference in average predicted and observed risk = -0.030928002697467802
number samples = 1899
accuracy = 0.899421
precision class 0 = 0.904117
precision class 1 = 0.735849
recall class 0 = 0.991682
recall class 1 = 0.180556
false negative rate = 0.819444
false positive rate = 0.008318
positive prediction rate = 0.027909
AUC of ROC = 0.86842
AUC of PRC = 0.527998
min(+P, Se) = 0.516129

-------------------------------

confusion matrix:
[[547   2]
 [ 68   9]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07698000222444534
difference in average predicted and observed risk = -0.04602299777555466
number samples = 626
accuracy = 0.888179
precision class 0 = 0.889431
precision class 1 = 0.818182
recall class 0 = 0.996357
recall class 1 = 0.116883
false negative rate = 0.883117
false positive rate = 0.003643
positive prediction rate = 0.017572
AUC of ROC = 0.876328
AUC of PRC = 0.543573
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2238   11]
 [ 184   24]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06415999680757523
difference in average predicted and observed risk = -0.02049600319242477
number samples = 2457
accuracy = 0.920635
precision class 0 = 0.92403
precision class 1 = 0.685714
recall class 0 = 0.995109
recall class 1 = 0.115385
false negative rate = 0.884615
false positive rate = 0.004891
positive prediction rate = 0.014245
AUC of ROC = 0.87152
AUC of PRC = 0.465027
min(+P, Se) = 0.456731

-------------------------------

confusion matrix:
[[220   3]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07437200099229813
difference in average predicted and observed risk = -0.02643399900770188
number samples = 248
accuracy = 0.899194
precision class 0 = 0.909091
precision class 1 = 0.5
recall class 0 = 0.986547
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.013453
positive prediction rate = 0.024194
AUC of ROC = 0.783857
AUC of PRC = 0.274006
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 66  16]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.0933689996600151
difference in average predicted and observed risk = -0.052279000339984893
number samples = 563
accuracy = 0.87389
precision class 0 = 0.878229
precision class 1 = 0.761905
recall class 0 = 0.989605
recall class 1 = 0.195122
false negative rate = 0.804878
false positive rate = 0.010395
positive prediction rate = 0.0373
AUC of ROC = 0.880762
AUC of PRC = 0.627891
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[648   7]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08499299734830856
difference in average predicted and observed risk = -0.02263600265169144
number samples = 734
accuracy = 0.904632
precision class 0 = 0.911392
precision class 1 = 0.695652
recall class 0 = 0.989313
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.010687
positive prediction rate = 0.031335
AUC of ROC = 0.875602
AUC of PRC = 0.517257
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4129   28]
 [ 403   68]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07329899817705154
difference in average predicted and observed risk = -0.028473001822948457
number samples = 4628
accuracy = 0.906871
precision class 0 = 0.911077
precision class 1 = 0.708333
recall class 0 = 0.993264
recall class 1 = 0.144374
false negative rate = 0.855626
false positive rate = 0.006736
positive prediction rate = 0.020743
AUC of ROC = 0.871074
AUC of PRC = 0.501692
min(+P, Se) = 0.502119

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07211700081825256
difference in average predicted and observed risk = -0.00805199918174744
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.892081
AUC of PRC = 0.374269
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06668700277805328
difference in average predicted and observed risk = -0.04210899722194672
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.85764
AUC of PRC = 0.417372
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10749900341033936
difference in average predicted and observed risk = -0.0026699965896606476
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.866667
AUC of PRC = 0.509536
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10086899995803833
difference in average predicted and observed risk = -0.03246400004196168
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08431900292634964
difference in average predicted and observed risk = -0.030724997073650354
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.830171
AUC of PRC = 0.353564
min(+P, Se) = 0.372093

-------------------------------

confusion matrix:
[[431   3]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06909500062465668
difference in average predicted and observed risk = -0.02295499937534333
number samples = 478
accuracy = 0.914226
precision class 0 = 0.918977
precision class 1 = 0.666667
recall class 0 = 0.993088
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.006912
positive prediction rate = 0.018828
AUC of ROC = 0.898094
AUC of PRC = 0.527035
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.061542000621557236
difference in average predicted and observed risk = -0.027659999378442768
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.87561
AUC of PRC = 0.406863
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[89  1]
 [11  1]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0864029973745346
difference in average predicted and observed risk = -0.031244002625465395
number samples = 102
accuracy = 0.882353
precision class 0 = 0.89
precision class 1 = 0.5
recall class 0 = 0.988889
recall class 1 = 0.083333
false negative rate = 0.916667
false positive rate = 0.011111
positive prediction rate = 0.019608
AUC of ROC = 0.905556
AUC of PRC = 0.549243
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.069582998752594
difference in average predicted and observed risk = -0.019127001247406003
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.889783
AUC of PRC = 0.365808
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10731100291013718
difference in average predicted and observed risk = -0.04229499708986281
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.825536
AUC of PRC = 0.471204
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11380799859762192
difference in average predicted and observed risk = 0.034860998597621914
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[728   6]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07541199773550034
difference in average predicted and observed risk = -0.026179002264499665
number samples = 817
accuracy = 0.904529
precision class 0 = 0.91
precision class 1 = 0.647059
recall class 0 = 0.991826
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.008174
positive prediction rate = 0.020808
AUC of ROC = 0.870999
AUC of PRC = 0.43344
min(+P, Se) = 0.464286

-------------------------------

Epoch 00068: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch68.state
Epoch 69/100
 - 278s - loss: 0.2419 - val_loss: 0.2369

==>predicting on train



confusion matrix:
[[2144   11]
 [ 217   38]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07451499998569489
difference in average predicted and observed risk = -0.031294000014305115
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.90809
precision class 1 = 0.77551
recall class 0 = 0.994896
recall class 1 = 0.14902
false negative rate = 0.85098
false positive rate = 0.005104
positive prediction rate = 0.020332
AUC of ROC = 0.857137
AUC of PRC = 0.506715
min(+P, Se) = 0.482625

-------------------------------

confusion matrix:
[[1164   15]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07573000341653824
difference in average predicted and observed risk = -0.015248996583461766
number samples = 1297
accuracy = 0.914418
precision class 0 = 0.92381
precision class 1 = 0.594595
recall class 0 = 0.987277
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.012723
positive prediction rate = 0.028527
AUC of ROC = 0.871207
AUC of PRC = 0.435894
min(+P, Se) = 0.434426

-------------------------------

confusion matrix:
[[647   9]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09195300191640854
difference in average predicted and observed risk = -0.009416998083591463
number samples = 730
accuracy = 0.913699
precision class 0 = 0.922967
precision class 1 = 0.689655
recall class 0 = 0.986281
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.01372
positive prediction rate = 0.039726
AUC of ROC = 0.870839
AUC of PRC = 0.53444
min(+P, Se) = 0.540541

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08350799977779388
difference in average predicted and observed risk = -0.042146000222206104
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.933882
AUC of PRC = 0.742794
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2455   19]
 [ 216   39]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07112099975347519
difference in average predicted and observed risk = -0.022320000246524807
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.919131
precision class 1 = 0.672414
recall class 0 = 0.99232
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.00768
positive prediction rate = 0.021253
AUC of ROC = 0.865492
AUC of PRC = 0.464812
min(+P, Se) = 0.468992

-------------------------------

confusion matrix:
[[1667   16]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08782999962568283
difference in average predicted and observed risk = -0.025914000374317167
number samples = 1899
accuracy = 0.903107
precision class 0 = 0.908447
precision class 1 = 0.75
recall class 0 = 0.990493
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.009507
positive prediction rate = 0.033702
AUC of ROC = 0.866734
AUC of PRC = 0.527821
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[543   6]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08401399850845337
difference in average predicted and observed risk = -0.03898900149154663
number samples = 626
accuracy = 0.884984
precision class 0 = 0.891626
precision class 1 = 0.647059
recall class 0 = 0.989071
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.010929
positive prediction rate = 0.027157
AUC of ROC = 0.873962
AUC of PRC = 0.53354
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2238   11]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06760899722576141
difference in average predicted and observed risk = -0.01704700277423858
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.926708
precision class 1 = 0.738095
recall class 0 = 0.995109
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.004891
positive prediction rate = 0.017094
AUC of ROC = 0.862935
AUC of PRC = 0.453339
min(+P, Se) = 0.418269

-------------------------------

confusion matrix:
[[218   5]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07535800337791443
difference in average predicted and observed risk = -0.025447996622085578
number samples = 248
accuracy = 0.891129
precision class 0 = 0.908333
precision class 1 = 0.375
recall class 0 = 0.977578
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.022422
positive prediction rate = 0.032258
AUC of ROC = 0.785471
AUC of PRC = 0.273768
min(+P, Se) = 0.344828

-------------------------------

confusion matrix:
[[475   6]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10059399902820587
difference in average predicted and observed risk = -0.04505400097179413
number samples = 563
accuracy = 0.884547
precision class 0 = 0.889513
precision class 1 = 0.793103
recall class 0 = 0.987526
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.012474
positive prediction rate = 0.05151
AUC of ROC = 0.882105
AUC of PRC = 0.634408
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[648   7]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09107200056314468
difference in average predicted and observed risk = -0.01655699943685532
number samples = 734
accuracy = 0.908719
precision class 0 = 0.915254
precision class 1 = 0.730769
recall class 0 = 0.989313
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.010687
positive prediction rate = 0.035422
AUC of ROC = 0.872355
AUC of PRC = 0.525304
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4122   35]
 [ 384   87]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0779770016670227
difference in average predicted and observed risk = -0.023794998332977296
number samples = 4628
accuracy = 0.909464
precision class 0 = 0.91478
precision class 1 = 0.713115
recall class 0 = 0.99158
recall class 1 = 0.184713
false negative rate = 0.815287
false positive rate = 0.00842
positive prediction rate = 0.026361
AUC of ROC = 0.866241
AUC of PRC = 0.494972
min(+P, Se) = 0.4862

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07604800164699554
difference in average predicted and observed risk = -0.00412099835300446
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.90029
AUC of PRC = 0.393075
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0715470016002655
difference in average predicted and observed risk = -0.0372489983997345
number samples = 432
accuracy = 0.893519
precision class 0 = 0.896955
precision class 1 = 0.6
recall class 0 = 0.994805
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.005195
positive prediction rate = 0.011574
AUC of ROC = 0.858359
AUC of PRC = 0.469859
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11403399705886841
difference in average predicted and observed risk = 0.003864997058868405
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.873993
AUC of PRC = 0.55412
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10065899789333344
difference in average predicted and observed risk = -0.03267400210666657
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08923500031232834
difference in average predicted and observed risk = -0.025808999687671655
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.833761
AUC of PRC = 0.377926
min(+P, Se) = 0.414634

-------------------------------

confusion matrix:
[[431   3]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07355000078678131
difference in average predicted and observed risk = -0.018499999213218696
number samples = 478
accuracy = 0.91841
precision class 0 = 0.922912
precision class 1 = 0.727273
recall class 0 = 0.993088
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.006912
positive prediction rate = 0.023013
AUC of ROC = 0.900869
AUC of PRC = 0.545323
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06499200314283371
difference in average predicted and observed risk = -0.024209996857166294
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.871541
AUC of PRC = 0.429756
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09353800117969513
difference in average predicted and observed risk = -0.024108998820304872
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.912037
AUC of PRC = 0.629255
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07649900019168854
difference in average predicted and observed risk = -0.01221099980831146
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.879324
AUC of PRC = 0.339611
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11263199895620346
difference in average predicted and observed risk = -0.03697400104379653
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.834308
AUC of PRC = 0.484364
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11552000045776367
difference in average predicted and observed risk = 0.03657300045776367
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.637897
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08005800098180771
difference in average predicted and observed risk = -0.021532999018192292
number samples = 817
accuracy = 0.904529
precision class 0 = 0.911028
precision class 1 = 0.631579
recall class 0 = 0.990463
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.009537
positive prediction rate = 0.023256
AUC of ROC = 0.872476
AUC of PRC = 0.453064
min(+P, Se) = 0.488636

-------------------------------

Epoch 00069: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch69.state
Epoch 70/100
 - 278s - loss: 0.2468 - val_loss: 0.2387

==>predicting on train



confusion matrix:
[[2144   11]
 [ 220   35]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07258500158786774
difference in average predicted and observed risk = -0.03322399841213226
number samples = 2410
accuracy = 0.904149
precision class 0 = 0.906937
precision class 1 = 0.76087
recall class 0 = 0.994896
recall class 1 = 0.137255
false negative rate = 0.862745
false positive rate = 0.005104
positive prediction rate = 0.019087
AUC of ROC = 0.852724
AUC of PRC = 0.494243
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1165   14]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07301999628543854
difference in average predicted and observed risk = -0.017959003714561467
number samples = 1297
accuracy = 0.915189
precision class 0 = 0.92387
precision class 1 = 0.611111
recall class 0 = 0.988126
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.011874
positive prediction rate = 0.027756
AUC of ROC = 0.870509
AUC of PRC = 0.439949
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[648   8]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08999600261449814
difference in average predicted and observed risk = -0.011373997385501863
number samples = 730
accuracy = 0.913699
precision class 0 = 0.921764
precision class 1 = 0.703704
recall class 0 = 0.987805
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.012195
positive prediction rate = 0.036986
AUC of ROC = 0.871313
AUC of PRC = 0.532164
min(+P, Se) = 0.552632

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08183299750089645
difference in average predicted and observed risk = -0.043821002499103534
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.934132
AUC of PRC = 0.756785
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2457   17]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06874799728393555
difference in average predicted and observed risk = -0.02469300271606445
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.919536
precision class 1 = 0.701754
recall class 0 = 0.993129
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.006871
positive prediction rate = 0.020887
AUC of ROC = 0.861254
AUC of PRC = 0.457504
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1667   16]
 [ 173   43]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08601900190114975
difference in average predicted and observed risk = -0.027724998098850248
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.905978
precision class 1 = 0.728814
recall class 0 = 0.990493
recall class 1 = 0.199074
false negative rate = 0.800926
false positive rate = 0.009507
positive prediction rate = 0.031069
AUC of ROC = 0.866571
AUC of PRC = 0.525309
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[544   5]
 [ 67  10]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08241499960422516
difference in average predicted and observed risk = -0.04058800039577484
number samples = 626
accuracy = 0.884984
precision class 0 = 0.890344
precision class 1 = 0.666667
recall class 0 = 0.990893
recall class 1 = 0.12987
false negative rate = 0.87013
false positive rate = 0.009107
positive prediction rate = 0.023962
AUC of ROC = 0.867149
AUC of PRC = 0.52467
min(+P, Se) = 0.551282

-------------------------------

confusion matrix:
[[2238   11]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06596200168132782
difference in average predicted and observed risk = -0.018693998318672175
number samples = 2457
accuracy = 0.922263
precision class 0 = 0.925558
precision class 1 = 0.717949
recall class 0 = 0.995109
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.004891
positive prediction rate = 0.015873
AUC of ROC = 0.859955
AUC of PRC = 0.445122
min(+P, Se) = 0.427885

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07337799668312073
difference in average predicted and observed risk = -0.02742800331687928
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.787265
AUC of PRC = 0.278723
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[475   6]
 [ 60  22]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09689600020647049
difference in average predicted and observed risk = -0.04875199979352951
number samples = 563
accuracy = 0.882771
precision class 0 = 0.88785
precision class 1 = 0.785714
recall class 0 = 0.987526
recall class 1 = 0.268293
false negative rate = 0.731707
false positive rate = 0.012474
positive prediction rate = 0.049734
AUC of ROC = 0.879545
AUC of PRC = 0.621881
min(+P, Se) = 0.60241

-------------------------------

confusion matrix:
[[648   7]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08794599771499634
difference in average predicted and observed risk = -0.019683002285003665
number samples = 734
accuracy = 0.910082
precision class 0 = 0.916549
precision class 1 = 0.740741
recall class 0 = 0.989313
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.010687
positive prediction rate = 0.036785
AUC of ROC = 0.873109
AUC of PRC = 0.522522
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4124   33]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07583499699831009
difference in average predicted and observed risk = -0.025937003001689912
number samples = 4628
accuracy = 0.909032
precision class 0 = 0.914007
precision class 1 = 0.715517
recall class 0 = 0.992062
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.007938
positive prediction rate = 0.025065
AUC of ROC = 0.863726
AUC of PRC = 0.490229
min(+P, Se) = 0.485477

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07462800294160843
difference in average predicted and observed risk = -0.005540997058391575
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.896427
AUC of PRC = 0.393026
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06987400352954865
difference in average predicted and observed risk = -0.03892199647045136
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.856093
AUC of PRC = 0.480982
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10860899835824966
difference in average predicted and observed risk = -0.0015600016417503387
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.850549
AUC of PRC = 0.498828
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10181199759244919
difference in average predicted and observed risk = -0.03152100240755082
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08762499690055847
difference in average predicted and observed risk = -0.027419003099441522
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.818547
AUC of PRC = 0.359063
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07120999693870544
difference in average predicted and observed risk = -0.020840003061294562
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.90176
AUC of PRC = 0.557152
min(+P, Se) = 0.568182

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06359899789094925
difference in average predicted and observed risk = -0.025603002109050754
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.873847
AUC of PRC = 0.432388
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09112899750471115
difference in average predicted and observed risk = -0.02651800249528885
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.906481
AUC of PRC = 0.673262
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0742570012807846
difference in average predicted and observed risk = -0.01445299871921539
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.871279
AUC of PRC = 0.340155
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11068899929523468
difference in average predicted and observed risk = -0.03891700070476531
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.820175
AUC of PRC = 0.511861
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10761299729347229
difference in average predicted and observed risk = 0.028665997293472287
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.933333
AUC of PRC = 0.582341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[730   4]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07802099734544754
difference in average predicted and observed risk = -0.02357000265455246
number samples = 817
accuracy = 0.910649
precision class 0 = 0.913642
precision class 1 = 0.777778
recall class 0 = 0.99455
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.00545
positive prediction rate = 0.022032
AUC of ROC = 0.867864
AUC of PRC = 0.461315
min(+P, Se) = 0.46988

-------------------------------

Epoch 00070: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch70.state
Epoch 71/100
 - 280s - loss: 0.2465 - val_loss: 0.2291

==>predicting on train



confusion matrix:
[[2137   18]
 [ 209   46]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08187100291252136
difference in average predicted and observed risk = -0.023937997087478638
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.910912
precision class 1 = 0.71875
recall class 0 = 0.991647
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.008353
positive prediction rate = 0.026556
AUC of ROC = 0.86132
AUC of PRC = 0.501307
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1162   17]
 [  87   31]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08131799846887589
difference in average predicted and observed risk = -0.00966100153112412
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.930344
precision class 1 = 0.645833
recall class 0 = 0.985581
recall class 1 = 0.262712
false negative rate = 0.737288
false positive rate = 0.014419
positive prediction rate = 0.037008
AUC of ROC = 0.876159
AUC of PRC = 0.442868
min(+P, Se) = 0.415254

-------------------------------

confusion matrix:
[[647   9]
 [ 52  22]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10093899816274643
difference in average predicted and observed risk = -0.00043100183725357233
number samples = 730
accuracy = 0.916438
precision class 0 = 0.925608
precision class 1 = 0.709677
recall class 0 = 0.986281
recall class 1 = 0.297297
false negative rate = 0.702703
false positive rate = 0.01372
positive prediction rate = 0.042466
AUC of ROC = 0.878193
AUC of PRC = 0.510491
min(+P, Se) = 0.506024

-------------------------------

confusion matrix:
[[166   1]
 [ 14  10]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09181199967861176
difference in average predicted and observed risk = -0.03384200032138823
number samples = 191
accuracy = 0.921466
precision class 0 = 0.922222
precision class 1 = 0.909091
recall class 0 = 0.994012
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.005988
positive prediction rate = 0.057592
AUC of ROC = 0.929142
AUC of PRC = 0.751812
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2451   23]
 [ 200   55]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07712099701166153
difference in average predicted and observed risk = -0.016320002988338467
number samples = 2729
accuracy = 0.918285
precision class 0 = 0.924557
precision class 1 = 0.705128
recall class 0 = 0.990703
recall class 1 = 0.215686
false negative rate = 0.784314
false positive rate = 0.009297
positive prediction rate = 0.028582
AUC of ROC = 0.870732
AUC of PRC = 0.466272
min(+P, Se) = 0.476744

-------------------------------

confusion matrix:
[[1661   22]
 [ 162   54]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09664899855852127
difference in average predicted and observed risk = -0.017095001441478727
number samples = 1899
accuracy = 0.903107
precision class 0 = 0.911135
precision class 1 = 0.710526
recall class 0 = 0.986928
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.013072
positive prediction rate = 0.040021
AUC of ROC = 0.870238
AUC of PRC = 0.525661
min(+P, Se) = 0.502304

-------------------------------

confusion matrix:
[[543   6]
 [ 61  16]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09276299923658371
difference in average predicted and observed risk = -0.03024000076341629
number samples = 626
accuracy = 0.892971
precision class 0 = 0.899007
precision class 1 = 0.727273
recall class 0 = 0.989071
recall class 1 = 0.207792
false negative rate = 0.792208
false positive rate = 0.010929
positive prediction rate = 0.035144
AUC of ROC = 0.880373
AUC of PRC = 0.528283
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2232   17]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07358399778604507
difference in average predicted and observed risk = -0.01107200221395492
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.928453
precision class 1 = 0.679245
recall class 0 = 0.992441
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.007559
positive prediction rate = 0.021571
AUC of ROC = 0.863873
AUC of PRC = 0.44168
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[217   6]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08285699784755707
difference in average predicted and observed risk = -0.01794900215244294
number samples = 248
accuracy = 0.891129
precision class 0 = 0.911765
precision class 1 = 0.4
recall class 0 = 0.973094
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.026906
positive prediction rate = 0.040323
AUC of ROC = 0.801435
AUC of PRC = 0.29258
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[474   7]
 [ 51  31]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10929399728775024
difference in average predicted and observed risk = -0.036354002712249756
number samples = 563
accuracy = 0.89698
precision class 0 = 0.902857
precision class 1 = 0.815789
recall class 0 = 0.985447
recall class 1 = 0.378049
false negative rate = 0.621951
false positive rate = 0.014553
positive prediction rate = 0.067496
AUC of ROC = 0.885782
AUC of PRC = 0.639224
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[646   9]
 [ 57  22]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09952600300312042
difference in average predicted and observed risk = -0.00810299699687958
number samples = 734
accuracy = 0.910082
precision class 0 = 0.918919
precision class 1 = 0.709677
recall class 0 = 0.98626
recall class 1 = 0.278481
false negative rate = 0.721519
false positive rate = 0.01374
positive prediction rate = 0.042234
AUC of ROC = 0.877843
AUC of PRC = 0.508067
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4112   45]
 [ 362  109]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08513399958610535
difference in average predicted and observed risk = -0.016638000413894655
number samples = 4628
accuracy = 0.912057
precision class 0 = 0.919088
precision class 1 = 0.707792
recall class 0 = 0.989175
recall class 1 = 0.231422
false negative rate = 0.768578
false positive rate = 0.010825
positive prediction rate = 0.033276
AUC of ROC = 0.87043
AUC of PRC = 0.49326
min(+P, Se) = 0.4875

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 12   7]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08454199880361557
difference in average predicted and observed risk = 0.004372998803615566
number samples = 237
accuracy = 0.936709
precision class 0 = 0.947137
precision class 1 = 0.7
recall class 0 = 0.986239
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.013761
positive prediction rate = 0.042194
AUC of ROC = 0.908015
AUC of PRC = 0.426187
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07897599786520004
difference in average predicted and observed risk = -0.02982000213479996
number samples = 432
accuracy = 0.898148
precision class 0 = 0.901176
precision class 1 = 0.714286
recall class 0 = 0.994805
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.005195
positive prediction rate = 0.016204
AUC of ROC = 0.871456
AUC of PRC = 0.496773
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1241379976272583
difference in average predicted and observed risk = 0.013968997627258298
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.841026
AUC of PRC = 0.505362
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10969199985265732
difference in average predicted and observed risk = -0.02364100014734269
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[295   5]
 [ 31   8]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10060399770736694
difference in average predicted and observed risk = -0.01444000229263305
number samples = 339
accuracy = 0.893805
precision class 0 = 0.904908
precision class 1 = 0.615385
recall class 0 = 0.983333
recall class 1 = 0.205128
false negative rate = 0.794872
false positive rate = 0.016667
positive prediction rate = 0.038348
AUC of ROC = 0.836154
AUC of PRC = 0.385775
min(+P, Se) = 0.439024

-------------------------------

confusion matrix:
[[433   1]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07947400212287903
difference in average predicted and observed risk = -0.012575997877120978
number samples = 478
accuracy = 0.92887
precision class 0 = 0.929185
precision class 1 = 0.916667
recall class 0 = 0.997696
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.002304
positive prediction rate = 0.025105
AUC of ROC = 0.908724
AUC of PRC = 0.591928
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[387   1]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07278700172901154
difference in average predicted and observed risk = -0.016414998270988468
number samples = 426
accuracy = 0.922535
precision class 0 = 0.923628
precision class 1 = 0.857143
recall class 0 = 0.997423
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.002577
positive prediction rate = 0.016432
AUC of ROC = 0.889107
AUC of PRC = 0.469089
min(+P, Se) = 0.422222

-------------------------------

confusion matrix:
[[89  1]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10141599923372269
difference in average predicted and observed risk = -0.016231000766277315
number samples = 102
accuracy = 0.911765
precision class 0 = 0.917526
precision class 1 = 0.8
recall class 0 = 0.988889
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.011111
positive prediction rate = 0.04902
AUC of ROC = 0.893519
AUC of PRC = 0.689883
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0845390036702156
difference in average predicted and observed risk = -0.0041709963297843905
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.88576
AUC of PRC = 0.355109
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12256799638271332
difference in average predicted and observed risk = -0.02703800361728667
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.826511
AUC of PRC = 0.508455
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12348999828100204
difference in average predicted and observed risk = 0.04454299828100204
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.952381
AUC of PRC = 0.622222
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08824200183153152
difference in average predicted and observed risk = -0.013348998168468476
number samples = 817
accuracy = 0.914321
precision class 0 = 0.919192
precision class 1 = 0.76
recall class 0 = 0.991826
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.008174
positive prediction rate = 0.0306
AUC of ROC = 0.878238
AUC of PRC = 0.485738
min(+P, Se) = 0.5

-------------------------------

Epoch 00071: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch71.state
Epoch 72/100
 - 278s - loss: 0.2417 - val_loss: 0.2309

==>predicting on train



confusion matrix:
[[2139   16]
 [ 210   45]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09289500117301941
difference in average predicted and observed risk = -0.012913998826980591
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.9106
precision class 1 = 0.737705
recall class 0 = 0.992575
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.007425
positive prediction rate = 0.025311
AUC of ROC = 0.865133
AUC of PRC = 0.520308
min(+P, Se) = 0.505618

-------------------------------

confusion matrix:
[[1160   19]
 [  86   32]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.09195099771022797
difference in average predicted and observed risk = 0.000971997710227962
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.930979
precision class 1 = 0.627451
recall class 0 = 0.983885
recall class 1 = 0.271186
false negative rate = 0.728814
false positive rate = 0.016115
positive prediction rate = 0.039322
AUC of ROC = 0.882398
AUC of PRC = 0.456464
min(+P, Se) = 0.408333

-------------------------------

confusion matrix:
[[645  11]
 [ 51  23]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.11143399775028229
difference in average predicted and observed risk = 0.010063997750282286
number samples = 730
accuracy = 0.915069
precision class 0 = 0.926724
precision class 1 = 0.676471
recall class 0 = 0.983232
recall class 1 = 0.310811
false negative rate = 0.689189
false positive rate = 0.016768
positive prediction rate = 0.046575
AUC of ROC = 0.882066
AUC of PRC = 0.525854
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[166   1]
 [ 14  10]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10404399782419205
difference in average predicted and observed risk = -0.02161000217580794
number samples = 191
accuracy = 0.921466
precision class 0 = 0.922222
precision class 1 = 0.909091
recall class 0 = 0.994012
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.005988
positive prediction rate = 0.057592
AUC of ROC = 0.93488
AUC of PRC = 0.763338
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2449   25]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08692000061273575
difference in average predicted and observed risk = -0.006520999387264248
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.923802
precision class 1 = 0.679487
recall class 0 = 0.989895
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.010105
positive prediction rate = 0.028582
AUC of ROC = 0.874109
AUC of PRC = 0.477534
min(+P, Se) = 0.478599

-------------------------------

confusion matrix:
[[1661   22]
 [ 159   57]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10908599942922592
difference in average predicted and observed risk = -0.004658000570774076
number samples = 1899
accuracy = 0.904687
precision class 0 = 0.912637
precision class 1 = 0.721519
recall class 0 = 0.986928
recall class 1 = 0.263889
false negative rate = 0.736111
false positive rate = 0.013072
positive prediction rate = 0.041601
AUC of ROC = 0.876098
AUC of PRC = 0.542737
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[543   6]
 [ 61  16]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.1031389981508255
difference in average predicted and observed risk = -0.0198640018491745
number samples = 626
accuracy = 0.892971
precision class 0 = 0.899007
precision class 1 = 0.727273
recall class 0 = 0.989071
recall class 1 = 0.207792
false negative rate = 0.792208
false positive rate = 0.010929
positive prediction rate = 0.035144
AUC of ROC = 0.87919
AUC of PRC = 0.538394
min(+P, Se) = 0.512195

-------------------------------

confusion matrix:
[[2231   18]
 [ 169   39]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08436399698257446
difference in average predicted and observed risk = -0.00029200301742553225
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.929583
precision class 1 = 0.684211
recall class 0 = 0.991996
recall class 1 = 0.1875
false negative rate = 0.8125
false positive rate = 0.008004
positive prediction rate = 0.023199
AUC of ROC = 0.87482
AUC of PRC = 0.470494
min(+P, Se) = 0.443925

-------------------------------

confusion matrix:
[[217   6]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09457899630069733
difference in average predicted and observed risk = -0.00622700369930268
number samples = 248
accuracy = 0.887097
precision class 0 = 0.90795
precision class 1 = 0.333333
recall class 0 = 0.973094
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.026906
positive prediction rate = 0.03629
AUC of ROC = 0.790673
AUC of PRC = 0.265188
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[473   8]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.12066599726676941
difference in average predicted and observed risk = -0.02498200273323059
number samples = 563
accuracy = 0.889876
precision class 0 = 0.897533
precision class 1 = 0.777778
recall class 0 = 0.983368
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.016632
positive prediction rate = 0.063943
AUC of ROC = 0.88748
AUC of PRC = 0.643237
min(+P, Se) = 0.590361

-------------------------------

confusion matrix:
[[646   9]
 [ 55  24]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.11051599681377411
difference in average predicted and observed risk = 0.0028869968137741064
number samples = 734
accuracy = 0.912807
precision class 0 = 0.921541
precision class 1 = 0.727273
recall class 0 = 0.98626
recall class 1 = 0.303797
false negative rate = 0.696203
false positive rate = 0.01374
positive prediction rate = 0.044959
AUC of ROC = 0.880375
AUC of PRC = 0.53009
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4110   47]
 [ 361  110]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09601499885320663
difference in average predicted and observed risk = -0.005757001146793367
number samples = 4628
accuracy = 0.911841
precision class 0 = 0.919257
precision class 1 = 0.700637
recall class 0 = 0.988694
recall class 1 = 0.233546
false negative rate = 0.766454
false positive rate = 0.011306
positive prediction rate = 0.033924
AUC of ROC = 0.875212
AUC of PRC = 0.507023
min(+P, Se) = 0.485597

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.09649500250816345
difference in average predicted and observed risk = 0.016326002508163448
number samples = 237
accuracy = 0.936709
precision class 0 = 0.943231
precision class 1 = 0.75
recall class 0 = 0.990826
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.009174
positive prediction rate = 0.033755
AUC of ROC = 0.907774
AUC of PRC = 0.408425
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[381   4]
 [ 41   6]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.09118399769067764
difference in average predicted and observed risk = -0.01761200230932236
number samples = 432
accuracy = 0.895833
precision class 0 = 0.902844
precision class 1 = 0.6
recall class 0 = 0.98961
recall class 1 = 0.12766
false negative rate = 0.87234
false positive rate = 0.01039
positive prediction rate = 0.023148
AUC of ROC = 0.862172
AUC of PRC = 0.485426
min(+P, Se) = 0.46

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13828399777412415
difference in average predicted and observed risk = 0.028114997774124142
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.859341
AUC of PRC = 0.583306
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.119268998503685
difference in average predicted and observed risk = -0.01406400149631501
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 32   7]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11294499784708023
difference in average predicted and observed risk = -0.0020990021529197628
number samples = 339
accuracy = 0.890855
precision class 0 = 0.902141
precision class 1 = 0.583333
recall class 0 = 0.983333
recall class 1 = 0.179487
false negative rate = 0.820513
false positive rate = 0.016667
positive prediction rate = 0.035398
AUC of ROC = 0.842308
AUC of PRC = 0.422441
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[432   2]
 [ 32  12]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.09177400171756744
difference in average predicted and observed risk = -0.00027599828243256297
number samples = 478
accuracy = 0.92887
precision class 0 = 0.931035
precision class 1 = 0.857143
recall class 0 = 0.995392
recall class 1 = 0.272727
false negative rate = 0.727273
false positive rate = 0.004608
positive prediction rate = 0.029289
AUC of ROC = 0.896104
AUC of PRC = 0.545801
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.08188799768686295
difference in average predicted and observed risk = -0.007314002313137058
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.882528
AUC of PRC = 0.462228
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11301500350236893
difference in average predicted and observed risk = -0.004631996497631075
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.910185
AUC of PRC = 0.700555
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0993179976940155
difference in average predicted and observed risk = 0.010607997694015506
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.89461
AUC of PRC = 0.365888
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13963399827480316
difference in average predicted and observed risk = -0.009972001725196827
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.824074
AUC of PRC = 0.520563
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14988699555397034
difference in average predicted and observed risk = 0.07093999555397033
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.933333
AUC of PRC = 0.568651
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[727   7]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.10055900365114212
difference in average predicted and observed risk = -0.0010319963488578804
number samples = 817
accuracy = 0.913097
precision class 0 = 0.91909
precision class 1 = 0.730769
recall class 0 = 0.990463
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.009537
positive prediction rate = 0.031824
AUC of ROC = 0.874774
AUC of PRC = 0.485632
min(+P, Se) = 0.457831

-------------------------------

Epoch 00072: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch72.state
Epoch 73/100
 - 284s - loss: 0.2402 - val_loss: 0.2382

==>predicting on train



confusion matrix:
[[2141   14]
 [ 209   46]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09108299762010574
difference in average predicted and observed risk = -0.014726002379894257
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.911064
precision class 1 = 0.766667
recall class 0 = 0.993503
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.006497
positive prediction rate = 0.024896
AUC of ROC = 0.851683
AUC of PRC = 0.498911
min(+P, Se) = 0.484375

-------------------------------

confusion matrix:
[[1164   15]
 [  88   30]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08948799967765808
difference in average predicted and observed risk = -0.0014910003223419233
number samples = 1297
accuracy = 0.920586
precision class 0 = 0.929712
precision class 1 = 0.666667
recall class 0 = 0.987277
recall class 1 = 0.254237
false negative rate = 0.745763
false positive rate = 0.012723
positive prediction rate = 0.034695
AUC of ROC = 0.872529
AUC of PRC = 0.441891
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[648   8]
 [ 51  23]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10986900329589844
difference in average predicted and observed risk = 0.008499003295898436
number samples = 730
accuracy = 0.919178
precision class 0 = 0.927039
precision class 1 = 0.741935
recall class 0 = 0.987805
recall class 1 = 0.310811
false negative rate = 0.689189
false positive rate = 0.012195
positive prediction rate = 0.042466
AUC of ROC = 0.865009
AUC of PRC = 0.517283
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.10052499920129776
difference in average predicted and observed risk = -0.025129000798702228
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.916667
AUC of PRC = 0.731245
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2455   19]
 [ 203   52]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08499400317668915
difference in average predicted and observed risk = -0.008446996823310848
number samples = 2729
accuracy = 0.918652
precision class 0 = 0.923627
precision class 1 = 0.732394
recall class 0 = 0.99232
recall class 1 = 0.203922
false negative rate = 0.796078
false positive rate = 0.00768
positive prediction rate = 0.026017
AUC of ROC = 0.860878
AUC of PRC = 0.457483
min(+P, Se) = 0.454902

-------------------------------

confusion matrix:
[[1664   19]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10691499710083008
difference in average predicted and observed risk = -0.00682900289916992
number samples = 1899
accuracy = 0.90574
precision class 0 = 0.912281
precision class 1 = 0.746667
recall class 0 = 0.988711
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.011289
positive prediction rate = 0.039494
AUC of ROC = 0.863149
AUC of PRC = 0.52409
min(+P, Se) = 0.49537

-------------------------------

confusion matrix:
[[543   6]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10010500252246857
difference in average predicted and observed risk = -0.022897997477531434
number samples = 626
accuracy = 0.889776
precision class 0 = 0.89604
precision class 1 = 0.7
recall class 0 = 0.989071
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.010929
positive prediction rate = 0.031949
AUC of ROC = 0.864476
AUC of PRC = 0.523021
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[2236   13]
 [ 168   40]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.08254799991846085
difference in average predicted and observed risk = -0.002108000081539149
number samples = 2457
accuracy = 0.926333
precision class 0 = 0.930116
precision class 1 = 0.754717
recall class 0 = 0.99422
recall class 1 = 0.192308
false negative rate = 0.807692
false positive rate = 0.00578
positive prediction rate = 0.021571
AUC of ROC = 0.858604
AUC of PRC = 0.445655
min(+P, Se) = 0.413462

-------------------------------

confusion matrix:
[[218   5]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.09017399698495865
difference in average predicted and observed risk = -0.010632003015041358
number samples = 248
accuracy = 0.891129
precision class 0 = 0.908333
precision class 1 = 0.375
recall class 0 = 0.977578
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.022422
positive prediction rate = 0.032258
AUC of ROC = 0.787444
AUC of PRC = 0.273559
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[475   6]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11852400004863739
difference in average predicted and observed risk = -0.02712399995136261
number samples = 563
accuracy = 0.891652
precision class 0 = 0.896226
precision class 1 = 0.818182
recall class 0 = 0.987526
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.012474
positive prediction rate = 0.058615
AUC of ROC = 0.875792
AUC of PRC = 0.629932
min(+P, Se) = 0.590361

-------------------------------

confusion matrix:
[[647   8]
 [ 55  24]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10954000055789948
difference in average predicted and observed risk = 0.0019110005578994727
number samples = 734
accuracy = 0.914169
precision class 0 = 0.921652
precision class 1 = 0.75
recall class 0 = 0.987786
recall class 1 = 0.303797
false negative rate = 0.696203
false positive rate = 0.012214
positive prediction rate = 0.043597
AUC of ROC = 0.872703
AUC of PRC = 0.509006
min(+P, Se) = 0.493671

-------------------------------

confusion matrix:
[[4119   38]
 [ 363  108]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09398899972438812
difference in average predicted and observed risk = -0.007783000275611879
number samples = 4628
accuracy = 0.913354
precision class 0 = 0.919009
precision class 1 = 0.739726
recall class 0 = 0.990859
recall class 1 = 0.229299
false negative rate = 0.770701
false positive rate = 0.009141
positive prediction rate = 0.031547
AUC of ROC = 0.861993
AUC of PRC = 0.489236
min(+P, Se) = 0.473461

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 12   7]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0927330031991005
difference in average predicted and observed risk = 0.01256400319910049
number samples = 237
accuracy = 0.940928
precision class 0 = 0.947368
precision class 1 = 0.777778
recall class 0 = 0.990826
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.009174
positive prediction rate = 0.037975
AUC of ROC = 0.892564
AUC of PRC = 0.396574
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[383   2]
 [ 42   5]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08755200356245041
difference in average predicted and observed risk = -0.021243996437549595
number samples = 432
accuracy = 0.898148
precision class 0 = 0.901176
precision class 1 = 0.714286
recall class 0 = 0.994805
recall class 1 = 0.106383
false negative rate = 0.893617
false positive rate = 0.005195
positive prediction rate = 0.016204
AUC of ROC = 0.848687
AUC of PRC = 0.449533
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[104   1]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.13453799486160278
difference in average predicted and observed risk = 0.02436899486160278
number samples = 118
accuracy = 0.923729
precision class 0 = 0.928571
precision class 1 = 0.833333
recall class 0 = 0.990476
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.009524
positive prediction rate = 0.050847
AUC of ROC = 0.848352
AUC of PRC = 0.562837
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[25  1]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11986500024795532
difference in average predicted and observed risk = -0.013467999752044685
number samples = 30
accuracy = 0.9
precision class 0 = 0.925926
precision class 1 = 0.666667
recall class 0 = 0.961538
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.038462
positive prediction rate = 0.1
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 31   8]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.11024600267410278
difference in average predicted and observed risk = -0.00479799732589721
number samples = 339
accuracy = 0.893805
precision class 0 = 0.904908
precision class 1 = 0.615385
recall class 0 = 0.983333
recall class 1 = 0.205128
false negative rate = 0.794872
false positive rate = 0.016667
positive prediction rate = 0.038348
AUC of ROC = 0.824103
AUC of PRC = 0.405259
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[433   1]
 [ 33  11]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0876540020108223
difference in average predicted and observed risk = -0.004395997989177711
number samples = 478
accuracy = 0.92887
precision class 0 = 0.929185
precision class 1 = 0.916667
recall class 0 = 0.997696
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.002304
positive prediction rate = 0.025105
AUC of ROC = 0.889663
AUC of PRC = 0.521084
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[386   2]
 [ 32   6]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07894600182771683
difference in average predicted and observed risk = -0.010255998172283176
number samples = 426
accuracy = 0.920188
precision class 0 = 0.923445
precision class 1 = 0.75
recall class 0 = 0.994845
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.005155
positive prediction rate = 0.018779
AUC of ROC = 0.874118
AUC of PRC = 0.435556
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[90  0]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.11155799776315689
difference in average predicted and observed risk = -0.006089002236843111
number samples = 102
accuracy = 0.921569
precision class 0 = 0.918367
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.039216
AUC of ROC = 0.901852
AUC of PRC = 0.700151
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09446600079536438
difference in average predicted and observed risk = 0.005756000795364383
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.868061
AUC of PRC = 0.343035
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.13552799820899963
difference in average predicted and observed risk = -0.014078001791000355
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.803606
AUC of PRC = 0.491618
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.14042599499225616
difference in average predicted and observed risk = 0.06147899499225616
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 64  19]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09702800214290619
difference in average predicted and observed risk = -0.004562997857093812
number samples = 817
accuracy = 0.914321
precision class 0 = 0.919192
precision class 1 = 0.76
recall class 0 = 0.991826
recall class 1 = 0.228916
false negative rate = 0.771084
false positive rate = 0.008174
positive prediction rate = 0.0306
AUC of ROC = 0.862939
AUC of PRC = 0.462473
min(+P, Se) = 0.458824

-------------------------------

Epoch 00073: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch73.state
Epoch 74/100
 - 303s - loss: 0.2434 - val_loss: 0.2418

==>predicting on train



confusion matrix:
[[2144   11]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08276599645614624
difference in average predicted and observed risk = -0.02304300354385376
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.909245
precision class 1 = 0.788462
recall class 0 = 0.994896
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.005104
positive prediction rate = 0.021577
AUC of ROC = 0.854711
AUC of PRC = 0.49833
min(+P, Se) = 0.486275

-------------------------------

confusion matrix:
[[1168   11]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07957000285387039
difference in average predicted and observed risk = -0.011408997146129612
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.925515
precision class 1 = 0.685714
recall class 0 = 0.99067
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.00933
positive prediction rate = 0.026985
AUC of ROC = 0.875771
AUC of PRC = 0.450037
min(+P, Se) = 0.42623

-------------------------------

confusion matrix:
[[648   8]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0986810028553009
difference in average predicted and observed risk = -0.0026889971446990985
number samples = 730
accuracy = 0.913699
precision class 0 = 0.921764
precision class 1 = 0.703704
recall class 0 = 0.987805
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.012195
positive prediction rate = 0.036986
AUC of ROC = 0.865462
AUC of PRC = 0.520192
min(+P, Se) = 0.5375

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09091000258922577
difference in average predicted and observed risk = -0.03474399741077422
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.932635
AUC of PRC = 0.750486
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2461   13]
 [ 211   44]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0752979964017868
difference in average predicted and observed risk = -0.018143003598213192
number samples = 2729
accuracy = 0.917919
precision class 0 = 0.921033
precision class 1 = 0.77193
recall class 0 = 0.994745
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.005255
positive prediction rate = 0.020887
AUC of ROC = 0.867477
AUC of PRC = 0.469382
min(+P, Se) = 0.470817

-------------------------------

confusion matrix:
[[1666   17]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09825199842453003
difference in average predicted and observed risk = -0.015492001575469969
number samples = 1899
accuracy = 0.90258
precision class 0 = 0.908397
precision class 1 = 0.738462
recall class 0 = 0.989899
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.010101
positive prediction rate = 0.034229
AUC of ROC = 0.861185
AUC of PRC = 0.522995
min(+P, Se) = 0.502304

-------------------------------

confusion matrix:
[[545   4]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09044399857521057
difference in average predicted and observed risk = -0.03255900142478943
number samples = 626
accuracy = 0.891374
precision class 0 = 0.89491
precision class 1 = 0.764706
recall class 0 = 0.992714
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.007286
positive prediction rate = 0.027157
AUC of ROC = 0.875476
AUC of PRC = 0.553422
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2239   10]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07360699772834778
difference in average predicted and observed risk = -0.011049002271652217
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.927122
precision class 1 = 0.761905
recall class 0 = 0.995554
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.004446
positive prediction rate = 0.017094
AUC of ROC = 0.862366
AUC of PRC = 0.444526
min(+P, Se) = 0.432692

-------------------------------

confusion matrix:
[[219   4]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08251100033521652
difference in average predicted and observed risk = -0.018294999664783484
number samples = 248
accuracy = 0.899194
precision class 0 = 0.9125
precision class 1 = 0.5
recall class 0 = 0.982063
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.017937
positive prediction rate = 0.032258
AUC of ROC = 0.781345
AUC of PRC = 0.278876
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 58  24]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10844700038433075
difference in average predicted and observed risk = -0.03720099961566925
number samples = 563
accuracy = 0.888099
precision class 0 = 0.891386
precision class 1 = 0.827586
recall class 0 = 0.989605
recall class 1 = 0.292683
false negative rate = 0.707317
false positive rate = 0.010395
positive prediction rate = 0.05151
AUC of ROC = 0.87237
AUC of PRC = 0.63421
min(+P, Se) = 0.560976

-------------------------------

confusion matrix:
[[648   7]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09956599771976471
difference in average predicted and observed risk = -0.008063002280235293
number samples = 734
accuracy = 0.908719
precision class 0 = 0.915254
precision class 1 = 0.730769
recall class 0 = 0.989313
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.010687
positive prediction rate = 0.035422
AUC of ROC = 0.87363
AUC of PRC = 0.504971
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4127   30]
 [ 379   92]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08471699804067612
difference in average predicted and observed risk = -0.017055001959323884
number samples = 4628
accuracy = 0.911625
precision class 0 = 0.91589
precision class 1 = 0.754098
recall class 0 = 0.992783
recall class 1 = 0.195329
false negative rate = 0.804671
false positive rate = 0.007217
positive prediction rate = 0.026361
AUC of ROC = 0.865192
AUC of PRC = 0.494526
min(+P, Se) = 0.481953

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08410599827766418
difference in average predicted and observed risk = 0.00393699827766418
number samples = 237
accuracy = 0.936709
precision class 0 = 0.943231
precision class 1 = 0.75
recall class 0 = 0.990826
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.009174
positive prediction rate = 0.033755
AUC of ROC = 0.88846
AUC of PRC = 0.416295
min(+P, Se) = 0.416667

-------------------------------

confusion matrix:
[[382   3]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0781169980764389
difference in average predicted and observed risk = -0.0306790019235611
number samples = 432
accuracy = 0.888889
precision class 0 = 0.894614
precision class 1 = 0.4
recall class 0 = 0.992208
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.007792
positive prediction rate = 0.011574
AUC of ROC = 0.854269
AUC of PRC = 0.411635
min(+P, Se) = 0.433962

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12543000280857086
difference in average predicted and observed risk = 0.015261002808570859
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.837363
AUC of PRC = 0.40518
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10819700360298157
difference in average predicted and observed risk = -0.02513599639701844
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10125800222158432
difference in average predicted and observed risk = -0.013785997778415673
number samples = 339
accuracy = 0.890855
precision class 0 = 0.899696
precision class 1 = 0.6
recall class 0 = 0.986667
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.013333
positive prediction rate = 0.029499
AUC of ROC = 0.814701
AUC of PRC = 0.353322
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[431   3]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0782419964671135
difference in average predicted and observed risk = -0.013808003532886512
number samples = 478
accuracy = 0.916318
precision class 0 = 0.92094
precision class 1 = 0.7
recall class 0 = 0.993088
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.006912
positive prediction rate = 0.020921
AUC of ROC = 0.894323
AUC of PRC = 0.52716
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[386   2]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07196500152349472
difference in average predicted and observed risk = -0.017236998476505283
number samples = 426
accuracy = 0.910798
precision class 0 = 0.914692
precision class 1 = 0.5
recall class 0 = 0.994845
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.005155
positive prediction rate = 0.00939
AUC of ROC = 0.873915
AUC of PRC = 0.387829
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10056799650192261
difference in average predicted and observed risk = -0.017079003498077394
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.894444
AUC of PRC = 0.613905
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08454400300979614
difference in average predicted and observed risk = -0.004165996990203855
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.860821
AUC of PRC = 0.335265
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12286300212144852
difference in average predicted and observed risk = -0.026742997878551472
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.804581
AUC of PRC = 0.444108
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12431900203227997
difference in average predicted and observed risk = 0.045372002032279965
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.942857
AUC of PRC = 0.599206
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[727   7]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08779200166463852
difference in average predicted and observed risk = -0.013798998335361481
number samples = 817
accuracy = 0.905753
precision class 0 = 0.912171
precision class 1 = 0.65
recall class 0 = 0.990463
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.009537
positive prediction rate = 0.02448
AUC of ROC = 0.862611
AUC of PRC = 0.425727
min(+P, Se) = 0.445783

-------------------------------

Epoch 00074: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch74.state
Epoch 75/100
 - 303s - loss: 0.2404 - val_loss: 0.2438

==>predicting on train



confusion matrix:
[[2147    8]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07522600144147873
difference in average predicted and observed risk = -0.03058299855852127
number samples = 2410
accuracy = 0.904149
precision class 0 = 0.905907
precision class 1 = 0.8
recall class 0 = 0.996288
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.003712
positive prediction rate = 0.016598
AUC of ROC = 0.861912
AUC of PRC = 0.506528
min(+P, Se) = 0.486381

-------------------------------

confusion matrix:
[[1172    7]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07323499768972397
difference in average predicted and observed risk = -0.017744002310276036
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.922835
precision class 1 = 0.740741
recall class 0 = 0.994063
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.005937
positive prediction rate = 0.020817
AUC of ROC = 0.88206
AUC of PRC = 0.446418
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[651   5]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09072499722242355
difference in average predicted and observed risk = -0.010645002777576448
number samples = 730
accuracy = 0.912329
precision class 0 = 0.916901
precision class 1 = 0.75
recall class 0 = 0.992378
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.007622
positive prediction rate = 0.027397
AUC of ROC = 0.877534
AUC of PRC = 0.5286
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08160799741744995
difference in average predicted and observed risk = -0.04404600258255004
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.940619
AUC of PRC = 0.787503
min(+P, Se) = 0.708333

-------------------------------

confusion matrix:
[[2468    6]
 [ 225   30]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0687279999256134
difference in average predicted and observed risk = -0.024713000074386593
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.91645
precision class 1 = 0.833333
recall class 0 = 0.997575
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.002425
positive prediction rate = 0.013192
AUC of ROC = 0.875806
AUC of PRC = 0.478026
min(+P, Se) = 0.472656

-------------------------------

confusion matrix:
[[1669   14]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08980400115251541
difference in average predicted and observed risk = -0.023939998847484587
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.905098
precision class 1 = 0.745455
recall class 0 = 0.991682
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.008318
positive prediction rate = 0.028963
AUC of ROC = 0.868984
AUC of PRC = 0.528787
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[547   2]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08368799835443497
difference in average predicted and observed risk = -0.039315001645565034
number samples = 626
accuracy = 0.891374
precision class 0 = 0.892333
precision class 1 = 0.846154
recall class 0 = 0.996357
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.003643
positive prediction rate = 0.020767
AUC of ROC = 0.877558
AUC of PRC = 0.543633
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2242    7]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06692899763584137
difference in average predicted and observed risk = -0.017727002364158626
number samples = 2457
accuracy = 0.92267
precision class 0 = 0.924536
precision class 1 = 0.78125
recall class 0 = 0.996888
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.003112
positive prediction rate = 0.013024
AUC of ROC = 0.870308
AUC of PRC = 0.457545
min(+P, Se) = 0.423077

-------------------------------

confusion matrix:
[[220   3]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07382500171661377
difference in average predicted and observed risk = -0.026980998283386237
number samples = 248
accuracy = 0.895161
precision class 0 = 0.90535
precision class 1 = 0.4
recall class 0 = 0.986547
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.013453
positive prediction rate = 0.020161
AUC of ROC = 0.796592
AUC of PRC = 0.298947
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[478   3]
 [ 63  19]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09824100136756897
difference in average predicted and observed risk = -0.04740699863243103
number samples = 563
accuracy = 0.882771
precision class 0 = 0.883549
precision class 1 = 0.863636
recall class 0 = 0.993763
recall class 1 = 0.231707
false negative rate = 0.768293
false positive rate = 0.006237
positive prediction rate = 0.039076
AUC of ROC = 0.883449
AUC of PRC = 0.63941
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[650   5]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09215699881315231
difference in average predicted and observed risk = -0.01547200118684769
number samples = 734
accuracy = 0.904632
precision class 0 = 0.909091
precision class 1 = 0.736842
recall class 0 = 0.992366
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.007634
positive prediction rate = 0.025886
AUC of ROC = 0.882172
AUC of PRC = 0.491771
min(+P, Se) = 0.493827

-------------------------------

confusion matrix:
[[4137   20]
 [ 400   71]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07737600058317184
difference in average predicted and observed risk = -0.024395999416828157
number samples = 4628
accuracy = 0.909248
precision class 0 = 0.911836
precision class 1 = 0.78022
recall class 0 = 0.995189
recall class 1 = 0.150743
false negative rate = 0.849257
false positive rate = 0.004811
positive prediction rate = 0.019663
AUC of ROC = 0.873121
AUC of PRC = 0.500675
min(+P, Se) = 0.484076

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0759890004992485
difference in average predicted and observed risk = -0.0041799995007514995
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.888218
AUC of PRC = 0.390771
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07443799823522568
difference in average predicted and observed risk = -0.034358001764774326
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.847637
AUC of PRC = 0.403611
min(+P, Se) = 0.433962

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11464300006628036
difference in average predicted and observed risk = 0.004474000066280362
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.85348
AUC of PRC = 0.44536
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09917999804019928
difference in average predicted and observed risk = -0.03415300195980073
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0933379977941513
difference in average predicted and observed risk = -0.021706002205848687
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.812308
AUC of PRC = 0.34754
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[431   3]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07328099757432938
difference in average predicted and observed risk = -0.01876900242567063
number samples = 478
accuracy = 0.916318
precision class 0 = 0.92094
precision class 1 = 0.7
recall class 0 = 0.993088
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.006912
positive prediction rate = 0.020921
AUC of ROC = 0.898041
AUC of PRC = 0.520119
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0658000037074089
difference in average predicted and observed risk = -0.0234019962925911
number samples = 426
accuracy = 0.910798
precision class 0 = 0.912736
precision class 1 = 0.5
recall class 0 = 0.997423
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.002577
positive prediction rate = 0.004695
AUC of ROC = 0.870727
AUC of PRC = 0.379045
min(+P, Se) = 0.372093

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0946590006351471
difference in average predicted and observed risk = -0.022987999364852907
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.896296
AUC of PRC = 0.624181
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07982899993658066
difference in average predicted and observed risk = -0.00888100006341934
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.859212
AUC of PRC = 0.389254
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11501699686050415
difference in average predicted and observed risk = -0.03458900313949584
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.80848
AUC of PRC = 0.461134
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11783699691295624
difference in average predicted and observed risk = 0.038889996912956235
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.92381
AUC of PRC = 0.332341
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[728   6]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08160299807786942
difference in average predicted and observed risk = -0.019988001922130585
number samples = 817
accuracy = 0.904529
precision class 0 = 0.91
precision class 1 = 0.647059
recall class 0 = 0.991826
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.008174
positive prediction rate = 0.020808
AUC of ROC = 0.861922
AUC of PRC = 0.421936
min(+P, Se) = 0.457831

-------------------------------

Epoch 00075: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch75.state
Epoch 76/100
 - 309s - loss: 0.2423 - val_loss: 0.2425

==>predicting on train



confusion matrix:
[[2149    6]
 [ 223   32]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07047200202941895
difference in average predicted and observed risk = -0.035336997970581055
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.905986
precision class 1 = 0.842105
recall class 0 = 0.997216
recall class 1 = 0.12549
false negative rate = 0.87451
false positive rate = 0.002784
positive prediction rate = 0.015768
AUC of ROC = 0.865857
AUC of PRC = 0.522011
min(+P, Se) = 0.501901

-------------------------------

confusion matrix:
[[1172    7]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0701650008559227
difference in average predicted and observed risk = -0.020813999144077305
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.922109
precision class 1 = 0.730769
recall class 0 = 0.994063
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.005937
positive prediction rate = 0.020046
AUC of ROC = 0.886826
AUC of PRC = 0.468396
min(+P, Se) = 0.423729

-------------------------------

confusion matrix:
[[649   7]
 [ 61  13]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08396100252866745
difference in average predicted and observed risk = -0.017408997471332552
number samples = 730
accuracy = 0.906849
precision class 0 = 0.914084
precision class 1 = 0.65
recall class 0 = 0.989329
recall class 1 = 0.175676
false negative rate = 0.824324
false positive rate = 0.010671
positive prediction rate = 0.027397
AUC of ROC = 0.886618
AUC of PRC = 0.538315
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07857800275087357
difference in average predicted and observed risk = -0.04707599724912642
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.938373
AUC of PRC = 0.769636
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[2467    7]
 [ 228   27]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06621500104665756
difference in average predicted and observed risk = -0.027225998953342434
number samples = 2729
accuracy = 0.913888
precision class 0 = 0.915399
precision class 1 = 0.794118
recall class 0 = 0.997171
recall class 1 = 0.105882
false negative rate = 0.894118
false positive rate = 0.002829
positive prediction rate = 0.012459
AUC of ROC = 0.881584
AUC of PRC = 0.500245
min(+P, Se) = 0.48249

-------------------------------

confusion matrix:
[[1670   13]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08237999677658081
difference in average predicted and observed risk = -0.03136400322341919
number samples = 1899
accuracy = 0.901527
precision class 0 = 0.90564
precision class 1 = 0.763636
recall class 0 = 0.992276
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.007724
positive prediction rate = 0.028963
AUC of ROC = 0.872431
AUC of PRC = 0.53408
min(+P, Se) = 0.490741

-------------------------------

confusion matrix:
[[547   2]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07895299792289734
difference in average predicted and observed risk = -0.04405000207710266
number samples = 626
accuracy = 0.891374
precision class 0 = 0.892333
precision class 1 = 0.846154
recall class 0 = 0.996357
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.003643
positive prediction rate = 0.020767
AUC of ROC = 0.88139
AUC of PRC = 0.561383
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2244    5]
 [ 183   25]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06351199746131897
difference in average predicted and observed risk = -0.021144002538681025
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.924598
precision class 1 = 0.833333
recall class 0 = 0.997777
recall class 1 = 0.120192
false negative rate = 0.879808
false positive rate = 0.002223
positive prediction rate = 0.01221
AUC of ROC = 0.876186
AUC of PRC = 0.473171
min(+P, Se) = 0.441558

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06871899962425232
difference in average predicted and observed risk = -0.03208700037574769
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.810224
AUC of PRC = 0.301649
min(+P, Se) = 0.407407

-------------------------------

confusion matrix:
[[478   3]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09331399947404861
difference in average predicted and observed risk = -0.052334000525951385
number samples = 563
accuracy = 0.879218
precision class 0 = 0.880295
precision class 1 = 0.85
recall class 0 = 0.993763
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.006237
positive prediction rate = 0.035524
AUC of ROC = 0.886162
AUC of PRC = 0.652906
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[649   6]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08459100127220154
difference in average predicted and observed risk = -0.023037998727798464
number samples = 734
accuracy = 0.904632
precision class 0 = 0.910238
precision class 1 = 0.714286
recall class 0 = 0.99084
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00916
positive prediction rate = 0.02861
AUC of ROC = 0.887661
AUC of PRC = 0.514935
min(+P, Se) = 0.531646

-------------------------------

confusion matrix:
[[4137   20]
 [ 402   69]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07284799963235855
difference in average predicted and observed risk = -0.02892400036764145
number samples = 4628
accuracy = 0.908816
precision class 0 = 0.911434
precision class 1 = 0.775281
recall class 0 = 0.995189
recall class 1 = 0.146497
false negative rate = 0.853503
false positive rate = 0.004811
positive prediction rate = 0.019231
AUC of ROC = 0.877858
AUC of PRC = 0.51593
min(+P, Se) = 0.491561

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07112400233745575
difference in average predicted and observed risk = -0.009044997662544255
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.895461
AUC of PRC = 0.381489
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06696400046348572
difference in average predicted and observed risk = -0.041831999536514286
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.854545
AUC of PRC = 0.45948
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10827100276947021
difference in average predicted and observed risk = -0.0018979972305297882
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.849817
AUC of PRC = 0.46144
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.094029001891613
difference in average predicted and observed risk = -0.039303998108387
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08440399914979935
difference in average predicted and observed risk = -0.030640000850200647
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.83359
AUC of PRC = 0.38382
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06855300068855286
difference in average predicted and observed risk = -0.02349699931144715
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.889558
AUC of PRC = 0.521645
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 37   1]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05903799831867218
difference in average predicted and observed risk = -0.030164001681327823
number samples = 426
accuracy = 0.913146
precision class 0 = 0.912941
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.026316
false negative rate = 0.973684
false positive rate = 0.0
positive prediction rate = 0.002347
AUC of ROC = 0.871541
AUC of PRC = 0.427264
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08747000247240067
difference in average predicted and observed risk = -0.030176997527599336
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.906481
AUC of PRC = 0.660888
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07317999750375748
difference in average predicted and observed risk = -0.01553000249624252
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.872084
AUC of PRC = 0.32434
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10993699729442596
difference in average predicted and observed risk = -0.039669002705574025
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.819201
AUC of PRC = 0.473779
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11244600266218185
difference in average predicted and observed risk = 0.03349900266218185
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.952381
AUC of PRC = 0.654762
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07513000071048737
difference in average predicted and observed risk = -0.026460999289512635
number samples = 817
accuracy = 0.905753
precision class 0 = 0.909091
precision class 1 = 0.714286
recall class 0 = 0.99455
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.00545
positive prediction rate = 0.017136
AUC of ROC = 0.867224
AUC of PRC = 0.444285
min(+P, Se) = 0.457831

-------------------------------

Epoch 00076: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch76.state
Epoch 77/100
 - 308s - loss: 0.2383 - val_loss: 0.2370

==>predicting on train



confusion matrix:
[[2139   16]
 [ 203   52]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07587999850511551
difference in average predicted and observed risk = -0.02992900149488449
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.913322
precision class 1 = 0.764706
recall class 0 = 0.992575
recall class 1 = 0.203922
false negative rate = 0.796078
false positive rate = 0.007425
positive prediction rate = 0.028216
AUC of ROC = 0.871123
AUC of PRC = 0.527033
min(+P, Se) = 0.494163

-------------------------------

confusion matrix:
[[1166   13]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07577800005674362
difference in average predicted and observed risk = -0.015200999943256382
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.926132
precision class 1 = 0.657895
recall class 0 = 0.988974
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.011026
positive prediction rate = 0.029298
AUC of ROC = 0.892533
AUC of PRC = 0.472739
min(+P, Se) = 0.432203

-------------------------------

confusion matrix:
[[648   8]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09047199785709381
difference in average predicted and observed risk = -0.01089800214290619
number samples = 730
accuracy = 0.916438
precision class 0 = 0.924394
precision class 1 = 0.724138
recall class 0 = 0.987805
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.012195
positive prediction rate = 0.039726
AUC of ROC = 0.881139
AUC of PRC = 0.542287
min(+P, Se) = 0.513514

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08916900306940079
difference in average predicted and observed risk = -0.0364849969305992
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.94012
AUC of PRC = 0.768473
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2458   16]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07156100124120712
difference in average predicted and observed risk = -0.021879998758792873
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.923366
precision class 1 = 0.761194
recall class 0 = 0.993533
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.006467
positive prediction rate = 0.024551
AUC of ROC = 0.884994
AUC of PRC = 0.500349
min(+P, Se) = 0.490272

-------------------------------

confusion matrix:
[[1661   22]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08896300196647644
difference in average predicted and observed risk = -0.024780998033523557
number samples = 1899
accuracy = 0.90416
precision class 0 = 0.912136
precision class 1 = 0.717949
recall class 0 = 0.986928
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.013072
positive prediction rate = 0.041074
AUC of ROC = 0.876593
AUC of PRC = 0.546896
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[543   6]
 [ 59  18]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08532600104808807
difference in average predicted and observed risk = -0.03767699895191193
number samples = 626
accuracy = 0.896166
precision class 0 = 0.901993
precision class 1 = 0.75
recall class 0 = 0.989071
recall class 1 = 0.233766
false negative rate = 0.766234
false positive rate = 0.010929
positive prediction rate = 0.038339
AUC of ROC = 0.882029
AUC of PRC = 0.547727
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2237   12]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06724999845027924
difference in average predicted and observed risk = -0.01740600154972076
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.928216
precision class 1 = 0.744681
recall class 0 = 0.994664
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.005336
positive prediction rate = 0.019129
AUC of ROC = 0.882954
AUC of PRC = 0.472995
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[218   5]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07502199709415436
difference in average predicted and observed risk = -0.02578400290584565
number samples = 248
accuracy = 0.895161
precision class 0 = 0.912134
precision class 1 = 0.444444
recall class 0 = 0.977578
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.022422
positive prediction rate = 0.03629
AUC of ROC = 0.810404
AUC of PRC = 0.296423
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[475   6]
 [ 53  29]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10620000213384628
difference in average predicted and observed risk = -0.03944799786615372
number samples = 563
accuracy = 0.895204
precision class 0 = 0.899621
precision class 1 = 0.828571
recall class 0 = 0.987526
recall class 1 = 0.353659
false negative rate = 0.646341
false positive rate = 0.012474
positive prediction rate = 0.062167
AUC of ROC = 0.886213
AUC of PRC = 0.666576
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[646   9]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09153900295495987
difference in average predicted and observed risk = -0.016089997045040133
number samples = 734
accuracy = 0.908719
precision class 0 = 0.917614
precision class 1 = 0.7
recall class 0 = 0.98626
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.01374
positive prediction rate = 0.040872
AUC of ROC = 0.892801
AUC of PRC = 0.527383
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4119   38]
 [ 364  107]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07870200276374817
difference in average predicted and observed risk = -0.023069997236251832
number samples = 4628
accuracy = 0.913137
precision class 0 = 0.918804
precision class 1 = 0.737931
recall class 0 = 0.990859
recall class 1 = 0.227176
false negative rate = 0.772824
false positive rate = 0.009141
positive prediction rate = 0.031331
AUC of ROC = 0.881675
AUC of PRC = 0.521435
min(+P, Se) = 0.494692

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07635699957609177
difference in average predicted and observed risk = -0.003812000423908238
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.906567
AUC of PRC = 0.414979
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[381   4]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07261700183153152
difference in average predicted and observed risk = -0.03617899816846848
number samples = 432
accuracy = 0.891204
precision class 0 = 0.898585
precision class 1 = 0.5
recall class 0 = 0.98961
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.01039
positive prediction rate = 0.018519
AUC of ROC = 0.85974
AUC of PRC = 0.444784
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11516600102186203
difference in average predicted and observed risk = 0.004997001021862027
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.849084
AUC of PRC = 0.503409
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10672999918460846
difference in average predicted and observed risk = -0.026603000815391548
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09025900065898895
difference in average predicted and observed risk = -0.02478499934101104
number samples = 339
accuracy = 0.890855
precision class 0 = 0.899696
precision class 1 = 0.6
recall class 0 = 0.986667
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.013333
positive prediction rate = 0.029499
AUC of ROC = 0.836752
AUC of PRC = 0.392413
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[430   4]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07460399717092514
difference in average predicted and observed risk = -0.017446002829074866
number samples = 478
accuracy = 0.91841
precision class 0 = 0.924731
precision class 1 = 0.692308
recall class 0 = 0.990783
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.009217
positive prediction rate = 0.027197
AUC of ROC = 0.900293
AUC of PRC = 0.535499
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06507299840450287
difference in average predicted and observed risk = -0.024129001595497135
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.885106
AUC of PRC = 0.428967
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09625200182199478
difference in average predicted and observed risk = -0.02139499817800522
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.893519
AUC of PRC = 0.646741
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07625100016593933
difference in average predicted and observed risk = -0.012458999834060666
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.871279
AUC of PRC = 0.303513
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1164809986948967
difference in average predicted and observed risk = -0.03312500130510329
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.825049
AUC of PRC = 0.488094
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11767899990081787
difference in average predicted and observed risk = 0.03873199990081787
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.655556
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[726   8]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08110000193119049
difference in average predicted and observed risk = -0.02049099806880951
number samples = 817
accuracy = 0.906977
precision class 0 = 0.914358
precision class 1 = 0.652174
recall class 0 = 0.989101
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.010899
positive prediction rate = 0.028152
AUC of ROC = 0.873839
AUC of PRC = 0.450069
min(+P, Se) = 0.470588

-------------------------------

Epoch 00077: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch77.state
Epoch 78/100
 - 303s - loss: 0.2398 - val_loss: 0.2375

==>predicting on train



confusion matrix:
[[2148    7]
 [ 221   34]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08179999887943268
difference in average predicted and observed risk = -0.024009001120567322
number samples = 2410
accuracy = 0.905394
precision class 0 = 0.906712
precision class 1 = 0.829268
recall class 0 = 0.996752
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.003248
positive prediction rate = 0.017012
AUC of ROC = 0.870923
AUC of PRC = 0.526263
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[1171    8]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08028700202703476
difference in average predicted and observed risk = -0.010691997972965245
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.923502
precision class 1 = 0.724138
recall class 0 = 0.993215
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.006785
positive prediction rate = 0.022359
AUC of ROC = 0.891354
AUC of PRC = 0.468591
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[652   4]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.095551997423172
difference in average predicted and observed risk = -0.005818002576828005
number samples = 730
accuracy = 0.915069
precision class 0 = 0.91831
precision class 1 = 0.8
recall class 0 = 0.993902
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.006098
positive prediction rate = 0.027397
AUC of ROC = 0.886103
AUC of PRC = 0.557731
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 20   4]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08772599697113037
difference in average predicted and observed risk = -0.03792800302886962
number samples = 191
accuracy = 0.895288
precision class 0 = 0.893048
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.020942
AUC of ROC = 0.938872
AUC of PRC = 0.767776
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2466    8]
 [ 221   34]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0766419991850853
difference in average predicted and observed risk = -0.0167990008149147
number samples = 2729
accuracy = 0.916086
precision class 0 = 0.917752
precision class 1 = 0.809524
recall class 0 = 0.996766
recall class 1 = 0.133333
false negative rate = 0.866667
false positive rate = 0.003234
positive prediction rate = 0.01539
AUC of ROC = 0.883897
AUC of PRC = 0.508675
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1672   11]
 [ 175   41]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0940610021352768
difference in average predicted and observed risk = -0.019682997864723203
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905252
precision class 1 = 0.788462
recall class 0 = 0.993464
recall class 1 = 0.189815
false negative rate = 0.810185
false positive rate = 0.006536
positive prediction rate = 0.027383
AUC of ROC = 0.878441
AUC of PRC = 0.531449
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[547   2]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09028399735689163
difference in average predicted and observed risk = -0.03271900264310837
number samples = 626
accuracy = 0.894569
precision class 0 = 0.895254
precision class 1 = 0.866667
recall class 0 = 0.996357
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.003643
positive prediction rate = 0.023962
AUC of ROC = 0.884962
AUC of PRC = 0.566858
min(+P, Se) = 0.584416

-------------------------------

confusion matrix:
[[2245    4]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07392799854278564
difference in average predicted and observed risk = -0.01072800145721435
number samples = 2457
accuracy = 0.925112
precision class 0 = 0.925773
precision class 1 = 0.875
recall class 0 = 0.998221
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.001779
positive prediction rate = 0.013024
AUC of ROC = 0.883609
AUC of PRC = 0.478066
min(+P, Se) = 0.440529

-------------------------------

confusion matrix:
[[219   4]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08120100200176239
difference in average predicted and observed risk = -0.019604997998237617
number samples = 248
accuracy = 0.887097
precision class 0 = 0.901235
precision class 1 = 0.2
recall class 0 = 0.982063
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.017937
positive prediction rate = 0.020161
AUC of ROC = 0.807175
AUC of PRC = 0.287026
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[477   4]
 [ 65  17]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10543599724769592
difference in average predicted and observed risk = -0.04021200275230408
number samples = 563
accuracy = 0.877442
precision class 0 = 0.880074
precision class 1 = 0.809524
recall class 0 = 0.991684
recall class 1 = 0.207317
false negative rate = 0.792683
false positive rate = 0.008316
positive prediction rate = 0.0373
AUC of ROC = 0.886441
AUC of PRC = 0.638547
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[650   5]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09553399682044983
difference in average predicted and observed risk = -0.012095003179550173
number samples = 734
accuracy = 0.907357
precision class 0 = 0.911641
precision class 1 = 0.761905
recall class 0 = 0.992366
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.007634
positive prediction rate = 0.02861
AUC of ROC = 0.891023
AUC of PRC = 0.541756
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4138   19]
 [ 396   75]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08378999680280685
difference in average predicted and observed risk = -0.017982003197193147
number samples = 4628
accuracy = 0.910328
precision class 0 = 0.91266
precision class 1 = 0.797872
recall class 0 = 0.995429
recall class 1 = 0.159236
false negative rate = 0.840764
false positive rate = 0.004571
positive prediction rate = 0.020311
AUC of ROC = 0.881988
AUC of PRC = 0.51938
min(+P, Se) = 0.5

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 16   3]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07967899739742279
difference in average predicted and observed risk = -0.0004900026025772136
number samples = 237
accuracy = 0.924051
precision class 0 = 0.931035
precision class 1 = 0.6
recall class 0 = 0.990826
recall class 1 = 0.157895
false negative rate = 0.842105
false positive rate = 0.009174
positive prediction rate = 0.021097
AUC of ROC = 0.897151
AUC of PRC = 0.375039
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07755900174379349
difference in average predicted and observed risk = -0.031236998256206516
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.86079
AUC of PRC = 0.465409
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11953199654817581
difference in average predicted and observed risk = 0.009362996548175809
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.846886
AUC of PRC = 0.541459
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1107110008597374
difference in average predicted and observed risk = -0.02262199914026261
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.908333
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0939129963517189
difference in average predicted and observed risk = -0.02113100364828109
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.83265
AUC of PRC = 0.386152
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07945399731397629
difference in average predicted and observed risk = -0.012596002686023719
number samples = 478
accuracy = 0.91841
precision class 0 = 0.919321
precision class 1 = 0.857143
recall class 0 = 0.997696
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.002304
positive prediction rate = 0.014644
AUC of ROC = 0.896942
AUC of PRC = 0.523805
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06943999975919724
difference in average predicted and observed risk = -0.01976200024080277
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.882664
AUC of PRC = 0.44971
min(+P, Se) = 0.396552

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09533599764108658
difference in average predicted and observed risk = -0.022311002358913423
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.89537
AUC of PRC = 0.655378
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08540800213813782
difference in average predicted and observed risk = -0.00330199786186218
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.860016
AUC of PRC = 0.28014
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1236800029873848
difference in average predicted and observed risk = -0.025925997012615193
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.819688
AUC of PRC = 0.483347
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 3  0]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.110835000872612
difference in average predicted and observed risk = 0.031888000872611996
number samples = 38
accuracy = 0.894737
precision class 0 = 0.918919
precision class 1 = 0.0
recall class 0 = 0.971429
recall class 1 = 0.0
false negative rate = 1.0
false positive rate = 0.028571
positive prediction rate = 0.026316
AUC of ROC = 0.971429
AUC of PRC = 0.513889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[730   4]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08545300364494324
difference in average predicted and observed risk = -0.016137996355056763
number samples = 817
accuracy = 0.905753
precision class 0 = 0.909091
precision class 1 = 0.714286
recall class 0 = 0.99455
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.00545
positive prediction rate = 0.017136
AUC of ROC = 0.870605
AUC of PRC = 0.450469
min(+P, Se) = 0.433735

-------------------------------

Epoch 00078: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch78.state
Epoch 79/100
 - 300s - loss: 0.2418 - val_loss: 0.2360

==>predicting on train



confusion matrix:
[[2147    8]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07820499688386917
difference in average predicted and observed risk = -0.02760400311613083
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.907822
precision class 1 = 0.822222
recall class 0 = 0.996288
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.003712
positive prediction rate = 0.018672
AUC of ROC = 0.871098
AUC of PRC = 0.525346
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[1169   10]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07789800316095352
difference in average predicted and observed risk = -0.013080996839046483
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.923381
precision class 1 = 0.677419
recall class 0 = 0.991518
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.008482
positive prediction rate = 0.023901
AUC of ROC = 0.887387
AUC of PRC = 0.464451
min(+P, Se) = 0.429752

-------------------------------

confusion matrix:
[[650   6]
 [ 58  16]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09341199696063995
difference in average predicted and observed risk = -0.007958003039360048
number samples = 730
accuracy = 0.912329
precision class 0 = 0.918079
precision class 1 = 0.727273
recall class 0 = 0.990854
recall class 1 = 0.216216
false negative rate = 0.783784
false positive rate = 0.009146
positive prediction rate = 0.030137
AUC of ROC = 0.88324
AUC of PRC = 0.552577
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0843219980597496
difference in average predicted and observed risk = -0.041332001940250385
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.937874
AUC of PRC = 0.775018
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2465    9]
 [ 218   37]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07433000206947327
difference in average predicted and observed risk = -0.01911099793052673
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.918748
precision class 1 = 0.804348
recall class 0 = 0.996362
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.003638
positive prediction rate = 0.016856
AUC of ROC = 0.881497
AUC of PRC = 0.501806
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1668   15]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09002400189638138
difference in average predicted and observed risk = -0.02371999810361862
number samples = 1899
accuracy = 0.900474
precision class 0 = 0.905537
precision class 1 = 0.736842
recall class 0 = 0.991087
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.008913
positive prediction rate = 0.030016
AUC of ROC = 0.877567
AUC of PRC = 0.538551
min(+P, Se) = 0.50463

-------------------------------

confusion matrix:
[[546   3]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08788300305604935
difference in average predicted and observed risk = -0.035119996943950654
number samples = 626
accuracy = 0.889776
precision class 0 = 0.892157
precision class 1 = 0.785714
recall class 0 = 0.994536
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.005464
positive prediction rate = 0.022364
AUC of ROC = 0.880042
AUC of PRC = 0.558685
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2242    7]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06999500095844269
difference in average predicted and observed risk = -0.014660999041557307
number samples = 2457
accuracy = 0.923891
precision class 0 = 0.925681
precision class 1 = 0.8
recall class 0 = 0.996888
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.003112
positive prediction rate = 0.014245
AUC of ROC = 0.881511
AUC of PRC = 0.477271
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07802800089120865
difference in average predicted and observed risk = -0.022777999108791358
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.803587
AUC of PRC = 0.302909
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[477   4]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10490799695253372
difference in average predicted and observed risk = -0.04074000304746628
number samples = 563
accuracy = 0.888099
precision class 0 = 0.889925
precision class 1 = 0.851852
recall class 0 = 0.991684
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.008316
positive prediction rate = 0.047957
AUC of ROC = 0.886492
AUC of PRC = 0.646195
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[649   6]
 [ 65  14]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09318400174379349
difference in average predicted and observed risk = -0.014444998256206515
number samples = 734
accuracy = 0.90327
precision class 0 = 0.908964
precision class 1 = 0.7
recall class 0 = 0.99084
recall class 1 = 0.177215
false negative rate = 0.822785
false positive rate = 0.00916
positive prediction rate = 0.027248
AUC of ROC = 0.890637
AUC of PRC = 0.532423
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4133   24]
 [ 392   79]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08077000081539154
difference in average predicted and observed risk = -0.02100199918460846
number samples = 4628
accuracy = 0.910112
precision class 0 = 0.91337
precision class 1 = 0.76699
recall class 0 = 0.994227
recall class 1 = 0.167728
false negative rate = 0.832272
false positive rate = 0.005773
positive prediction rate = 0.022256
AUC of ROC = 0.880168
AUC of PRC = 0.51888
min(+P, Se) = 0.5

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07823199778795242
difference in average predicted and observed risk = -0.001937002212047581
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.902463
AUC of PRC = 0.372304
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07306300103664398
difference in average predicted and observed risk = -0.03573299896335602
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.863609
AUC of PRC = 0.463547
min(+P, Se) = 0.45283

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1190129965543747
difference in average predicted and observed risk = 0.008843996554374692
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.851282
AUC of PRC = 0.53355
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10389699786901474
difference in average predicted and observed risk = -0.029436002130985267
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09132199734449387
difference in average predicted and observed risk = -0.023722002655506128
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.828462
AUC of PRC = 0.364389
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07595399767160416
difference in average predicted and observed risk = -0.01609600232839585
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.903435
AUC of PRC = 0.549092
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06550999730825424
difference in average predicted and observed risk = -0.02369200269174576
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.883342
AUC of PRC = 0.420038
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09365399926900864
difference in average predicted and observed risk = -0.023993000730991365
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.898148
AUC of PRC = 0.611006
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08185099810361862
difference in average predicted and observed risk = -0.006859001896381375
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.860821
AUC of PRC = 0.281293
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11955399811267853
difference in average predicted and observed risk = -0.03005200188732146
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.825536
AUC of PRC = 0.479144
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11767199635505676
difference in average predicted and observed risk = 0.03872499635505676
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08233100175857544
difference in average predicted and observed risk = -0.01925999824142456
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.873182
AUC of PRC = 0.449162
min(+P, Se) = 0.46988

-------------------------------

Epoch 00079: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch79.state
Epoch 80/100
 - 306s - loss: 0.2353 - val_loss: 0.2484

==>predicting on train



confusion matrix:
[[2144   11]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06770700216293335
difference in average predicted and observed risk = -0.03810199783706665
number samples = 2410
accuracy = 0.904979
precision class 0 = 0.907705
precision class 1 = 0.770833
recall class 0 = 0.994896
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.005104
positive prediction rate = 0.019917
AUC of ROC = 0.862765
AUC of PRC = 0.525822
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[1169   10]
 [  96   22]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0686660036444664
difference in average predicted and observed risk = -0.022312996355533604
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.924111
precision class 1 = 0.6875
recall class 0 = 0.991518
recall class 1 = 0.186441
false negative rate = 0.813559
false positive rate = 0.008482
positive prediction rate = 0.024672
AUC of ROC = 0.885942
AUC of PRC = 0.463809
min(+P, Se) = 0.443548

-------------------------------

confusion matrix:
[[650   6]
 [ 56  18]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08059599995613098
difference in average predicted and observed risk = -0.02077400004386902
number samples = 730
accuracy = 0.915069
precision class 0 = 0.92068
precision class 1 = 0.75
recall class 0 = 0.990854
recall class 1 = 0.243243
false negative rate = 0.756757
false positive rate = 0.009146
positive prediction rate = 0.032877
AUC of ROC = 0.8695
AUC of PRC = 0.536289
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0760750025510788
difference in average predicted and observed risk = -0.04957899744892119
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.922405
AUC of PRC = 0.72274
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[2461   13]
 [ 214   41]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06459099799394608
difference in average predicted and observed risk = -0.02885000200605392
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.92
precision class 1 = 0.759259
recall class 0 = 0.994745
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.005255
positive prediction rate = 0.019787
AUC of ROC = 0.873277
AUC of PRC = 0.489924
min(+P, Se) = 0.475655

-------------------------------

confusion matrix:
[[1669   14]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07863499969244003
difference in average predicted and observed risk = -0.035109000307559965
number samples = 1899
accuracy = 0.901
precision class 0 = 0.905589
precision class 1 = 0.75
recall class 0 = 0.991682
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.008318
positive prediction rate = 0.029489
AUC of ROC = 0.871308
AUC of PRC = 0.541005
min(+P, Se) = 0.513889

-------------------------------

confusion matrix:
[[546   3]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07539600133895874
difference in average predicted and observed risk = -0.04760699866104126
number samples = 626
accuracy = 0.892971
precision class 0 = 0.895082
precision class 1 = 0.8125
recall class 0 = 0.994536
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.005464
positive prediction rate = 0.025559
AUC of ROC = 0.867386
AUC of PRC = 0.544188
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[2240    9]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0596809983253479
difference in average predicted and observed risk = -0.024975001674652095
number samples = 2457
accuracy = 0.923077
precision class 0 = 0.92562
precision class 1 = 0.756757
recall class 0 = 0.995998
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.004002
positive prediction rate = 0.015059
AUC of ROC = 0.875402
AUC of PRC = 0.479072
min(+P, Se) = 0.466346

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06733900308609009
difference in average predicted and observed risk = -0.03346699691390992
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.812915
AUC of PRC = 0.286753
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 61  21]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.0966539978981018
difference in average predicted and observed risk = -0.04899400210189819
number samples = 563
accuracy = 0.882771
precision class 0 = 0.886406
precision class 1 = 0.807692
recall class 0 = 0.989605
recall class 1 = 0.256098
false negative rate = 0.743902
false positive rate = 0.010395
positive prediction rate = 0.046181
AUC of ROC = 0.880964
AUC of PRC = 0.643228
min(+P, Se) = 0.597701

-------------------------------

confusion matrix:
[[649   6]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08262400329113007
difference in average predicted and observed risk = -0.025004996708869937
number samples = 734
accuracy = 0.908719
precision class 0 = 0.914084
precision class 1 = 0.75
recall class 0 = 0.99084
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.00916
positive prediction rate = 0.032698
AUC of ROC = 0.877824
AUC of PRC = 0.5316
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4130   27]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07035399973392487
difference in average predicted and observed risk = -0.031418000266075136
number samples = 4628
accuracy = 0.910328
precision class 0 = 0.914121
precision class 1 = 0.754545
recall class 0 = 0.993505
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.006495
positive prediction rate = 0.023768
AUC of ROC = 0.872902
AUC of PRC = 0.514488
min(+P, Se) = 0.4926

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06896000355482101
difference in average predicted and observed risk = -0.01120899644517899
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.888943
AUC of PRC = 0.382758
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06319200247526169
difference in average predicted and observed risk = -0.045603997524738316
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.843769
AUC of PRC = 0.420139
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10442700237035751
difference in average predicted and observed risk = -0.00574199762964249
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.878388
AUC of PRC = 0.449262
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10279099643230438
difference in average predicted and observed risk = -0.030542003567695625
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.951923
AUC of PRC = 0.793155
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07899899780750275
difference in average predicted and observed risk = -0.03604500219249725
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.829573
AUC of PRC = 0.37166
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06750699877738953
difference in average predicted and observed risk = -0.02454300122261048
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.886521
AUC of PRC = 0.524568
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05487700179219246
difference in average predicted and observed risk = -0.034324998207807544
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.863131
AUC of PRC = 0.408401
min(+P, Se) = 0.38

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08621799945831299
difference in average predicted and observed risk = -0.03142900054168701
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.923148
AUC of PRC = 0.637736
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07038400322198868
difference in average predicted and observed risk = -0.01832599677801132
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.873693
AUC of PRC = 0.322551
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11003799736499786
difference in average predicted and observed risk = -0.039568002635002125
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.812378
AUC of PRC = 0.468455
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10985799878835678
difference in average predicted and observed risk = 0.030910998788356778
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07227499783039093
difference in average predicted and observed risk = -0.02931600216960907
number samples = 817
accuracy = 0.906977
precision class 0 = 0.91125
precision class 1 = 0.705882
recall class 0 = 0.993188
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.006812
positive prediction rate = 0.020808
AUC of ROC = 0.863645
AUC of PRC = 0.433859
min(+P, Se) = 0.445783

-------------------------------

Epoch 00080: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch80.state
Epoch 81/100
 - 306s - loss: 0.2404 - val_loss: 0.2395

==>predicting on train



confusion matrix:
[[2146    9]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07729800045490265
difference in average predicted and observed risk = -0.02851099954509735
number samples = 2410
accuracy = 0.906639
precision class 0 = 0.908552
precision class 1 = 0.8125
recall class 0 = 0.995824
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.004176
positive prediction rate = 0.019917
AUC of ROC = 0.867236
AUC of PRC = 0.530236
min(+P, Se) = 0.509804

-------------------------------

confusion matrix:
[[1169   10]
 [  94   24]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07652600109577179
difference in average predicted and observed risk = -0.014452998904228215
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.925574
precision class 1 = 0.705882
recall class 0 = 0.991518
recall class 1 = 0.20339
false negative rate = 0.79661
false positive rate = 0.008482
positive prediction rate = 0.026214
AUC of ROC = 0.884475
AUC of PRC = 0.476858
min(+P, Se) = 0.462185

-------------------------------

confusion matrix:
[[651   5]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09170100092887878
difference in average predicted and observed risk = -0.009668999071121218
number samples = 730
accuracy = 0.917808
precision class 0 = 0.922096
precision class 1 = 0.791667
recall class 0 = 0.992378
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.007622
positive prediction rate = 0.032877
AUC of ROC = 0.87467
AUC of PRC = 0.547229
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08340299874544144
difference in average predicted and observed risk = -0.04225100125455855
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.93987
AUC of PRC = 0.768874
min(+P, Se) = 0.642857

-------------------------------

confusion matrix:
[[2463   11]
 [ 216   39]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07240799814462662
difference in average predicted and observed risk = -0.02103300185537338
number samples = 2729
accuracy = 0.916819
precision class 0 = 0.919373
precision class 1 = 0.78
recall class 0 = 0.995554
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.004446
positive prediction rate = 0.018322
AUC of ROC = 0.877675
AUC of PRC = 0.502786
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[1670   13]
 [ 167   49]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08994899690151215
difference in average predicted and observed risk = -0.023795003098487852
number samples = 1899
accuracy = 0.905213
precision class 0 = 0.909091
precision class 1 = 0.790323
recall class 0 = 0.992276
recall class 1 = 0.226852
false negative rate = 0.773148
false positive rate = 0.007724
positive prediction rate = 0.032649
AUC of ROC = 0.873259
AUC of PRC = 0.546953
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[546   3]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08511599898338318
difference in average predicted and observed risk = -0.03788700101661682
number samples = 626
accuracy = 0.894569
precision class 0 = 0.896552
precision class 1 = 0.823529
recall class 0 = 0.994536
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.005464
positive prediction rate = 0.027157
AUC of ROC = 0.877652
AUC of PRC = 0.559243
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2242    7]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06878600269556046
difference in average predicted and observed risk = -0.01586999730443954
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.927213
precision class 1 = 0.820513
recall class 0 = 0.996888
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.003112
positive prediction rate = 0.015873
AUC of ROC = 0.87736
AUC of PRC = 0.491243
min(+P, Se) = 0.480769

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07771000266075134
difference in average predicted and observed risk = -0.023095997339248664
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.809865
AUC of PRC = 0.291742
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10578899830579758
difference in average predicted and observed risk = -0.03985900169420242
number samples = 563
accuracy = 0.886323
precision class 0 = 0.88972
precision class 1 = 0.821429
recall class 0 = 0.989605
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.010395
positive prediction rate = 0.049734
AUC of ROC = 0.887227
AUC of PRC = 0.656997
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[650   5]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09167899936437607
difference in average predicted and observed risk = -0.015950000635623934
number samples = 734
accuracy = 0.907357
precision class 0 = 0.911641
precision class 1 = 0.761905
recall class 0 = 0.992366
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.007634
positive prediction rate = 0.02861
AUC of ROC = 0.873398
AUC of PRC = 0.521689
min(+P, Se) = 0.5125

-------------------------------

confusion matrix:
[[4133   24]
 [ 383   88]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07960599660873413
difference in average predicted and observed risk = -0.02216600339126587
number samples = 4628
accuracy = 0.912057
precision class 0 = 0.91519
precision class 1 = 0.785714
recall class 0 = 0.994227
recall class 1 = 0.186837
false negative rate = 0.813163
false positive rate = 0.005773
positive prediction rate = 0.024201
AUC of ROC = 0.876133
AUC of PRC = 0.524049
min(+P, Se) = 0.505308

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0756940022110939
difference in average predicted and observed risk = -0.0044749977889061016
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.89691
AUC of PRC = 0.401973
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07224000245332718
difference in average predicted and observed risk = -0.036555997546672825
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.848687
AUC of PRC = 0.450156
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1152229979634285
difference in average predicted and observed risk = 0.005053997963428494
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.872527
AUC of PRC = 0.535802
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10395099967718124
difference in average predicted and observed risk = -0.029382000322818763
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.811012
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0906200036406517
difference in average predicted and observed risk = -0.02442399635934829
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.835812
AUC of PRC = 0.385889
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[433   1]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07351899892091751
difference in average predicted and observed risk = -0.018531001079082496
number samples = 478
accuracy = 0.922594
precision class 0 = 0.923241
precision class 1 = 0.888889
recall class 0 = 0.997696
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.002304
positive prediction rate = 0.018828
AUC of ROC = 0.88762
AUC of PRC = 0.530257
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[388   0]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06328500062227249
difference in average predicted and observed risk = -0.025916999377727512
number samples = 426
accuracy = 0.915493
precision class 0 = 0.915094
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.0
positive prediction rate = 0.004695
AUC of ROC = 0.862453
AUC of PRC = 0.413873
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0911789983510971
difference in average predicted and observed risk = -0.026468001648902895
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.925926
AUC of PRC = 0.672506
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08050700277090073
difference in average predicted and observed risk = -0.008202997229099271
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.884151
AUC of PRC = 0.328319
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1175680011510849
difference in average predicted and observed risk = -0.03203799884891509
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.816277
AUC of PRC = 0.47175
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12338200211524963
difference in average predicted and observed risk = 0.04443500211524963
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08061499893665314
difference in average predicted and observed risk = -0.020976001063346864
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.86706
AUC of PRC = 0.449647
min(+P, Se) = 0.45977

-------------------------------

Epoch 00081: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch81.state
Epoch 82/100
 - 305s - loss: 0.2361 - val_loss: 0.2422

==>predicting on train



confusion matrix:
[[2147    8]
 [ 216   39]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06400399655103683
difference in average predicted and observed risk = -0.041805003448963166
number samples = 2410
accuracy = 0.907054
precision class 0 = 0.908591
precision class 1 = 0.829787
recall class 0 = 0.996288
recall class 1 = 0.152941
false negative rate = 0.847059
false positive rate = 0.003712
positive prediction rate = 0.019502
AUC of ROC = 0.870241
AUC of PRC = 0.540939
min(+P, Se) = 0.521569

-------------------------------

confusion matrix:
[[1169   10]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06544200330972672
difference in average predicted and observed risk = -0.02553699669027329
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.923381
precision class 1 = 0.677419
recall class 0 = 0.991518
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.008482
positive prediction rate = 0.023901
AUC of ROC = 0.888458
AUC of PRC = 0.47304
min(+P, Se) = 0.449153

-------------------------------

confusion matrix:
[[650   6]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07748600095510483
difference in average predicted and observed risk = -0.023883999044895174
number samples = 730
accuracy = 0.916438
precision class 0 = 0.921986
precision class 1 = 0.76
recall class 0 = 0.990854
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.009146
positive prediction rate = 0.034247
AUC of ROC = 0.875391
AUC of PRC = 0.546257
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[166   1]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07585199922323227
difference in average predicted and observed risk = -0.04980200077676772
number samples = 191
accuracy = 0.905759
precision class 0 = 0.907104
precision class 1 = 0.875
recall class 0 = 0.994012
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.005988
positive prediction rate = 0.041885
AUC of ROC = 0.937375
AUC of PRC = 0.746322
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2461   13]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06059800088405609
difference in average predicted and observed risk = -0.032842999115943905
number samples = 2729
accuracy = 0.916453
precision class 0 = 0.919656
precision class 1 = 0.754717
recall class 0 = 0.994745
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.005255
positive prediction rate = 0.019421
AUC of ROC = 0.87965
AUC of PRC = 0.506401
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1671   12]
 [ 170   46]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07625400274991989
difference in average predicted and observed risk = -0.037489997250080107
number samples = 1899
accuracy = 0.90416
precision class 0 = 0.907659
precision class 1 = 0.793103
recall class 0 = 0.99287
recall class 1 = 0.212963
false negative rate = 0.787037
false positive rate = 0.00713
positive prediction rate = 0.030542
AUC of ROC = 0.87771
AUC of PRC = 0.548825
min(+P, Se) = 0.52968

-------------------------------

confusion matrix:
[[546   3]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07268299907445908
difference in average predicted and observed risk = -0.050320000925540925
number samples = 626
accuracy = 0.894569
precision class 0 = 0.896552
precision class 1 = 0.823529
recall class 0 = 0.994536
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.005464
positive prediction rate = 0.027157
AUC of ROC = 0.878622
AUC of PRC = 0.564276
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[2242    7]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05657900124788284
difference in average predicted and observed risk = -0.028076998752117152
number samples = 2457
accuracy = 0.924705
precision class 0 = 0.926446
precision class 1 = 0.810811
recall class 0 = 0.996888
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.003112
positive prediction rate = 0.015059
AUC of ROC = 0.880062
AUC of PRC = 0.495271
min(+P, Se) = 0.475962

-------------------------------

confusion matrix:
[[218   5]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06606700271368027
difference in average predicted and observed risk = -0.03473899728631974
number samples = 248
accuracy = 0.891129
precision class 0 = 0.908333
precision class 1 = 0.375
recall class 0 = 0.977578
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.022422
positive prediction rate = 0.032258
AUC of ROC = 0.807354
AUC of PRC = 0.291676
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09129700064659119
difference in average predicted and observed risk = -0.05435099935340881
number samples = 563
accuracy = 0.886323
precision class 0 = 0.88972
precision class 1 = 0.821429
recall class 0 = 0.989605
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.010395
positive prediction rate = 0.049734
AUC of ROC = 0.89179
AUC of PRC = 0.662264
min(+P, Se) = 0.614458

-------------------------------

confusion matrix:
[[650   5]
 [ 63  16]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.07885800302028656
difference in average predicted and observed risk = -0.028770996979713442
number samples = 734
accuracy = 0.907357
precision class 0 = 0.911641
precision class 1 = 0.761905
recall class 0 = 0.992366
recall class 1 = 0.202532
false negative rate = 0.797468
false positive rate = 0.007634
positive prediction rate = 0.02861
AUC of ROC = 0.880549
AUC of PRC = 0.526174
min(+P, Se) = 0.506329

-------------------------------

confusion matrix:
[[4132   25]
 [ 385   86]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06702200323343277
difference in average predicted and observed risk = -0.03474999676656723
number samples = 4628
accuracy = 0.911409
precision class 0 = 0.914766
precision class 1 = 0.774775
recall class 0 = 0.993986
recall class 1 = 0.18259
false negative rate = 0.81741
false positive rate = 0.006014
positive prediction rate = 0.023984
AUC of ROC = 0.879055
AUC of PRC = 0.527867
min(+P, Se) = 0.512712

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06542500108480453
difference in average predicted and observed risk = -0.01474399891519547
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.896185
AUC of PRC = 0.384812
min(+P, Se) = 0.409091

-------------------------------

confusion matrix:
[[384   1]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06000500172376633
difference in average predicted and observed risk = -0.04879099827623368
number samples = 432
accuracy = 0.895833
precision class 0 = 0.897196
precision class 1 = 0.75
recall class 0 = 0.997403
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.002597
positive prediction rate = 0.009259
AUC of ROC = 0.856645
AUC of PRC = 0.467467
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09887900203466415
difference in average predicted and observed risk = -0.011289997965335849
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.876923
AUC of PRC = 0.493078
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.0914279967546463
difference in average predicted and observed risk = -0.041905003245353706
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.990385
AUC of PRC = 0.94375
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07658600062131882
difference in average predicted and observed risk = -0.038457999378681176
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.839316
AUC of PRC = 0.384549
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[433   1]
 [ 35   9]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06250199675559998
difference in average predicted and observed risk = -0.02954800324440003
number samples = 478
accuracy = 0.924686
precision class 0 = 0.925214
precision class 1 = 0.9
recall class 0 = 0.997696
recall class 1 = 0.204545
false negative rate = 0.795455
false positive rate = 0.002304
positive prediction rate = 0.020921
AUC of ROC = 0.895894
AUC of PRC = 0.557022
min(+P, Se) = 0.577778

-------------------------------

confusion matrix:
[[388   0]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05251200124621391
difference in average predicted and observed risk = -0.03668999875378609
number samples = 426
accuracy = 0.91784
precision class 0 = 0.917258
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.0
positive prediction rate = 0.007042
AUC of ROC = 0.871609
AUC of PRC = 0.425687
min(+P, Se) = 0.413043

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08028800040483475
difference in average predicted and observed risk = -0.037358999595165254
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.930556
AUC of PRC = 0.701029
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06608299911022186
difference in average predicted and observed risk = -0.022627000889778134
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.888174
AUC of PRC = 0.323583
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10221800208091736
difference in average predicted and observed risk = -0.04738799791908263
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.822612
AUC of PRC = 0.480418
min(+P, Se) = 0.578947

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10798600316047668
difference in average predicted and observed risk = 0.02903900316047668
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.677778
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06834600120782852
difference in average predicted and observed risk = -0.03324499879217148
number samples = 817
accuracy = 0.909425
precision class 0 = 0.9125
precision class 1 = 0.764706
recall class 0 = 0.99455
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.00545
positive prediction rate = 0.020808
AUC of ROC = 0.873527
AUC of PRC = 0.460943
min(+P, Se) = 0.5

-------------------------------

Epoch 00082: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch82.state
Epoch 83/100
 - 302s - loss: 0.2438 - val_loss: 0.2426

==>predicting on train



confusion matrix:
[[2146    9]
 [ 218   37]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0813400000333786
difference in average predicted and observed risk = -0.0244689999666214
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.907783
precision class 1 = 0.804348
recall class 0 = 0.995824
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.004176
positive prediction rate = 0.019087
AUC of ROC = 0.85971
AUC of PRC = 0.527243
min(+P, Se) = 0.503876

-------------------------------

confusion matrix:
[[1170    9]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0799039974808693
difference in average predicted and observed risk = -0.011075002519130711
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.923441
precision class 1 = 0.7
recall class 0 = 0.992366
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.007634
positive prediction rate = 0.02313
AUC of ROC = 0.883246
AUC of PRC = 0.461967
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[651   5]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0955599993467331
difference in average predicted and observed risk = -0.0058100006532669085
number samples = 730
accuracy = 0.917808
precision class 0 = 0.922096
precision class 1 = 0.791667
recall class 0 = 0.992378
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.007622
positive prediction rate = 0.032877
AUC of ROC = 0.863031
AUC of PRC = 0.542704
min(+P, Se) = 0.527027

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08679299801588058
difference in average predicted and observed risk = -0.0388610019841194
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.915918
AUC of PRC = 0.724142
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[2463   11]
 [ 214   41]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07791099697351456
difference in average predicted and observed risk = -0.01553000302648544
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.92006
precision class 1 = 0.788462
recall class 0 = 0.995554
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.004446
positive prediction rate = 0.019055
AUC of ROC = 0.867434
AUC of PRC = 0.486625
min(+P, Se) = 0.482353

-------------------------------

confusion matrix:
[[1671   12]
 [ 174   42]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09130199998617172
difference in average predicted and observed risk = -0.022442000013828275
number samples = 1899
accuracy = 0.902054
precision class 0 = 0.905691
precision class 1 = 0.777778
recall class 0 = 0.99287
recall class 1 = 0.194444
false negative rate = 0.805556
false positive rate = 0.00713
positive prediction rate = 0.028436
AUC of ROC = 0.870758
AUC of PRC = 0.544516
min(+P, Se) = 0.511521

-------------------------------

confusion matrix:
[[546   3]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08658099919557571
difference in average predicted and observed risk = -0.03642200080442429
number samples = 626
accuracy = 0.891374
precision class 0 = 0.893617
precision class 1 = 0.8
recall class 0 = 0.994536
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.005464
positive prediction rate = 0.023962
AUC of ROC = 0.865068
AUC of PRC = 0.542962
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2242    7]
 [ 179   29]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07334599643945694
difference in average predicted and observed risk = -0.011310003560543055
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.926064
precision class 1 = 0.805556
recall class 0 = 0.996888
recall class 1 = 0.139423
false negative rate = 0.860577
false positive rate = 0.003112
positive prediction rate = 0.014652
AUC of ROC = 0.871569
AUC of PRC = 0.483869
min(+P, Se) = 0.471154

-------------------------------

confusion matrix:
[[220   3]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08211600035429001
difference in average predicted and observed risk = -0.018689999645709998
number samples = 248
accuracy = 0.899194
precision class 0 = 0.909091
precision class 1 = 0.5
recall class 0 = 0.986547
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.013453
positive prediction rate = 0.024194
AUC of ROC = 0.802152
AUC of PRC = 0.281001
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[476   5]
 [ 61  21]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10722099989652634
difference in average predicted and observed risk = -0.03842700010347366
number samples = 563
accuracy = 0.882771
precision class 0 = 0.886406
precision class 1 = 0.807692
recall class 0 = 0.989605
recall class 1 = 0.256098
false negative rate = 0.743902
false positive rate = 0.010395
positive prediction rate = 0.046181
AUC of ROC = 0.880939
AUC of PRC = 0.659
min(+P, Se) = 0.614458

-------------------------------

confusion matrix:
[[650   5]
 [ 61  18]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09654100239276886
difference in average predicted and observed risk = -0.011087997607231143
number samples = 734
accuracy = 0.910082
precision class 0 = 0.914205
precision class 1 = 0.782609
recall class 0 = 0.992366
recall class 1 = 0.227848
false negative rate = 0.772152
false positive rate = 0.007634
positive prediction rate = 0.031335
AUC of ROC = 0.869533
AUC of PRC = 0.500558
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[4134   23]
 [ 388   83]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.083406001329422
difference in average predicted and observed risk = -0.018365998670578004
number samples = 4628
accuracy = 0.911193
precision class 0 = 0.914197
precision class 1 = 0.783019
recall class 0 = 0.994467
recall class 1 = 0.176221
false negative rate = 0.823779
false positive rate = 0.005533
positive prediction rate = 0.022904
AUC of ROC = 0.869232
AUC of PRC = 0.513819
min(+P, Se) = 0.494692

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08201199769973755
difference in average predicted and observed risk = 0.0018429976997375447
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.899565
AUC of PRC = 0.417848
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[383   2]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07828900218009949
difference in average predicted and observed risk = -0.030506997819900517
number samples = 432
accuracy = 0.893519
precision class 0 = 0.896955
precision class 1 = 0.6
recall class 0 = 0.994805
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.005195
positive prediction rate = 0.011574
AUC of ROC = 0.833379
AUC of PRC = 0.407619
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11905000358819962
difference in average predicted and observed risk = 0.008881003588199612
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.879121
AUC of PRC = 0.501342
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11512400209903717
difference in average predicted and observed risk = -0.018208997900962837
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09381099790334702
difference in average predicted and observed risk = -0.021233002096652978
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.837778
AUC of PRC = 0.380963
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08150000125169754
difference in average predicted and observed risk = -0.010549998748302467
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.876623
AUC of PRC = 0.51568
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06983800232410431
difference in average predicted and observed risk = -0.019363997675895694
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.85784
AUC of PRC = 0.380578
min(+P, Se) = 0.381818

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09897899627685547
difference in average predicted and observed risk = -0.018668003723144533
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.923148
AUC of PRC = 0.689195
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08508700132369995
difference in average predicted and observed risk = -0.003622998676300046
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.872888
AUC of PRC = 0.294646
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12170200049877167
difference in average predicted and observed risk = -0.02790399950122832
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.803119
AUC of PRC = 0.446057
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12909600138664246
difference in average predicted and observed risk = 0.05014900138664245
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.677778
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[729   5]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08660899847745895
difference in average predicted and observed risk = -0.014982001522541047
number samples = 817
accuracy = 0.906977
precision class 0 = 0.91125
precision class 1 = 0.705882
recall class 0 = 0.993188
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.006812
positive prediction rate = 0.020808
AUC of ROC = 0.860674
AUC of PRC = 0.434149
min(+P, Se) = 0.445783

-------------------------------

Epoch 00083: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch83.state
Epoch 84/100
 - 302s - loss: 0.2364 - val_loss: 0.2385

==>predicting on train



confusion matrix:
[[2145   10]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08156900107860565
difference in average predicted and observed risk = -0.02423999892139435
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.910055
precision class 1 = 0.811321
recall class 0 = 0.99536
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.00464
positive prediction rate = 0.021992
AUC of ROC = 0.866123
AUC of PRC = 0.534325
min(+P, Se) = 0.51751

-------------------------------

confusion matrix:
[[1168   11]
 [  93   25]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08034399896860123
difference in average predicted and observed risk = -0.010635001031398778
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.926249
precision class 1 = 0.694444
recall class 0 = 0.99067
recall class 1 = 0.211864
false negative rate = 0.788136
false positive rate = 0.00933
positive prediction rate = 0.027756
AUC of ROC = 0.886711
AUC of PRC = 0.488162
min(+P, Se) = 0.42623

-------------------------------

confusion matrix:
[[649   7]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09689400345087051
difference in average predicted and observed risk = -0.004475996549129488
number samples = 730
accuracy = 0.917808
precision class 0 = 0.924501
precision class 1 = 0.75
recall class 0 = 0.989329
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.010671
positive prediction rate = 0.038356
AUC of ROC = 0.879491
AUC of PRC = 0.56645
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08931100368499756
difference in average predicted and observed risk = -0.03634299631500243
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.937625
AUC of PRC = 0.774641
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2461   13]
 [ 212   43]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07704100012779236
difference in average predicted and observed risk = -0.016399999872207638
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.920688
precision class 1 = 0.767857
recall class 0 = 0.994745
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.005255
positive prediction rate = 0.02052
AUC of ROC = 0.876686
AUC of PRC = 0.506325
min(+P, Se) = 0.484848

-------------------------------

confusion matrix:
[[1668   15]
 [ 163   53]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09390900284051895
difference in average predicted and observed risk = -0.019834997159481046
number samples = 1899
accuracy = 0.906266
precision class 0 = 0.910978
precision class 1 = 0.779412
recall class 0 = 0.991087
recall class 1 = 0.24537
false negative rate = 0.75463
false positive rate = 0.008913
positive prediction rate = 0.035808
AUC of ROC = 0.876265
AUC of PRC = 0.56313
min(+P, Se) = 0.523148

-------------------------------

confusion matrix:
[[545   4]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08974999934434891
difference in average predicted and observed risk = -0.033253000655651094
number samples = 626
accuracy = 0.894569
precision class 0 = 0.897858
precision class 1 = 0.789474
recall class 0 = 0.992714
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.007286
positive prediction rate = 0.030351
AUC of ROC = 0.873726
AUC of PRC = 0.568466
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2242    7]
 [ 175   33]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07259699702262878
difference in average predicted and observed risk = -0.012059002977371211
number samples = 2457
accuracy = 0.925926
precision class 0 = 0.927596
precision class 1 = 0.825
recall class 0 = 0.996888
recall class 1 = 0.158654
false negative rate = 0.841346
false positive rate = 0.003112
positive prediction rate = 0.01628
AUC of ROC = 0.878628
AUC of PRC = 0.494496
min(+P, Se) = 0.480952

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08177299797534943
difference in average predicted and observed risk = -0.01903300202465058
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.810583
AUC of PRC = 0.288635
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[475   6]
 [ 58  24]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10903800278902054
difference in average predicted and observed risk = -0.03660999721097946
number samples = 563
accuracy = 0.886323
precision class 0 = 0.891182
precision class 1 = 0.8
recall class 0 = 0.987526
recall class 1 = 0.292683
false negative rate = 0.707317
false positive rate = 0.012474
positive prediction rate = 0.053286
AUC of ROC = 0.890548
AUC of PRC = 0.671487
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[648   7]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.098580002784729
difference in average predicted and observed risk = -0.009048997215270999
number samples = 734
accuracy = 0.911444
precision class 0 = 0.917847
precision class 1 = 0.75
recall class 0 = 0.989313
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.010687
positive prediction rate = 0.038147
AUC of ROC = 0.877553
AUC of PRC = 0.54211
min(+P, Se) = 0.530864

-------------------------------

confusion matrix:
[[4129   28]
 [ 375   96]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08396299928426743
difference in average predicted and observed risk = -0.017809000715732576
number samples = 4628
accuracy = 0.912921
precision class 0 = 0.916741
precision class 1 = 0.774194
recall class 0 = 0.993264
recall class 1 = 0.203822
false negative rate = 0.796178
false positive rate = 0.006736
positive prediction rate = 0.026793
AUC of ROC = 0.876788
AUC of PRC = 0.53243
min(+P, Se) = 0.503185

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08240299671888351
difference in average predicted and observed risk = 0.0022339967188835103
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.899565
AUC of PRC = 0.411937
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[381   4]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07970400154590607
difference in average predicted and observed risk = -0.029091998454093937
number samples = 432
accuracy = 0.888889
precision class 0 = 0.896471
precision class 1 = 0.428571
recall class 0 = 0.98961
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.01039
positive prediction rate = 0.016204
AUC of ROC = 0.842001
AUC of PRC = 0.428157
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12553200125694275
difference in average predicted and observed risk = 0.015363001256942746
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.877656
AUC of PRC = 0.493302
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.11174099892377853
difference in average predicted and observed risk = -0.021592001076221473
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09811600297689438
difference in average predicted and observed risk = -0.016927997023105615
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.832991
AUC of PRC = 0.385121
min(+P, Se) = 0.418605

-------------------------------

confusion matrix:
[[431   3]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08130799978971481
difference in average predicted and observed risk = -0.010742000210285194
number samples = 478
accuracy = 0.91841
precision class 0 = 0.922912
precision class 1 = 0.727273
recall class 0 = 0.993088
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.006912
positive prediction rate = 0.023013
AUC of ROC = 0.888825
AUC of PRC = 0.525036
min(+P, Se) = 0.480769

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07042299956083298
difference in average predicted and observed risk = -0.018779000439167026
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.862995
AUC of PRC = 0.391481
min(+P, Se) = 0.394737

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09972900152206421
difference in average predicted and observed risk = -0.017917998477935793
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.927778
AUC of PRC = 0.683478
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08832699805498123
difference in average predicted and observed risk = -0.0003830019450187655
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.871279
AUC of PRC = 0.37145
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12657299637794495
difference in average predicted and observed risk = -0.023033003622055043
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.815302
AUC of PRC = 0.466709
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1296509951353073
difference in average predicted and observed risk = 0.05070399513530731
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.961905
AUC of PRC = 0.677778
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08828199654817581
difference in average predicted and observed risk = -0.013309003451824189
number samples = 817
accuracy = 0.905753
precision class 0 = 0.912171
precision class 1 = 0.65
recall class 0 = 0.990463
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.009537
positive prediction rate = 0.02448
AUC of ROC = 0.866173
AUC of PRC = 0.443341
min(+P, Se) = 0.452632

-------------------------------

Epoch 00084: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch84.state
Epoch 85/100
 - 304s - loss: 0.2336 - val_loss: 0.2355

==>predicting on train



confusion matrix:
[[2144   11]
 [ 206   49]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07567299902439117
difference in average predicted and observed risk = -0.030136000975608826
number samples = 2410
accuracy = 0.909958
precision class 0 = 0.91234
precision class 1 = 0.816667
recall class 0 = 0.994896
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.005104
positive prediction rate = 0.024896
AUC of ROC = 0.874643
AUC of PRC = 0.541445
min(+P, Se) = 0.529412

-------------------------------

confusion matrix:
[[1165   14]
 [  91   27]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07492800056934357
difference in average predicted and observed risk = -0.016050999430656437
number samples = 1297
accuracy = 0.919044
precision class 0 = 0.927548
precision class 1 = 0.658537
recall class 0 = 0.988126
recall class 1 = 0.228814
false negative rate = 0.771186
false positive rate = 0.011874
positive prediction rate = 0.031611
AUC of ROC = 0.893144
AUC of PRC = 0.481946
min(+P, Se) = 0.440678

-------------------------------

confusion matrix:
[[650   6]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08999499678611755
difference in average predicted and observed risk = -0.011375003213882448
number samples = 730
accuracy = 0.919178
precision class 0 = 0.924609
precision class 1 = 0.777778
recall class 0 = 0.990854
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.009146
positive prediction rate = 0.036986
AUC of ROC = 0.892201
AUC of PRC = 0.579712
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[166   1]
 [ 15   9]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.087957002222538
difference in average predicted and observed risk = -0.037696997777461994
number samples = 191
accuracy = 0.91623
precision class 0 = 0.917127
precision class 1 = 0.9
recall class 0 = 0.994012
recall class 1 = 0.375
false negative rate = 0.625
false positive rate = 0.005988
positive prediction rate = 0.052356
AUC of ROC = 0.933134
AUC of PRC = 0.762207
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2458   16]
 [ 204   51]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07310699671506882
difference in average predicted and observed risk = -0.02033400328493118
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.923366
precision class 1 = 0.761194
recall class 0 = 0.993533
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.006467
positive prediction rate = 0.024551
AUC of ROC = 0.883423
AUC of PRC = 0.509667
min(+P, Se) = 0.498039

-------------------------------

confusion matrix:
[[1667   16]
 [ 161   55]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08559300005435944
difference in average predicted and observed risk = -0.028150999945640562
number samples = 1899
accuracy = 0.906793
precision class 0 = 0.911926
precision class 1 = 0.774648
recall class 0 = 0.990493
recall class 1 = 0.25463
false negative rate = 0.74537
false positive rate = 0.009507
positive prediction rate = 0.037388
AUC of ROC = 0.885866
AUC of PRC = 0.567355
min(+P, Se) = 0.527778

-------------------------------

confusion matrix:
[[545   4]
 [ 60  17]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08375699818134308
difference in average predicted and observed risk = -0.03924600181865692
number samples = 626
accuracy = 0.897764
precision class 0 = 0.900826
precision class 1 = 0.809524
recall class 0 = 0.992714
recall class 1 = 0.220779
false negative rate = 0.779221
false positive rate = 0.007286
positive prediction rate = 0.033546
AUC of ROC = 0.887588
AUC of PRC = 0.590084
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2240    9]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06689800322055817
difference in average predicted and observed risk = -0.01775799677944183
number samples = 2457
accuracy = 0.925926
precision class 0 = 0.928305
precision class 1 = 0.795455
recall class 0 = 0.995998
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.004002
positive prediction rate = 0.017908
AUC of ROC = 0.886381
AUC of PRC = 0.490327
min(+P, Se) = 0.47619

-------------------------------

confusion matrix:
[[219   4]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07720299810171127
difference in average predicted and observed risk = -0.023603001898288734
number samples = 248
accuracy = 0.899194
precision class 0 = 0.9125
precision class 1 = 0.5
recall class 0 = 0.982063
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.017937
positive prediction rate = 0.032258
AUC of ROC = 0.807534
AUC of PRC = 0.321395
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[475   6]
 [ 53  29]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10410799831151962
difference in average predicted and observed risk = -0.04154000168848038
number samples = 563
accuracy = 0.895204
precision class 0 = 0.899621
precision class 1 = 0.828571
recall class 0 = 0.987526
recall class 1 = 0.353659
false negative rate = 0.646341
false positive rate = 0.012474
positive prediction rate = 0.062167
AUC of ROC = 0.895543
AUC of PRC = 0.669978
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[646   9]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09194999933242798
difference in average predicted and observed risk = -0.015679000667572024
number samples = 734
accuracy = 0.908719
precision class 0 = 0.917614
precision class 1 = 0.7
recall class 0 = 0.98626
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.01374
positive prediction rate = 0.040872
AUC of ROC = 0.885844
AUC of PRC = 0.543266
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4125   32]
 [ 365  106]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07823000103235245
difference in average predicted and observed risk = -0.023541998967647554
number samples = 4628
accuracy = 0.914218
precision class 0 = 0.918708
precision class 1 = 0.768116
recall class 0 = 0.992302
recall class 1 = 0.225053
false negative rate = 0.774947
false positive rate = 0.007698
positive prediction rate = 0.029818
AUC of ROC = 0.884642
AUC of PRC = 0.536236
min(+P, Se) = 0.505308

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07750999927520752
difference in average predicted and observed risk = -0.0026590007247924846
number samples = 237
accuracy = 0.932489
precision class 0 = 0.942982
precision class 1 = 0.666667
recall class 0 = 0.986239
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.013761
positive prediction rate = 0.037975
AUC of ROC = 0.905601
AUC of PRC = 0.423868
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[382   3]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07010599970817566
difference in average predicted and observed risk = -0.038690000291824345
number samples = 432
accuracy = 0.893519
precision class 0 = 0.898823
precision class 1 = 0.571429
recall class 0 = 0.992208
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.007792
positive prediction rate = 0.016204
AUC of ROC = 0.863167
AUC of PRC = 0.459678
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11767599731683731
difference in average predicted and observed risk = 0.007506997316837308
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.860806
AUC of PRC = 0.465999
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1039159968495369
difference in average predicted and observed risk = -0.02941700315046311
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[295   5]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08605899661779404
difference in average predicted and observed risk = -0.028985003382205957
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89939
precision class 1 = 0.545455
recall class 0 = 0.983333
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.016667
positive prediction rate = 0.032448
AUC of ROC = 0.843419
AUC of PRC = 0.386182
min(+P, Se) = 0.418605

-------------------------------

confusion matrix:
[[432   2]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07632800191640854
difference in average predicted and observed risk = -0.015721998083591468
number samples = 478
accuracy = 0.924686
precision class 0 = 0.927039
precision class 1 = 0.833333
recall class 0 = 0.995392
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.004608
positive prediction rate = 0.025105
AUC of ROC = 0.89977
AUC of PRC = 0.559875
min(+P, Se) = 0.521739

-------------------------------

confusion matrix:
[[387   1]
 [ 33   5]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06380199640989304
difference in average predicted and observed risk = -0.025400003590106968
number samples = 426
accuracy = 0.920188
precision class 0 = 0.921429
precision class 1 = 0.833333
recall class 0 = 0.997423
recall class 1 = 0.131579
false negative rate = 0.868421
false positive rate = 0.002577
positive prediction rate = 0.014085
AUC of ROC = 0.888294
AUC of PRC = 0.453138
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09038399904966354
difference in average predicted and observed risk = -0.027263000950336458
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.884259
AUC of PRC = 0.600158
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07681600004434586
difference in average predicted and observed risk = -0.011893999955654141
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.887369
AUC of PRC = 0.386434
min(+P, Se) = 0.363636

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12029000371694565
difference in average predicted and observed risk = -0.02931599628305434
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.830897
AUC of PRC = 0.487244
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1173119992017746
difference in average predicted and observed risk = 0.038364999201774594
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 67  16]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08036600053310394
difference in average predicted and observed risk = -0.021224999466896058
number samples = 817
accuracy = 0.909425
precision class 0 = 0.915617
precision class 1 = 0.695652
recall class 0 = 0.990463
recall class 1 = 0.192771
false negative rate = 0.807229
false positive rate = 0.009537
positive prediction rate = 0.028152
AUC of ROC = 0.876383
AUC of PRC = 0.45653
min(+P, Se) = 0.46988

-------------------------------

Epoch 00085: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch85.state
Epoch 86/100
 - 301s - loss: 0.2382 - val_loss: 0.2351

==>predicting on train



confusion matrix:
[[2146    9]
 [ 206   49]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07624900341033936
difference in average predicted and observed risk = -0.029559996589660645
number samples = 2410
accuracy = 0.910788
precision class 0 = 0.912415
precision class 1 = 0.844828
recall class 0 = 0.995824
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.004176
positive prediction rate = 0.024066
AUC of ROC = 0.875967
AUC of PRC = 0.551031
min(+P, Se) = 0.519531

-------------------------------

confusion matrix:
[[1169   10]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0764089971780777
difference in average predicted and observed risk = -0.014570002821922307
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.927042
precision class 1 = 0.722222
recall class 0 = 0.991518
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.008482
positive prediction rate = 0.027756
AUC of ROC = 0.895947
AUC of PRC = 0.48699
min(+P, Se) = 0.429752

-------------------------------

confusion matrix:
[[650   6]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09060700237751007
difference in average predicted and observed risk = -0.010762997622489931
number samples = 730
accuracy = 0.917808
precision class 0 = 0.923295
precision class 1 = 0.769231
recall class 0 = 0.990854
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.009146
positive prediction rate = 0.035616
AUC of ROC = 0.895785
AUC of PRC = 0.578707
min(+P, Se) = 0.56

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08817999809980392
difference in average predicted and observed risk = -0.03747400190019606
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.935629
AUC of PRC = 0.764296
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2463   11]
 [ 209   46]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07210700213909149
difference in average predicted and observed risk = -0.021333997860908505
number samples = 2729
accuracy = 0.919384
precision class 0 = 0.921781
precision class 1 = 0.807018
recall class 0 = 0.995554
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.004446
positive prediction rate = 0.020887
AUC of ROC = 0.885147
AUC of PRC = 0.517591
min(+P, Se) = 0.494505

-------------------------------

confusion matrix:
[[1669   14]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08903100341558456
difference in average predicted and observed risk = -0.024712996584415434
number samples = 1899
accuracy = 0.908373
precision class 0 = 0.912521
precision class 1 = 0.8
recall class 0 = 0.991682
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.008318
positive prediction rate = 0.036862
AUC of ROC = 0.889046
AUC of PRC = 0.573272
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[547   2]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08468800038099289
difference in average predicted and observed risk = -0.03831499961900711
number samples = 626
accuracy = 0.896166
precision class 0 = 0.896721
precision class 1 = 0.875
recall class 0 = 0.996357
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.003643
positive prediction rate = 0.025559
AUC of ROC = 0.89116
AUC of PRC = 0.596355
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[2241    8]
 [ 172   36]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06800000369548798
difference in average predicted and observed risk = -0.01665599630451202
number samples = 2457
accuracy = 0.92674
precision class 0 = 0.928719
precision class 1 = 0.818182
recall class 0 = 0.996443
recall class 1 = 0.173077
false negative rate = 0.826923
false positive rate = 0.003557
positive prediction rate = 0.017908
AUC of ROC = 0.888042
AUC of PRC = 0.498821
min(+P, Se) = 0.4689

-------------------------------

confusion matrix:
[[220   3]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07703600078821182
difference in average predicted and observed risk = -0.023769999211788184
number samples = 248
accuracy = 0.899194
precision class 0 = 0.909091
precision class 1 = 0.5
recall class 0 = 0.986547
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.013453
positive prediction rate = 0.024194
AUC of ROC = 0.81148
AUC of PRC = 0.299073
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10421600192785263
difference in average predicted and observed risk = -0.04143199807214737
number samples = 563
accuracy = 0.891652
precision class 0 = 0.894737
precision class 1 = 0.83871
recall class 0 = 0.989605
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.010395
positive prediction rate = 0.055062
AUC of ROC = 0.901374
AUC of PRC = 0.693806
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[648   7]
 [ 56  23]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09261500090360641
difference in average predicted and observed risk = -0.015013999096393588
number samples = 734
accuracy = 0.914169
precision class 0 = 0.920455
precision class 1 = 0.766667
recall class 0 = 0.989313
recall class 1 = 0.291139
false negative rate = 0.708861
false positive rate = 0.010687
positive prediction rate = 0.040872
AUC of ROC = 0.886926
AUC of PRC = 0.551542
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[4132   25]
 [ 369  102]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07905100286006927
difference in average predicted and observed risk = -0.022720997139930726
number samples = 4628
accuracy = 0.914866
precision class 0 = 0.918018
precision class 1 = 0.80315
recall class 0 = 0.993986
recall class 1 = 0.216561
false negative rate = 0.78344
false positive rate = 0.006014
positive prediction rate = 0.027442
AUC of ROC = 0.887096
AUC of PRC = 0.543903
min(+P, Se) = 0.503185

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08061700314283371
difference in average predicted and observed risk = 0.00044800314283370557
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.906808
AUC of PRC = 0.412967
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[381   4]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0735900029540062
difference in average predicted and observed risk = -0.03520599704599381
number samples = 432
accuracy = 0.891204
precision class 0 = 0.898585
precision class 1 = 0.5
recall class 0 = 0.98961
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.01039
positive prediction rate = 0.018519
AUC of ROC = 0.862503
AUC of PRC = 0.441276
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11999200284481049
difference in average predicted and observed risk = 0.009823002844810483
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.85641
AUC of PRC = 0.518093
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1041409969329834
difference in average predicted and observed risk = -0.02919200306701661
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0917389988899231
difference in average predicted and observed risk = -0.023305001110076898
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.839402
AUC of PRC = 0.38089
min(+P, Se) = 0.431818

-------------------------------

confusion matrix:
[[431   3]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07757599651813507
difference in average predicted and observed risk = -0.014474003481864936
number samples = 478
accuracy = 0.922594
precision class 0 = 0.926882
precision class 1 = 0.769231
recall class 0 = 0.993088
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.006912
positive prediction rate = 0.027197
AUC of ROC = 0.899246
AUC of PRC = 0.53661
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[386   2]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0667940005660057
difference in average predicted and observed risk = -0.022407999433994297
number samples = 426
accuracy = 0.915493
precision class 0 = 0.919048
precision class 1 = 0.666667
recall class 0 = 0.994845
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.005155
positive prediction rate = 0.014085
AUC of ROC = 0.882528
AUC of PRC = 0.410794
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09491699934005737
difference in average predicted and observed risk = -0.02273000065994263
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.898148
AUC of PRC = 0.6241
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08047500252723694
difference in average predicted and observed risk = -0.008234997472763059
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.895414
AUC of PRC = 0.400081
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12221000343561172
difference in average predicted and observed risk = -0.027395996564388264
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.823587
AUC of PRC = 0.472278
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11961200088262558
difference in average predicted and observed risk = 0.04066500088262558
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0834520012140274
difference in average predicted and observed risk = -0.018138998785972596
number samples = 817
accuracy = 0.908201
precision class 0 = 0.914465
precision class 1 = 0.681818
recall class 0 = 0.990463
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.009537
positive prediction rate = 0.026928
AUC of ROC = 0.875513
AUC of PRC = 0.447685
min(+P, Se) = 0.470588

-------------------------------

Epoch 00086: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch86.state
Epoch 87/100
 - 304s - loss: 0.2300 - val_loss: 0.2407

==>predicting on train



confusion matrix:
[[2147    8]
 [ 213   42]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0732249990105629
difference in average predicted and observed risk = -0.032584000989437104
number samples = 2410
accuracy = 0.908299
precision class 0 = 0.909746
precision class 1 = 0.84
recall class 0 = 0.996288
recall class 1 = 0.164706
false negative rate = 0.835294
false positive rate = 0.003712
positive prediction rate = 0.020747
AUC of ROC = 0.874508
AUC of PRC = 0.546497
min(+P, Se) = 0.521569

-------------------------------

confusion matrix:
[[1171    8]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07383999973535538
difference in average predicted and observed risk = -0.017139000264644627
number samples = 1297
accuracy = 0.920586
precision class 0 = 0.92496
precision class 1 = 0.741935
recall class 0 = 0.993215
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.006785
positive prediction rate = 0.023901
AUC of ROC = 0.896055
AUC of PRC = 0.500673
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[652   4]
 [ 57  17]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08755499869585037
difference in average predicted and observed risk = -0.01381500130414963
number samples = 730
accuracy = 0.916438
precision class 0 = 0.919605
precision class 1 = 0.809524
recall class 0 = 0.993902
recall class 1 = 0.22973
false negative rate = 0.77027
false positive rate = 0.006098
positive prediction rate = 0.028767
AUC of ROC = 0.902563
AUC of PRC = 0.5976
min(+P, Se) = 0.546667

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08237600326538086
difference in average predicted and observed risk = -0.04327799673461913
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.934132
AUC of PRC = 0.768338
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2465    9]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06844600290060043
difference in average predicted and observed risk = -0.024994997099399563
number samples = 2729
accuracy = 0.917919
precision class 0 = 0.919776
precision class 1 = 0.816327
recall class 0 = 0.996362
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.003638
positive prediction rate = 0.017955
AUC of ROC = 0.885384
AUC of PRC = 0.520446
min(+P, Se) = 0.517647

-------------------------------

confusion matrix:
[[1672   11]
 [ 169   47]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08694200217723846
difference in average predicted and observed risk = -0.026801997822761534
number samples = 1899
accuracy = 0.905213
precision class 0 = 0.908202
precision class 1 = 0.810345
recall class 0 = 0.993464
recall class 1 = 0.217593
false negative rate = 0.782407
false positive rate = 0.006536
positive prediction rate = 0.030542
AUC of ROC = 0.888479
AUC of PRC = 0.5709
min(+P, Se) = 0.516129

-------------------------------

confusion matrix:
[[548   1]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08326499909162521
difference in average predicted and observed risk = -0.03973800090837479
number samples = 626
accuracy = 0.897764
precision class 0 = 0.89689
precision class 1 = 0.933333
recall class 0 = 0.998178
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.001821
positive prediction rate = 0.023962
AUC of ROC = 0.885553
AUC of PRC = 0.591228
min(+P, Se) = 0.597403

-------------------------------

confusion matrix:
[[2243    6]
 [ 177   31]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06524000316858292
difference in average predicted and observed risk = -0.01941599683141708
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.926859
precision class 1 = 0.837838
recall class 0 = 0.997332
recall class 1 = 0.149038
false negative rate = 0.850962
false positive rate = 0.002668
positive prediction rate = 0.015059
AUC of ROC = 0.889695
AUC of PRC = 0.502627
min(+P, Se) = 0.490385

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07067900151014328
difference in average predicted and observed risk = -0.030126998489856727
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.797489
AUC of PRC = 0.291153
min(+P, Se) = 0.321429

-------------------------------

confusion matrix:
[[477   4]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09916199743747711
difference in average predicted and observed risk = -0.04648600256252289
number samples = 563
accuracy = 0.888099
precision class 0 = 0.889925
precision class 1 = 0.851852
recall class 0 = 0.991684
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.008316
positive prediction rate = 0.047957
AUC of ROC = 0.897216
AUC of PRC = 0.677107
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[648   7]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09007800370454788
difference in average predicted and observed risk = -0.01755099629545212
number samples = 734
accuracy = 0.905995
precision class 0 = 0.912676
precision class 1 = 0.708333
recall class 0 = 0.989313
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.010687
positive prediction rate = 0.032698
AUC of ROC = 0.895352
AUC of PRC = 0.557795
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[4137   20]
 [ 384   87]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0760359987616539
difference in average predicted and observed risk = -0.0257360012383461
number samples = 4628
accuracy = 0.912705
precision class 0 = 0.915063
precision class 1 = 0.813084
recall class 0 = 0.995189
recall class 1 = 0.184713
false negative rate = 0.815287
false positive rate = 0.004811
positive prediction rate = 0.02312
AUC of ROC = 0.886883
AUC of PRC = 0.544394
min(+P, Se) = 0.511677

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07631999999284744
difference in average predicted and observed risk = -0.0038490000071525615
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.906084
AUC of PRC = 0.393534
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[382   3]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0696059986948967
difference in average predicted and observed risk = -0.039190001305103306
number samples = 432
accuracy = 0.891204
precision class 0 = 0.896714
precision class 1 = 0.5
recall class 0 = 0.992208
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.007792
positive prediction rate = 0.013889
AUC of ROC = 0.85858
AUC of PRC = 0.446513
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11331400275230408
difference in average predicted and observed risk = 0.003145002752304074
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.842491
AUC of PRC = 0.530089
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10200700163841248
difference in average predicted and observed risk = -0.03132599836158753
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.811012
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08689600229263306
difference in average predicted and observed risk = -0.028147997707366937
number samples = 339
accuracy = 0.884956
precision class 0 = 0.89426
precision class 1 = 0.5
recall class 0 = 0.986667
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.013333
positive prediction rate = 0.023599
AUC of ROC = 0.827863
AUC of PRC = 0.367352
min(+P, Se) = 0.422222

-------------------------------

confusion matrix:
[[431   3]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07349599897861481
difference in average predicted and observed risk = -0.0185540010213852
number samples = 478
accuracy = 0.91841
precision class 0 = 0.922912
precision class 1 = 0.727273
recall class 0 = 0.993088
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.006912
positive prediction rate = 0.023013
AUC of ROC = 0.89778
AUC of PRC = 0.541789
min(+P, Se) = 0.541667

-------------------------------

confusion matrix:
[[386   2]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06347600370645523
difference in average predicted and observed risk = -0.025725996293544773
number samples = 426
accuracy = 0.910798
precision class 0 = 0.914692
precision class 1 = 0.5
recall class 0 = 0.994845
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.005155
positive prediction rate = 0.00939
AUC of ROC = 0.87968
AUC of PRC = 0.40409
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08873999863862991
difference in average predicted and observed risk = -0.028907001361370088
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.874074
AUC of PRC = 0.551141
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07707399874925613
difference in average predicted and observed risk = -0.011636001250743863
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.877715
AUC of PRC = 0.320254
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11798900365829468
difference in average predicted and observed risk = -0.03161699634170531
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.824074
AUC of PRC = 0.481196
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10407400131225586
difference in average predicted and observed risk = 0.025127001312255856
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07905600219964981
difference in average predicted and observed risk = -0.02253499780035019
number samples = 817
accuracy = 0.904529
precision class 0 = 0.911028
precision class 1 = 0.631579
recall class 0 = 0.990463
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.009537
positive prediction rate = 0.023256
AUC of ROC = 0.870145
AUC of PRC = 0.443685
min(+P, Se) = 0.488095

-------------------------------

Epoch 00087: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch87.state
Epoch 88/100
 - 302s - loss: 0.2317 - val_loss: 0.2431

==>predicting on train



confusion matrix:
[[2143   12]
 [ 208   47]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07297900319099426
difference in average predicted and observed risk = -0.03282999680900574
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.911527
precision class 1 = 0.79661
recall class 0 = 0.994432
recall class 1 = 0.184314
false negative rate = 0.815686
false positive rate = 0.005568
positive prediction rate = 0.024481
AUC of ROC = 0.865817
AUC of PRC = 0.532329
min(+P, Se) = 0.515267

-------------------------------

confusion matrix:
[[1167   12]
 [  90   28]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07282599806785583
difference in average predicted and observed risk = -0.01815300193214417
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.928401
precision class 1 = 0.7
recall class 0 = 0.989822
recall class 1 = 0.237288
false negative rate = 0.762712
false positive rate = 0.010178
positive prediction rate = 0.03084
AUC of ROC = 0.889658
AUC of PRC = 0.487147
min(+P, Se) = 0.453782

-------------------------------

confusion matrix:
[[651   5]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08750499784946442
difference in average predicted and observed risk = -0.013865002150535585
number samples = 730
accuracy = 0.920548
precision class 0 = 0.924716
precision class 1 = 0.807692
recall class 0 = 0.992378
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.007622
positive prediction rate = 0.035616
AUC of ROC = 0.884373
AUC of PRC = 0.570109
min(+P, Se) = 0.581081

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08407899737358093
difference in average predicted and observed risk = -0.041575002626419055
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.933633
AUC of PRC = 0.768446
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2460   14]
 [ 202   53]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06923399865627289
difference in average predicted and observed risk = -0.024207001343727108
number samples = 2729
accuracy = 0.92085
precision class 0 = 0.924117
precision class 1 = 0.791045
recall class 0 = 0.994341
recall class 1 = 0.207843
false negative rate = 0.792157
false positive rate = 0.005659
positive prediction rate = 0.024551
AUC of ROC = 0.876032
AUC of PRC = 0.500173
min(+P, Se) = 0.492593

-------------------------------

confusion matrix:
[[1668   15]
 [ 165   51]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08495599776506424
difference in average predicted and observed risk = -0.02878800223493576
number samples = 1899
accuracy = 0.905213
precision class 0 = 0.909984
precision class 1 = 0.772727
recall class 0 = 0.991087
recall class 1 = 0.236111
false negative rate = 0.763889
false positive rate = 0.008913
positive prediction rate = 0.034755
AUC of ROC = 0.880383
AUC of PRC = 0.564792
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[546   3]
 [ 62  15]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08116299659013748
difference in average predicted and observed risk = -0.04184000340986252
number samples = 626
accuracy = 0.896166
precision class 0 = 0.898026
precision class 1 = 0.833333
recall class 0 = 0.994536
recall class 1 = 0.194805
false negative rate = 0.805195
false positive rate = 0.005464
positive prediction rate = 0.028754
AUC of ROC = 0.881437
AUC of PRC = 0.581855
min(+P, Se) = 0.551282

-------------------------------

confusion matrix:
[[2239   10]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06432999670505524
difference in average predicted and observed risk = -0.02032600329494476
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.928275
precision class 1 = 0.777778
recall class 0 = 0.995554
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.004446
positive prediction rate = 0.018315
AUC of ROC = 0.878649
AUC of PRC = 0.487236
min(+P, Se) = 0.466346

-------------------------------

confusion matrix:
[[221   2]
 [ 20   5]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07083400338888168
difference in average predicted and observed risk = -0.029971996611118323
number samples = 248
accuracy = 0.91129
precision class 0 = 0.917012
precision class 1 = 0.714286
recall class 0 = 0.991031
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.008969
positive prediction rate = 0.028226
AUC of ROC = 0.794978
AUC of PRC = 0.300311
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[476   5]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.1018960028886795
difference in average predicted and observed risk = -0.043751997111320495
number samples = 563
accuracy = 0.895204
precision class 0 = 0.898113
precision class 1 = 0.848485
recall class 0 = 0.989605
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.010395
positive prediction rate = 0.058615
AUC of ROC = 0.888621
AUC of PRC = 0.658811
min(+P, Se) = 0.585366

-------------------------------

confusion matrix:
[[646   9]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0905579999089241
difference in average predicted and observed risk = -0.0170710000910759
number samples = 734
accuracy = 0.908719
precision class 0 = 0.917614
precision class 1 = 0.7
recall class 0 = 0.98626
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.01374
positive prediction rate = 0.040872
AUC of ROC = 0.884433
AUC of PRC = 0.545956
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[4128   29]
 [ 367  104]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07568500190973282
difference in average predicted and observed risk = -0.026086998090267183
number samples = 4628
accuracy = 0.914434
precision class 0 = 0.918354
precision class 1 = 0.781955
recall class 0 = 0.993024
recall class 1 = 0.220807
false negative rate = 0.779193
false positive rate = 0.006976
positive prediction rate = 0.028738
AUC of ROC = 0.877987
AUC of PRC = 0.5316
min(+P, Se) = 0.503185

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07327000051736832
difference in average predicted and observed risk = -0.0068989994826316875
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.89522
AUC of PRC = 0.388936
min(+P, Se) = 0.434783

-------------------------------

confusion matrix:
[[381   4]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.0686660036444664
difference in average predicted and observed risk = -0.040129996355533604
number samples = 432
accuracy = 0.891204
precision class 0 = 0.898585
precision class 1 = 0.5
recall class 0 = 0.98961
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.01039
positive prediction rate = 0.018519
AUC of ROC = 0.852832
AUC of PRC = 0.440543
min(+P, Se) = 0.483333

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1126910001039505
difference in average predicted and observed risk = 0.0025220001039504975
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.843223
AUC of PRC = 0.437965
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1014150008559227
difference in average predicted and observed risk = -0.03191799914407731
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.961538
AUC of PRC = 0.811012
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08408399671316147
difference in average predicted and observed risk = -0.030960003286838525
number samples = 339
accuracy = 0.884956
precision class 0 = 0.896657
precision class 1 = 0.5
recall class 0 = 0.983333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.016667
positive prediction rate = 0.029499
AUC of ROC = 0.820085
AUC of PRC = 0.358252
min(+P, Se) = 0.413043

-------------------------------

confusion matrix:
[[429   5]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07293800264596939
difference in average predicted and observed risk = -0.019111997354030616
number samples = 478
accuracy = 0.91841
precision class 0 = 0.926566
precision class 1 = 0.666667
recall class 0 = 0.988479
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.011521
positive prediction rate = 0.031381
AUC of ROC = 0.896209
AUC of PRC = 0.543944
min(+P, Se) = 0.510638

-------------------------------

confusion matrix:
[[385   3]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0621270015835762
difference in average predicted and observed risk = -0.0270749984164238
number samples = 426
accuracy = 0.910798
precision class 0 = 0.916667
precision class 1 = 0.5
recall class 0 = 0.992268
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.007732
positive prediction rate = 0.014085
AUC of ROC = 0.875203
AUC of PRC = 0.391905
min(+P, Se) = 0.447368

-------------------------------

confusion matrix:
[[88  2]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09112100303173065
difference in average predicted and observed risk = -0.02652599696826935
number samples = 102
accuracy = 0.892157
precision class 0 = 0.907216
precision class 1 = 0.6
recall class 0 = 0.977778
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.022222
positive prediction rate = 0.04902
AUC of ROC = 0.885185
AUC of PRC = 0.58362
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07434599846601486
difference in average predicted and observed risk = -0.014364001533985135
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.874497
AUC of PRC = 0.321551
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11245899647474289
difference in average predicted and observed risk = -0.0371470035252571
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.815789
AUC of PRC = 0.471075
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10808800160884857
difference in average predicted and observed risk = 0.02914100160884857
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[724  10]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07756300270557404
difference in average predicted and observed risk = -0.024027997294425965
number samples = 817
accuracy = 0.904529
precision class 0 = 0.914141
precision class 1 = 0.6
recall class 0 = 0.986376
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.013624
positive prediction rate = 0.0306
AUC of ROC = 0.865976
AUC of PRC = 0.44006
min(+P, Se) = 0.457831

-------------------------------

Epoch 00088: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch88.state
Epoch 89/100
 - 304s - loss: 0.2340 - val_loss: 0.2385

==>predicting on train



confusion matrix:
[[2142   13]
 [ 201   54]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0862559974193573
difference in average predicted and observed risk = -0.0195530025806427
number samples = 2410
accuracy = 0.911203
precision class 0 = 0.914213
precision class 1 = 0.80597
recall class 0 = 0.993968
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.006032
positive prediction rate = 0.027801
AUC of ROC = 0.869163
AUC of PRC = 0.542472
min(+P, Se) = 0.509804

-------------------------------

confusion matrix:
[[1166   13]
 [  89   29]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08239100128412247
difference in average predicted and observed risk = -0.008587998715877537
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.929084
precision class 1 = 0.690476
recall class 0 = 0.988974
recall class 1 = 0.245763
false negative rate = 0.754237
false positive rate = 0.011026
positive prediction rate = 0.032382
AUC of ROC = 0.893468
AUC of PRC = 0.497947
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[649   7]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10134799778461456
difference in average predicted and observed risk = -2.2002215385438784e-05
number samples = 730
accuracy = 0.916438
precision class 0 = 0.923186
precision class 1 = 0.740741
recall class 0 = 0.989329
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.010671
positive prediction rate = 0.036986
AUC of ROC = 0.896589
AUC of PRC = 0.604684
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[166   1]
 [ 14  10]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09579300135374069
difference in average predicted and observed risk = -0.029860998646259296
number samples = 191
accuracy = 0.921466
precision class 0 = 0.922222
precision class 1 = 0.909091
recall class 0 = 0.994012
recall class 1 = 0.416667
false negative rate = 0.583333
false positive rate = 0.005988
positive prediction rate = 0.057592
AUC of ROC = 0.931138
AUC of PRC = 0.761194
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2456   18]
 [ 203   52]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08160900324583054
difference in average predicted and observed risk = -0.01183199675416946
number samples = 2729
accuracy = 0.919018
precision class 0 = 0.923656
precision class 1 = 0.742857
recall class 0 = 0.992724
recall class 1 = 0.203922
false negative rate = 0.796078
false positive rate = 0.007276
positive prediction rate = 0.02565
AUC of ROC = 0.879256
AUC of PRC = 0.515258
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1667   16]
 [ 155   61]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09705500304698944
difference in average predicted and observed risk = -0.016688996953010557
number samples = 1899
accuracy = 0.909953
precision class 0 = 0.914929
precision class 1 = 0.792208
recall class 0 = 0.990493
recall class 1 = 0.282407
false negative rate = 0.717593
false positive rate = 0.009507
positive prediction rate = 0.040548
AUC of ROC = 0.886556
AUC of PRC = 0.58076
min(+P, Se) = 0.527778

-------------------------------

confusion matrix:
[[546   3]
 [ 60  17]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.0950080007314682
difference in average predicted and observed risk = -0.0279949992685318
number samples = 626
accuracy = 0.899361
precision class 0 = 0.90099
precision class 1 = 0.85
recall class 0 = 0.994536
recall class 1 = 0.220779
false negative rate = 0.779221
false positive rate = 0.005464
positive prediction rate = 0.031949
AUC of ROC = 0.885577
AUC of PRC = 0.593609
min(+P, Se) = 0.576923

-------------------------------

confusion matrix:
[[2236   13]
 [ 167   41]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07548800110816956
difference in average predicted and observed risk = -0.00916799889183044
number samples = 2457
accuracy = 0.92674
precision class 0 = 0.930504
precision class 1 = 0.759259
recall class 0 = 0.99422
recall class 1 = 0.197115
false negative rate = 0.802885
false positive rate = 0.00578
positive prediction rate = 0.021978
AUC of ROC = 0.882877
AUC of PRC = 0.499945
min(+P, Se) = 0.45933

-------------------------------

confusion matrix:
[[220   3]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08119499683380127
difference in average predicted and observed risk = -0.019611003166198737
number samples = 248
accuracy = 0.899194
precision class 0 = 0.909091
precision class 1 = 0.5
recall class 0 = 0.986547
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.013453
positive prediction rate = 0.024194
AUC of ROC = 0.792466
AUC of PRC = 0.283679
min(+P, Se) = 0.324324

-------------------------------

confusion matrix:
[[474   7]
 [ 54  28]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11512000113725662
difference in average predicted and observed risk = -0.030527998862743377
number samples = 563
accuracy = 0.891652
precision class 0 = 0.897727
precision class 1 = 0.8
recall class 0 = 0.985447
recall class 1 = 0.341463
false negative rate = 0.658537
false positive rate = 0.014553
positive prediction rate = 0.062167
AUC of ROC = 0.89643
AUC of PRC = 0.66754
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[647   8]
 [ 55  24]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10506899654865265
difference in average predicted and observed risk = -0.0025600034513473535
number samples = 734
accuracy = 0.914169
precision class 0 = 0.921652
precision class 1 = 0.75
recall class 0 = 0.987786
recall class 1 = 0.303797
false negative rate = 0.696203
false positive rate = 0.012214
positive prediction rate = 0.043597
AUC of ROC = 0.88998
AUC of PRC = 0.581111
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[4123   34]
 [ 358  113]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08794700354337692
difference in average predicted and observed risk = -0.013824996456623079
number samples = 4628
accuracy = 0.915298
precision class 0 = 0.920107
precision class 1 = 0.768707
recall class 0 = 0.991821
recall class 1 = 0.239915
false negative rate = 0.760085
false positive rate = 0.008179
positive prediction rate = 0.031763
AUC of ROC = 0.882755
AUC of PRC = 0.546966
min(+P, Se) = 0.5138

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08637499809265137
difference in average predicted and observed risk = 0.006205998092651363
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.897393
AUC of PRC = 0.406177
min(+P, Se) = 0.473684

-------------------------------

confusion matrix:
[[381   4]
 [ 43   4]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08142299950122833
difference in average predicted and observed risk = -0.02737300049877167
number samples = 432
accuracy = 0.891204
precision class 0 = 0.898585
precision class 1 = 0.5
recall class 0 = 0.98961
recall class 1 = 0.085106
false negative rate = 0.914894
false positive rate = 0.01039
positive prediction rate = 0.018519
AUC of ROC = 0.852169
AUC of PRC = 0.44953
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1249300017952919
difference in average predicted and observed risk = 0.014761001795291898
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.838828
AUC of PRC = 0.476476
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.1107570007443428
difference in average predicted and observed risk = -0.022575999255657203
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0978040024638176
difference in average predicted and observed risk = -0.017239997536182397
number samples = 339
accuracy = 0.884956
precision class 0 = 0.896657
precision class 1 = 0.5
recall class 0 = 0.983333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.016667
positive prediction rate = 0.029499
AUC of ROC = 0.819402
AUC of PRC = 0.3641
min(+P, Se) = 0.386364

-------------------------------

confusion matrix:
[[430   4]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08484199643135071
difference in average predicted and observed risk = -0.007208003568649299
number samples = 478
accuracy = 0.920502
precision class 0 = 0.926724
precision class 1 = 0.714286
recall class 0 = 0.990783
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.009217
positive prediction rate = 0.029289
AUC of ROC = 0.89579
AUC of PRC = 0.540614
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07315299659967422
difference in average predicted and observed risk = -0.01604900340032578
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.877713
AUC of PRC = 0.408274
min(+P, Se) = 0.487179

-------------------------------

confusion matrix:
[[88  2]
 [ 8  4]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10247500240802765
difference in average predicted and observed risk = -0.015171997591972353
number samples = 102
accuracy = 0.901961
precision class 0 = 0.916667
precision class 1 = 0.666667
recall class 0 = 0.977778
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.022222
positive prediction rate = 0.058824
AUC of ROC = 0.887037
AUC of PRC = 0.590148
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09172700345516205
difference in average predicted and observed risk = 0.003017003455162051
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.855994
AUC of PRC = 0.305486
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1277170032262802
difference in average predicted and observed risk = -0.021888996773719777
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.817739
AUC of PRC = 0.477298
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11842399835586548
difference in average predicted and observed risk = 0.039476998355865475
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[725   9]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09021999686956406
difference in average predicted and observed risk = -0.011371003130435944
number samples = 817
accuracy = 0.905753
precision class 0 = 0.91425
precision class 1 = 0.625
recall class 0 = 0.987738
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.012262
positive prediction rate = 0.029376
AUC of ROC = 0.865188
AUC of PRC = 0.442522
min(+P, Se) = 0.445783

-------------------------------

Epoch 00089: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch89.state
Epoch 90/100
 - 300s - loss: 0.2392 - val_loss: 0.2432

==>predicting on train



confusion matrix:
[[2147    8]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08242300152778625
difference in average predicted and observed risk = -0.023385998472213745
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.90936
precision class 1 = 0.836735
recall class 0 = 0.996288
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.003712
positive prediction rate = 0.020332
AUC of ROC = 0.862425
AUC of PRC = 0.519797
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[1170    9]
 [  98   20]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07892999798059464
difference in average predicted and observed risk = -0.01204900201940537
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.922713
precision class 1 = 0.689655
recall class 0 = 0.992366
recall class 1 = 0.169492
false negative rate = 0.830508
false positive rate = 0.007634
positive prediction rate = 0.022359
AUC of ROC = 0.891297
AUC of PRC = 0.484638
min(+P, Se) = 0.433333

-------------------------------

confusion matrix:
[[653   3]
 [ 56  18]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09863600134849548
difference in average predicted and observed risk = -0.0027339986515045184
number samples = 730
accuracy = 0.919178
precision class 0 = 0.921016
precision class 1 = 0.857143
recall class 0 = 0.995427
recall class 1 = 0.243243
false negative rate = 0.756757
false positive rate = 0.004573
positive prediction rate = 0.028767
AUC of ROC = 0.886103
AUC of PRC = 0.56409
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08976399898529053
difference in average predicted and observed risk = -0.03589000101470946
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.932884
AUC of PRC = 0.772551
min(+P, Se) = 0.692308

-------------------------------

confusion matrix:
[[2464   10]
 [ 218   37]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.0779850035905838
difference in average predicted and observed risk = -0.015455996409416195
number samples = 2729
accuracy = 0.916453
precision class 0 = 0.918717
precision class 1 = 0.787234
recall class 0 = 0.995958
recall class 1 = 0.145098
false negative rate = 0.854902
false positive rate = 0.004042
positive prediction rate = 0.017222
AUC of ROC = 0.874716
AUC of PRC = 0.492949
min(+P, Se) = 0.488281

-------------------------------

confusion matrix:
[[1673   10]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.0933850035071373
difference in average predicted and observed risk = -0.0203589964928627
number samples = 1899
accuracy = 0.906266
precision class 0 = 0.908745
precision class 1 = 0.827586
recall class 0 = 0.994058
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.005942
positive prediction rate = 0.030542
AUC of ROC = 0.878722
AUC of PRC = 0.556494
min(+P, Se) = 0.511521

-------------------------------

confusion matrix:
[[547   2]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09064099937677383
difference in average predicted and observed risk = -0.03236200062322617
number samples = 626
accuracy = 0.892971
precision class 0 = 0.893791
precision class 1 = 0.857143
recall class 0 = 0.996357
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.003643
positive prediction rate = 0.022364
AUC of ROC = 0.877629
AUC of PRC = 0.569375
min(+P, Se) = 0.558442

-------------------------------

confusion matrix:
[[2242    7]
 [ 176   32]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07305499911308289
difference in average predicted and observed risk = -0.01160100088691711
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.927213
precision class 1 = 0.820513
recall class 0 = 0.996888
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.003112
positive prediction rate = 0.015873
AUC of ROC = 0.875209
AUC of PRC = 0.473318
min(+P, Se) = 0.451923

-------------------------------

confusion matrix:
[[222   1]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07775899767875671
difference in average predicted and observed risk = -0.023047002321243293
number samples = 248
accuracy = 0.903226
precision class 0 = 0.906122
precision class 1 = 0.666667
recall class 0 = 0.995516
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.004484
positive prediction rate = 0.012097
AUC of ROC = 0.7887
AUC of PRC = 0.336108
min(+P, Se) = 0.34375

-------------------------------

confusion matrix:
[[477   4]
 [ 60  22]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10814700275659561
difference in average predicted and observed risk = -0.03750099724340439
number samples = 563
accuracy = 0.886323
precision class 0 = 0.888268
precision class 1 = 0.846154
recall class 0 = 0.991684
recall class 1 = 0.268293
false negative rate = 0.731707
false positive rate = 0.008316
positive prediction rate = 0.046181
AUC of ROC = 0.894909
AUC of PRC = 0.663334
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[649   6]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10047700256109238
difference in average predicted and observed risk = -0.007151997438907626
number samples = 734
accuracy = 0.907357
precision class 0 = 0.912799
precision class 1 = 0.73913
recall class 0 = 0.99084
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.00916
positive prediction rate = 0.031335
AUC of ROC = 0.885013
AUC of PRC = 0.516526
min(+P, Se) = 0.544304

-------------------------------

confusion matrix:
[[4137   20]
 [ 386   85]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08430399745702744
difference in average predicted and observed risk = -0.017468002542972566
number samples = 4628
accuracy = 0.912273
precision class 0 = 0.914658
precision class 1 = 0.809524
recall class 0 = 0.995189
recall class 1 = 0.180467
false negative rate = 0.819533
false positive rate = 0.004811
positive prediction rate = 0.022688
AUC of ROC = 0.876688
AUC of PRC = 0.522933
min(+P, Se) = 0.498938

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08160299807786942
difference in average predicted and observed risk = 0.0014339980778694111
number samples = 237
accuracy = 0.936709
precision class 0 = 0.943231
precision class 1 = 0.75
recall class 0 = 0.990826
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.009174
positive prediction rate = 0.033755
AUC of ROC = 0.898841
AUC of PRC = 0.409072
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[382   3]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07954400032758713
difference in average predicted and observed risk = -0.029251999672412876
number samples = 432
accuracy = 0.891204
precision class 0 = 0.896714
precision class 1 = 0.5
recall class 0 = 0.992208
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.007792
positive prediction rate = 0.013889
AUC of ROC = 0.844101
AUC of PRC = 0.443765
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12152300029993057
difference in average predicted and observed risk = 0.01135400029993057
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.827839
AUC of PRC = 0.507101
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10572499781847
difference in average predicted and observed risk = -0.027608002181530006
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[296   4]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09732499718666077
difference in average predicted and observed risk = -0.017719002813339227
number samples = 339
accuracy = 0.890855
precision class 0 = 0.899696
precision class 1 = 0.6
recall class 0 = 0.986667
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.013333
positive prediction rate = 0.029499
AUC of ROC = 0.813504
AUC of PRC = 0.373884
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07996000349521637
difference in average predicted and observed risk = -0.012089996504783637
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.890396
AUC of PRC = 0.519573
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.070032998919487
difference in average predicted and observed risk = -0.019169001080513004
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.869371
AUC of PRC = 0.379077
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[90  0]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09959200024604797
difference in average predicted and observed risk = -0.018054999753952028
number samples = 102
accuracy = 0.911765
precision class 0 = 0.909091
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.029412
AUC of ROC = 0.862963
AUC of PRC = 0.592603
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08933199942111969
difference in average predicted and observed risk = 0.0006219994211196928
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.86243
AUC of PRC = 0.395719
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12507900595664978
difference in average predicted and observed risk = -0.02452699404335021
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.809454
AUC of PRC = 0.470497
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11209800094366074
difference in average predicted and observed risk = 0.03315100094366073
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[728   6]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08716599643230438
difference in average predicted and observed risk = -0.014425003567695618
number samples = 817
accuracy = 0.908201
precision class 0 = 0.913425
precision class 1 = 0.7
recall class 0 = 0.991826
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.008174
positive prediction rate = 0.02448
AUC of ROC = 0.858869
AUC of PRC = 0.437662
min(+P, Se) = 0.470588

-------------------------------

Epoch 00090: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch90.state
Epoch 91/100
 - 304s - loss: 0.2363 - val_loss: 0.2471

==>predicting on train



confusion matrix:
[[2146    9]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06678900122642517
difference in average predicted and observed risk = -0.03901999877357483
number samples = 2410
accuracy = 0.908714
precision class 0 = 0.910479
precision class 1 = 0.830189
recall class 0 = 0.995824
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.004176
positive prediction rate = 0.021992
AUC of ROC = 0.869464
AUC of PRC = 0.542467
min(+P, Se) = 0.505882

-------------------------------

confusion matrix:
[[1169   10]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0661960020661354
difference in average predicted and observed risk = -0.024782997933864598
number samples = 1297
accuracy = 0.917502
precision class 0 = 0.923381
precision class 1 = 0.677419
recall class 0 = 0.991518
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.008482
positive prediction rate = 0.023901
AUC of ROC = 0.896285
AUC of PRC = 0.499157
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[653   3]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08088900148868561
difference in average predicted and observed risk = -0.020480998511314394
number samples = 730
accuracy = 0.920548
precision class 0 = 0.922316
precision class 1 = 0.863636
recall class 0 = 0.995427
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.004573
positive prediction rate = 0.030137
AUC of ROC = 0.891624
AUC of PRC = 0.577649
min(+P, Se) = 0.56

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07596900314092636
difference in average predicted and observed risk = -0.04968499685907363
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.937375
AUC of PRC = 0.770383
min(+P, Se) = 0.653846

-------------------------------

confusion matrix:
[[2462   12]
 [ 214   41]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06319399923086166
difference in average predicted and observed risk = -0.030247000769138332
number samples = 2729
accuracy = 0.917186
precision class 0 = 0.92003
precision class 1 = 0.773585
recall class 0 = 0.99515
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.00485
positive prediction rate = 0.019421
AUC of ROC = 0.88334
AUC of PRC = 0.51372
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[1673   10]
 [ 166   50]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07789299637079239
difference in average predicted and observed risk = -0.03585100362920761
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.909734
precision class 1 = 0.833333
recall class 0 = 0.994058
recall class 1 = 0.231481
false negative rate = 0.768519
false positive rate = 0.005942
positive prediction rate = 0.031596
AUC of ROC = 0.881338
AUC of PRC = 0.572841
min(+P, Se) = 0.513889

-------------------------------

confusion matrix:
[[546   3]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07653900235891342
difference in average predicted and observed risk = -0.04646399764108658
number samples = 626
accuracy = 0.891374
precision class 0 = 0.893617
precision class 1 = 0.8
recall class 0 = 0.994536
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.005464
positive prediction rate = 0.023962
AUC of ROC = 0.882857
AUC of PRC = 0.585163
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2242    7]
 [ 173   35]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05798900127410889
difference in average predicted and observed risk = -0.02666699872589111
number samples = 2457
accuracy = 0.92674
precision class 0 = 0.928364
precision class 1 = 0.833333
recall class 0 = 0.996888
recall class 1 = 0.168269
false negative rate = 0.831731
false positive rate = 0.003112
positive prediction rate = 0.017094
AUC of ROC = 0.880526
AUC of PRC = 0.487928
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[222   1]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06066599860787392
difference in average predicted and observed risk = -0.04014000139212609
number samples = 248
accuracy = 0.907258
precision class 0 = 0.909836
precision class 1 = 0.75
recall class 0 = 0.995516
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.004484
positive prediction rate = 0.016129
AUC of ROC = 0.796413
AUC of PRC = 0.363127
min(+P, Se) = 0.36

-------------------------------

confusion matrix:
[[476   5]
 [ 61  21]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09450399875640869
difference in average predicted and observed risk = -0.05114400124359131
number samples = 563
accuracy = 0.882771
precision class 0 = 0.886406
precision class 1 = 0.807692
recall class 0 = 0.989605
recall class 1 = 0.256098
false negative rate = 0.743902
false positive rate = 0.010395
positive prediction rate = 0.046181
AUC of ROC = 0.903479
AUC of PRC = 0.679238
min(+P, Se) = 0.634146

-------------------------------

confusion matrix:
[[649   6]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08410599827766418
difference in average predicted and observed risk = -0.023523001722335818
number samples = 734
accuracy = 0.911444
precision class 0 = 0.916667
precision class 1 = 0.769231
recall class 0 = 0.99084
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.00916
positive prediction rate = 0.035422
AUC of ROC = 0.891043
AUC of PRC = 0.564371
min(+P, Se) = 0.555556

-------------------------------

confusion matrix:
[[4135   22]
 [ 380   91]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0692249983549118
difference in average predicted and observed risk = -0.0325470016450882
number samples = 4628
accuracy = 0.913137
precision class 0 = 0.915836
precision class 1 = 0.80531
recall class 0 = 0.994708
recall class 1 = 0.193206
false negative rate = 0.806794
false positive rate = 0.005292
positive prediction rate = 0.024417
AUC of ROC = 0.882682
AUC of PRC = 0.542061
min(+P, Se) = 0.507431

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06947600096464157
difference in average predicted and observed risk = -0.010692999035358433
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.904394
AUC of PRC = 0.428498
min(+P, Se) = 0.45

-------------------------------

confusion matrix:
[[383   2]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06285800039768219
difference in average predicted and observed risk = -0.045937999602317814
number samples = 432
accuracy = 0.893519
precision class 0 = 0.896955
precision class 1 = 0.6
recall class 0 = 0.994805
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.005195
positive prediction rate = 0.011574
AUC of ROC = 0.853938
AUC of PRC = 0.436171
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10426100343465805
difference in average predicted and observed risk = -0.0059079965653419525
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.835897
AUC of PRC = 0.448939
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08609999716281891
difference in average predicted and observed risk = -0.0472330028371811
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07924500107765198
difference in average predicted and observed risk = -0.035798998922348016
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.827179
AUC of PRC = 0.380499
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0661970004439354
difference in average predicted and observed risk = -0.025852999556064613
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.894009
AUC of PRC = 0.533204
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.056627001613378525
difference in average predicted and observed risk = -0.03257499838662148
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.87812
AUC of PRC = 0.401584
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08324400335550308
difference in average predicted and observed risk = -0.03440299664449692
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.87037
AUC of PRC = 0.613742
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06937800347805023
difference in average predicted and observed risk = -0.019331996521949765
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.864843
AUC of PRC = 0.367855
min(+P, Se) = 0.411765

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10700099915266037
difference in average predicted and observed risk = -0.04260500084733962
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.816277
AUC of PRC = 0.476919
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09736700356006622
difference in average predicted and observed risk = 0.01842000356006622
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[729   5]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07161100208759308
difference in average predicted and observed risk = -0.029979997912406922
number samples = 817
accuracy = 0.908201
precision class 0 = 0.91239
precision class 1 = 0.722222
recall class 0 = 0.993188
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.006812
positive prediction rate = 0.022032
AUC of ROC = 0.866436
AUC of PRC = 0.444131
min(+P, Se) = 0.457831

-------------------------------

Epoch 00091: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch91.state
Epoch 92/100
 - 303s - loss: 0.2325 - val_loss: 0.2369

==>predicting on train



confusion matrix:
[[2143   12]
 [ 206   49]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.09029199928045273
difference in average predicted and observed risk = -0.015517000719547272
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.912303
precision class 1 = 0.803279
recall class 0 = 0.994432
recall class 1 = 0.192157
false negative rate = 0.807843
false positive rate = 0.005568
positive prediction rate = 0.025311
AUC of ROC = 0.88061
AUC of PRC = 0.565418
min(+P, Se) = 0.531008

-------------------------------

confusion matrix:
[[1166   13]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08628399670124054
difference in average predicted and observed risk = -0.004695003298759465
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.924663
precision class 1 = 0.638889
recall class 0 = 0.988974
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.011026
positive prediction rate = 0.027756
AUC of ROC = 0.899031
AUC of PRC = 0.492141
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[650   6]
 [ 52  22]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10520700365304947
difference in average predicted and observed risk = 0.0038370036530494672
number samples = 730
accuracy = 0.920548
precision class 0 = 0.925926
precision class 1 = 0.785714
recall class 0 = 0.990854
recall class 1 = 0.297297
false negative rate = 0.702703
false positive rate = 0.009146
positive prediction rate = 0.038356
AUC of ROC = 0.910555
AUC of PRC = 0.620497
min(+P, Se) = 0.6

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.0955279991030693
difference in average predicted and observed risk = -0.030126000896930683
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.945359
AUC of PRC = 0.793518
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2460   14]
 [ 211   44]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.08375000208616257
difference in average predicted and observed risk = -0.00969099791383743
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.921003
precision class 1 = 0.758621
recall class 0 = 0.994341
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.005659
positive prediction rate = 0.021253
AUC of ROC = 0.893804
AUC of PRC = 0.539279
min(+P, Se) = 0.529412

-------------------------------

confusion matrix:
[[1666   17]
 [ 159   57]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.1032169982790947
difference in average predicted and observed risk = -0.010527001720905302
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.912877
precision class 1 = 0.77027
recall class 0 = 0.989899
recall class 1 = 0.263889
false negative rate = 0.736111
false positive rate = 0.010101
positive prediction rate = 0.038968
AUC of ROC = 0.890586
AUC of PRC = 0.586423
min(+P, Se) = 0.532407

-------------------------------

confusion matrix:
[[546   3]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.10083600133657455
difference in average predicted and observed risk = -0.022166998663425447
number samples = 626
accuracy = 0.894569
precision class 0 = 0.896552
precision class 1 = 0.823529
recall class 0 = 0.994536
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.005464
positive prediction rate = 0.027157
AUC of ROC = 0.894495
AUC of PRC = 0.611006
min(+P, Se) = 0.597403

-------------------------------

confusion matrix:
[[2239   10]
 [ 171   37]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0795150026679039
difference in average predicted and observed risk = -0.005140997332096095
number samples = 2457
accuracy = 0.926333
precision class 0 = 0.929046
precision class 1 = 0.787234
recall class 0 = 0.995554
recall class 1 = 0.177885
false negative rate = 0.822115
false positive rate = 0.004446
positive prediction rate = 0.019129
AUC of ROC = 0.89205
AUC of PRC = 0.510479
min(+P, Se) = 0.478469

-------------------------------

confusion matrix:
[[221   2]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08786900341510773
difference in average predicted and observed risk = -0.01293699658489228
number samples = 248
accuracy = 0.907258
precision class 0 = 0.913223
precision class 1 = 0.666667
recall class 0 = 0.991031
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.008969
positive prediction rate = 0.024194
AUC of ROC = 0.80861
AUC of PRC = 0.333012
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[474   7]
 [ 58  24]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11661399900913239
difference in average predicted and observed risk = -0.029034000990867614
number samples = 563
accuracy = 0.884547
precision class 0 = 0.890977
precision class 1 = 0.774194
recall class 0 = 0.985447
recall class 1 = 0.292683
false negative rate = 0.707317
false positive rate = 0.014553
positive prediction rate = 0.055062
AUC of ROC = 0.907814
AUC of PRC = 0.686934
min(+P, Se) = 0.614458

-------------------------------

confusion matrix:
[[646   9]
 [ 57  22]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10711999982595444
difference in average predicted and observed risk = -0.0005090001740455652
number samples = 734
accuracy = 0.910082
precision class 0 = 0.918919
precision class 1 = 0.709677
recall class 0 = 0.98626
recall class 1 = 0.278481
false negative rate = 0.721519
false positive rate = 0.01374
positive prediction rate = 0.042234
AUC of ROC = 0.90028
AUC of PRC = 0.590454
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[4126   31]
 [ 370  101]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.09173800051212311
difference in average predicted and observed risk = -0.010033999487876893
number samples = 4628
accuracy = 0.913354
precision class 0 = 0.917705
precision class 1 = 0.765152
recall class 0 = 0.992543
recall class 1 = 0.214437
false negative rate = 0.785563
false positive rate = 0.007457
positive prediction rate = 0.028522
AUC of ROC = 0.892654
AUC of PRC = 0.561612
min(+P, Se) = 0.528662

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08875299990177155
difference in average predicted and observed risk = 0.008583999901771541
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.897393
AUC of PRC = 0.408176
min(+P, Se) = 0.428571

-------------------------------

confusion matrix:
[[381   4]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08569800108671188
difference in average predicted and observed risk = -0.02309799891328812
number samples = 432
accuracy = 0.888889
precision class 0 = 0.896471
precision class 1 = 0.428571
recall class 0 = 0.98961
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.01039
positive prediction rate = 0.016204
AUC of ROC = 0.857585
AUC of PRC = 0.434912
min(+P, Se) = 0.479167

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12772800028324127
difference in average predicted and observed risk = 0.01755900028324127
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.832967
AUC of PRC = 0.530859
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10372599959373474
difference in average predicted and observed risk = -0.029607000406265266
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[296   4]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10469800233840942
difference in average predicted and observed risk = -0.01034599766159057
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89697
precision class 1 = 0.555556
recall class 0 = 0.986667
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.013333
positive prediction rate = 0.026549
AUC of ROC = 0.826752
AUC of PRC = 0.38312
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[430   4]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08524499833583832
difference in average predicted and observed risk = -0.006805001664161689
number samples = 478
accuracy = 0.916318
precision class 0 = 0.922747
precision class 1 = 0.666667
recall class 0 = 0.990783
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.009217
positive prediction rate = 0.025105
AUC of ROC = 0.89757
AUC of PRC = 0.530046
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[384   4]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07787200063467026
difference in average predicted and observed risk = -0.011329999365329746
number samples = 426
accuracy = 0.908451
precision class 0 = 0.916468
precision class 1 = 0.428571
recall class 0 = 0.989691
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.010309
positive prediction rate = 0.016432
AUC of ROC = 0.880765
AUC of PRC = 0.41145
min(+P, Se) = 0.414634

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10471799969673157
difference in average predicted and observed risk = -0.012929000303268434
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.882407
AUC of PRC = 0.607094
min(+P, Se) = 0.529412

-------------------------------

confusion matrix:
[[111   2]
 [  9   2]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.08959399908781052
difference in average predicted and observed risk = 0.0008839990878105192
number samples = 124
accuracy = 0.91129
precision class 0 = 0.925
precision class 1 = 0.5
recall class 0 = 0.982301
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.017699
positive prediction rate = 0.032258
AUC of ROC = 0.867257
AUC of PRC = 0.388816
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1297750025987625
difference in average predicted and observed risk = -0.019830997401237477
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.816764
AUC of PRC = 0.482718
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.1261570006608963
difference in average predicted and observed risk = 0.0472100006608963
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[726   8]
 [ 70  13]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.09331700205802917
difference in average predicted and observed risk = -0.008273997941970826
number samples = 817
accuracy = 0.904529
precision class 0 = 0.91206
precision class 1 = 0.619048
recall class 0 = 0.989101
recall class 1 = 0.156627
false negative rate = 0.843373
false positive rate = 0.010899
positive prediction rate = 0.025704
AUC of ROC = 0.86852
AUC of PRC = 0.446678
min(+P, Se) = 0.481928

-------------------------------

Epoch 00092: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch92.state
Epoch 93/100
 - 302s - loss: 0.2336 - val_loss: 0.2458

==>predicting on train



confusion matrix:
[[2145   10]
 [ 209   46]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.0721609964966774
difference in average predicted and observed risk = -0.0336480035033226
number samples = 2410
accuracy = 0.909129
precision class 0 = 0.911215
precision class 1 = 0.821429
recall class 0 = 0.99536
recall class 1 = 0.180392
false negative rate = 0.819608
false positive rate = 0.00464
positive prediction rate = 0.023237
AUC of ROC = 0.873533
AUC of PRC = 0.544813
min(+P, Se) = 0.498054

-------------------------------

confusion matrix:
[[1170    9]
 [  99   19]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.07184600085020065
difference in average predicted and observed risk = -0.01913299914979935
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.921986
precision class 1 = 0.678571
recall class 0 = 0.992366
recall class 1 = 0.161017
false negative rate = 0.838983
false positive rate = 0.007634
positive prediction rate = 0.021588
AUC of ROC = 0.890671
AUC of PRC = 0.486624
min(+P, Se) = 0.453782

-------------------------------

confusion matrix:
[[651   5]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.08851400017738342
difference in average predicted and observed risk = -0.012855999822616579
number samples = 730
accuracy = 0.920548
precision class 0 = 0.924716
precision class 1 = 0.807692
recall class 0 = 0.992378
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.007622
positive prediction rate = 0.035616
AUC of ROC = 0.900317
AUC of PRC = 0.586784
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[167   0]
 [ 17   7]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08242499828338623
difference in average predicted and observed risk = -0.04322900171661376
number samples = 191
accuracy = 0.910995
precision class 0 = 0.907609
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.291667
false negative rate = 0.708333
false positive rate = 0.0
positive prediction rate = 0.036649
AUC of ROC = 0.935379
AUC of PRC = 0.755819
min(+P, Se) = 0.62963

-------------------------------

confusion matrix:
[[2461   13]
 [ 212   43]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06886599957942963
difference in average predicted and observed risk = -0.02457500042057037
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.920688
precision class 1 = 0.767857
recall class 0 = 0.994745
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.005255
positive prediction rate = 0.02052
AUC of ROC = 0.885048
AUC of PRC = 0.516214
min(+P, Se) = 0.513725

-------------------------------

confusion matrix:
[[1672   11]
 [ 166   50]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08399999886751175
difference in average predicted and observed risk = -0.02974400113248825
number samples = 1899
accuracy = 0.906793
precision class 0 = 0.909684
precision class 1 = 0.819672
recall class 0 = 0.993464
recall class 1 = 0.231481
false negative rate = 0.768519
false positive rate = 0.006536
positive prediction rate = 0.032122
AUC of ROC = 0.882141
AUC of PRC = 0.572444
min(+P, Se) = 0.520737

-------------------------------

confusion matrix:
[[545   4]
 [ 66  11]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08405199646949768
difference in average predicted and observed risk = -0.03895100353050232
number samples = 626
accuracy = 0.888179
precision class 0 = 0.89198
precision class 1 = 0.733333
recall class 0 = 0.992714
recall class 1 = 0.142857
false negative rate = 0.857143
false positive rate = 0.007286
positive prediction rate = 0.023962
AUC of ROC = 0.888439
AUC of PRC = 0.572973
min(+P, Se) = 0.571429

-------------------------------

confusion matrix:
[[2243    6]
 [ 174   34]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.06334500014781952
difference in average predicted and observed risk = -0.021310999852180476
number samples = 2457
accuracy = 0.92674
precision class 0 = 0.92801
precision class 1 = 0.85
recall class 0 = 0.997332
recall class 1 = 0.163462
false negative rate = 0.836538
false positive rate = 0.002668
positive prediction rate = 0.01628
AUC of ROC = 0.880398
AUC of PRC = 0.488816
min(+P, Se) = 0.471963

-------------------------------

confusion matrix:
[[222   1]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06833100318908691
difference in average predicted and observed risk = -0.03247499681091309
number samples = 248
accuracy = 0.91129
precision class 0 = 0.91358
precision class 1 = 0.8
recall class 0 = 0.995516
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.004484
positive prediction rate = 0.020161
AUC of ROC = 0.802332
AUC of PRC = 0.353368
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[475   6]
 [ 59  23]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09914299845695496
difference in average predicted and observed risk = -0.046505001543045044
number samples = 563
accuracy = 0.884547
precision class 0 = 0.889513
precision class 1 = 0.793103
recall class 0 = 0.987526
recall class 1 = 0.280488
false negative rate = 0.719512
false positive rate = 0.012474
positive prediction rate = 0.05151
AUC of ROC = 0.898864
AUC of PRC = 0.669544
min(+P, Se) = 0.614458

-------------------------------

confusion matrix:
[[648   7]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.09050799906253815
difference in average predicted and observed risk = -0.017121000937461855
number samples = 734
accuracy = 0.911444
precision class 0 = 0.917847
precision class 1 = 0.75
recall class 0 = 0.989313
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.010687
positive prediction rate = 0.038147
AUC of ROC = 0.895719
AUC of PRC = 0.574216
min(+P, Se) = 0.54321

-------------------------------

confusion matrix:
[[4133   24]
 [ 378   93]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07507599890232086
difference in average predicted and observed risk = -0.02669600109767914
number samples = 4628
accuracy = 0.913137
precision class 0 = 0.916205
precision class 1 = 0.794872
recall class 0 = 0.994227
recall class 1 = 0.197452
false negative rate = 0.802548
false positive rate = 0.005773
positive prediction rate = 0.025281
AUC of ROC = 0.884034
AUC of PRC = 0.542145
min(+P, Se) = 0.514831

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07600799947977066
difference in average predicted and observed risk = -0.004161000520229344
number samples = 237
accuracy = 0.932489
precision class 0 = 0.93913
precision class 1 = 0.714286
recall class 0 = 0.990826
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.009174
positive prediction rate = 0.029536
AUC of ROC = 0.89015
AUC of PRC = 0.391797
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[384   1]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06802699714899063
difference in average predicted and observed risk = -0.04076900285100937
number samples = 432
accuracy = 0.893519
precision class 0 = 0.895105
precision class 1 = 0.666667
recall class 0 = 0.997403
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.002597
positive prediction rate = 0.006944
AUC of ROC = 0.843935
AUC of PRC = 0.448824
min(+P, Se) = 0.458333

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11022400110960007
difference in average predicted and observed risk = 5.50011096000641e-05
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.832234
AUC of PRC = 0.471243
min(+P, Se) = 0.470588

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09211499989032745
difference in average predicted and observed risk = -0.04121800010967255
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.980769
AUC of PRC = 0.870833
min(+P, Se) = 0.8

-------------------------------

confusion matrix:
[[297   3]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08563899993896484
difference in average predicted and observed risk = -0.02940500006103515
number samples = 339
accuracy = 0.890855
precision class 0 = 0.897281
precision class 1 = 0.625
recall class 0 = 0.99
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.01
positive prediction rate = 0.023599
AUC of ROC = 0.817521
AUC of PRC = 0.366198
min(+P, Se) = 0.418605

-------------------------------

confusion matrix:
[[433   1]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07142200320959091
difference in average predicted and observed risk = -0.020627996790409095
number samples = 478
accuracy = 0.920502
precision class 0 = 0.921277
precision class 1 = 0.875
recall class 0 = 0.997696
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.002304
positive prediction rate = 0.016736
AUC of ROC = 0.886521
AUC of PRC = 0.544379
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[387   1]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06176400184631348
difference in average predicted and observed risk = -0.027437998153686527
number samples = 426
accuracy = 0.915493
precision class 0 = 0.917062
precision class 1 = 0.75
recall class 0 = 0.997423
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.002577
positive prediction rate = 0.00939
AUC of ROC = 0.861978
AUC of PRC = 0.409615
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09065400063991547
difference in average predicted and observed risk = -0.026992999360084535
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.874074
AUC of PRC = 0.588285
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07672300189733505
difference in average predicted and observed risk = -0.011986998102664945
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.873693
AUC of PRC = 0.395343
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11176300048828125
difference in average predicted and observed risk = -0.03784299951171874
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.803119
AUC of PRC = 0.456738
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10277699679136276
difference in average predicted and observed risk = 0.02382999679136276
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[730   4]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07732100039720535
difference in average predicted and observed risk = -0.024269999602794648
number samples = 817
accuracy = 0.908201
precision class 0 = 0.911361
precision class 1 = 0.75
recall class 0 = 0.99455
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.00545
positive prediction rate = 0.019584
AUC of ROC = 0.857506
AUC of PRC = 0.442089
min(+P, Se) = 0.457831

-------------------------------

Epoch 00093: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch93.state
Epoch 94/100
 - 306s - loss: 0.2333 - val_loss: 0.2562

==>predicting on train



confusion matrix:
[[2147    8]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.05944700166583061
difference in average predicted and observed risk = -0.04636199833416939
number samples = 2410
accuracy = 0.905809
precision class 0 = 0.907439
precision class 1 = 0.818182
recall class 0 = 0.996288
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.003712
positive prediction rate = 0.018257
AUC of ROC = 0.859888
AUC of PRC = 0.512479
min(+P, Se) = 0.48659

-------------------------------

confusion matrix:
[[1170    9]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06179000064730644
difference in average predicted and observed risk = -0.029188999352693562
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.923441
precision class 1 = 0.7
recall class 0 = 0.992366
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.007634
positive prediction rate = 0.02313
AUC of ROC = 0.880774
AUC of PRC = 0.48287
min(+P, Se) = 0.433333

-------------------------------

confusion matrix:
[[653   3]
 [ 59  15]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07547400146722794
difference in average predicted and observed risk = -0.025895998532772066
number samples = 730
accuracy = 0.915069
precision class 0 = 0.917135
precision class 1 = 0.833333
recall class 0 = 0.995427
recall class 1 = 0.202703
false negative rate = 0.797297
false positive rate = 0.004573
positive prediction rate = 0.024658
AUC of ROC = 0.883899
AUC of PRC = 0.544093
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.06906100362539291
difference in average predicted and observed risk = -0.056592996374607074
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.931138
AUC of PRC = 0.734646
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2465    9]
 [ 222   33]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.05467800050973892
difference in average predicted and observed risk = -0.038762999490261074
number samples = 2729
accuracy = 0.915354
precision class 0 = 0.91738
precision class 1 = 0.785714
recall class 0 = 0.996362
recall class 1 = 0.129412
false negative rate = 0.870588
false positive rate = 0.003638
positive prediction rate = 0.01539
AUC of ROC = 0.871872
AUC of PRC = 0.49032
min(+P, Se) = 0.478599

-------------------------------

confusion matrix:
[[1672   11]
 [ 172   44]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07502800226211548
difference in average predicted and observed risk = -0.03871599773788452
number samples = 1899
accuracy = 0.903633
precision class 0 = 0.906725
precision class 1 = 0.8
recall class 0 = 0.993464
recall class 1 = 0.203704
false negative rate = 0.796296
false positive rate = 0.006536
positive prediction rate = 0.028963
AUC of ROC = 0.871336
AUC of PRC = 0.543533
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[547   2]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07085400074720383
difference in average predicted and observed risk = -0.052148999252796174
number samples = 626
accuracy = 0.892971
precision class 0 = 0.893791
precision class 1 = 0.857143
recall class 0 = 0.996357
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.003643
positive prediction rate = 0.022364
AUC of ROC = 0.874057
AUC of PRC = 0.553433
min(+P, Se) = 0.519481

-------------------------------

confusion matrix:
[[2243    6]
 [ 180   28]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05214200168848038
difference in average predicted and observed risk = -0.03251399831151962
number samples = 2457
accuracy = 0.924298
precision class 0 = 0.925712
precision class 1 = 0.823529
recall class 0 = 0.997332
recall class 1 = 0.134615
false negative rate = 0.865385
false positive rate = 0.002668
positive prediction rate = 0.013838
AUC of ROC = 0.869756
AUC of PRC = 0.461734
min(+P, Se) = 0.444976

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.056272998452186584
difference in average predicted and observed risk = -0.04453300154781342
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.78278
AUC of PRC = 0.328437
min(+P, Se) = 0.32

-------------------------------

confusion matrix:
[[477   4]
 [ 62  20]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.08674000203609467
difference in average predicted and observed risk = -0.058907997963905334
number samples = 563
accuracy = 0.882771
precision class 0 = 0.884972
precision class 1 = 0.833333
recall class 0 = 0.991684
recall class 1 = 0.243902
false negative rate = 0.756098
false positive rate = 0.008316
positive prediction rate = 0.042629
AUC of ROC = 0.89103
AUC of PRC = 0.657412
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[649   6]
 [ 64  15]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0768899992108345
difference in average predicted and observed risk = -0.0307390007891655
number samples = 734
accuracy = 0.904632
precision class 0 = 0.910238
precision class 1 = 0.714286
recall class 0 = 0.99084
recall class 1 = 0.189873
false negative rate = 0.810127
false positive rate = 0.00916
positive prediction rate = 0.02861
AUC of ROC = 0.879563
AUC of PRC = 0.532881
min(+P, Se) = 0.530864

-------------------------------

confusion matrix:
[[4137   20]
 [ 394   77]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0630280002951622
difference in average predicted and observed risk = -0.0387439997048378
number samples = 4628
accuracy = 0.910545
precision class 0 = 0.913043
precision class 1 = 0.793814
recall class 0 = 0.995189
recall class 1 = 0.163482
false negative rate = 0.836518
false positive rate = 0.004811
positive prediction rate = 0.020959
AUC of ROC = 0.871579
AUC of PRC = 0.514352
min(+P, Se) = 0.490486

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.0654970034956932
difference in average predicted and observed risk = -0.014671996504306797
number samples = 237
accuracy = 0.92827
precision class 0 = 0.942731
precision class 1 = 0.6
recall class 0 = 0.981651
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018349
positive prediction rate = 0.042194
AUC of ROC = 0.884355
AUC of PRC = 0.423253
min(+P, Se) = 0.380952

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.05728999897837639
difference in average predicted and observed risk = -0.051506001021623615
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.849185
AUC of PRC = 0.438222
min(+P, Se) = 0.46

-------------------------------

confusion matrix:
[[104   1]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09891899675130844
difference in average predicted and observed risk = -0.011250003248691562
number samples = 118
accuracy = 0.915254
precision class 0 = 0.920354
precision class 1 = 0.8
recall class 0 = 0.990476
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.009524
positive prediction rate = 0.042373
AUC of ROC = 0.838828
AUC of PRC = 0.48863
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.07844600081443787
difference in average predicted and observed risk = -0.05488699918556214
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 33   6]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.0778760015964508
difference in average predicted and observed risk = -0.03716799840354919
number samples = 339
accuracy = 0.887906
precision class 0 = 0.89939
precision class 1 = 0.545455
recall class 0 = 0.983333
recall class 1 = 0.153846
false negative rate = 0.846154
false positive rate = 0.016667
positive prediction rate = 0.032448
AUC of ROC = 0.817436
AUC of PRC = 0.358337
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[432   2]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.05836400017142296
difference in average predicted and observed risk = -0.03368599982857705
number samples = 478
accuracy = 0.920502
precision class 0 = 0.923077
precision class 1 = 0.8
recall class 0 = 0.995392
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.004608
positive prediction rate = 0.020921
AUC of ROC = 0.888354
AUC of PRC = 0.524987
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05141900107264519
difference in average predicted and observed risk = -0.037782998927354816
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.867607
AUC of PRC = 0.373267
min(+P, Se) = 0.375

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08140400052070618
difference in average predicted and observed risk = -0.036242999479293825
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.896296
AUC of PRC = 0.591555
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0638670027256012
difference in average predicted and observed risk = -0.0248429972743988
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.868866
AUC of PRC = 0.385231
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.09890799969434738
difference in average predicted and observed risk = -0.05069800030565261
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.80117
AUC of PRC = 0.464721
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09499099850654602
difference in average predicted and observed risk = 0.016043998506546017
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.971429
AUC of PRC = 0.711111
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[727   7]
 [ 69  14]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06645999848842621
difference in average predicted and observed risk = -0.03513100151157379
number samples = 817
accuracy = 0.906977
precision class 0 = 0.913317
precision class 1 = 0.666667
recall class 0 = 0.990463
recall class 1 = 0.168675
false negative rate = 0.831325
false positive rate = 0.009537
positive prediction rate = 0.025704
AUC of ROC = 0.860428
AUC of PRC = 0.441376
min(+P, Se) = 0.470588

-------------------------------

Epoch 00094: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch94.state
Epoch 95/100
 - 306s - loss: 0.2328 - val_loss: 0.2451

==>predicting on train



confusion matrix:
[[2141   14]
 [ 204   51]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.07321500033140182
difference in average predicted and observed risk = -0.032593999668598175
number samples = 2410
accuracy = 0.909544
precision class 0 = 0.913006
precision class 1 = 0.784615
recall class 0 = 0.993503
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.006497
positive prediction rate = 0.026971
AUC of ROC = 0.866743
AUC of PRC = 0.526938
min(+P, Se) = 0.490196

-------------------------------

confusion matrix:
[[1167   12]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.0751589983701706
difference in average predicted and observed risk = -0.01582000162982941
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.926926
precision class 1 = 0.684211
recall class 0 = 0.989822
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.010178
positive prediction rate = 0.029298
AUC of ROC = 0.89047
AUC of PRC = 0.489149
min(+P, Se) = 0.457627

-------------------------------

confusion matrix:
[[647   9]
 [ 53  21]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09065499901771545
difference in average predicted and observed risk = -0.010715000982284548
number samples = 730
accuracy = 0.915069
precision class 0 = 0.924286
precision class 1 = 0.7
recall class 0 = 0.986281
recall class 1 = 0.283784
false negative rate = 0.716216
false positive rate = 0.01372
positive prediction rate = 0.041096
AUC of ROC = 0.893087
AUC of PRC = 0.568566
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08432800322771072
difference in average predicted and observed risk = -0.041325996772289264
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.934631
AUC of PRC = 0.756272
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2461   13]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06801500171422958
difference in average predicted and observed risk = -0.025425998285770413
number samples = 2729
accuracy = 0.918285
precision class 0 = 0.921378
precision class 1 = 0.775862
recall class 0 = 0.994745
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.005255
positive prediction rate = 0.021253
AUC of ROC = 0.881766
AUC of PRC = 0.510428
min(+P, Se) = 0.496094

-------------------------------

confusion matrix:
[[1661   22]
 [ 155   61]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08983699977397919
difference in average predicted and observed risk = -0.02390700022602081
number samples = 1899
accuracy = 0.906793
precision class 0 = 0.914648
precision class 1 = 0.73494
recall class 0 = 0.986928
recall class 1 = 0.282407
false negative rate = 0.717593
false positive rate = 0.013072
positive prediction rate = 0.043707
AUC of ROC = 0.875688
AUC of PRC = 0.555912
min(+P, Se) = 0.509259

-------------------------------

confusion matrix:
[[546   3]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08564800024032593
difference in average predicted and observed risk = -0.037354999759674073
number samples = 626
accuracy = 0.894569
precision class 0 = 0.896552
precision class 1 = 0.823529
recall class 0 = 0.994536
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.005464
positive prediction rate = 0.027157
AUC of ROC = 0.877794
AUC of PRC = 0.569333
min(+P, Se) = 0.532468

-------------------------------

confusion matrix:
[[2236   13]
 [ 170   38]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0644029974937439
difference in average predicted and observed risk = -0.0202530025062561
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.929343
precision class 1 = 0.745098
recall class 0 = 0.99422
recall class 1 = 0.182692
false negative rate = 0.817308
false positive rate = 0.00578
positive prediction rate = 0.020757
AUC of ROC = 0.879814
AUC of PRC = 0.473062
min(+P, Se) = 0.442308

-------------------------------

confusion matrix:
[[219   4]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.07022999972105026
difference in average predicted and observed risk = -0.030576000278949744
number samples = 248
accuracy = 0.895161
precision class 0 = 0.908714
precision class 1 = 0.428571
recall class 0 = 0.982063
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.017937
positive prediction rate = 0.028226
AUC of ROC = 0.793363
AUC of PRC = 0.324373
min(+P, Se) = 0.342105

-------------------------------

confusion matrix:
[[474   7]
 [ 52  30]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.10435300320386887
difference in average predicted and observed risk = -0.041294996796131134
number samples = 563
accuracy = 0.895204
precision class 0 = 0.901141
precision class 1 = 0.810811
recall class 0 = 0.985447
recall class 1 = 0.365854
false negative rate = 0.634146
false positive rate = 0.014553
positive prediction rate = 0.065719
AUC of ROC = 0.892069
AUC of PRC = 0.664307
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[647   8]
 [ 58  21]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.0929030030965805
difference in average predicted and observed risk = -0.014725996903419497
number samples = 734
accuracy = 0.910082
precision class 0 = 0.917731
precision class 1 = 0.724138
recall class 0 = 0.987786
recall class 1 = 0.265823
false negative rate = 0.734177
false positive rate = 0.012214
positive prediction rate = 0.03951
AUC of ROC = 0.889902
AUC of PRC = 0.566442
min(+P, Se) = 0.518987

-------------------------------

confusion matrix:
[[4122   35]
 [ 365  106]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07696899771690369
difference in average predicted and observed risk = -0.024803002283096315
number samples = 4628
accuracy = 0.91357
precision class 0 = 0.918654
precision class 1 = 0.751773
recall class 0 = 0.99158
recall class 1 = 0.225053
false negative rate = 0.774947
false positive rate = 0.00842
positive prediction rate = 0.030467
AUC of ROC = 0.879516
AUC of PRC = 0.529582
min(+P, Se) = 0.494715

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 13   6]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07729800045490265
difference in average predicted and observed risk = -0.0028709995450973552
number samples = 237
accuracy = 0.92827
precision class 0 = 0.942731
precision class 1 = 0.6
recall class 0 = 0.981651
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018349
positive prediction rate = 0.042194
AUC of ROC = 0.89691
AUC of PRC = 0.393769
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[382   3]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07185500115156174
difference in average predicted and observed risk = -0.03694099884843827
number samples = 432
accuracy = 0.891204
precision class 0 = 0.896714
precision class 1 = 0.5
recall class 0 = 0.992208
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.007792
positive prediction rate = 0.013889
AUC of ROC = 0.848743
AUC of PRC = 0.426246
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[103   2]
 [  9   4]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.11657000333070755
difference in average predicted and observed risk = 0.006401003330707547
number samples = 118
accuracy = 0.90678
precision class 0 = 0.919643
precision class 1 = 0.666667
recall class 0 = 0.980952
recall class 1 = 0.307692
false negative rate = 0.692308
false positive rate = 0.019048
positive prediction rate = 0.050847
AUC of ROC = 0.860806
AUC of PRC = 0.54784
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08910900354385376
difference in average predicted and observed risk = -0.04422399645614625
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[294   6]
 [ 32   7]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09332100301980972
difference in average predicted and observed risk = -0.02172299698019027
number samples = 339
accuracy = 0.887906
precision class 0 = 0.901841
precision class 1 = 0.538462
recall class 0 = 0.98
recall class 1 = 0.179487
false negative rate = 0.820513
false positive rate = 0.02
positive prediction rate = 0.038348
AUC of ROC = 0.826581
AUC of PRC = 0.373338
min(+P, Se) = 0.414634

-------------------------------

confusion matrix:
[[431   3]
 [ 36   8]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.07145199924707413
difference in average predicted and observed risk = -0.02059800075292588
number samples = 478
accuracy = 0.91841
precision class 0 = 0.922912
precision class 1 = 0.727273
recall class 0 = 0.993088
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.006912
positive prediction rate = 0.023013
AUC of ROC = 0.892648
AUC of PRC = 0.508007
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[385   3]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.06322800368070602
difference in average predicted and observed risk = -0.02597399631929398
number samples = 426
accuracy = 0.913146
precision class 0 = 0.918854
precision class 1 = 0.571429
recall class 0 = 0.992268
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.007732
positive prediction rate = 0.016432
AUC of ROC = 0.867946
AUC of PRC = 0.342278
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[88  2]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09759599715471268
difference in average predicted and observed risk = -0.020051002845287325
number samples = 102
accuracy = 0.882353
precision class 0 = 0.897959
precision class 1 = 0.5
recall class 0 = 0.977778
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.022222
positive prediction rate = 0.039216
AUC of ROC = 0.876852
AUC of PRC = 0.574303
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07745199650526047
difference in average predicted and observed risk = -0.01125800349473953
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.876911
AUC of PRC = 0.39272
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[106   2]
 [ 12   7]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11740099638700485
difference in average predicted and observed risk = -0.03220500361299514
number samples = 127
accuracy = 0.889764
precision class 0 = 0.898305
precision class 1 = 0.777778
recall class 0 = 0.981481
recall class 1 = 0.368421
false negative rate = 0.631579
false positive rate = 0.018519
positive prediction rate = 0.070866
AUC of ROC = 0.82115
AUC of PRC = 0.47815
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11542200297117233
difference in average predicted and observed risk = 0.03647500297117233
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[725   9]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08052600175142288
difference in average predicted and observed risk = -0.02106499824857712
number samples = 817
accuracy = 0.905753
precision class 0 = 0.91425
precision class 1 = 0.625
recall class 0 = 0.987738
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.012262
positive prediction rate = 0.029376
AUC of ROC = 0.864253
AUC of PRC = 0.430601
min(+P, Se) = 0.465116

-------------------------------

Epoch 00095: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch95.state
Epoch 96/100
 - 305s - loss: 0.2334 - val_loss: 0.2350

==>predicting on train



confusion matrix:
[[2139   16]
 [ 201   54]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08158999681472778
difference in average predicted and observed risk = -0.024219003185272217
number samples = 2410
accuracy = 0.909958
precision class 0 = 0.914103
precision class 1 = 0.771429
recall class 0 = 0.992575
recall class 1 = 0.211765
false negative rate = 0.788235
false positive rate = 0.007425
positive prediction rate = 0.029046
AUC of ROC = 0.881543
AUC of PRC = 0.55252
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1165   14]
 [  85   33]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08299700170755386
difference in average predicted and observed risk = -0.00798199829244614
number samples = 1297
accuracy = 0.92367
precision class 0 = 0.932
precision class 1 = 0.702128
recall class 0 = 0.988126
recall class 1 = 0.279661
false negative rate = 0.720339
false positive rate = 0.011874
positive prediction rate = 0.036237
AUC of ROC = 0.904947
AUC of PRC = 0.526533
min(+P, Se) = 0.479339

-------------------------------

confusion matrix:
[[647   9]
 [ 50  24]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.09865900129079819
difference in average predicted and observed risk = -0.0027109987092018145
number samples = 730
accuracy = 0.919178
precision class 0 = 0.928264
precision class 1 = 0.727273
recall class 0 = 0.986281
recall class 1 = 0.324324
false negative rate = 0.675676
false positive rate = 0.01372
positive prediction rate = 0.045205
AUC of ROC = 0.903263
AUC of PRC = 0.590854
min(+P, Se) = 0.53012

-------------------------------

confusion matrix:
[[166   1]
 [ 13  11]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09338200092315674
difference in average predicted and observed risk = -0.03227199907684325
number samples = 191
accuracy = 0.926702
precision class 0 = 0.927374
precision class 1 = 0.916667
recall class 0 = 0.994012
recall class 1 = 0.458333
false negative rate = 0.541667
false positive rate = 0.005988
positive prediction rate = 0.062827
AUC of ROC = 0.939122
AUC of PRC = 0.765718
min(+P, Se) = 0.625

-------------------------------

confusion matrix:
[[2454   20]
 [ 194   61]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07723899930715561
difference in average predicted and observed risk = -0.016202000692844387
number samples = 2729
accuracy = 0.921583
precision class 0 = 0.926737
precision class 1 = 0.753086
recall class 0 = 0.991916
recall class 1 = 0.239216
false negative rate = 0.760784
false positive rate = 0.008084
positive prediction rate = 0.029681
AUC of ROC = 0.895844
AUC of PRC = 0.534724
min(+P, Se) = 0.509804

-------------------------------

confusion matrix:
[[1663   20]
 [ 155   61]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.09655100107192993
difference in average predicted and observed risk = -0.017192998928070066
number samples = 1899
accuracy = 0.907846
precision class 0 = 0.914741
precision class 1 = 0.753086
recall class 0 = 0.988116
recall class 1 = 0.282407
false negative rate = 0.717593
false positive rate = 0.011884
positive prediction rate = 0.042654
AUC of ROC = 0.889046
AUC of PRC = 0.583405
min(+P, Se) = 0.513889

-------------------------------

confusion matrix:
[[543   6]
 [ 61  16]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09341400116682053
difference in average predicted and observed risk = -0.029588998833179475
number samples = 626
accuracy = 0.892971
precision class 0 = 0.899007
precision class 1 = 0.727273
recall class 0 = 0.989071
recall class 1 = 0.207792
false negative rate = 0.792208
false positive rate = 0.010929
positive prediction rate = 0.035144
AUC of ROC = 0.889031
AUC of PRC = 0.587741
min(+P, Se) = 0.564103

-------------------------------

confusion matrix:
[[2236   13]
 [ 166   42]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07222499698400497
difference in average predicted and observed risk = -0.01243100301599502
number samples = 2457
accuracy = 0.927147
precision class 0 = 0.930891
precision class 1 = 0.763636
recall class 0 = 0.99422
recall class 1 = 0.201923
false negative rate = 0.798077
false positive rate = 0.00578
positive prediction rate = 0.022385
AUC of ROC = 0.896969
AUC of PRC = 0.511131
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[217   6]
 [ 20   5]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08140300214290619
difference in average predicted and observed risk = -0.019402997857093818
number samples = 248
accuracy = 0.895161
precision class 0 = 0.915612
precision class 1 = 0.454545
recall class 0 = 0.973094
recall class 1 = 0.2
false negative rate = 0.8
false positive rate = 0.026906
positive prediction rate = 0.044355
AUC of ROC = 0.807713
AUC of PRC = 0.342394
min(+P, Se) = 0.333333

-------------------------------

confusion matrix:
[[474   7]
 [ 49  33]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11406999826431274
difference in average predicted and observed risk = -0.031578001735687256
number samples = 563
accuracy = 0.900533
precision class 0 = 0.90631
precision class 1 = 0.825
recall class 0 = 0.985447
recall class 1 = 0.402439
false negative rate = 0.597561
false positive rate = 0.014553
positive prediction rate = 0.071048
AUC of ROC = 0.900969
AUC of PRC = 0.690348
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[647   8]
 [ 53  26]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.10053499788045883
difference in average predicted and observed risk = -0.007094002119541171
number samples = 734
accuracy = 0.916894
precision class 0 = 0.924286
precision class 1 = 0.764706
recall class 0 = 0.987786
recall class 1 = 0.329114
false negative rate = 0.670886
false positive rate = 0.012214
positive prediction rate = 0.046322
AUC of ROC = 0.902213
AUC of PRC = 0.583763
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4117   40]
 [ 349  122]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.08516299724578857
difference in average predicted and observed risk = -0.016609002754211427
number samples = 4628
accuracy = 0.915946
precision class 0 = 0.921854
precision class 1 = 0.753086
recall class 0 = 0.990378
recall class 1 = 0.259023
false negative rate = 0.740977
false positive rate = 0.009622
positive prediction rate = 0.035004
AUC of ROC = 0.893292
AUC of PRC = 0.557532
min(+P, Se) = 0.514831

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08407100290060043
difference in average predicted and observed risk = 0.003902002900600429
number samples = 237
accuracy = 0.92827
precision class 0 = 0.938865
precision class 1 = 0.625
recall class 0 = 0.986239
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.013761
positive prediction rate = 0.033755
AUC of ROC = 0.90874
AUC of PRC = 0.396683
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[381   4]
 [ 44   3]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.07680399715900421
difference in average predicted and observed risk = -0.03199200284099579
number samples = 432
accuracy = 0.888889
precision class 0 = 0.896471
precision class 1 = 0.428571
recall class 0 = 0.98961
recall class 1 = 0.06383
false negative rate = 0.93617
false positive rate = 0.01039
positive prediction rate = 0.016204
AUC of ROC = 0.859022
AUC of PRC = 0.460054
min(+P, Se) = 0.468085

-------------------------------

confusion matrix:
[[103   2]
 [  8   5]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.12445800006389618
difference in average predicted and observed risk = 0.014289000063896176
number samples = 118
accuracy = 0.915254
precision class 0 = 0.927928
precision class 1 = 0.714286
recall class 0 = 0.980952
recall class 1 = 0.384615
false negative rate = 0.615385
false positive rate = 0.019048
positive prediction rate = 0.059322
AUC of ROC = 0.852747
AUC of PRC = 0.47242
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.09740400314331055
difference in average predicted and observed risk = -0.03592899685668946
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.09773200005292892
difference in average predicted and observed risk = -0.01731199994707107
number samples = 339
accuracy = 0.884956
precision class 0 = 0.896657
precision class 1 = 0.5
recall class 0 = 0.983333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.016667
positive prediction rate = 0.029499
AUC of ROC = 0.842137
AUC of PRC = 0.404009
min(+P, Se) = 0.44186

-------------------------------

confusion matrix:
[[430   4]
 [ 34  10]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0786219984292984
difference in average predicted and observed risk = -0.013428001570701606
number samples = 478
accuracy = 0.920502
precision class 0 = 0.926724
precision class 1 = 0.714286
recall class 0 = 0.990783
recall class 1 = 0.227273
false negative rate = 0.772727
false positive rate = 0.009217
positive prediction rate = 0.029289
AUC of ROC = 0.896313
AUC of PRC = 0.528373
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[385   3]
 [ 34   4]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.0681459978222847
difference in average predicted and observed risk = -0.021056002177715305
number samples = 426
accuracy = 0.913146
precision class 0 = 0.918854
precision class 1 = 0.571429
recall class 0 = 0.992268
recall class 1 = 0.105263
false negative rate = 0.894737
false positive rate = 0.007732
positive prediction rate = 0.016432
AUC of ROC = 0.880697
AUC of PRC = 0.383625
min(+P, Se) = 0.425532

-------------------------------

confusion matrix:
[[89  1]
 [ 9  3]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.10151199996471405
difference in average predicted and observed risk = -0.01613500003528595
number samples = 102
accuracy = 0.901961
precision class 0 = 0.908163
precision class 1 = 0.75
recall class 0 = 0.988889
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.011111
positive prediction rate = 0.039216
AUC of ROC = 0.87037
AUC of PRC = 0.635411
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0842059999704361
difference in average predicted and observed risk = -0.004504000029563901
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.895414
AUC of PRC = 0.426028
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 13   6]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.1271750032901764
difference in average predicted and observed risk = -0.022430996709823597
number samples = 127
accuracy = 0.88189
precision class 0 = 0.890756
precision class 1 = 0.75
recall class 0 = 0.981481
recall class 1 = 0.315789
false negative rate = 0.684211
false positive rate = 0.018519
positive prediction rate = 0.062992
AUC of ROC = 0.836257
AUC of PRC = 0.49359
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.12461099773645401
difference in average predicted and observed risk = 0.04566399773645401
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[725   9]
 [ 68  15]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.0865510031580925
difference in average predicted and observed risk = -0.015039996841907502
number samples = 817
accuracy = 0.905753
precision class 0 = 0.91425
precision class 1 = 0.625
recall class 0 = 0.987738
recall class 1 = 0.180723
false negative rate = 0.819277
false positive rate = 0.012262
positive prediction rate = 0.029376
AUC of ROC = 0.873592
AUC of PRC = 0.452819
min(+P, Se) = 0.46988

-------------------------------

Epoch 00096: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch96.state
Epoch 97/100
 - 303s - loss: 0.2296 - val_loss: 0.2519

==>predicting on train



confusion matrix:
[[2144   11]
 [ 211   44]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06330300122499466
difference in average predicted and observed risk = -0.04250599877500534
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.910403
precision class 1 = 0.8
recall class 0 = 0.994896
recall class 1 = 0.172549
false negative rate = 0.827451
false positive rate = 0.005104
positive prediction rate = 0.022822
AUC of ROC = 0.87188
AUC of PRC = 0.534761
min(+P, Se) = 0.517647

-------------------------------

confusion matrix:
[[1169   10]
 [  92   26]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06493700295686722
difference in average predicted and observed risk = -0.026041997043132786
number samples = 1297
accuracy = 0.921357
precision class 0 = 0.927042
precision class 1 = 0.722222
recall class 0 = 0.991518
recall class 1 = 0.220339
false negative rate = 0.779661
false positive rate = 0.008482
positive prediction rate = 0.027756
AUC of ROC = 0.898744
AUC of PRC = 0.508523
min(+P, Se) = 0.449153

-------------------------------

confusion matrix:
[[651   5]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07879500091075897
difference in average predicted and observed risk = -0.02257499908924103
number samples = 730
accuracy = 0.919178
precision class 0 = 0.923404
precision class 1 = 0.8
recall class 0 = 0.992378
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.007622
positive prediction rate = 0.034247
AUC of ROC = 0.900461
AUC of PRC = 0.595584
min(+P, Se) = 0.546667

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07711800187826157
difference in average predicted and observed risk = -0.04853599812173842
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.942365
AUC of PRC = 0.775604
min(+P, Se) = 0.64

-------------------------------

confusion matrix:
[[2461   13]
 [ 210   45]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06040100008249283
difference in average predicted and observed risk = -0.03303999991750717
number samples = 2729
accuracy = 0.918285
precision class 0 = 0.921378
precision class 1 = 0.775862
recall class 0 = 0.994745
recall class 1 = 0.176471
false negative rate = 0.823529
false positive rate = 0.005255
positive prediction rate = 0.021253
AUC of ROC = 0.891228
AUC of PRC = 0.52723
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1670   13]
 [ 163   53]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.075934998691082
difference in average predicted and observed risk = -0.037809001308918
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.911075
precision class 1 = 0.80303
recall class 0 = 0.992276
recall class 1 = 0.24537
false negative rate = 0.75463
false positive rate = 0.007724
positive prediction rate = 0.034755
AUC of ROC = 0.878331
AUC of PRC = 0.564856
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[543   6]
 [ 63  14]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07465700060129166
difference in average predicted and observed risk = -0.048345999398708345
number samples = 626
accuracy = 0.889776
precision class 0 = 0.89604
precision class 1 = 0.7
recall class 0 = 0.989071
recall class 1 = 0.181818
false negative rate = 0.818182
false positive rate = 0.010929
positive prediction rate = 0.031949
AUC of ROC = 0.881366
AUC of PRC = 0.564232
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[2244    5]
 [ 174   34]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.05473199859261513
difference in average predicted and observed risk = -0.029924001407384868
number samples = 2457
accuracy = 0.927147
precision class 0 = 0.92804
precision class 1 = 0.871795
recall class 0 = 0.997777
recall class 1 = 0.163462
false negative rate = 0.836538
false positive rate = 0.002223
positive prediction rate = 0.015873
AUC of ROC = 0.886148
AUC of PRC = 0.496263
min(+P, Se) = 0.485577

-------------------------------

confusion matrix:
[[221   2]
 [ 22   3]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06008100137114525
difference in average predicted and observed risk = -0.04072499862885476
number samples = 248
accuracy = 0.903226
precision class 0 = 0.909465
precision class 1 = 0.6
recall class 0 = 0.991031
recall class 1 = 0.12
false negative rate = 0.88
false positive rate = 0.008969
positive prediction rate = 0.020161
AUC of ROC = 0.799821
AUC of PRC = 0.333718
min(+P, Se) = 0.354839

-------------------------------

confusion matrix:
[[476   5]
 [ 55  27]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.0937419980764389
difference in average predicted and observed risk = -0.051906001923561096
number samples = 563
accuracy = 0.893428
precision class 0 = 0.896422
precision class 1 = 0.84375
recall class 0 = 0.989605
recall class 1 = 0.329268
false negative rate = 0.670732
false positive rate = 0.010395
positive prediction rate = 0.056838
AUC of ROC = 0.905431
AUC of PRC = 0.689351
min(+P, Se) = 0.597561

-------------------------------

confusion matrix:
[[647   8]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08194299787282944
difference in average predicted and observed risk = -0.025686002127170565
number samples = 734
accuracy = 0.908719
precision class 0 = 0.916431
precision class 1 = 0.714286
recall class 0 = 0.987786
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.012214
positive prediction rate = 0.038147
AUC of ROC = 0.894714
AUC of PRC = 0.571665
min(+P, Se) = 0.55

-------------------------------

confusion matrix:
[[4131   26]
 [ 373   98]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06677500158548355
difference in average predicted and observed risk = -0.03499699841451645
number samples = 4628
accuracy = 0.913786
precision class 0 = 0.917185
precision class 1 = 0.790323
recall class 0 = 0.993746
recall class 1 = 0.208068
false negative rate = 0.791932
false positive rate = 0.006255
positive prediction rate = 0.026793
AUC of ROC = 0.88626
AUC of PRC = 0.544268
min(+P, Se) = 0.509554

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06700699776411057
difference in average predicted and observed risk = -0.013162002235889439
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.892805
AUC of PRC = 0.38325
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[382   3]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.059484001249074936
difference in average predicted and observed risk = -0.04931199875092507
number samples = 432
accuracy = 0.888889
precision class 0 = 0.894614
precision class 1 = 0.4
recall class 0 = 0.992208
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.007792
positive prediction rate = 0.011574
AUC of ROC = 0.848909
AUC of PRC = 0.443549
min(+P, Se) = 0.469388

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09937500208616257
difference in average predicted and observed risk = -0.010793997913837436
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.855678
AUC of PRC = 0.448389
min(+P, Se) = 0.466667

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08120600134134293
difference in average predicted and observed risk = -0.05212699865865708
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07776899635791779
difference in average predicted and observed risk = -0.03727500364208221
number samples = 339
accuracy = 0.884956
precision class 0 = 0.896657
precision class 1 = 0.5
recall class 0 = 0.983333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.016667
positive prediction rate = 0.029499
AUC of ROC = 0.821111
AUC of PRC = 0.373935
min(+P, Se) = 0.425

-------------------------------

confusion matrix:
[[431   3]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06145700067281723
difference in average predicted and observed risk = -0.030592999327182777
number samples = 478
accuracy = 0.914226
precision class 0 = 0.918977
precision class 1 = 0.666667
recall class 0 = 0.993088
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.006912
positive prediction rate = 0.018828
AUC of ROC = 0.891915
AUC of PRC = 0.523626
min(+P, Se) = 0.522727

-------------------------------

confusion matrix:
[[386   2]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05309699848294258
difference in average predicted and observed risk = -0.03610500151705742
number samples = 426
accuracy = 0.913146
precision class 0 = 0.916865
precision class 1 = 0.6
recall class 0 = 0.994845
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.005155
positive prediction rate = 0.011737
AUC of ROC = 0.866319
AUC of PRC = 0.381459
min(+P, Se) = 0.421053

-------------------------------

confusion matrix:
[[89  1]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.08194500207901001
difference in average predicted and observed risk = -0.03570199792098999
number samples = 102
accuracy = 0.892157
precision class 0 = 0.89899
precision class 1 = 0.666667
recall class 0 = 0.988889
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.011111
positive prediction rate = 0.029412
AUC of ROC = 0.867593
AUC of PRC = 0.580041
min(+P, Se) = 0.615385

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.0661349967122078
difference in average predicted and observed risk = -0.022575003287792203
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.874497
AUC of PRC = 0.387696
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10392700135707855
difference in average predicted and observed risk = -0.04567899864292144
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.825536
AUC of PRC = 0.483432
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[34  1]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.08850099891424179
difference in average predicted and observed risk = 0.009553998914241787
number samples = 38
accuracy = 0.921053
precision class 0 = 0.944444
precision class 1 = 0.5
recall class 0 = 0.971429
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.028571
positive prediction rate = 0.052632
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[726   8]
 [ 72  11]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06822499632835388
difference in average predicted and observed risk = -0.03336600367164612
number samples = 817
accuracy = 0.902081
precision class 0 = 0.909774
precision class 1 = 0.578947
recall class 0 = 0.989101
recall class 1 = 0.13253
false negative rate = 0.86747
false positive rate = 0.010899
positive prediction rate = 0.023256
AUC of ROC = 0.862989
AUC of PRC = 0.437858
min(+P, Se) = 0.481928

-------------------------------

Epoch 00097: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch97.state
Epoch 98/100
 - 303s - loss: 0.2316 - val_loss: 0.2395

==>predicting on train



confusion matrix:
[[2147    8]
 [ 214   41]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.08505500108003616
difference in average predicted and observed risk = -0.020753998919963837
number samples = 2410
accuracy = 0.907884
precision class 0 = 0.90936
precision class 1 = 0.836735
recall class 0 = 0.996288
recall class 1 = 0.160784
false negative rate = 0.839216
false positive rate = 0.003712
positive prediction rate = 0.020332
AUC of ROC = 0.87229
AUC of PRC = 0.54044
min(+P, Se) = 0.517647

-------------------------------

confusion matrix:
[[1170    9]
 [  97   21]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.08366300165653229
difference in average predicted and observed risk = -0.007315998343467717
number samples = 1297
accuracy = 0.918273
precision class 0 = 0.923441
precision class 1 = 0.7
recall class 0 = 0.992366
recall class 1 = 0.177966
false negative rate = 0.822034
false positive rate = 0.007634
positive prediction rate = 0.02313
AUC of ROC = 0.903588
AUC of PRC = 0.52339
min(+P, Se) = 0.474576

-------------------------------

confusion matrix:
[[652   4]
 [ 54  20]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.10331399738788605
difference in average predicted and observed risk = 0.0019439973878860456
number samples = 730
accuracy = 0.920548
precision class 0 = 0.923513
precision class 1 = 0.833333
recall class 0 = 0.993902
recall class 1 = 0.27027
false negative rate = 0.72973
false positive rate = 0.006098
positive prediction rate = 0.032877
AUC of ROC = 0.904231
AUC of PRC = 0.60919
min(+P, Se) = 0.567568

-------------------------------

confusion matrix:
[[167   0]
 [ 18   6]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.09520299732685089
difference in average predicted and observed risk = -0.030451002673149097
number samples = 191
accuracy = 0.905759
precision class 0 = 0.902703
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.031414
AUC of ROC = 0.942116
AUC of PRC = 0.791292
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2463   11]
 [ 219   36]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.07895399630069733
difference in average predicted and observed risk = -0.01448700369930267
number samples = 2729
accuracy = 0.91572
precision class 0 = 0.918344
precision class 1 = 0.765957
recall class 0 = 0.995554
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.004446
positive prediction rate = 0.017222
AUC of ROC = 0.891063
AUC of PRC = 0.536001
min(+P, Se) = 0.521569

-------------------------------

confusion matrix:
[[1673   10]
 [ 164   52]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.10091300308704376
difference in average predicted and observed risk = -0.012830996912956236
number samples = 1899
accuracy = 0.908373
precision class 0 = 0.910724
precision class 1 = 0.83871
recall class 0 = 0.994058
recall class 1 = 0.240741
false negative rate = 0.759259
false positive rate = 0.005942
positive prediction rate = 0.032649
AUC of ROC = 0.883855
AUC of PRC = 0.579913
min(+P, Se) = 0.511521

-------------------------------

confusion matrix:
[[546   3]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.09657900035381317
difference in average predicted and observed risk = -0.02642399964618683
number samples = 626
accuracy = 0.891374
precision class 0 = 0.893617
precision class 1 = 0.8
recall class 0 = 0.994536
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.005464
positive prediction rate = 0.023962
AUC of ROC = 0.886784
AUC of PRC = 0.603367
min(+P, Se) = 0.564103

-------------------------------

confusion matrix:
[[2244    5]
 [ 178   30]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.07617100328207016
difference in average predicted and observed risk = -0.008484996717929835
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.926507
precision class 1 = 0.857143
recall class 0 = 0.997777
recall class 1 = 0.144231
false negative rate = 0.855769
false positive rate = 0.002223
positive prediction rate = 0.014245
AUC of ROC = 0.88972
AUC of PRC = 0.508943
min(+P, Se) = 0.466346

-------------------------------

confusion matrix:
[[221   2]
 [ 23   2]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.08039599657058716
difference in average predicted and observed risk = -0.02041000342941285
number samples = 248
accuracy = 0.899194
precision class 0 = 0.905738
precision class 1 = 0.5
recall class 0 = 0.991031
recall class 1 = 0.08
false negative rate = 0.92
false positive rate = 0.008969
positive prediction rate = 0.016129
AUC of ROC = 0.789955
AUC of PRC = 0.331477
min(+P, Se) = 0.392857

-------------------------------

confusion matrix:
[[476   5]
 [ 57  25]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.11203400045633316
difference in average predicted and observed risk = -0.03361399954366684
number samples = 563
accuracy = 0.889876
precision class 0 = 0.893058
precision class 1 = 0.833333
recall class 0 = 0.989605
recall class 1 = 0.304878
false negative rate = 0.695122
false positive rate = 0.010395
positive prediction rate = 0.053286
AUC of ROC = 0.902617
AUC of PRC = 0.680044
min(+P, Se) = 0.630952

-------------------------------

confusion matrix:
[[649   6]
 [ 60  19]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.1041869968175888
difference in average predicted and observed risk = -0.0034420031824111963
number samples = 734
accuracy = 0.910082
precision class 0 = 0.915374
precision class 1 = 0.76
recall class 0 = 0.99084
recall class 1 = 0.240506
false negative rate = 0.759494
false positive rate = 0.00916
positive prediction rate = 0.03406
AUC of ROC = 0.897285
AUC of PRC = 0.57575
min(+P, Se) = 0.5375

-------------------------------

confusion matrix:
[[4136   21]
 [ 383   88]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.0879639983177185
difference in average predicted and observed risk = -0.013808001682281495
number samples = 4628
accuracy = 0.912705
precision class 0 = 0.915247
precision class 1 = 0.807339
recall class 0 = 0.994948
recall class 1 = 0.186837
false negative rate = 0.813163
false positive rate = 0.005052
positive prediction rate = 0.023552
AUC of ROC = 0.88821
AUC of PRC = 0.555317
min(+P, Se) = 0.511677

-------------------------------

==>predicting on validation



confusion matrix:
[[215   3]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.08637499809265137
difference in average predicted and observed risk = 0.006205998092651363
number samples = 237
accuracy = 0.924051
precision class 0 = 0.934783
precision class 1 = 0.571429
recall class 0 = 0.986239
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.013761
positive prediction rate = 0.029536
AUC of ROC = 0.908015
AUC of PRC = 0.400906
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.08166500180959702
difference in average predicted and observed risk = -0.02713099819040299
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.846587
AUC of PRC = 0.441659
min(+P, Se) = 0.446809

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.1231279969215393
difference in average predicted and observed risk = 0.012958996921539304
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.83956
AUC of PRC = 0.459119
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.10100399702787399
difference in average predicted and observed risk = -0.032329002972126014
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.10227999836206436
difference in average predicted and observed risk = -0.012764001637935632
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.825726
AUC of PRC = 0.389242
min(+P, Se) = 0.435897

-------------------------------

confusion matrix:
[[431   3]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.08083000034093857
difference in average predicted and observed risk = -0.011219999659061439
number samples = 478
accuracy = 0.914226
precision class 0 = 0.918977
precision class 1 = 0.666667
recall class 0 = 0.993088
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.006912
positive prediction rate = 0.018828
AUC of ROC = 0.890448
AUC of PRC = 0.51505
min(+P, Se) = 0.477273

-------------------------------

confusion matrix:
[[386   2]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.07298800349235535
difference in average predicted and observed risk = -0.016213996507644657
number samples = 426
accuracy = 0.910798
precision class 0 = 0.914692
precision class 1 = 0.5
recall class 0 = 0.994845
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.005155
positive prediction rate = 0.00939
AUC of ROC = 0.87656
AUC of PRC = 0.376043
min(+P, Se) = 0.391304

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.09963499754667282
difference in average predicted and observed risk = -0.01801200245332718
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.834259
AUC of PRC = 0.620425
min(+P, Se) = 0.538462

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.09046199917793274
difference in average predicted and observed risk = 0.001751999177932742
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.893805
AUC of PRC = 0.433613
min(+P, Se) = 0.454545

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.12930500507354736
difference in average predicted and observed risk = -0.020300994926452626
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.820663
AUC of PRC = 0.481421
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.11617500334978104
difference in average predicted and observed risk = 0.03722800334978103
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 1.0
AUC of PRC = 1.0
min(+P, Se) = 1.0

-------------------------------

confusion matrix:
[[728   6]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.08973000198602676
difference in average predicted and observed risk = -0.011860998013973237
number samples = 817
accuracy = 0.903305
precision class 0 = 0.908864
precision class 1 = 0.625
recall class 0 = 0.991826
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.008174
positive prediction rate = 0.019584
AUC of ROC = 0.863662
AUC of PRC = 0.438248
min(+P, Se) = 0.447059

-------------------------------

Epoch 00098: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch98.state
Epoch 99/100
 - 302s - loss: 0.2283 - val_loss: 0.2421

==>predicting on train



confusion matrix:
[[2144   11]
 [ 212   43]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06848800182342529
difference in average predicted and observed risk = -0.03732099817657471
number samples = 2410
accuracy = 0.907469
precision class 0 = 0.910017
precision class 1 = 0.796296
recall class 0 = 0.994896
recall class 1 = 0.168627
false negative rate = 0.831373
false positive rate = 0.005104
positive prediction rate = 0.022407
AUC of ROC = 0.873786
AUC of PRC = 0.540293
min(+P, Se) = 0.503906

-------------------------------

confusion matrix:
[[1170    9]
 [  95   23]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06988800317049026
difference in average predicted and observed risk = -0.02109099682950974
number samples = 1297
accuracy = 0.919815
precision class 0 = 0.924901
precision class 1 = 0.71875
recall class 0 = 0.992366
recall class 1 = 0.194915
false negative rate = 0.805085
false positive rate = 0.007634
positive prediction rate = 0.024672
AUC of ROC = 0.898233
AUC of PRC = 0.513399
min(+P, Se) = 0.466102

-------------------------------

confusion matrix:
[[650   6]
 [ 52  22]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.0851380005478859
difference in average predicted and observed risk = -0.016231999452114107
number samples = 730
accuracy = 0.920548
precision class 0 = 0.925926
precision class 1 = 0.785714
recall class 0 = 0.990854
recall class 1 = 0.297297
false negative rate = 0.702703
false positive rate = 0.009146
positive prediction rate = 0.038356
AUC of ROC = 0.897825
AUC of PRC = 0.579059
min(+P, Se) = 0.518519

-------------------------------

confusion matrix:
[[167   0]
 [ 16   8]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.08168900012969971
difference in average predicted and observed risk = -0.04396499987030028
number samples = 191
accuracy = 0.91623
precision class 0 = 0.912568
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.041885
AUC of ROC = 0.941617
AUC of PRC = 0.797131
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2464   10]
 [ 215   40]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.06341999769210815
difference in average predicted and observed risk = -0.030021002307891842
number samples = 2729
accuracy = 0.917552
precision class 0 = 0.919746
precision class 1 = 0.8
recall class 0 = 0.995958
recall class 1 = 0.156863
false negative rate = 0.843137
false positive rate = 0.004042
positive prediction rate = 0.018322
AUC of ROC = 0.888416
AUC of PRC = 0.524979
min(+P, Se) = 0.492248

-------------------------------

confusion matrix:
[[1667   16]
 [ 160   56]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.08445499837398529
difference in average predicted and observed risk = -0.029289001626014707
number samples = 1899
accuracy = 0.90732
precision class 0 = 0.912425
precision class 1 = 0.777778
recall class 0 = 0.990493
recall class 1 = 0.259259
false negative rate = 0.740741
false positive rate = 0.009507
positive prediction rate = 0.037915
AUC of ROC = 0.883948
AUC of PRC = 0.574512
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[546   3]
 [ 64  13]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.08066999912261963
difference in average predicted and observed risk = -0.04233300087738037
number samples = 626
accuracy = 0.892971
precision class 0 = 0.895082
precision class 1 = 0.8125
recall class 0 = 0.994536
recall class 1 = 0.168831
false negative rate = 0.831169
false positive rate = 0.005464
positive prediction rate = 0.025559
AUC of ROC = 0.887777
AUC of PRC = 0.587446
min(+P, Se) = 0.551282

-------------------------------

confusion matrix:
[[2241    8]
 [ 175   33]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.059748001396656036
difference in average predicted and observed risk = -0.02490799860334396
number samples = 2457
accuracy = 0.925519
precision class 0 = 0.927566
precision class 1 = 0.804878
recall class 0 = 0.996443
recall class 1 = 0.158654
false negative rate = 0.841346
false positive rate = 0.003557
positive prediction rate = 0.016687
AUC of ROC = 0.885969
AUC of PRC = 0.495376
min(+P, Se) = 0.444934

-------------------------------

confusion matrix:
[[221   2]
 [ 21   4]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.06688699871301651
difference in average predicted and observed risk = -0.0339190012869835
number samples = 248
accuracy = 0.907258
precision class 0 = 0.913223
precision class 1 = 0.666667
recall class 0 = 0.991031
recall class 1 = 0.16
false negative rate = 0.84
false positive rate = 0.008969
positive prediction rate = 0.024194
AUC of ROC = 0.8
AUC of PRC = 0.342407
min(+P, Se) = 0.384615

-------------------------------

confusion matrix:
[[476   5]
 [ 56  26]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09915199875831604
difference in average predicted and observed risk = -0.04649600124168396
number samples = 563
accuracy = 0.891652
precision class 0 = 0.894737
precision class 1 = 0.83871
recall class 0 = 0.989605
recall class 1 = 0.317073
false negative rate = 0.682927
false positive rate = 0.010395
positive prediction rate = 0.055062
AUC of ROC = 0.905532
AUC of PRC = 0.695466
min(+P, Se) = 0.621951

-------------------------------

confusion matrix:
[[647   8]
 [ 59  20]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08684200048446655
difference in average predicted and observed risk = -0.02078699951553345
number samples = 734
accuracy = 0.908719
precision class 0 = 0.916431
precision class 1 = 0.714286
recall class 0 = 0.987786
recall class 1 = 0.253165
false negative rate = 0.746835
false positive rate = 0.012214
positive prediction rate = 0.038147
AUC of ROC = 0.891429
AUC of PRC = 0.56296
min(+P, Se) = 0.531646

-------------------------------

confusion matrix:
[[4131   26]
 [ 375   96]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.07205100357532501
difference in average predicted and observed risk = -0.02972099642467499
number samples = 4628
accuracy = 0.913354
precision class 0 = 0.916778
precision class 1 = 0.786885
recall class 0 = 0.993746
recall class 1 = 0.203822
false negative rate = 0.796178
false positive rate = 0.006255
positive prediction rate = 0.026361
AUC of ROC = 0.886775
AUC of PRC = 0.547332
min(+P, Se) = 0.496815

-------------------------------

==>predicting on validation



confusion matrix:
[[214   4]
 [ 14   5]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.07178699970245361
difference in average predicted and observed risk = -0.00838200029754639
number samples = 237
accuracy = 0.924051
precision class 0 = 0.938596
precision class 1 = 0.555556
recall class 0 = 0.981651
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018349
positive prediction rate = 0.037975
AUC of ROC = 0.90367
AUC of PRC = 0.382234
min(+P, Se) = 0.368421

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06472600251436234
difference in average predicted and observed risk = -0.04406999748563767
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.863996
AUC of PRC = 0.456995
min(+P, Se) = 0.489362

-------------------------------

confusion matrix:
[[103   2]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.10651399940252304
difference in average predicted and observed risk = -0.0036550005974769623
number samples = 118
accuracy = 0.898305
precision class 0 = 0.911504
precision class 1 = 0.6
recall class 0 = 0.980952
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.019048
positive prediction rate = 0.042373
AUC of ROC = 0.843956
AUC of PRC = 0.417503
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[26  0]
 [ 2  2]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.08969800174236298
difference in average predicted and observed risk = -0.04363499825763703
number samples = 30
accuracy = 0.933333
precision class 0 = 0.928571
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.5
false negative rate = 0.5
false positive rate = 0.0
positive prediction rate = 0.066667
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[295   5]
 [ 34   5]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.08435600250959396
difference in average predicted and observed risk = -0.03068799749040603
number samples = 339
accuracy = 0.884956
precision class 0 = 0.896657
precision class 1 = 0.5
recall class 0 = 0.983333
recall class 1 = 0.128205
false negative rate = 0.871795
false positive rate = 0.016667
positive prediction rate = 0.029499
AUC of ROC = 0.83094
AUC of PRC = 0.374204
min(+P, Se) = 0.404255

-------------------------------

confusion matrix:
[[431   3]
 [ 37   7]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.06618800014257431
difference in average predicted and observed risk = -0.025861999857425697
number samples = 478
accuracy = 0.916318
precision class 0 = 0.92094
precision class 1 = 0.7
recall class 0 = 0.993088
recall class 1 = 0.159091
false negative rate = 0.840909
false positive rate = 0.006912
positive prediction rate = 0.020921
AUC of ROC = 0.905006
AUC of PRC = 0.527413
min(+P, Se) = 0.533333

-------------------------------

confusion matrix:
[[385   3]
 [ 35   3]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.05717900022864342
difference in average predicted and observed risk = -0.032022999771356586
number samples = 426
accuracy = 0.910798
precision class 0 = 0.916667
precision class 1 = 0.5
recall class 0 = 0.992268
recall class 1 = 0.078947
false negative rate = 0.921053
false positive rate = 0.007732
positive prediction rate = 0.014085
AUC of ROC = 0.878052
AUC of PRC = 0.358327
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[88  2]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.0887100026011467
difference in average predicted and observed risk = -0.028936997398853304
number samples = 102
accuracy = 0.882353
precision class 0 = 0.897959
precision class 1 = 0.5
recall class 0 = 0.977778
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.022222
positive prediction rate = 0.039216
AUC of ROC = 0.887963
AUC of PRC = 0.591092
min(+P, Se) = 0.5625

-------------------------------

confusion matrix:
[[112   1]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.07042299956083298
difference in average predicted and observed risk = -0.01828700043916702
number samples = 124
accuracy = 0.91129
precision class 0 = 0.918033
precision class 1 = 0.5
recall class 0 = 0.99115
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.00885
positive prediction rate = 0.016129
AUC of ROC = 0.889783
AUC of PRC = 0.411707
min(+P, Se) = 0.461538

-------------------------------

confusion matrix:
[[106   2]
 [ 14   5]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.11195900291204453
difference in average predicted and observed risk = -0.037646997087955464
number samples = 127
accuracy = 0.874016
precision class 0 = 0.883333
precision class 1 = 0.714286
recall class 0 = 0.981481
recall class 1 = 0.263158
false negative rate = 0.736842
false positive rate = 0.018519
positive prediction rate = 0.055118
AUC of ROC = 0.827973
AUC of PRC = 0.480182
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.10201700031757355
difference in average predicted and observed risk = 0.023070000317573544
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.980952
AUC of PRC = 0.763889
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[726   8]
 [ 71  12]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.07372699677944183
difference in average predicted and observed risk = -0.027864003220558167
number samples = 817
accuracy = 0.903305
precision class 0 = 0.910916
precision class 1 = 0.6
recall class 0 = 0.989101
recall class 1 = 0.144578
false negative rate = 0.855422
false positive rate = 0.010899
positive prediction rate = 0.02448
AUC of ROC = 0.873445
AUC of PRC = 0.437093
min(+P, Se) = 0.470588

-------------------------------

Epoch 00099: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch99.state
Epoch 100/100
 - 304s - loss: 0.2343 - val_loss: 0.2495

==>predicting on train



confusion matrix:
[[2148    7]
 [ 219   36]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.105809
average predicted risk of IHM = 0.06548099964857101
difference in average predicted and observed risk = -0.040328000351428986
number samples = 2410
accuracy = 0.906224
precision class 0 = 0.907478
precision class 1 = 0.837209
recall class 0 = 0.996752
recall class 1 = 0.141176
false negative rate = 0.858824
false positive rate = 0.003248
positive prediction rate = 0.017842
AUC of ROC = 0.869256
AUC of PRC = 0.538355
min(+P, Se) = 0.501961

-------------------------------

confusion matrix:
[[1171    8]
 [ 100   18]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.090979
average predicted risk of IHM = 0.06499999761581421
difference in average predicted and observed risk = -0.025979002384185795
number samples = 1297
accuracy = 0.916731
precision class 0 = 0.921322
precision class 1 = 0.692308
recall class 0 = 0.993215
recall class 1 = 0.152542
false negative rate = 0.847458
false positive rate = 0.006785
positive prediction rate = 0.020046
AUC of ROC = 0.897407
AUC of PRC = 0.502928
min(+P, Se) = 0.46281

-------------------------------

confusion matrix:
[[653   3]
 [ 55  19]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.10137
average predicted risk of IHM = 0.07983999699354172
difference in average predicted and observed risk = -0.021530003006458284
number samples = 730
accuracy = 0.920548
precision class 0 = 0.922316
precision class 1 = 0.863636
recall class 0 = 0.995427
recall class 1 = 0.256757
false negative rate = 0.743243
false positive rate = 0.004573
positive prediction rate = 0.030137
AUC of ROC = 0.897207
AUC of PRC = 0.598326
min(+P, Se) = 0.554054

-------------------------------

confusion matrix:
[[167   0]
 [ 19   5]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.125654
average predicted risk of IHM = 0.07249099761247635
difference in average predicted and observed risk = -0.05316300238752364
number samples = 191
accuracy = 0.900524
precision class 0 = 0.897849
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.208333
false negative rate = 0.791667
false positive rate = 0.0
positive prediction rate = 0.026178
AUC of ROC = 0.945359
AUC of PRC = 0.788748
min(+P, Se) = 0.666667

-------------------------------

confusion matrix:
[[2467    7]
 [ 225   30]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.093441
average predicted risk of IHM = 0.060405999422073364
difference in average predicted and observed risk = -0.03303500057792663
number samples = 2729
accuracy = 0.914987
precision class 0 = 0.916419
precision class 1 = 0.810811
recall class 0 = 0.997171
recall class 1 = 0.117647
false negative rate = 0.882353
false positive rate = 0.002829
positive prediction rate = 0.013558
AUC of ROC = 0.885831
AUC of PRC = 0.519686
min(+P, Se) = 0.486692

-------------------------------

confusion matrix:
[[1672   11]
 [ 168   48]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.113744
average predicted risk of IHM = 0.07867100089788437
difference in average predicted and observed risk = -0.03507299910211563
number samples = 1899
accuracy = 0.90574
precision class 0 = 0.908696
precision class 1 = 0.813559
recall class 0 = 0.993464
recall class 1 = 0.222222
false negative rate = 0.777778
false positive rate = 0.006536
positive prediction rate = 0.031069
AUC of ROC = 0.88076
AUC of PRC = 0.575239
min(+P, Se) = 0.523148

-------------------------------

confusion matrix:
[[547   2]
 [ 65  12]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.123003
average predicted risk of IHM = 0.07526399940252304
difference in average predicted and observed risk = -0.04773900059747696
number samples = 626
accuracy = 0.892971
precision class 0 = 0.893791
precision class 1 = 0.857143
recall class 0 = 0.996357
recall class 1 = 0.155844
false negative rate = 0.844156
false positive rate = 0.003643
positive prediction rate = 0.022364
AUC of ROC = 0.880609
AUC of PRC = 0.587766
min(+P, Se) = 0.545455

-------------------------------

confusion matrix:
[[2243    6]
 [ 182   26]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.084656
average predicted risk of IHM = 0.0575609989464283
difference in average predicted and observed risk = -0.027095001053571696
number samples = 2457
accuracy = 0.923484
precision class 0 = 0.924948
precision class 1 = 0.8125
recall class 0 = 0.997332
recall class 1 = 0.125
false negative rate = 0.875
false positive rate = 0.002668
positive prediction rate = 0.013024
AUC of ROC = 0.883125
AUC of PRC = 0.491453
min(+P, Se) = 0.444444

-------------------------------

confusion matrix:
[[222   1]
 [ 24   1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.100806
average predicted risk of IHM = 0.060791999101638794
difference in average predicted and observed risk = -0.04001400089836121
number samples = 248
accuracy = 0.899194
precision class 0 = 0.902439
precision class 1 = 0.5
recall class 0 = 0.995516
recall class 1 = 0.04
false negative rate = 0.96
false positive rate = 0.004484
positive prediction rate = 0.008065
AUC of ROC = 0.796413
AUC of PRC = 0.351498
min(+P, Se) = 0.37037

-------------------------------

confusion matrix:
[[477   4]
 [ 60  22]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.145648
average predicted risk of IHM = 0.09034399688243866
difference in average predicted and observed risk = -0.05530400311756134
number samples = 563
accuracy = 0.886323
precision class 0 = 0.888268
precision class 1 = 0.846154
recall class 0 = 0.991684
recall class 1 = 0.268293
false negative rate = 0.731707
false positive rate = 0.008316
positive prediction rate = 0.046181
AUC of ROC = 0.898433
AUC of PRC = 0.672576
min(+P, Se) = 0.609756

-------------------------------

confusion matrix:
[[650   5]
 [ 62  17]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.107629
average predicted risk of IHM = 0.08141999691724777
difference in average predicted and observed risk = -0.02620900308275223
number samples = 734
accuracy = 0.908719
precision class 0 = 0.912921
precision class 1 = 0.772727
recall class 0 = 0.992366
recall class 1 = 0.21519
false negative rate = 0.78481
false positive rate = 0.007634
positive prediction rate = 0.029973
AUC of ROC = 0.898811
AUC of PRC = 0.585437
min(+P, Se) = 0.556962

-------------------------------

confusion matrix:
[[4139   18]
 [ 393   78]]
prevalence of IHM = 0.101772
average predicted risk of IHM = 0.06790100038051605
difference in average predicted and observed risk = -0.03387099961948395
number samples = 4628
accuracy = 0.911193
precision class 0 = 0.913283
precision class 1 = 0.8125
recall class 0 = 0.99567
recall class 1 = 0.165605
false negative rate = 0.834395
false positive rate = 0.00433
positive prediction rate = 0.020743
AUC of ROC = 0.884119
AUC of PRC = 0.544554
min(+P, Se) = 0.498938

-------------------------------

==>predicting on validation



confusion matrix:
[[216   2]
 [ 15   4]]

stratified metric for:
demographic variable: Insurance
value: Private

overall metrics:
prevalence of IHM = 0.080169
average predicted risk of IHM = 0.06423500180244446
difference in average predicted and observed risk = -0.015933998197555546
number samples = 237
accuracy = 0.92827
precision class 0 = 0.935065
precision class 1 = 0.666667
recall class 0 = 0.990826
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.009174
positive prediction rate = 0.025316
AUC of ROC = 0.899807
AUC of PRC = 0.419609
min(+P, Se) = 0.4

-------------------------------

confusion matrix:
[[383   2]
 [ 45   2]]

stratified metric for:
demographic variable: Insurance
value: Medicare

overall metrics:
prevalence of IHM = 0.108796
average predicted risk of IHM = 0.06111399829387665
difference in average predicted and observed risk = -0.047682001706123356
number samples = 432
accuracy = 0.891204
precision class 0 = 0.89486
precision class 1 = 0.5
recall class 0 = 0.994805
recall class 1 = 0.042553
false negative rate = 0.957447
false positive rate = 0.005195
positive prediction rate = 0.009259
AUC of ROC = 0.851064
AUC of PRC = 0.449449
min(+P, Se) = 0.45283

-------------------------------

confusion matrix:
[[104   1]
 [ 10   3]]

stratified metric for:
demographic variable: Insurance
value: Medicaid

overall metrics:
prevalence of IHM = 0.110169
average predicted risk of IHM = 0.09769099950790405
difference in average predicted and observed risk = -0.01247800049209595
number samples = 118
accuracy = 0.90678
precision class 0 = 0.912281
precision class 1 = 0.75
recall class 0 = 0.990476
recall class 1 = 0.230769
false negative rate = 0.769231
false positive rate = 0.009524
positive prediction rate = 0.033898
AUC of ROC = 0.838095
AUC of PRC = 0.45924
min(+P, Se) = 0.5

-------------------------------

confusion matrix:
[[26  0]
 [ 3  1]]

stratified metric for:
demographic variable: Insurance
value: Other

overall metrics:
prevalence of IHM = 0.133333
average predicted risk of IHM = 0.07849100232124329
difference in average predicted and observed risk = -0.05484199767875672
number samples = 30
accuracy = 0.9
precision class 0 = 0.896552
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.25
false negative rate = 0.75
false positive rate = 0.0
positive prediction rate = 0.033333
AUC of ROC = 0.971154
AUC of PRC = 0.835417
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[297   3]
 [ 35   4]]

stratified metric for:
demographic variable: Gender
value: F

overall metrics:
prevalence of IHM = 0.115044
average predicted risk of IHM = 0.07701200246810913
difference in average predicted and observed risk = -0.03803199753189086
number samples = 339
accuracy = 0.887906
precision class 0 = 0.894578
precision class 1 = 0.571429
recall class 0 = 0.99
recall class 1 = 0.102564
false negative rate = 0.897436
false positive rate = 0.01
positive prediction rate = 0.020649
AUC of ROC = 0.816325
AUC of PRC = 0.372911
min(+P, Se) = 0.410256

-------------------------------

confusion matrix:
[[432   2]
 [ 38   6]]

stratified metric for:
demographic variable: Gender
value: M

overall metrics:
prevalence of IHM = 0.09205
average predicted risk of IHM = 0.0615059994161129
difference in average predicted and observed risk = -0.030544000583887107
number samples = 478
accuracy = 0.916318
precision class 0 = 0.919149
precision class 1 = 0.75
recall class 0 = 0.995392
recall class 1 = 0.136364
false negative rate = 0.863636
false positive rate = 0.004608
positive prediction rate = 0.016736
AUC of ROC = 0.899979
AUC of PRC = 0.538409
min(+P, Se) = 0.511111

-------------------------------

confusion matrix:
[[387   1]
 [ 36   2]]

stratified metric for:
demographic variable: Ethnicity
value: WHITE

overall metrics:
prevalence of IHM = 0.089202
average predicted risk of IHM = 0.053084999322891235
difference in average predicted and observed risk = -0.03611700067710877
number samples = 426
accuracy = 0.913146
precision class 0 = 0.914894
precision class 1 = 0.666667
recall class 0 = 0.997423
recall class 1 = 0.052632
false negative rate = 0.947368
false positive rate = 0.002577
positive prediction rate = 0.007042
AUC of ROC = 0.870184
AUC of PRC = 0.367066
min(+P, Se) = 0.403509

-------------------------------

confusion matrix:
[[90  0]
 [10  2]]

stratified metric for:
demographic variable: Ethnicity
value: OTHER

overall metrics:
prevalence of IHM = 0.117647
average predicted risk of IHM = 0.07704199850559235
difference in average predicted and observed risk = -0.040605001494407655
number samples = 102
accuracy = 0.901961
precision class 0 = 0.9
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.166667
false negative rate = 0.833333
false positive rate = 0.0
positive prediction rate = 0.019608
AUC of ROC = 0.875926
AUC of PRC = 0.663139
min(+P, Se) = 0.583333

-------------------------------

confusion matrix:
[[111   2]
 [ 10   1]]

stratified metric for:
demographic variable: Ethnicity
value: ASIAN

overall metrics:
prevalence of IHM = 0.08871
average predicted risk of IHM = 0.06722299754619598
difference in average predicted and observed risk = -0.021487002453804013
number samples = 124
accuracy = 0.903226
precision class 0 = 0.917355
precision class 1 = 0.333333
recall class 0 = 0.982301
recall class 1 = 0.090909
false negative rate = 0.909091
false positive rate = 0.017699
positive prediction rate = 0.024194
AUC of ROC = 0.870475
AUC of PRC = 0.412426
min(+P, Se) = 0.4375

-------------------------------

confusion matrix:
[[106   2]
 [ 15   4]]

stratified metric for:
demographic variable: Ethnicity
value: HISPANIC

overall metrics:
prevalence of IHM = 0.149606
average predicted risk of IHM = 0.10444500297307968
difference in average predicted and observed risk = -0.04516099702692031
number samples = 127
accuracy = 0.866142
precision class 0 = 0.876033
precision class 1 = 0.666667
recall class 0 = 0.981481
recall class 1 = 0.210526
false negative rate = 0.789474
false positive rate = 0.018519
positive prediction rate = 0.047244
AUC of ROC = 0.816277
AUC of PRC = 0.477024
min(+P, Se) = 0.526316

-------------------------------

confusion matrix:
[[35  0]
 [ 2  1]]

stratified metric for:
demographic variable: Ethnicity
value: BLACK

overall metrics:
prevalence of IHM = 0.078947
average predicted risk of IHM = 0.09038200229406357
difference in average predicted and observed risk = 0.011435002294063565
number samples = 38
accuracy = 0.947368
precision class 0 = 0.945946
precision class 1 = 1.0
recall class 0 = 1.0
recall class 1 = 0.333333
false negative rate = 0.666667
false positive rate = 0.0
positive prediction rate = 0.026316
AUC of ROC = 0.990476
AUC of PRC = 0.902778
min(+P, Se) = 0.75

-------------------------------

confusion matrix:
[[729   5]
 [ 73  10]]
prevalence of IHM = 0.101591
average predicted risk of IHM = 0.06793999671936035
difference in average predicted and observed risk = -0.03365100328063965
number samples = 817
accuracy = 0.904529
precision class 0 = 0.908978
precision class 1 = 0.666667
recall class 0 = 0.993188
recall class 1 = 0.120482
false negative rate = 0.879518
false positive rate = 0.006812
positive prediction rate = 0.01836
AUC of ROC = 0.863842
AUC of PRC = 0.442035
min(+P, Se) = 0.448276

-------------------------------

Epoch 00100: saving model to models/outputs/starr/keras_states/2020-06-02_11-8/k_clstms.GEN.epoch100.state
